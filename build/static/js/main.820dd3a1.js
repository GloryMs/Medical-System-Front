/*! For license information please see main.820dd3a1.js.LICENSE.txt */
(()=>{var e={2:(e,t,r)=>{"use strict";var a,n=r(1251),s=r(9304),i=r(9820),o=r(1725),l=r(5077),c=r(4938),d=r(4902),u=r(3094),m=r(3701),p=r(1911),h=r(4591),x=r(1557),f=r(7583),y=r(969),g=r(7792),v=Function,b=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(t){}},j=r(5558),w=r(2090),N=function(){throw new d},C=j?function(){try{return N}catch(e){try{return j(arguments,"callee").get}catch(t){return N}}}():N,S=r(2108)(),A=r(1291),k=r(7651),E=r(757),P=r(5061),O=r(4937),T={},D="undefined"!==typeof Uint8Array&&A?A(Uint8Array):a,R={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?a:ArrayBuffer,"%ArrayIteratorPrototype%":S&&A?A([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":"undefined"===typeof Atomics?a:Atomics,"%BigInt%":"undefined"===typeof BigInt?a:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?a:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":i,"%Float16Array%":"undefined"===typeof Float16Array?a:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?a:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?a:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?a:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":T,"%Int8Array%":"undefined"===typeof Int8Array?a:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?a:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&A?A(A([][Symbol.iterator]())):a,"%JSON%":"object"===typeof JSON?JSON:a,"%Map%":"undefined"===typeof Map?a:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&S&&A?A((new Map)[Symbol.iterator]()):a,"%Math%":Math,"%Number%":Number,"%Object%":n,"%Object.getOwnPropertyDescriptor%":j,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?a:Promise,"%Proxy%":"undefined"===typeof Proxy?a:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":"undefined"===typeof Reflect?a:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?a:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&S&&A?A((new Set)[Symbol.iterator]()):a,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&A?A(""[Symbol.iterator]()):a,"%Symbol%":S?Symbol:a,"%SyntaxError%":c,"%ThrowTypeError%":C,"%TypedArray%":D,"%TypeError%":d,"%Uint8Array%":"undefined"===typeof Uint8Array?a:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?a:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?a:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?a:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"===typeof WeakMap?a:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?a:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?a:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":P,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":k,"%Math.abs%":m,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":x,"%Math.pow%":f,"%Math.round%":y,"%Math.sign%":g,"%Reflect.getPrototypeOf%":E};if(A)try{null.error}catch(Y){var _=A(A(Y));R["%Error.prototype%"]=_}var M=function e(t){var r;if("%AsyncFunction%"===t)r=b("async function () {}");else if("%GeneratorFunction%"===t)r=b("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=b("async function* () {}");else if("%AsyncGenerator%"===t){var a=e("%AsyncGeneratorFunction%");a&&(r=a.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&A&&(r=A(n.prototype))}return R[t]=r,r},I={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=r(3864),F=r(4384),q=L.call(O,Array.prototype.concat),z=L.call(P,Array.prototype.splice),U=L.call(O,String.prototype.replace),B=L.call(O,String.prototype.slice),V=L.call(O,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,G=function(e,t){var r,a=e;if(F(I,a)&&(a="%"+(r=I[a])[0]+"%"),F(R,a)){var n=R[a];if(n===T&&(n=M(a)),"undefined"===typeof n&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:a,value:n}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===V(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=B(e,0,1),r=B(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var a=[];return U(e,H,function(e,t,r,n){a[a.length]=r?U(n,W,"$1"):t||e}),a}(e),a=r.length>0?r[0]:"",n=G("%"+a+"%",t),s=n.name,i=n.value,o=!1,l=n.alias;l&&(a=l[0],z(r,q([0,1],l)));for(var u=1,m=!0;u<r.length;u+=1){var p=r[u],h=B(p,0,1),x=B(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===x||"'"===x||"`"===x)&&h!==x)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&m||(o=!0),F(R,s="%"+(a+="."+p)+"%"))i=R[s];else if(null!=i){if(!(p in i)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(j&&u+1>=r.length){var f=j(i,p);i=(m=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:i[p]}else m=F(i,p),i=i[p];m&&!o&&(R[s]=i)}}return i}},10:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"tbody"},module:"HTML"},{concept:{name:"tfoot"},module:"HTML"},{concept:{name:"thead"},module:"HTML"}],requireContextRole:["grid","table","treegrid"],requiredContextRole:["grid","table","treegrid"],requiredOwnedElements:[["row"]],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},14:e=>{e.exports=function(){return!1}},22:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},61:e=>{e.exports=function(e,t){return e<t}},66:(e,t,r)=>{"use strict";var a=r(8117),n=r(3290),s=a("RegExp.prototype.exec"),i=r(4902);e.exports=function(e){if(!n(e))throw new i("`regex` must be a RegExp");return function(t){return null!==s(e,t)}}},75:(e,t,r)=>{"use strict";r.d(t,{B:()=>s,t:()=>n});var a=console;function n(){return a}function s(e){a=e}},124:(e,t,r)=>{"use strict";e=r.nmd(e);var a=r(8250).default;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=>"\x1b[".concat(38+e,";5;").concat(t,"m")},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(t,r,a)=>"\x1b[".concat(38+e,";2;").concat(t,";").concat(r,";").concat(a,"m")};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,a]of Object.entries(t)){for(const[r,n]of Object.entries(a))t[r]={open:"\x1b[".concat(n[0],"m"),close:"\x1b[".concat(n[1],"m")},a[r]=t[r],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:a,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=n(),t.color.ansi16m=s(),t.bgColor.ansi256=n(10),t.bgColor.ansi16m=s(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=a(/([a-f\d]{6}|[a-f\d]{3})/i,{colorString:1}).exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;3===r.length&&(r=r.split("").map(e=>e+e).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}},158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"appendix [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},201:(e,t,r)=>{"use strict";var a=r(2940),n=r(1779).supportsDescriptors,s=Object.getOwnPropertyDescriptor;e.exports=function(){if(n&&"gim"===/a/gim.flags){var e=s(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),e.get.call(r),"dy"===t)return e.get}}return a}},214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},234:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),a="[object Arguments]"===r;return a||(a="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),a}},241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(r(4975)),n=s(r(9253));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}for(var c=[],d=n.default.keys(),u=function(e){var t=d[e],r=n.default.get(t);if(r)for(var a=[].concat(r.baseConcepts,r.relatedConcepts),s=0;s<a.length;s++){var i=a[s];if("HTML"===i.module){var o=i.concept;if(o){var l=c.find(function(e){return e[0]===t}),u=void 0;(u=l?l[1]:[]).push(o),c.push([t,u])}}}},m=0;m<d.length;m++)u(m);var p={entries:function(){return c},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw s}}}}(c);try{for(a.s();!(t=a.n()).done;){var n=i(t.value,2),s=n[0],l=n[1];e.call(r,l,s,c)}}catch(d){a.e(d)}finally{a.f()}},get:function(e){var t=c.find(function(t){return t[0]===e});return t&&t[1]},has:function(e){return!!p.get(e)},keys:function(){return c.map(function(e){return i(e,1)[0]})},values:function(){return c.map(function(e){return i(e,2)[1]})}},h=(0,a.default)(p,p.entries());t.default=h},257:(e,t,r)=>{"use strict";var a=r(1712),n=r(8117),s=r(2)("%ArrayBuffer%",!0),i=n("ArrayBuffer.prototype.byteLength",!0),o=n("Object.prototype.toString"),l=!!s&&!i&&new s(0).slice,c=!!l&&a(l);e.exports=i||c?function(e){if(!e||"object"!==typeof e)return!1;try{return i?i(e):c(e,0),!0}catch(t){return!1}}:s?function(e){return"[object ArrayBuffer]"===o(e)}:function(e){return!1}},285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},295:(e,t,r)=>{"use strict";t.GP=F,t.Nx=void 0;var a=m(r(124)),n=r(7938),s=m(r(5160)),i=m(r(7856)),o=m(r(6244)),l=m(r(5914)),c=m(r(8232)),d=m(r(2007)),u=m(r(3136));function m(e){return e&&e.__esModule?e:{default:e}}const p=Object.prototype.toString,h=Date.prototype.toISOString,x=Error.prototype.toString,f=RegExp.prototype.toString,y=e=>"function"===typeof e.constructor&&e.constructor.name||"Object",g=e=>"undefined"!==typeof window&&e===window,v=/^Symbol\((.*)\)(.*)$/,b=/\n/gi;class j extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}}function w(e,t){return t?"[Function "+(e.name||"anonymous")+"]":"[Function]"}function N(e){return String(e).replace(v,"Symbol($1)")}function C(e){return"["+x.call(e)+"]"}function S(e,t,r,a){if(!0===e||!1===e)return""+e;if(void 0===e)return"undefined";if(null===e)return"null";const n=typeof e;if("number"===n)return function(e){return Object.is(e,-0)?"-0":String(e)}(e);if("bigint"===n)return function(e){return String("".concat(e,"n"))}(e);if("string"===n)return a?'"'+e.replace(/"|\\/g,"\\$&")+'"':'"'+e+'"';if("function"===n)return w(e,t);if("symbol"===n)return N(e);const s=p.call(e);return"[object WeakMap]"===s?"WeakMap {}":"[object WeakSet]"===s?"WeakSet {}":"[object Function]"===s||"[object GeneratorFunction]"===s?w(e,t):"[object Symbol]"===s?N(e):"[object Date]"===s?isNaN(+e)?"Date { NaN }":h.call(e):"[object Error]"===s?C(e):"[object RegExp]"===s?r?f.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):f.call(e):e instanceof Error?C(e):null}function A(e,t,r,a,s,i){if(-1!==s.indexOf(e))return"[Circular]";(s=s.slice()).push(e);const o=++a>t.maxDepth,l=t.min;if(t.callToJSON&&!o&&e.toJSON&&"function"===typeof e.toJSON&&!i)return P(e.toJSON(),t,r,a,s,!0);const c=p.call(e);return"[object Arguments]"===c?o?"[Arguments]":(l?"":"Arguments ")+"["+(0,n.printListItems)(e,t,r,a,s,P)+"]":function(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}(c)?o?"["+e.constructor.name+"]":(l?"":t.printBasicPrototype||"Array"!==e.constructor.name?e.constructor.name+" ":"")+"["+(0,n.printListItems)(e,t,r,a,s,P)+"]":"[object Map]"===c?o?"[Map]":"Map {"+(0,n.printIteratorEntries)(e.entries(),t,r,a,s,P," => ")+"}":"[object Set]"===c?o?"[Set]":"Set {"+(0,n.printIteratorValues)(e.values(),t,r,a,s,P)+"}":o||g(e)?"["+y(e)+"]":(l?"":t.printBasicPrototype||"Object"!==y(e)?y(e)+" ":"")+"{"+(0,n.printObjectProperties)(e,t,r,a,s,P)+"}"}function k(e,t,r,a,n,s){let i;try{i=function(e){return null!=e.serialize}(e)?e.serialize(t,r,a,n,s,P):e.print(t,e=>P(e,r,a,n,s),e=>{const t=a+r.indent;return t+e.replace(b,"\n"+t)},{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(o){throw new j(o.message,o.stack)}if("string"!==typeof i)throw new Error('pretty-format: Plugin must return type "string" but instead returned "'.concat(typeof i,'".'));return i}function E(e,t){for(let a=0;a<e.length;a++)try{if(e[a].test(t))return e[a]}catch(r){throw new j(r.message,r.stack)}return null}function P(e,t,r,a,n,s){const i=E(t.plugins,e);if(null!==i)return k(i,e,t,r,a,n);const o=S(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==o?o:A(e,t,r,a,n,s)}const O={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},T=Object.keys(O),D={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:O};const R=e=>T.reduce((t,r)=>{const n=e.theme&&void 0!==e.theme[r]?e.theme[r]:O[r],s=n&&a.default[n];if(!s||"string"!==typeof s.close||"string"!==typeof s.open)throw new Error('pretty-format: Option "theme" has a key "'.concat(r,'" whose value "').concat(n,'" is undefined in ansi-styles.'));return t[r]=s,t},Object.create(null)),_=e=>e&&void 0!==e.printFunctionName?e.printFunctionName:D.printFunctionName,M=e=>e&&void 0!==e.escapeRegex?e.escapeRegex:D.escapeRegex,I=e=>e&&void 0!==e.escapeString?e.escapeString:D.escapeString,L=e=>{var t,r;return{callToJSON:e&&void 0!==e.callToJSON?e.callToJSON:D.callToJSON,colors:e&&e.highlight?R(e):T.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null)),compareKeys:e&&"function"===typeof e.compareKeys?e.compareKeys:D.compareKeys,escapeRegex:M(e),escapeString:I(e),indent:e&&e.min?"":(r=e&&void 0!==e.indent?e.indent:D.indent,new Array(r+1).join(" ")),maxDepth:e&&void 0!==e.maxDepth?e.maxDepth:D.maxDepth,min:e&&void 0!==e.min?e.min:D.min,plugins:e&&void 0!==e.plugins?e.plugins:D.plugins,printBasicPrototype:null===(t=null===e||void 0===e?void 0:e.printBasicPrototype)||void 0===t||t,printFunctionName:_(e),spacingInner:e&&e.min?" ":"\n",spacingOuter:e&&e.min?"":"\n"}};function F(e,t){if(t&&(function(e){if(Object.keys(e).forEach(e=>{if(!D.hasOwnProperty(e))throw new Error('pretty-format: Unknown option "'.concat(e,'".'))}),e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==e.theme){if(null===e.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!==typeof e.theme)throw new Error('pretty-format: Option "theme" must be of type "object" but instead received "'.concat(typeof e.theme,'".'))}}(t),t.plugins)){const r=E(t.plugins,e);if(null!==r)return k(r,e,L(t),"",0,[])}const r=S(e,_(t),M(t),I(t));return null!==r?r:A(e,L(t),"",0,[])}const q={AsymmetricMatcher:s.default,ConvertAnsi:i.default,DOMCollection:o.default,DOMElement:l.default,Immutable:c.default,ReactElement:d.default,ReactTestComponent:u.default};t.Nx=q},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).get(e)}},487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},539:(e,t,r)=>{var a=r(9742),n=r(7498),s=r(3279);e.exports=function(e){return e&&e.length?a(e,s,n):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},620:(e,t,r)=>{var a=r(6913),n=r(4052),s=r(2761);e.exports=function(e){return"string"==typeof e||!n(e)&&s(e)&&"[object String]"==a(e)}},643:(e,t,r)=>{var a=r(7676)("toUpperCase");e.exports=a},644:e=>{e.exports=function(e){return e!==e}},669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credits [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+a+"|"+n+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[s,i,o].join("|")+")"+c+l+")*"),u="(?:"+[s+a+"?",a,i,o,r].join("|")+")",m=RegExp(n+"(?="+n+")|"+u+d,"g");e.exports=function(e){return e.match(m)||[]}},723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"introduction [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},728:(e,t,r)=>{"use strict";var a=r(5766),n=r(2042),s=r(7787),i=r(4107),o=r(3008);e.exports=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e?null:a(e)?"String":n(e)?"Number":s(e)?"Boolean":i(e)?"Symbol":o(e)?"BigInt":void 0}},755:(e,t,r)=>{var a=r(8895),n=r(7116);e.exports=function e(t,r,s,i,o){var l=-1,c=t.length;for(s||(s=n),o||(o=[]);++l<c;){var d=t[l];r>0&&s(d)?r>1?e(d,r-1,s,i,o):a(o,d):i||(o[o.length]=d)}return o}},757:e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var a=r(1141),n=r(6686),s=r(9841),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var r=o.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}},833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dialog"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","window"]]};t.default=r},855:(e,t,r)=>{"use strict";var a=r(1779).supportsDescriptors,n=r(201),s=r(5558),i=Object.defineProperty,o=r(9304),l=r(1291),c=/a/;e.exports=function(){if(!a||!l)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=n(),t=l(c),r=s(t,"flags");return r&&r.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},869:e=>{"use strict";var t,r="function"===typeof Map&&Map.prototype?Map:null,a="function"===typeof Set&&Set.prototype?Set:null;a||(t=function(e){return!1});var n=r?Map.prototype.has:null,s=a?Set.prototype.has:null;t||s||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(s.call(e),n)try{n.call(e)}catch(t){return!0}return e instanceof a}catch(t){}return!1}},914:(e,t,r)=>{var a=r(9841);e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var a=r(3211),n=r(6571),s=r(9194),i=r(6686);e.exports=function(e,t,r){if(!i(r))return!1;var o=typeof t;return!!("number"==o?n(r)&&s(t,r.length):"string"==o&&t in r)&&a(r[t],e)}},969:e=>{"use strict";e.exports=Math.round},977:(e,t,r)=>{var a=r(9096),n=r(4416);e.exports=function(e,t){return e&&e.length?n(e,a(t,2)):[]}},979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-live":"polite"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{constraints:["direct descendant of ol, ul or menu"],name:"li"},module:"HTML"},{concept:{name:"item"},module:"XForms"}],requireContextRole:["directory","list"],requiredContextRole:["directory","list"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1038:(e,t,r)=>{"use strict";var a;if(!Object.keys){var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString,i=r(234),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),c=o.call(function(){},"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!m["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();a=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===s.call(e),a=i(e),o=t&&"[object String]"===s.call(e),m=[];if(!t&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(o&&e.length>0&&!n.call(e,0))for(var x=0;x<e.length;++x)m.push(String(x));if(a&&e.length>0)for(var f=0;f<e.length;++f)m.push(String(f));else for(var y in e)h&&"prototype"===y||!n.call(e,y)||m.push(String(y));if(l)for(var g=function(e){if("undefined"===typeof window||!p)return u(e);try{return u(e)}catch(t){return!1}}(e),v=0;v<d.length;++v)g&&"constructor"===d[v]||!n.call(e,d[v])||m.push(d[v]);return m}}e.exports=a},1069:(e,t,r)=>{var a=r(8541);e.exports=function(e){return null==e?"":a(e)}},1088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(8583)),n=i(r(2593)),s=i(r(9906));function i(e){return e&&e.__esModule?e:{default:e}}var o=[["graphics-document",a.default],["graphics-object",n.default],["graphics-symbol",s.default]];t.default=o},1141:(e,t,r)=>{var a=r(143),n=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(n,""):e}},1143:(e,t,r)=>{var a=r(3028)(Object.keys,Object);e.exports=a},1153:(e,t,r)=>{"use strict";var a=r(5043),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,s={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"cover [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=r},1235:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"article"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=r},1251:e=>{"use strict";e.exports=Object},1268:(e,t,r)=>{var a=r(5428),n=r(7574),s=r(6832),i=s&&s.isTypedArray,o=i?n(i):a;e.exports=o},1291:(e,t,r)=>{"use strict";var a=r(757),n=r(7651),s=r(7297);e.exports=a?function(e){return a(e)}:n?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return n(e)}:s?function(e){return s(e)}:null},1297:(e,t,r)=>{"use strict";var a=r(1779),n=r(1712),s=r(5590),i=r(7095),o=r(7161),l=n.apply(i()),c=function(e,t){return l(Object,arguments)};a(c,{getPolyfill:i,implementation:s,shim:o}),e.exports=c},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"header"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},1322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{module:"DAISY Guide"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=r},1340:(e,t,r)=>{var a=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},1449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"pagebreak [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","separator"]]};t.default=r},1497:(e,t,r)=>{"use strict";var a=r(3218);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,s,i){if(i!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},1517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r=e=>e.match(t)||[],a=e=>e[0].toUpperCase()+e.slice(1),n=(e,t)=>r(e).join(t).toLowerCase(),s=e=>r(e).reduce((e,t)=>"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()),"");e.exports={words:r,upperFirst:a,camelCase:s,pascalCase:e=>a(s(e)),snakeCase:e=>n(e,"_"),kebabCase:e=>n(e,"-"),sentenceCase:e=>a(n(e," ")),titleCase:e=>r(e).map(a).join(" ")}},1557:e=>{"use strict";e.exports=Math.min},1558:e=>{e.exports=function(e,t,r){for(var a=-1,n=null==e?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}},1581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"colophon [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1629:(e,t,r)=>{var a=r(6913),n=r(6686);e.exports=function(e){if(!n(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=r},1712:(e,t,r)=>{"use strict";var a=r(5438),n=r(2090),s=r(4781),i=r(6142);e.exports=function(e){var t=s(arguments),r=e.length-(arguments.length-1);return a(t,1+(r>0?r:0),!0)},n?n(e.exports,"apply",{value:i}):e.exports.apply=i},1714:(e,t,r)=>{var a=r(1340);e.exports=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},1725:e=>{"use strict";e.exports=RangeError},1733:(e,t,r)=>{var a=r(1775),n=r(4664),s=r(9096);e.exports=function(e,t){var r={};return t=s(t,3),n(e,function(e,n,s){a(r,n,t(e,n,s))}),r}},1744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"MENU_ITEM"},module:"JAPI"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"menuitem"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},1775:(e,t,r)=>{var a=r(5654);e.exports=function(e,t,r){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1779:(e,t,r)=>{"use strict";var a=r(2678),n="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),s=Object.prototype.toString,i=Array.prototype.concat,o=r(4992),l=r(2101)(),c=function(e,t,r,a){if(t in e)if(!0===a){if(e[t]===r)return}else if("function"!==typeof(n=a)||"[object Function]"!==s.call(n)||!a())return;var n;l?o(e,t,r,!0):o(e,t,r)},d=function(e,t){var r=arguments.length>2?arguments[2]:{},s=a(t);n&&(s=i.call(s,Object.getOwnPropertySymbols(t)));for(var o=0;o<s.length;o+=1)c(e,s[o],t[s[o]],r[s[o]])};d.supportsDescriptors=!!l,e.exports=d},1787:e=>{"use strict";var t,r="function"===typeof Map&&Map.prototype?Map:null,a="function"===typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var n=r?Map.prototype.has:null,s=a?Set.prototype.has:null;t||n||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(n.call(e),s)try{s.call(e)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},1795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"index [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},1903:(e,t,r)=>{"use strict";var a=r(8799),n=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!a(t))throw new TypeError("iterator must be a function");var i,o;arguments.length>=3&&(i=r),o=e,"[object Array]"===n.call(o)?function(e,t,r){for(var a=0,n=e.length;a<n;a++)s.call(e,a)&&(null==r?t(e[a],a,e):t.call(r,e[a],a,e))}(e,t,i):"string"===typeof e?function(e,t,r){for(var a=0,n=e.length;a<n;a++)null==r?t(e.charAt(a),a,e):t.call(r,e.charAt(a),a,e)}(e,t,i):function(e,t,r){for(var a in e)s.call(e,a)&&(null==r?t(e[a],a,e):t.call(r,e[a],a,e))}(e,t,i)}},1911:e=>{"use strict";e.exports=Math.floor},1946:(e,t,r)=>{var a=r(1340);e.exports=function(e){return a(this.__data__,e)>-1}},1977:e=>{"use strict";var t="undefined"!==typeof BigInt&&BigInt;e.exports=function(){return"function"===typeof t&&"function"===typeof BigInt&&"bigint"===typeof t(42)&&"bigint"===typeof BigInt(42)}},1986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-endnotes"],requiredContextRole:["doc-endnotes"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=r},1991:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var a=r(8870),n=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,a.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];t.schedule(function(){e.apply(void 0,a)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,a.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},2007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(r(6466)),n=r(5638);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e.forEach(e=>{i(e,t)}):null!=e&&!1!==e&&t.push(e),t},o=e=>{const t=e.type;if("string"===typeof t)return t;if("function"===typeof t)return t.displayName||t.name||"Unknown";if(a.isFragment(e))return"React.Fragment";if(a.isSuspense(e))return"React.Suspense";if("object"===typeof t&&null!==t){if(a.isContextProvider(e))return"Context.Provider";if(a.isContextConsumer(e))return"Context.Consumer";if(a.isForwardRef(e)){if(t.displayName)return t.displayName;const e=t.render.displayName||t.render.name||"";return""!==e?"ForwardRef("+e+")":"ForwardRef"}if(a.isMemo(e)){const e=t.displayName||t.type.displayName||t.type.name||"";return""!==e?"Memo("+e+")":"Memo"}}return"UNDEFINED"},l=(e,t,r,a,s,l)=>++a>t.maxDepth?(0,n.printElementAsLeaf)(o(e),t):(0,n.printElement)(o(e),(0,n.printProps)((e=>{const{props:t}=e;return Object.keys(t).filter(e=>"children"!==e&&void 0!==t[e]).sort()})(e),e.props,t,r+t.indent,a,s,l),(0,n.printChildren)(i(e.props.children),t,r+t.indent,a,s,l),t,r);t.serialize=l;const c=e=>null!=e&&a.isElement(e);t.test=c;var d={serialize:l,test:c};t.default=d},2028:(e,t,r)=>{"use strict";var a=r(2),n=r(1712),s=n(a("String.prototype.indexOf"));e.exports=function(e,t){var r=a(e,!!t);return"function"===typeof r&&s(e,".prototype.")>-1?n(r):r}},2042:(e,t,r)=>{"use strict";var a=r(8117),n=a("Number.prototype.toString"),s=a("Object.prototype.toString"),i=r(4635)();e.exports=function(e){return"number"===typeof e||!(!e||"object"!==typeof e)&&(i?function(e){try{return n(e),!0}catch(t){return!1}}(e):"[object Number]"===s(e))}},2049:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(4975))&&a.__esModule?a:{default:a};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var l=[["aria-activedescendant",{type:"id"}],["aria-atomic",{type:"boolean"}],["aria-autocomplete",{type:"token",values:["inline","list","both","none"]}],["aria-busy",{type:"boolean"}],["aria-checked",{type:"tristate"}],["aria-colcount",{type:"integer"}],["aria-colindex",{type:"integer"}],["aria-colspan",{type:"integer"}],["aria-controls",{type:"idlist"}],["aria-current",{type:"token",values:["page","step","location","date","time",!0,!1]}],["aria-describedby",{type:"idlist"}],["aria-details",{type:"id"}],["aria-disabled",{type:"boolean"}],["aria-dropeffect",{type:"tokenlist",values:["copy","execute","link","move","none","popup"]}],["aria-errormessage",{type:"id"}],["aria-expanded",{type:"boolean",allowundefined:!0}],["aria-flowto",{type:"idlist"}],["aria-grabbed",{type:"boolean",allowundefined:!0}],["aria-haspopup",{type:"token",values:[!1,!0,"menu","listbox","tree","grid","dialog"]}],["aria-hidden",{type:"boolean",allowundefined:!0}],["aria-invalid",{type:"token",values:["grammar",!1,"spelling",!0]}],["aria-keyshortcuts",{type:"string"}],["aria-label",{type:"string"}],["aria-labelledby",{type:"idlist"}],["aria-level",{type:"integer"}],["aria-live",{type:"token",values:["assertive","off","polite"]}],["aria-modal",{type:"boolean"}],["aria-multiline",{type:"boolean"}],["aria-multiselectable",{type:"boolean"}],["aria-orientation",{type:"token",values:["vertical","undefined","horizontal"]}],["aria-owns",{type:"idlist"}],["aria-placeholder",{type:"string"}],["aria-posinset",{type:"integer"}],["aria-pressed",{type:"tristate"}],["aria-readonly",{type:"boolean"}],["aria-relevant",{type:"tokenlist",values:["additions","all","removals","text"]}],["aria-required",{type:"boolean"}],["aria-roledescription",{type:"string"}],["aria-rowcount",{type:"integer"}],["aria-rowindex",{type:"integer"}],["aria-rowspan",{type:"integer"}],["aria-selected",{type:"boolean",allowundefined:!0}],["aria-setsize",{type:"integer"}],["aria-sort",{type:"token",values:["ascending","descending","none","other"]}],["aria-valuemax",{type:"number"}],["aria-valuemin",{type:"number"}],["aria-valuenow",{type:"number"}],["aria-valuetext",{type:"string"}]],c={entries:function(){return l},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}(l);try{for(a.s();!(t=a.n()).done;){var n=s(t.value,2),o=n[0],c=n[1];e.call(r,c,o,l)}}catch(d){a.e(d)}finally{a.f()}},get:function(e){var t=l.find(function(t){return t[0]===e});return t&&t[1]},has:function(e){return!!c.get(e)},keys:function(){return l.map(function(e){return s(e,1)[0]})},values:function(){return l.map(function(e){return s(e,2)[1]})}},d=(0,n.default)(c,c.entries());t.default=d},2056:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-multiselectable":null,"aria-readonly":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[{concept:{attributes:[{constraints:[">1"],name:"size"},{name:"multiple"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:[">1"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{name:"multiple"}],name:"select"},module:"HTML"},{concept:{name:"datalist"},module:"HTML"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["option","group"],["option"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},2070:(e,t,r)=>{var a=r(7937)(r(6552),"Set");e.exports=a},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2090:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(r){t=!1}e.exports=t},2101:(e,t,r)=>{"use strict";var a=r(2090),n=function(){return!!a};n.hasArrayLengthDefineBug=function(){if(!a)return null;try{return 1!==a([],"length",{value:1}).length}catch(e){return!0}},e.exports=n},2105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},2108:(e,t,r)=>{"use strict";var a="undefined"!==typeof Symbol&&Symbol,n=r(9534);e.exports=function(){return"function"===typeof a&&("function"===typeof Symbol&&("symbol"===typeof a("foo")&&("symbol"===typeof Symbol("bar")&&n())))}},2119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epigraph [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2154:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var a=r(5652);e.exports=function(e,t){var r;return a(e,function(e,a,n){return!(r=t(e,a,n))}),!!r}},2167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:["figure","grid","table"],requiredContextRole:["figure","grid","table"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"polite"},relatedConcepts:[{concept:{name:"output"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2322:(e,t,r)=>{var a=r(6913),n=r(5990),s=r(2761),i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=a(e))return!1;var t=n(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},2327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"footnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"qna [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2423:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-level":"2"},relatedConcepts:[{concept:{name:"h1"},module:"HTML"},{concept:{name:"h2"},module:"HTML"},{concept:{name:"h3"},module:"HTML"},{concept:{name:"h4"},module:"HTML"},{concept:{name:"h5"},module:"HTML"},{concept:{name:"h6"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-level":"2"},superClass:[["roletype","structure","sectionhead"]]};t.default=r},2478:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"vertical"},relatedConcepts:[{concept:{name:"MENU"},module:"JAPI"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"},{concept:{name:"sidebar"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},2482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credit [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2488:(e,t,r)=>{"use strict";var a=r(1779),n=r(1712),s=r(2940),i=r(201),o=r(855),l=n(i());a(l,{getPolyfill:i,implementation:s,shim:o}),e.exports=l},2497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"acknowledgments [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},2520:(e,t,r)=>{var a=r(5816),n=r(9096),s=r(9140),i=Math.max;e.exports=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var l=null==r?0:s(r);return l<0&&(l=i(o+l,0)),a(e,n(t,3),l)}},2536:(e,t,r)=>{var a=r(149),n=r(2969),s=r(9096),i=r(8883),o=r(320),l=r(7574),c=r(5893),d=r(3279),u=r(4052);e.exports=function(e,t,r){t=t.length?a(t,function(e){return u(e)?function(t){return n(t,1===e.length?e[0]:e)}:e}):[d];var m=-1;t=a(t,l(s));var p=i(e,function(e,r,n){return{criteria:a(t,function(t){return t(e)}),index:++m,value:e}});return o(p,function(e,t){return c(e,t,r)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"section"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"section"},module:"HTML"},{concept:{name:"Device Independence Glossart perceivable unit"}},{concept:{name:"frame"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},2587:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}},2593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-document"}},{module:"ARIA",concept:{name:"group"}},{module:"ARIA",concept:{name:"img"}},{module:"GRAPHICS",concept:{name:"graphics-symbol"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=r},2597:(e,t,r)=>{var a=r(4052),n=r(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!n(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var a=r(705);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},2634:()=>{},2644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input","textbox"]]};t.default=r},2662:(e,t,r)=>{var a=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},2672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},2678:(e,t,r)=>{"use strict";var a=Array.prototype.slice,n=r(234),s=Object.keys,i=s?function(e){return s(e)}:r(1038),o=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return n(e)?o(a.call(e)):o(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},2702:(e,t,r)=>{"use strict";var a=r(1779),n=r(1712),s=r(7974),i=r(3799),o=r(5289),l=n(i(),Object);a(l,{getPolyfill:i,implementation:s,shim:o}),e.exports=l},2730:(e,t,r)=>{"use strict";var a=r(5043),n=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function x(e,t,r,a,n,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,r,a){var n=f.hasOwnProperty(t)?f[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,g);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,g);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,g);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var I,L=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var q=!1;function z(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=a.stack.split("\n"),i=n.length-1,o=s.length-1;1<=i&&0<=o&&n[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==s[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var r=H(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),a=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=xe(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Ce=null;function Se(e){if(e=vn(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jn(t),we(e.stateNode,e.type,t))}}function Ae(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function ke(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Oe=!1;function Te(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Ee(e,t,r)}finally{Oe=!1,(null!==Ne||null!==Ce)&&(Pe(),ke())}}function De(e,t){var r=e.stateNode;if(null===r)return null;var a=jn(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Re=!1;if(d)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Re=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(de){Re=!1}function Me(e,t,r,a,n,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ie=!1,Le=null,Fe=!1,qe=null,ze={onError:function(e){Ie=!0,Le=e}};function Ue(e,t,r,a,n,s,i,o,l){Ie=!1,Le=null,Me.apply(ze,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(a=n.return)){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return He(n),e;if(i===a)return He(n),t;i=i.sibling}throw Error(s(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,$e=n.unstable_shouldYield,Qe=n.unstable_requestPaint,Xe=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~n;0!==o?a=ut(o):0!==(s&=i)&&(a=ut(s))}else 0!==(i=r&~n)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-it(t)),a|=e[r],t&=~n;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function gt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-it(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,Ct,St,At=!1,kt=[],Et=null,Pt=null,Ot=null,Tt=new Map,Dt=new Map,Rt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function It(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Lt(e){var t=gn(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vn(r))&&wt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);be=a,r.target.dispatchEvent(a),be=null,t.shift()}return!0}function qt(e,t,r){Ft(e)&&r.delete(t)}function zt(){At=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Ot&&Ft(Ot)&&(Ot=null),Tt.forEach(qt),Dt.forEach(qt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var r=1;r<kt.length;r++){var a=kt[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==Ot&&Ut(Ot,e),Tt.forEach(t),Dt.forEach(t),r=0;r<Rt.length;r++)(a=Rt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Rt.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,r,a){var n=vt,s=Vt.transition;Vt.transition=null;try{vt=1,Yt(e,t,r,a)}finally{vt=n,Vt.transition=s}}function Gt(e,t,r,a){var n=vt,s=Vt.transition;Vt.transition=null;try{vt=4,Yt(e,t,r,a)}finally{vt=n,Vt.transition=s}}function Yt(e,t,r,a){if(Ht){var n=$t(e,t,r,a);if(null===n)Va(e,t,a,Kt,r),Mt(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Et=It(Et,e,t,r,a,n),!0;case"dragenter":return Pt=It(Pt,e,t,r,a,n),!0;case"mouseover":return Ot=It(Ot,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Tt.set(s,It(Tt.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Dt.set(s,It(Dt.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(Mt(e,a),4&t&&-1<_t.indexOf(e)){for(;null!==n;){var s=vn(n);if(null!==s&&jt(s),null===(s=$t(e,t,r,a))&&Va(e,t,a,Kt,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Va(e,t,a,null,r)}}var Kt=null;function $t(e,t,r,a){if(Kt=null,null!==(e=gn(e=je(a))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,a=r.length,n="value"in Xt?Xt.value:Xt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=L({},lr,{view:0,detail:0}),ur=nr(dr),mr=L({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),pr=nr(mr),hr=nr(L({},mr,{dataTransfer:0})),xr=nr(L({},dr,{relatedTarget:0})),fr=nr(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gr=nr(yr),vr=nr(L({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Cr(){return Nr}var Sr=L({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=nr(Sr),kr=nr(L({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(L({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Pr=nr(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=L({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=nr(Or),Dr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,_r=null;d&&"documentMode"in document&&(_r=document.documentMode);var Mr=d&&"TextEvent"in window&&!_r,Ir=d&&(!Rr||_r&&8<_r&&11>=_r),Lr=String.fromCharCode(32),Fr=!1;function qr(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Hr(e,t,r,a){Ae(a),0<(t=Wa(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Wr=null,Gr=null;function Yr(e){La(e,0)}function Kr(e){if(Y(bn(e)))return e}function $r(e,t){if("change"===e)return t}var Qr=!1;if(d){var Xr;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Xr=Jr}else Xr=!1;Qr=Xr&&(!document.documentMode||9<document.documentMode)}function ea(){Wr&&(Wr.detachEvent("onpropertychange",ta),Gr=Wr=null)}function ta(e){if("value"===e.propertyName&&Kr(Gr)){var t=[];Hr(t,Gr,e,je(e)),Te(Yr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Gr=r,(Wr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Gr)}function na(e,t){if("click"===e)return Kr(t)}function sa(e,t){if("input"===e||"change"===e)return Kr(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!u.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=la(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ma(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=void 0===a.end?s:Math.min(a.end,n),!e.extend&&s>a&&(n=a,a=s,s=n),n=ca(r,s);var i=ca(r,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=d&&"documentMode"in document&&11>=document.documentMode,xa=null,fa=null,ya=null,ga=!1;function va(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ga||null==xa||xa!==K(a)||("selectionStart"in(a=xa)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&oa(ya,a)||(ya=a,0<(a=Wa(fa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=xa)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},wa={},Na={};function Ca(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,r=ja[e];for(t in r)if(r.hasOwnProperty(t)&&t in Na)return wa[e]=r[t];return e}d&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Sa=Ca("animationend"),Aa=Ca("animationiteration"),ka=Ca("animationstart"),Ea=Ca("transitionend"),Pa=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Pa.set(e,t),l(t,[e])}for(var Da=0;Da<Oa.length;Da++){var Ra=Oa[Da];Ta(Ra.toLowerCase(),"on"+(Ra[0].toUpperCase()+Ra.slice(1)))}Ta(Sa,"onAnimationEnd"),Ta(Aa,"onAnimationIteration"),Ta(ka,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ma=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Ia(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,n,i,o,l,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var d=Le;Ie=!1,Le=null,Fe||(Fe=!0,qe=d)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;Ia(n,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;Ia(n,o,c),s=l}}}if(Fe)throw e=qe,Fe=!1,qe=null,e}function Fa(e,t){var r=t[xn];void 0===r&&(r=t[xn]=new Set);var a=e+"__bubble";r.has(a)||(Ba(t,e,2,!1),r.add(a))}function qa(e,t,r){var a=0;t&&(a|=4),Ba(r,e,a,t)}var za="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[za]){e[za]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ma.has(t)||qa(t,!1,e),qa(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[za]||(t[za]=!0,qa("selectionchange",!1,t))}}function Ba(e,t,r,a){switch(Qt(t)){case 1:var n=Wt;break;case 4:n=Gt;break;default:n=Yt}r=n.bind(null,t,r,e),n=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Va(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=gn(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Te(function(){var a=s,n=je(r),i=[];e:{var o=Pa.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Ar;break;case"focusin":c="focus",l=xr;break;case"focusout":c="blur",l=xr;break;case"beforeblur":case"afterblur":l=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Sa:case Aa:case ka:l=fr;break;case Ea:l=Pr;break;case"scroll":l=ur;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=a;null!==h;){var x=(p=h).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=De(h,m))&&d.push(Ha(h,x,p)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,r,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!gn(c)&&!c[hn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?gn(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=pr,x="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=kr,x="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==l?o:bn(l),p=null==c?o:bn(c),(o=new d(x,h+"leave",l,r,n)).target=u,o.relatedTarget=p,x=null,gn(n)===a&&((d=new d(m,h+"enter",c,r,n)).target=p,d.relatedTarget=u,x=d),u=x,l&&c)e:{for(m=c,h=0,p=d=l;p;p=Ga(p))h++;for(p=0,x=m;x;x=Ga(x))p++;for(;0<h-p;)d=Ga(d),h--;for(;0<p-h;)m=Ga(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ga(d),m=Ga(m)}d=null}else d=null;null!==l&&Ya(i,o,l,d,!1),null!==c&&null!==u&&Ya(i,u,c,d,!0)}if("select"===(l=(o=a?bn(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=$r;else if(Vr(o))if(Qr)f=sa;else{f=aa;var y=ra}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=na);switch(f&&(f=f(e,a))?Hr(i,f,r,n):(y&&y(e,o,a),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=a?bn(a):window,e){case"focusin":(Vr(y)||"true"===y.contentEditable)&&(xa=y,fa=a,ya=null);break;case"focusout":ya=fa=xa=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,va(i,r,n);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":va(i,r,n)}var g;if(Rr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?qr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Ir&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ur&&(g=er()):(Jt="value"in(Xt=n)?Xt.value:Xt.textContent,Ur=!0)),0<(y=Wa(a,v)).length&&(v=new vr(v,e,null,r,n),i.push({event:v,listeners:y}),g?v.data=g:null!==(g=zr(r))&&(v.data=g))),(g=Mr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Fr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Rr&&qr(e,t)?(e=er(),Zt=Jt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Wa(a,"onBeforeInput")).length&&(n=new vr("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:a}),n.data=g))}La(i,t)})}function Ha(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=De(e,r))&&a.unshift(Ha(e,s,n)),null!=(s=De(e,t))&&a.push(Ha(e,s,n))),e=e.return}return a}function Ga(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=De(r,s))&&i.unshift(Ha(r,l,o)):n||null!=(l=De(r,s))&&i.push(Ha(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ka=/\r\n?/g,$a=/\u0000|\uFFFD/g;function Qa(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace($a,"")}function Xa(e,t,r){if(t=Qa(t),Qa(e)!==t&&r)throw Error(s(425))}function Ja(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,sn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:rn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void Bt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);Bt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,pn="__reactProps$"+un,hn="__reactContainer$"+un,xn="__reactEvents$"+un,fn="__reactListeners$"+un,yn="__reactHandles$"+un;function gn(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hn]||r[mn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[mn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function vn(e){return!(e=e[mn]||e[hn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jn(e){return e[pn]||null}var wn=[],Nn=-1;function Cn(e){return{current:e}}function Sn(e){0>Nn||(e.current=wn[Nn],wn[Nn]=null,Nn--)}function An(e,t){Nn++,wn[Nn]=e.current,e.current=t}var kn={},En=Cn(kn),Pn=Cn(!1),On=kn;function Tn(e,t){var r=e.type.contextTypes;if(!r)return kn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in r)s[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rn(){Sn(Pn),Sn(En)}function _n(e,t,r){if(En.current!==kn)throw Error(s(168));An(En,t),An(Pn,r)}function Mn(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var n in a=a.getChildContext())if(!(n in t))throw Error(s(108,V(e)||"Unknown",n));return L({},r,a)}function In(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,On=En.current,An(En,e),An(Pn,Pn.current),!0}function Ln(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=Mn(e,t,On),a.__reactInternalMemoizedMergedChildContext=e,Sn(Pn),Sn(En),An(En,e)):Sn(Pn),An(Pn,r)}var Fn=null,qn=!1,zn=!1;function Un(e){null===Fn?Fn=[e]:Fn.push(e)}function Bn(){if(!zn&&null!==Fn){zn=!0;var e=0,t=vt;try{var r=Fn;for(vt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}Fn=null,qn=!1}catch(n){throw null!==Fn&&(Fn=Fn.slice(e+1)),Ye(Ze,Bn),n}finally{vt=t,zn=!1}}return null}var Vn=[],Hn=0,Wn=null,Gn=0,Yn=[],Kn=0,$n=null,Qn=1,Xn="";function Jn(e,t){Vn[Hn++]=Gn,Vn[Hn++]=Wn,Wn=e,Gn=t}function Zn(e,t,r){Yn[Kn++]=Qn,Yn[Kn++]=Xn,Yn[Kn++]=$n,$n=e;var a=Qn;e=Xn;var n=32-it(a)-1;a&=~(1<<n),r+=1;var s=32-it(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Qn=1<<32-it(t)+n|r<<n|a,Xn=s+e}else Qn=1<<s|r<<n|a,Xn=e}function es(e){null!==e.return&&(Jn(e,1),Zn(e,1,0))}function ts(e){for(;e===Wn;)Wn=Vn[--Hn],Vn[Hn]=null,Gn=Vn[--Hn],Vn[Hn]=null;for(;e===$n;)$n=Yn[--Kn],Yn[Kn]=null,Xn=Yn[--Kn],Yn[Kn]=null,Qn=Yn[--Kn],Yn[Kn]=null}var rs=null,as=null,ns=!1,ss=null;function is(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$n?{id:Qn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=as;if(t){var r=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cn(r.nextSibling);var a=rs;t&&os(e,t)?is(a,r):(e.flags=-4097&e.flags|2,ns=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!ns)return ds(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cn(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=rs?cn(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cn(e.nextSibling)}function ps(){as=rs=null,ns=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var xs=b.ReactCurrentBatchConfig;function fs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var n=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Lc(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===N?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&gs(s)===t.type)?((a=n(t,r.props)).ref=fs(e,t,r),a.return=e,a):((a=_c(r.type,r.key,r.props,null,e.mode,a)).ref=fs(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Mc(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=_c(t.type,t.key,t.props,null,e.mode,r)).ref=fs(e,null,t),r.return=e,r;case w:return(t=Fc(t,e.mode,r)).return=e,t;case D:return m(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;ys(e,t)}return null}function p(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:l(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===n?c(e,t,r,a):null;case w:return r.key===n?d(e,t,r,a):null;case D:return p(e,t,(n=r._init)(r._payload),a)}if(te(r)||M(r))return null!==n?null:u(e,t,r,a,null);ys(e,r)}return null}function h(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case w:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case D:return h(e,t,r,(0,a._init)(a._payload),n)}if(te(a)||M(a))return u(t,e=e.get(r)||null,a,n,null);ys(t,a)}return null}function x(n,s,o,l){for(var c=null,d=null,u=s,x=s=0,f=null;null!==u&&x<o.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var y=p(n,u,o[x],l);if(null===y){null===u&&(u=f);break}e&&u&&null===y.alternate&&t(n,u),s=i(y,s,x),null===d?c=y:d.sibling=y,d=y,u=f}if(x===o.length)return r(n,u),ns&&Jn(n,x),c;if(null===u){for(;x<o.length;x++)null!==(u=m(n,o[x],l))&&(s=i(u,s,x),null===d?c=u:d.sibling=u,d=u);return ns&&Jn(n,x),c}for(u=a(n,u);x<o.length;x++)null!==(f=h(u,n,x,o[x],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),s=i(f,s,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),ns&&Jn(n,x),c}function f(n,o,l,c){var d=M(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,x=o,f=o=0,y=null,g=l.next();null!==x&&!g.done;f++,g=l.next()){x.index>f?(y=x,x=null):y=x.sibling;var v=p(n,x,g.value,c);if(null===v){null===x&&(x=y);break}e&&x&&null===v.alternate&&t(n,x),o=i(v,o,f),null===u?d=v:u.sibling=v,u=v,x=y}if(g.done)return r(n,x),ns&&Jn(n,f),d;if(null===x){for(;!g.done;f++,g=l.next())null!==(g=m(n,g.value,c))&&(o=i(g,o,f),null===u?d=g:u.sibling=g,u=g);return ns&&Jn(n,f),d}for(x=a(n,x);!g.done;f++,g=l.next())null!==(g=h(x,n,f,g.value,c))&&(e&&null!==g.alternate&&x.delete(null===g.key?f:g.key),o=i(g,o,f),null===u?d=g:u.sibling=g,u=g);return e&&x.forEach(function(e){return t(n,e)}),ns&&Jn(n,f),d}return function e(a,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(a,d.sibling),(s=n(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&gs(c)===d.type){r(a,d.sibling),(s=n(d,i.props)).ref=fs(a,d,i),s.return=a,a=s;break e}r(a,d);break}t(a,d),d=d.sibling}i.type===N?((s=Mc(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=_c(i.type,i.key,i.props,null,a.mode,l)).ref=fs(a,s,i),l.return=a,a=l)}return o(a);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(a,s.sibling),(s=n(s,i.children||[])).return=a,a=s;break e}r(a,s);break}t(a,s),s=s.sibling}(s=Fc(i,a.mode,l)).return=a,a=s}return o(a);case D:return e(a,s,(d=i._init)(i._payload),l)}if(te(i))return x(a,s,i,l);if(M(i))return f(a,s,i,l);ys(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(a,s.sibling),(s=n(s,i)).return=a,a=s):(r(a,s),(s=Lc(i,a.mode,l)).return=a,a=s),o(a)):r(a,s)}}var bs=vs(!0),js=vs(!1),ws=Cn(null),Ns=null,Cs=null,Ss=null;function As(){Ss=Cs=Ns=null}function ks(e){var t=ws.current;Sn(ws),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){Ns=e,Ss=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Ns)throw Error(s(308));Cs=e,Ns.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Ts=null;function Ds(e){null===Ts?Ts=[e]:Ts.push(e)}function Rs(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,Ds(t)):(r.next=n.next,n.next=r),t.interleaved=r,_s(e,a)}function _s(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&El)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,_s(e,r)}return null===(n=a.interleaved)?(t.next=t,Ds(a)):(t.next=n.next,n.next=t),a.interleaved=t,_s(e,r)}function zs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,gt(e,r)}}function Us(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bs(e,t,r,a){var n=e.updateQueue;Ms=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,p=o.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,x=o;switch(m=t,p=r,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=x.payload)?h.call(p,u,m):h)||void 0===m)break e;u=L({},u,m);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=u}}function Vs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var Hs={},Ws=Cn(Hs),Gs=Cn(Hs),Ys=Cn(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(An(Ys,t),An(Gs,e),An(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sn(Ws),An(Ws,t)}function Qs(){Sn(Ws),Sn(Gs),Sn(Ys)}function Xs(e){Ks(Ys.current);var t=Ks(Ws.current),r=le(t,e.type);t!==r&&(An(Gs,e),An(Ws,r))}function Js(e){Gs.current===e&&(Sn(Ws),Sn(Gs))}var Zs=Cn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function pi(){throw Error(s(321))}function hi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function xi(e,t,r,a,n,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Ji:Zi,e=r(a,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=r(a,n)}while(di)}if(ai.current=Xi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function fi(){var e=0!==ui;return ui=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function gi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=gi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=oi,n=a.baseQueue,i=r.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(null!==n){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=a):c=c.next=m,ii.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,ia(a,t.memoizedState)||(vo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Il|=i,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ji(e){var t=gi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);ia(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function wi(){}function Ni(e,t){var r=ii,a=gi(),n=t(),i=!ia(a.memoizedState,n);if(i&&(a.memoizedState=n,vo=!0),a=a.queue,Mi(Ai.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Oi(9,Si.bind(null,r,a,n,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||Ci(r,t,n)}return n}function Ci(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,a){t.value=r,t.getSnapshot=a,ki(t)&&Ei(e)}function Ai(e,t,r){return r(function(){ki(t)&&Ei(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch(a){return!0}}function Ei(e){var t=_s(e,1);null!==t&&rc(t,e,1,-1)}function Pi(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Oi(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Ti(){return gi().memoizedState}function Di(e,t,r,a){var n=yi();ii.flags|=e,n.memoizedState=Oi(1|t,r,void 0,void 0===a?null:a)}function Ri(e,t,r,a){var n=gi();a=void 0===a?null:a;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==a&&hi(a,i.deps))return void(n.memoizedState=Oi(t,r,s,a))}ii.flags|=e,n.memoizedState=Oi(1|t,r,s,a)}function _i(e,t){return Di(8390656,8,e,t)}function Mi(e,t){return Ri(2048,8,e,t)}function Ii(e,t){return Ri(4,2,e,t)}function Li(e,t){return Ri(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4,4,Fi.bind(null,t,e),r)}function zi(){}function Ui(e,t){var r=gi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Bi(e,t){var r=gi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=r):(ia(r,t)||(r=xt(),ii.lanes|=r,Il|=r,e.baseState=!0),t)}function Hi(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),t()}finally{vt=r,ni.transition=a}}function Wi(){return gi().memoizedState}function Gi(e,t,r){var a=tc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e))$i(t,r);else if(null!==(r=Rs(e,t,r,a))){rc(r,e,a,ec()),Qi(r,t,a)}}function Yi(e,t,r){var a=tc(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))$i(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,ia(o,i)){var l=t.interleaved;return null===l?(n.next=n,Ds(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Rs(e,t,n,a))&&(rc(r,e,a,n=ec()),Qi(r,t,a))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qi(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,gt(e,r)}}var Xi={readContext:Os,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Ji={readContext:Os,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:_i,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Di(4194308,4,Fi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){return Di(4,2,e,t)},useMemo:function(e,t){var r=yi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=yi();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Pi,useDebugValue:zi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ii,n=yi();if(ns){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Pl)throw Error(s(349));0!==(30&si)||Ci(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,_i(Ai.bind(null,a,i,e),[e]),a.flags|=2048,Oi(9,Si.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=yi(),t=Pl.identifierPrefix;if(ns){var r=Xn;t=":"+t+"R"+(r=(Qn&~(1<<32-it(Qn)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Os,useCallback:Ui,useContext:Os,useEffect:Mi,useImperativeHandle:qi,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:Bi,useReducer:bi,useRef:Ti,useState:function(){return bi(vi)},useDebugValue:zi,useDeferredValue:function(e){return Vi(gi(),oi.memoizedState,e)},useTransition:function(){return[bi(vi)[0],gi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:Os,useCallback:Ui,useContext:Os,useEffect:Mi,useImperativeHandle:qi,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:Bi,useReducer:ji,useRef:Ti,useState:function(){return ji(vi)},useDebugValue:zi,useDeferredValue:function(e){var t=gi();return null===oi?t.memoizedState=e:Vi(t,oi.memoizedState,e)},useTransition:function(){return[ji(vi)[0],gi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Fs(a,n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=qs(e,s,n))&&(rc(t,e,n,a),zs(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=Fs(a,n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=qs(e,s,n))&&(rc(t,e,n,a),zs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),a=tc(e),n=Fs(r,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=qs(e,n,a))&&(rc(t,e,a,r),zs(t,e,a))}};function no(e,t,r,a,n,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(r,a)||!oa(n,s))}function so(e,t,r){var a=!1,n=kn,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(n=Dn(t)?On:En.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Tn(e,n):kn),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Is(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=Os(s):(s=Dn(t)?On:En.current,n.context=Tn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ao.enqueueReplaceState(n,n.state,null),Bs(e,r,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",a=t;do{r+=U(a),a=a.return}while(a);var n=r}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,r){(r=Fs(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Hl||(Hl=!0,Wl=a),uo(0,t)},r}function ho(e,t,r){(r=Fs(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof a&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function xo(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new mo;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function fo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,r,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fs(-1,1)).tag=2,qs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var go=b.ReactCurrentOwner,vo=!1;function bo(e,t,r,a){t.child=null===e?js(t,null,r,a):bs(t,e.child,r,a)}function jo(e,t,r,a,n){r=r.render;var s=t.ref;return Ps(t,n),a=xi(e,t,r,a,s,n),r=fi(),null===e||vo?(ns&&r&&es(t),t.flags|=1,bo(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function wo(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=_c(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,a,n))}if(s=e.child,0===(e.lanes&n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:oa)(i,a)&&e.ref===t.ref)return Ho(e,t,n)}return t.flags|=1,(e=Rc(s,a)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(vo=!1,t.pendingProps=a=s,0===(e.lanes&n))return t.lanes=e.lanes,Ho(e,t,n);0!==(131072&e.flags)&&(vo=!0)}}return Ao(e,t,r,a,n)}function Co(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(Rl,Dl),Dl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,An(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:r,An(Rl,Dl),Dl|=a}else null!==s?(a=s.baseLanes|r,t.memoizedState=null):a=r,An(Rl,Dl),Dl|=a;return bo(e,t,n,r),t.child}function So(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,r,a,n){var s=Dn(r)?On:En.current;return s=Tn(t,s),Ps(t,n),r=xi(e,t,r,a,s,n),a=fi(),null===e||vo?(ns&&a&&es(t),t.flags|=1,bo(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ho(e,t,n))}function ko(e,t,r,a,n){if(Dn(r)){var s=!0;In(t)}else s=!1;if(Ps(t,n),null===t.stateNode)Vo(e,t),so(t,r,a),oo(t,r,a,n),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Tn(t,c=Dn(r)?On:En.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Ms=!1;var m=t.memoizedState;i.state=m,Bs(t,a,i,n),l=t.memoizedState,o!==a||m!==l||Pn.current||Ms?("function"===typeof d&&(ro(t,r,d,a),l=t.memoizedState),(o=Ms||no(t,r,o,a,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Os(l):l=Tn(t,l=Dn(r)?On:En.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,a,l),Ms=!1,m=t.memoizedState,i.state=m,Bs(t,a,i,n);var h=t.memoizedState;o!==u||m!==h||Pn.current||Ms?("function"===typeof p&&(ro(t,r,p,a),h=t.memoizedState),(c=Ms||no(t,r,c,a,m,h,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),i.props=a,i.state=h,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Eo(e,t,r,a,s,n)}function Eo(e,t,r,a,n,s){So(e,t);var i=0!==(128&t.flags);if(!a&&!i)return n&&Ln(t,r,!1),Ho(e,t,s);a=t.stateNode,go.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=a.state,n&&Ln(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?_n(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_n(0,t.context,!1),$s(e,t.containerInfo)}function Oo(e,t,r,a,n){return ps(),hs(n),t.flags|=256,bo(e,t,r,a),t.child}var To,Do,Ro,_o,Mo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,r){var a,n=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),An(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,n,0,null),e=Mc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(r),t.memoizedState=Mo,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,r,a,n,i,o){if(r)return 256&t.flags?(t.flags&=-257,qo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=Ic({mode:"visible",children:a.children},n,0,null),(i=Mc(i,n,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Mo,i);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var l=a.dgst;return a=l,qo(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(a=Pl)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,_s(e,n),rc(a,e,n,-1))}return xc(),qo(e,t,o,a=co(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,as=cn(n.nextSibling),rs=t,ns=!0,ss=null,null!==e&&(Yn[Kn++]=Qn,Yn[Kn++]=Xn,Yn[Kn++]=$n,Qn=e.id,Xn=e.overflow,$n=t),t=Fo(t,a.children),t.flags|=4096,t)}(e,t,l,n,a,i,r);if(o){o=n.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Rc(a,o):(o=Mc(o,l,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Mo,n}return e=(o=e.child).sibling,n=Rc(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,r,a){return null!==a&&hs(a),bs(t,e.child,null,r),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,r)}function Uo(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function Bo(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(bo(e,t,a.children,r),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,r,t);else if(19===e.tag)zo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(An(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Uo(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Uo(t,!0,r,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Yo(e,t,r){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Dn(t.type)&&Rn(),Go(t),null;case 3:return a=t.stateNode,Qs(),Sn(Pn),Sn(En),ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Do(e,t),Go(t),null;case 5:Js(t);var n=Ks(Ys.current);if(r=t.type,null!==e&&null!=t.stateNode)Ro(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Ks(Ws.current),us(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[mn]=t,a[pn]=i,e=0!==(1&t.mode),r){case"dialog":Fa("cancel",a),Fa("close",a);break;case"iframe":case"object":case"embed":Fa("load",a);break;case"video":case"audio":for(n=0;n<_a.length;n++)Fa(_a[n],a);break;case"source":Fa("error",a);break;case"img":case"image":case"link":Fa("error",a),Fa("load",a);break;case"details":Fa("toggle",a);break;case"input":Q(a,i),Fa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Fa("invalid",a);break;case"textarea":ne(a,i),Fa("invalid",a)}for(var l in ge(r,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fa("scroll",a)}switch(r){case"input":G(a),Z(a,i,!0);break;case"textarea":G(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Ja)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),"select"===r&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[mn]=t,e[pn]=a,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,a),r){case"dialog":Fa("cancel",e),Fa("close",e),n=a;break;case"iframe":case"object":case"embed":Fa("load",e),n=a;break;case"video":case"audio":for(n=0;n<_a.length;n++)Fa(_a[n],e);n=a;break;case"source":Fa("error",e),n=a;break;case"img":case"image":case"link":Fa("error",e),Fa("load",e),n=a;break;case"details":Fa("toggle",e),n=a;break;case"input":Q(e,a),n=$(e,a),Fa("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=L({},a,{value:void 0}),Fa("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Fa("invalid",e)}for(i in ge(r,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Fa("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":G(e),Z(e,a,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?re(e,!!a.multiple,i,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Ja)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)_o(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(r=Ks(Ys.current),Ks(Ws.current),us(t)){if(a=t.stateNode,r=t.memoizedProps,a[mn]=t,(i=a.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Xa(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[mn]=t,t.stateNode=a}return Go(t),null;case 13:if(Sn(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mn]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===_l&&(_l=3):xc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qs(),Do(e,t),null===e&&Ua(t.stateNode.containerInfo),Go(t),null;case 10:return ks(t.type._context),Go(t),null;case 19:if(Sn(Zs),null===(i=t.memoizedState))return Go(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Wo(i,!1);else{if(0!==_l||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Wo(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return An(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Bl&&(t.flags|=128,a=!0,Wo(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ns)return Go(t),null}else 2*Xe()-i.renderingStartTime>Bl&&1073741824!==r&&(t.flags|=128,a=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Zs.current,An(Zs,a?1&r|2:1&r),t):(Go(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Dn(t.type)&&Rn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Sn(Pn),Sn(En),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Sn(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sn(Zs),null;case 4:return Qs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Do=function(){},Ro=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Ks(Ws.current);var s,i=null;switch(r){case"input":n=$(e,n),a=$(e,a),i=[];break;case"select":n=L({},n,{value:void 0}),a=L({},a,{value:void 0}),i=[];break;case"textarea":n=ae(e,n),a=ae(e,a),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Ja)}for(d in ge(r,a),r=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fa("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},_o=function(e,t,r,a){r!==a&&(t.flags|=4)};var $o=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){Cc(e,t,a)}else r.current=null}function el(e,t,r){try{r()}catch(a){Cc(e,t,a)}}var tl=!1;function rl(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&el(t,r,s)}n=n.next}while(n!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[pn],delete t[xn],delete t[fn],delete t[yn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Ja));else if(4!==a&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function ml(e,t,r){for(r=r.child;null!==r;)pl(e,t,r),r=r.sibling}function pl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(o){}switch(r.tag){case 5:Qo||Zo(r,t);case 6:var a=dl,n=ul;dl=null,ml(e,t,r),ul=n,null!==(dl=a)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),Bt(e)):ln(dl,r.stateNode));break;case 4:a=dl,n=ul,dl=r.stateNode.containerInfo,ul=!0,ml(e,t,r),dl=a,ul=n;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var s=n,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(r,t,i),n=n.next}while(n!==a)}ml(e,t,r);break;case 1:if(!Qo&&(Zo(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Cc(r,t,o)}ml(e,t,r);break;case 21:ml(e,t,r);break;case 22:1&r.mode?(Qo=(a=Qo)||null!==r.memoizedState,ml(e,t,r),Qo=a):ml(e,t,r);break;default:ml(e,t,r)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xo),t.forEach(function(t){var a=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function xl(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(i,o,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Cc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),yl(e),4&a){try{rl(3,e,e.return),al(3,e)}catch(f){Cc(e,e.return,f)}try{rl(5,e,e.return)}catch(f){Cc(e,e.return,f)}}break;case 1:xl(t,e),yl(e),512&a&&null!==r&&Zo(r,r.return);break;case 5:if(xl(t,e),yl(e),512&a&&null!==r&&Zo(r,r.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(f){Cc(e,e.return,f)}}if(4&a&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(n,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?fe(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):v(n,u,m,d)}switch(l){case"input":J(n,i);break;case"textarea":se(n,i);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?re(n,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?re(n,!!i.multiple,i.defaultValue,!0):re(n,!!i.multiple,i.multiple?[]:"",!1))}n[pn]=i}catch(f){Cc(e,e.return,f)}}break;case 6:if(xl(t,e),yl(e),4&a){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(f){Cc(e,e.return,f)}}break;case 3:if(xl(t,e),yl(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(f){Cc(e,e.return,f)}break;case 4:default:xl(t,e),yl(e);break;case 13:xl(t,e),yl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Ul=Xe())),4&a&&hl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(d=Qo)||u,xl(t,e),Qo=d):xl(t,e),yl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(m=Jo=u;null!==Jo;){switch(h=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:Zo(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){a=p,r=p.return;try{t=a,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){Cc(a,r,f)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){jl(m);continue}}null!==h?(h.return=p,Jo=h):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=xe("display",o))}catch(f){Cc(e,e.return,f)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){Cc(e,e.return,f)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xl(t,e),yl(e),4&a&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(me(n,""),a.flags&=-33),cl(e,ol(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Cc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,r){Jo=e,vl(e,t,r)}function vl(e,t,r){for(var a=0!==(1&e.mode);null!==Jo;){var n=Jo,s=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||$o;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=$o;var c=Qo;if($o=i,(Qo=l)&&!c)for(Jo=n;null!==Jo;)l=(i=Jo).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,Jo=l):wl(n);for(;null!==s;)Jo=s,vl(s,t,r),s=s.sibling;Jo=n,$o=o,Qo=c}bl(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Jo=s):bl(e)}}function bl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Qo)if(null===r)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vs(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Vs(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&nl(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Jo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Jo=r;break}Jo=t.return}}function jl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Jo=r;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{al(4,t)}catch(l){Cc(t,r,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(l){Cc(t,n,l)}}var s=t.return;try{nl(t)}catch(l){Cc(t,s,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){Cc(t,i,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Nl,Cl=Math.ceil,Sl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,El=0,Pl=null,Ol=null,Tl=0,Dl=0,Rl=Cn(0),_l=0,Ml=null,Il=0,Ll=0,Fl=0,ql=null,zl=null,Ul=0,Bl=1/0,Vl=null,Hl=!1,Wl=null,Gl=null,Yl=!1,Kl=null,$l=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==xs.transition?(0===Zl&&(Zl=xt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,r,a){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));yt(e,r,a),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Ll|=r),4===_l&&oc(e,Tl)),ac(e,a),1===r&&0===El&&0===(1&t.mode)&&(Bl=Xe()+500,qn&&Bn()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mt(e,e===Pl?Tl:0);if(0===a)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){qn=!0,Un(e)}(lc.bind(null,e)):Un(lc.bind(null,e)),sn(function(){0===(6&El)&&Bn()}),r=null;else{switch(bt(a)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Pc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var a=mt(e,e===Pl?Tl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=fc(e,a);else{t=a;var n=El;El|=2;var i=hc();for(Pl===e&&Tl===t||(Vl=null,Bl=Xe()+500,mc(e,t));;)try{gc();break}catch(l){pc(e,l)}As(),Sl.current=i,El=n,null!==Ol?t=0:(Pl=null,Tl=0,t=_l)}if(0!==t){if(2===t&&(0!==(n=ht(e))&&(a=n,t=sc(e,n))),1===t)throw r=Ml,mc(e,0),oc(e,a),ac(e,Xe()),r;if(6===t)oc(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!ia(s(),n))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=fc(e,a))&&(0!==(i=ht(e))&&(a=i,t=sc(e,i))),1===t))throw r=Ml,mc(e,0),oc(e,a),ac(e,Xe()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,zl,Vl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=Ul+500-Xe())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(jc.bind(null,e,zl,Vl),t);break}jc(e,zl,Vl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>n&&(n=o),a&=~i}if(a=n,10<(a=(120>(a=Xe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Cl(a/1960))-a)){e.timeoutHandle=rn(jc.bind(null,e,zl,Vl),a);break}jc(e,zl,Vl);break;default:throw Error(s(329))}}}return ac(e,Xe()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=ql;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=zl,zl=r,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),a=1<<r;e[r]=-1,t&=~a}}function lc(e){if(0!==(6&El))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return ac(e,Xe()),null;var r=fc(e,t);if(0!==e.tag&&2===r){var a=ht(e);0!==a&&(t=a,r=sc(e,a))}if(1===r)throw r=Ml,mc(e,0),oc(e,t),ac(e,Xe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,zl,Vl),ac(e,Xe()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(Bl=Xe()+500,qn&&Bn())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&wc();var t=El;El|=1;var r=kl.transition,a=vt;try{if(kl.transition=null,vt=1,e)return e()}finally{vt=a,kl.transition=r,0===(6&(El=t))&&Bn()}}function uc(){Dl=Rl.current,Sn(Rl)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Ol)for(r=Ol.return;null!==r;){var a=r;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rn();break;case 3:Qs(),Sn(Pn),Sn(En),ri();break;case 5:Js(a);break;case 4:Qs();break;case 13:case 19:Sn(Zs);break;case 10:ks(a.type._context);break;case 22:case 23:uc()}r=r.return}if(Pl=e,Ol=e=Rc(e.current,null),Tl=Dl=t,_l=0,Ml=null,Fl=Ll=Il=0,zl=ql=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(a=(r=Ts[t]).interleaved)){r.interleaved=null;var n=a.next,s=r.pending;if(null!==s){var i=s.next;s.next=n,a.next=i}r.pending=a}Ts=null}return e}function pc(e,t){for(;;){var r=Ol;try{if(As(),ai.current=Xi,ci){for(var a=ii.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Al.current=null,null===r||null===r.return){_l=1,Ml=t,Ol=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fo(o);if(null!==h){h.flags&=-257,yo(h,o,l,0,t),1&h.mode&&xo(i,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){xo(i,d,t),xc();break e}c=Error(s(426))}else if(ns&&1&l.mode){var y=fo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),hs(lo(c,l));break e}}i=c=lo(c,l),4!==_l&&(_l=2),null===ql?ql=[i]:ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,po(0,c,t));break e;case 1:l=c;var g=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,ho(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(b){t=b,Ol===r&&null!==r&&(Ol=r=r.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Xi,null===e?Xi:e}function xc(){0!==_l&&3!==_l&&2!==_l||(_l=4),null===Pl||0===(268435455&Il)&&0===(268435455&Ll)||oc(Pl,Tl)}function fc(e,t){var r=El;El|=2;var a=hc();for(Pl===e&&Tl===t||(Vl=null,mc(e,t));;)try{yc();break}catch(n){pc(e,n)}if(As(),El=r,Sl.current=a,null!==Ol)throw Error(s(261));return Pl=null,Tl=0,_l}function yc(){for(;null!==Ol;)vc(Ol)}function gc(){for(;null!==Ol&&!$e();)vc(Ol)}function vc(e){var t=Nl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,Al.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Yo(r,t,Dl)))return void(Ol=r)}else{if(null!==(r=Ko(r,t)))return r.flags&=32767,void(Ol=r);if(null===e)return _l=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===_l&&(_l=5)}function jc(e,t,r){var a=vt,n=kl.transition;try{kl.transition=null,vt=1,function(e,t,r,a){do{wc()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),s=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~s}}(e,i),e===Pl&&(Ol=Pl=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yl||(Yl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=kl.transition,kl.transition=null;var o=vt;vt=1;var l=El;El|=4,Al.current=null,function(e,t){if(Za=Ht,ma(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==r||0!==n&&3!==m.nodeType||(l=o+n),m!==i||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++d===n&&(l=o),p===i&&++u===a&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,y=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?f:to(t.type,f),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(j){Cc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}x=tl,tl=!1}(e,r),fl(r,e),pa(en),Ht=!!Za,en=Za=null,e.current=r,gl(r,e,n),Qe(),El=l,vt=o,kl.transition=i}else e.current=r;if(Yl&&(Yl=!1,Kl=e,$l=n),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Xe()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&$l)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Bn()}(e,t,r,a)}finally{kl.transition=n,vt=a}return null}function wc(){if(null!==Kl){var e=bt($l),t=kl.transition,r=vt;try{if(kl.transition=null,vt=16>e?16:e,null===Kl)var a=!1;else{if(e=Kl,Kl=null,$l=0,0!==(6&El))throw Error(s(331));var n=El;for(El|=4,Jo=e.current;null!==Jo;){var i=Jo,o=i.child;if(0!==(16&Jo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Jo=m;else for(;null!==Jo;){var p=(u=Jo).sibling,h=u.return;if(sl(u),u===d){Jo=null;break}if(null!==p){p.return=h,Jo=p;break}Jo=h}}}var x=i.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var y=f.sibling;f.sibling=null,f=y}while(null!==f)}}Jo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(i=Jo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Jo=g;break e}Jo=i.return}}var v=e.current;for(Jo=v;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=v;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(w){Cc(l,l.return,w)}if(l===o){Jo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Jo=j;break e}Jo=l.return}}if(El=n,Bn(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(w){}a=!0}return a}finally{vt=r,kl.transition=t}}return!1}function Nc(e,t,r){e=qs(e,t=po(0,t=lo(r,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ac(e,t))}function Cc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Gl||!Gl.has(a))){t=qs(t,e=ho(t,e=lo(r,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Tl&r)===r&&(4===_l||3===_l&&(130023424&Tl)===Tl&&500>Xe()-Ul?mc(e,0):Fl|=r),ac(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=_s(e,t))&&(yt(e,t,r),ac(e,r))}function kc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ac(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Ac(e,r)}function Pc(e,t){return Ye(e,t)}function Oc(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,a){return new Oc(e,t,r,a)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _c(e,t,r,a,n,i){var o=2;if(a=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Mc(r.children,n,i,t);case C:o=8,n|=8;break;case S:return(e=Tc(12,r,t,2|n)).elementType=S,e.lanes=i,e;case P:return(e=Tc(13,r,t,n)).elementType=P,e.lanes=i,e;case O:return(e=Tc(19,r,t,n)).elementType=O,e.lanes=i,e;case R:return Ic(r,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case k:o=9;break e;case E:o=11;break e;case T:o=14;break e;case D:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(o,r,t,n)).elementType=e,t.type=a,t.lanes=i,t}function Mc(e,t,r,a){return(e=Tc(7,e,a,t)).lanes=r,e}function Ic(e,t,r,a){return(e=Tc(22,e,a,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,a,n,s,i,o,l){return e=new qc(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function Uc(e){if(!e)return kn;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Dn(r))return Mn(e,r,t)}return t}function Bc(e,t,r,a,n,s,i,o,l){return(e=zc(r,a,!0,e,0,s,0,o,l)).context=Uc(null),r=e.current,(s=Fs(a=ec(),n=tc(r))).callback=void 0!==t&&null!==t?t:null,qs(r,s,n),e.current.lanes=n,yt(e,n,a),ac(e,a),e}function Vc(e,t,r,a){var n=t.current,s=ec(),i=tc(n);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fs(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=qs(n,t,i))&&(rc(e,n,i,s),zs(e,n,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pn.current)vo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vo=!1,function(e,t,r){switch(t.tag){case 3:Po(t),ps();break;case 5:Xs(t);break;case 1:Dn(t.type)&&In(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;An(ws,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(An(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Lo(e,t,r):(An(Zs,1&Zs.current),null!==(e=Ho(e,t,r))?e.sibling:null);An(Zs,1&Zs.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return Bo(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),An(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,r)}return Ho(e,t,r)}(e,t,r);vo=0!==(131072&e.flags)}else vo=!1,ns&&0!==(1048576&t.flags)&&Zn(t,Gn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vo(e,t),e=t.pendingProps;var n=Tn(t,En.current);Ps(t,r),n=xi(null,t,a,e,n,r);var i=fi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(a)?(i=!0,In(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Is(t),n.updater=ao,t.stateNode=n,n._reactInternals=t,oo(t,a,e,r),t=Eo(null,t,a,!0,i,r)):(t.tag=0,ns&&i&&es(t),bo(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(a),e=to(a,e),n){case 0:t=Ao(null,t,a,e,r);break e;case 1:t=ko(null,t,a,e,r);break e;case 11:t=jo(null,t,a,e,r);break e;case 14:t=wo(null,t,a,to(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,Ao(e,t,a,n=t.elementType===a?n:to(a,n),r);case 1:return a=t.type,n=t.pendingProps,ko(e,t,a,n=t.elementType===a?n:to(a,n),r);case 3:e:{if(Po(t),null===e)throw Error(s(387));a=t.pendingProps,n=(i=t.memoizedState).element,Ls(e,t),Bs(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,a,r,n=lo(Error(s(423)),t));break e}if(a!==n){t=Oo(e,t,a,r,n=lo(Error(s(424)),t));break e}for(as=cn(t.stateNode.containerInfo.firstChild),rs=t,ns=!0,ss=null,r=js(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ps(),a===n){t=Ho(e,t,r);break e}bo(e,t,a,r)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),a=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(a,n)?o=null:null!==i&&tn(a,i)&&(t.flags|=32),So(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,r);case 4:return $s(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=bs(t,null,a,r):bo(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,jo(e,t,a,n=t.elementType===a?n:to(a,n),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,An(ws,a._currentValue),a._currentValue=o,null!==i)if(ia(i.value,o)){if(i.children===n.children&&!Pn.current){t=Ho(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Fs(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Es(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Es(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Ps(t,r),a=a(n=Os(n)),t.flags|=1,bo(e,t,a,r),t.child;case 14:return n=to(a=t.type,t.pendingProps),wo(e,t,a,n=to(a.type,n),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:to(a,n),Vo(e,t),t.tag=1,Dn(a)?(e=!0,In(t)):e=!1,Ps(t,r),so(t,a,n),oo(t,a,n,r),Eo(null,t,a,!0,e,r);case 19:return Bo(e,t,r);case 22:return Co(e,t,r)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,a,n){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof n){var o=n;n=function(){var e=Hc(i);o.call(e)}}Vc(t,i,e,n)}else i=function(e,t,r,a,n){if(n){if("function"===typeof a){var s=a;a=function(){var e=Hc(i);s.call(e)}}var i=Bc(t,a,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[hn]=i.current,Ua(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var o=a;a=function(){var e=Hc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[hn]=l.current,Ua(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,r,a)}),l}(r,t,e,n,a);return Hc(i)}$c.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[hn]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&Lt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(gt(t,1|r),ac(t,Xe()),0===(6&El)&&(Bl=Xe()+500,Bn()))}break;case 13:dc(function(){var t=_s(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=_s(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=_s(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},Ct=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},we=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=jn(a);if(!n)throw Error(s(90));Y(a),J(a,n)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[vn,bn,jn,Ae,ke,cc]},td={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(rd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var r=!1,a="",n=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,a,n),e[hn]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(s(405));var a=null!=r&&r.hydratedSources||null,n=!1,i="",o=Yc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Bc(t,null,e,1,null!=r?r:null,n,0,i,o),e[hn]=t.current,Ua(e),a)for(e=0;e<a.length;e++)n=(n=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new $c(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Xc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},2735:e=>{"use strict";var t,r="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,a="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var n=r?r.prototype.has:null,s=a?a.prototype.has:null;t||n||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(n.call(e,n),s)try{s.call(e,s)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var a=r(5193),n=r(2761),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return n(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var a=r(9742),n=r(7498),s=r(9096);e.exports=function(e,t){return e&&e.length?a(e,s(t,2),n):void 0}},2816:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!==e}},2866:(e,t,r)=>{var a=r(2969);e.exports=function(e){return function(t){return a(t,e)}}},2897:(e,t,r)=>{var a=r(3693);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2907:(e,t,r)=>{"use strict";r.d(t,{QueryClient:()=>a.QueryClient,QueryClientProvider:()=>n.QueryClientProvider});var a=r(5819);r.o(a,"QueryClientProvider")&&r.d(t,{QueryClientProvider:function(){return a.QueryClientProvider}});var n=r(6524)},2924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"page-list [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},2929:(e,t,r)=>{var a=r(6552).Uint8Array;e.exports=a},2936:(e,t,r)=>{"use strict";var a=r(7163),n="undefined"===typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<a.length;t++)"function"===typeof n[a[t]]&&(e[e.length]=a[t]);return e}},2940:(e,t,r)=>{"use strict";var a=r(2981),n=r(4902),s=Object;e.exports=a(function(){if(null==this||this!==s(this))throw new n("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0)},2969:(e,t,r)=>{var a=r(5324),n=r(914);e.exports=function(e,t){for(var r=0,s=(t=a(t,e)).length;null!=e&&r<s;)e=e[n(t[r++])];return r&&r==s?e:void 0}},2981:(e,t,r)=>{"use strict";var a=r(4992),n=r(2101)(),s=r(7699).functionsHaveConfigurableNames(),i=r(4902);e.exports=function(e,t){if("function"!==typeof e)throw new i("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!s||(n?a(e,"name",t,!0,!0):a(e,"name",t)),e}},3008:(e,t,r)=>{"use strict";if(r(1977)()){var a=BigInt.prototype.valueOf;e.exports=function(e){return null!==e&&"undefined"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e&&"number"!==typeof e&&"symbol"!==typeof e&&"function"!==typeof e&&("bigint"===typeof e||function(e){try{return a.call(e),!0}catch(t){}return!1}(e))}}else e.exports=function(e){return!1}},3023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"name"}],name:"form"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3094:e=>{"use strict";e.exports=URIError},3097:(e,t,r)=>{var a=r(2969);e.exports=function(e,t,r){var n=null==e?void 0:a(e,t);return void 0===n?r:n}},3114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[],requireContextRole:["tablist"],requiredContextRole:["tablist"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"],["roletype","widget"]]};t.default=r},3136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=r(5638),n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),s=n["jest-symbol-do-not-touch"]||n.Symbol;const i="function"===typeof s&&s.for?s.for("react.test.json"):245830487,o=(e,t,r,n,s,i)=>++n>t.maxDepth?(0,a.printElementAsLeaf)(e.type,t):(0,a.printElement)(e.type,e.props?(0,a.printProps)((e=>{const{props:t}=e;return t?Object.keys(t).filter(e=>void 0!==t[e]).sort():[]})(e),e.props,t,r+t.indent,n,s,i):"",e.children?(0,a.printChildren)(e.children,t,r+t.indent,n,s,i):"",t,r);t.serialize=o;const l=e=>e&&e.$$typeof===i;t.test=l;var c={serialize:o,test:l};t.default=c},3204:(e,t,r)=>{var a=r(3343),n=r(2777),s=r(4052),i=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&n(e),u=!r&&!d&&i(e),m=!r&&!d&&!u&&l(e),p=r||d||u||m,h=p?a(e.length,String):[],x=h.length;for(var f in e)!t&&!c.call(e,f)||p&&("length"==f||u&&("offset"==f||"parent"==f)||m&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||o(f,x))||h.push(f);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3255:e=>{function t(r,a){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3279:e=>{e.exports=function(e){return e}},3290:(e,t,r)=>{"use strict";var a,n=r(8117),s=r(4635)(),i=r(4384),o=r(5558);if(s){var l=n("RegExp.prototype.exec"),c={},d=function(){throw c},u={toString:d,valueOf:d};"symbol"===typeof Symbol.toPrimitive&&(u[Symbol.toPrimitive]=d),a=function(e){if(!e||"object"!==typeof e)return!1;var t=o(e,"lastIndex");if(!(t&&i(t,"value")))return!1;try{l(e,u)}catch(r){return r===c}}}else{var m=n("Object.prototype.toString");a=function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===m(e)}}e.exports=a},3324:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{concept:{attributes:[{name:"scope",value:"row"}],name:"th"},module:"HTML"},{concept:{attributes:[{name:"scope",value:"rowgroup"}],name:"th"},module:"HTML"}],requireContextRole:["row","rowgroup"],requiredContextRole:["row","rowgroup"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=r},3331:(e,t,r)=>{var a=r(9676),n=r(929),s=r(7303);e.exports=function(e){return function(t,r,i){return i&&"number"!=typeof i&&n(t,r,i)&&(r=i=void 0),t=s(t),void 0===r?(r=t,t=0):r=s(r),i=void 0===i?t<r?1:-1:s(i),a(t,r,i,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}},3366:(e,t,r)=>{var a=r(7894),n=r(9057);e.exports=function(e,t){return null!=e&&n(e,t,a)}},3393:function(e,t,r){!function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){s(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function o(e,t){if(null==e)return{};var r,a,n=i(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){return c(e)||d(e,t)||u(e,t)||p()}function c(e){if(Array.isArray(e))return e}function d(e,t){var r=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}}function u(e,t){if(e){if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x,f,y,g,v={exports:{}};function b(){return f?x:(f=1,x="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function j(){if(g)return y;g=1;var e=b();function t(){}function r(){}return r.resetWarningCache=t,y=function(){function a(t,r,a,n,s,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function n(){return a}a.isRequired=a;var s={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s}}v.exports=j()();var w=h(v.exports),N=function(e,r,a){var n=!!a,s=t.useRef(a);t.useEffect(function(){s.current=a},[a]),t.useEffect(function(){if(!n||!e)return function(){};var t=function(){s.current&&s.current.apply(s,arguments)};return e.on(r,t),function(){e.off(r,t)}},[n,r,e,s])},C=function(e){var r=t.useRef(e);return t.useEffect(function(){r.current=e},[e]),r.current},S=function(e){return null!==e&&"object"===n(e)},A=function(e){return S(e)&&"function"===typeof e.then},k=function(e){return S(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},E="[object Object]",P=function e(t,r){if(!S(t)||!S(r))return t===r;var a=Array.isArray(t);if(a!==Array.isArray(r))return!1;var n=Object.prototype.toString.call(t)===E;if(n!==(Object.prototype.toString.call(r)===E))return!1;if(!n&&!a)return t===r;var s=Object.keys(t),i=Object.keys(r);if(s.length!==i.length)return!1;for(var o={},l=0;l<s.length;l+=1)o[s[l]]=!0;for(var c=0;c<i.length;c+=1)o[i[c]]=!0;var d=Object.keys(o);if(d.length!==s.length)return!1;var u=t,m=r,p=function(t){return e(u[t],m[t])};return d.every(p)},O=function(e,t,r){return S(e)?Object.keys(e).reduce(function(n,i){var o=!S(t)||!P(e[i],t[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):o?a(a({},n||{}),{},s({},i,e[i])):n},null):null},T="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;if(null===e||k(e))return e;throw new Error(t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;if(A(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return D(e,t)})};var r=D(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},_=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},M=t.createContext(null);M.displayName="ElementsContext";var I=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},L=function(e){var r=e.stripe,a=e.options,n=e.children,s=t.useMemo(function(){return R(r)},[r]),i=l(t.useState(function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(a):null}}),2),o=i[0],c=i[1];t.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(a)}})};return"async"!==s.tag||o.stripe?"sync"!==s.tag||o.stripe||t(s.stripe):s.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[s,o,a]);var d=C(r);t.useEffect(function(){null!==d&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var u=C(a);return t.useEffect(function(){if(o.elements){var e=O(a,u,["clientSecret","fonts"]);e&&o.elements.update(e)}},[a,u,o.elements]),t.useEffect(function(){_(o.stripe)},[o.stripe]),t.createElement(M.Provider,{value:o},n)};L.propTypes={stripe:w.any,options:w.object};var F=function(e){var r=t.useContext(M);return I(r,e)},q=function(){return F("calls useElements()").elements},z=function(e){return(0,e.children)(F("mounts <ElementsConsumer>"))};z.propTypes={children:w.func.isRequired};var U=["on","session"],B=t.createContext(null);B.displayName="CustomCheckoutSdkContext";var V=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},H=t.createContext(null);H.displayName="CustomCheckoutContext";var W=function(e,t){if(!e)return null;e.on,e.session;var r=o(e,U);return a(a({},r),t||e.session())},G="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Y=function(e){var r=e.stripe,a=e.options,n=e.children,s=t.useMemo(function(){return R(r,G)},[r]),i=l(t.useState(null),2),o=i[0],c=i[1],d=l(t.useState(function(){return{stripe:"sync"===s.tag?s.stripe:null,customCheckoutSdk:null}}),2),u=d[0],m=d[1],p=function(e,t){m(function(r){return r.stripe&&r.customCheckoutSdk?r:{stripe:e,customCheckoutSdk:t}})},h=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==s.tag||u.stripe?"sync"===s.tag&&s.stripe&&!h.current&&(h.current=!0,s.stripe.initCustomCheckout(a).then(function(e){e&&(p(s.stripe,e),e.on("change",c))})):s.stripePromise.then(function(t){t&&e&&!h.current&&(h.current=!0,t.initCustomCheckout(a).then(function(e){e&&(p(t,e),e.on("change",c))}))}),function(){e=!1}},[s,u,a,c]);var x=C(r);t.useEffect(function(){null!==x&&x!==r&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[x,r]);var f=C(a);t.useEffect(function(){var e,t;if(u.customCheckoutSdk){!a.clientSecret||S(f)||P(a.clientSecret,f.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var r=null===f||void 0===f||null===(e=f.elementsOptions)||void 0===e?void 0:e.appearance,n=null===a||void 0===a||null===(t=a.elementsOptions)||void 0===t?void 0:t.appearance;n&&!P(n,r)&&u.customCheckoutSdk.changeAppearance(n)}},[a,f,u.customCheckoutSdk]),t.useEffect(function(){_(u.stripe)},[u.stripe]);var y=t.useMemo(function(){return W(u.customCheckoutSdk,o)},[u.customCheckoutSdk,o]);return u.customCheckoutSdk?t.createElement(B.Provider,{value:u},t.createElement(H.Provider,{value:y},n)):null};Y.propTypes={stripe:w.any,options:w.shape({clientSecret:w.string.isRequired,elementsOptions:w.object}).isRequired};var K=function(e){var r=t.useContext(B);return V(r,e)},$=function(e){var r=t.useContext(B),a=t.useContext(M);if(r&&a)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?V(r,e):I(a,e)},Q=function(){K("calls useCustomCheckout()");var e=t.useContext(H);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},X=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},J=function(e,r){var a="".concat(X(e),"Element"),n=r?function(e){$("mounts <".concat(a,">"));var r=e.id,n=e.className;return t.createElement("div",{id:r,className:n})}:function(r){var n,s=r.id,i=r.className,o=r.options,c=void 0===o?{}:o,d=r.onBlur,u=r.onFocus,m=r.onReady,p=r.onChange,h=r.onEscape,x=r.onClick,f=r.onLoadError,y=r.onLoaderStart,g=r.onNetworksChange,v=r.onConfirm,b=r.onCancel,j=r.onShippingAddressChange,w=r.onShippingRateChange,S=$("mounts <".concat(a,">")),A="elements"in S?S.elements:null,k="customCheckoutSdk"in S?S.customCheckoutSdk:null,E=l(t.useState(null),2),P=E[0],T=E[1],D=t.useRef(null),R=t.useRef(null);N(P,"blur",d),N(P,"focus",u),N(P,"escape",h),N(P,"click",x),N(P,"loaderror",f),N(P,"loaderstart",y),N(P,"networkschange",g),N(P,"confirm",v),N(P,"cancel",b),N(P,"shippingaddresschange",j),N(P,"shippingratechange",w),N(P,"change",p),m&&(n="expressCheckout"===e?m:function(){m(P)}),N(P,"ready",n),t.useLayoutEffect(function(){if(null===D.current&&null!==R.current&&(A||k)){var t=null;k?t=k.createElement(e,c):A&&(t=A.create(e,c)),D.current=t,T(t),t&&t.mount(R.current)}},[A,k,c]);var _=C(c);return t.useEffect(function(){if(D.current){var e=O(c,_,["paymentRequest"]);e&&"update"in D.current&&D.current.update(e)}},[c,_]),t.useLayoutEffect(function(){return function(){if(D.current&&"function"===typeof D.current.destroy)try{D.current.destroy(),D.current=null}catch(e){}}},[]),t.createElement("div",{id:s,className:i,ref:R})};return n.propTypes={id:w.string,className:w.string,onChange:w.func,onBlur:w.func,onFocus:w.func,onReady:w.func,onEscape:w.func,onClick:w.func,onLoadError:w.func,onLoaderStart:w.func,onNetworksChange:w.func,onConfirm:w.func,onCancel:w.func,onShippingAddressChange:w.func,onShippingRateChange:w.func,options:w.object},n.displayName=a,n.__elementType=e,n},Z="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},re="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ae=function(e){var r=e.stripe,a=e.options,n=e.children,s=t.useMemo(function(){return R(r,re)},[r]),i=t.useRef(null),o=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),d=c[0],u=c[1];t.useEffect(function(){if(!o.current&&!i.current){var e=function(e){o.current||i.current||(o.current=e,i.current=o.current.initEmbeddedCheckout(a).then(function(e){u({embeddedCheckout:e})}))};"async"!==s.tag||o.current||!a.clientSecret&&!a.fetchClientSecret?"sync"!==s.tag||o.current||!a.clientSecret&&!a.fetchClientSecret||e(s.stripe):s.stripePromise.then(function(t){t&&e(t)})}},[s,a,d,o]),t.useEffect(function(){return function(){d.embeddedCheckout?(i.current=null,d.embeddedCheckout.destroy()):i.current&&i.current.then(function(){i.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),t.useEffect(function(){_(o)},[o]);var m=C(r);t.useEffect(function(){null!==m&&m!==r&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[m,r]);var p=C(a);return t.useEffect(function(){null!=p&&(null!=a?(void 0===a.clientSecret&&void 0===a.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&a.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&a.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&a.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=p.onShippingDetailsChange&&a.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=p.onLineItemsChange&&a.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[p,a]),t.createElement(ee.Provider,{value:d},n)},ne=function(e){var r=e.id,a=e.className,n=te().embeddedCheckout,s=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect(function(){return!s.current&&n&&null!==i.current&&(n.mount(i.current),s.current=!0),function(){if(s.current&&n)try{n.unmount(),s.current=!1}catch(e){}}},[n]),t.createElement("div",{ref:i,id:r,className:a})},se=function(e){var r=e.id,a=e.className;return te(),t.createElement("div",{id:r,className:a})},ie=Z?se:ne,oe=function(){return $("calls useStripe()").stripe},le=J("auBankAccount",Z),ce=J("card",Z),de=J("cardNumber",Z),ue=J("cardExpiry",Z),me=J("cardCvc",Z),pe=J("fpxBank",Z),he=J("iban",Z),xe=J("idealBank",Z),fe=J("p24Bank",Z),ye=J("epsBank",Z),ge=J("payment",Z),ve=J("expressCheckout",Z),be=J("currencySelector",Z),je=J("paymentRequestButton",Z),we=J("linkAuthentication",Z),Ne=J("address",Z),Ce=J("shippingAddress",Z),Se=J("paymentMethodMessaging",Z),Ae=J("affirmMessage",Z),ke=J("afterpayClearpayMessage",Z);e.AddressElement=Ne,e.AffirmMessageElement=Ae,e.AfterpayClearpayMessageElement=ke,e.AuBankAccountElement=le,e.CardCvcElement=me,e.CardElement=ce,e.CardExpiryElement=ue,e.CardNumberElement=de,e.CurrencySelectorElement=be,e.CustomCheckoutProvider=Y,e.Elements=L,e.ElementsConsumer=z,e.EmbeddedCheckout=ie,e.EmbeddedCheckoutProvider=ae,e.EpsBankElement=ye,e.ExpressCheckoutElement=ve,e.FpxBankElement=pe,e.IbanElement=he,e.IdealBankElement=xe,e.LinkAuthenticationElement=we,e.P24BankElement=fe,e.PaymentElement=ge,e.PaymentMethodMessagingElement=Se,e.PaymentRequestButtonElement=je,e.ShippingAddressElement=Ce,e.useCustomCheckout=Q,e.useElements=q,e.useStripe=oe}(t,r(5043))},3407:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossary [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["definition"],["term"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},3411:(e,t,r)=>{var a=r(149),n=r(9096),s=r(8883),i=r(4052);e.exports=function(e,t){return(i(e)?a:s)(e,n(t,3))}},3440:(e,t,r)=>{var a=r(6552)["__core-js_shared__"];e.exports=a},3517:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-multiselectable":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["treeitem","group"],["treeitem"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},3522:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},3538:(e,t,r)=>{var a=r(755),n=r(3411);e.exports=function(e,t){return a(n(e,t),1)}},3581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(4975))&&a.__esModule?a:{default:a};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var l=[["a",{reserved:!1}],["abbr",{reserved:!1}],["acronym",{reserved:!1}],["address",{reserved:!1}],["applet",{reserved:!1}],["area",{reserved:!1}],["article",{reserved:!1}],["aside",{reserved:!1}],["audio",{reserved:!1}],["b",{reserved:!1}],["base",{reserved:!0}],["bdi",{reserved:!1}],["bdo",{reserved:!1}],["big",{reserved:!1}],["blink",{reserved:!1}],["blockquote",{reserved:!1}],["body",{reserved:!1}],["br",{reserved:!1}],["button",{reserved:!1}],["canvas",{reserved:!1}],["caption",{reserved:!1}],["center",{reserved:!1}],["cite",{reserved:!1}],["code",{reserved:!1}],["col",{reserved:!0}],["colgroup",{reserved:!0}],["content",{reserved:!1}],["data",{reserved:!1}],["datalist",{reserved:!1}],["dd",{reserved:!1}],["del",{reserved:!1}],["details",{reserved:!1}],["dfn",{reserved:!1}],["dialog",{reserved:!1}],["dir",{reserved:!1}],["div",{reserved:!1}],["dl",{reserved:!1}],["dt",{reserved:!1}],["em",{reserved:!1}],["embed",{reserved:!1}],["fieldset",{reserved:!1}],["figcaption",{reserved:!1}],["figure",{reserved:!1}],["font",{reserved:!1}],["footer",{reserved:!1}],["form",{reserved:!1}],["frame",{reserved:!1}],["frameset",{reserved:!1}],["h1",{reserved:!1}],["h2",{reserved:!1}],["h3",{reserved:!1}],["h4",{reserved:!1}],["h5",{reserved:!1}],["h6",{reserved:!1}],["head",{reserved:!0}],["header",{reserved:!1}],["hgroup",{reserved:!1}],["hr",{reserved:!1}],["html",{reserved:!0}],["i",{reserved:!1}],["iframe",{reserved:!1}],["img",{reserved:!1}],["input",{reserved:!1}],["ins",{reserved:!1}],["kbd",{reserved:!1}],["keygen",{reserved:!1}],["label",{reserved:!1}],["legend",{reserved:!1}],["li",{reserved:!1}],["link",{reserved:!0}],["main",{reserved:!1}],["map",{reserved:!1}],["mark",{reserved:!1}],["marquee",{reserved:!1}],["menu",{reserved:!1}],["menuitem",{reserved:!1}],["meta",{reserved:!0}],["meter",{reserved:!1}],["nav",{reserved:!1}],["noembed",{reserved:!0}],["noscript",{reserved:!0}],["object",{reserved:!1}],["ol",{reserved:!1}],["optgroup",{reserved:!1}],["option",{reserved:!1}],["output",{reserved:!1}],["p",{reserved:!1}],["param",{reserved:!0}],["picture",{reserved:!0}],["pre",{reserved:!1}],["progress",{reserved:!1}],["q",{reserved:!1}],["rp",{reserved:!1}],["rt",{reserved:!1}],["rtc",{reserved:!1}],["ruby",{reserved:!1}],["s",{reserved:!1}],["samp",{reserved:!1}],["script",{reserved:!0}],["section",{reserved:!1}],["select",{reserved:!1}],["small",{reserved:!1}],["source",{reserved:!0}],["spacer",{reserved:!1}],["span",{reserved:!1}],["strike",{reserved:!1}],["strong",{reserved:!1}],["style",{reserved:!0}],["sub",{reserved:!1}],["summary",{reserved:!1}],["sup",{reserved:!1}],["table",{reserved:!1}],["tbody",{reserved:!1}],["td",{reserved:!1}],["textarea",{reserved:!1}],["tfoot",{reserved:!1}],["th",{reserved:!1}],["thead",{reserved:!1}],["time",{reserved:!1}],["title",{reserved:!0}],["tr",{reserved:!1}],["track",{reserved:!0}],["tt",{reserved:!1}],["u",{reserved:!1}],["ul",{reserved:!1}],["var",{reserved:!1}],["video",{reserved:!1}],["wbr",{reserved:!1}],["xmp",{reserved:!1}]],c={entries:function(){return l},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}(l);try{for(a.s();!(t=a.n()).done;){var n=s(t.value,2),o=n[0],c=n[1];e.call(r,c,o,l)}}catch(d){a.e(d)}finally{a.f()}},get:function(e){var t=l.find(function(t){return t[0]===e});return t&&t[1]},has:function(e){return!!c.get(e)},keys:function(){return l.map(function(e){return s(e,1)[0]})},values:function(){return l.map(function(e){return s(e,2)[1]})}},d=(0,n.default)(c,c.entries());t.default=d},3668:(e,t,r)=>{var a=r(8902),n=r(2587),s=r(8114);e.exports=function(e,t,r,i,o,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var h=-1,x=!0,f=2&r?new a:void 0;for(l.set(e,t),l.set(t,e);++h<d;){var y=e[h],g=t[h];if(i)var v=c?i(g,y,h,t,e,l):i(y,g,h,e,t,l);if(void 0!==v){if(v)continue;x=!1;break}if(f){if(!n(t,function(e,t){if(!s(f,t)&&(y===e||o(y,e,r,i,l)))return f.push(t)})){x=!1;break}}else if(y!==g&&!o(y,g,r,i,l)){x=!1;break}}return l.delete(e),l.delete(t),x}},3678:(e,t)=>{"use strict";var r=60103,a=60106,n=60107,s=60108,i=60114,o=60109,l=60110,c=60112,d=60113,u=60120,m=60115,p=60116,h=60121,x=60122,f=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var v=Symbol.for;r=v("react.element"),a=v("react.portal"),n=v("react.fragment"),s=v("react.strict_mode"),i=v("react.profiler"),o=v("react.provider"),l=v("react.context"),c=v("react.forward_ref"),d=v("react.suspense"),u=v("react.suspense_list"),m=v("react.memo"),p=v("react.lazy"),h=v("react.block"),x=v("react.server.block"),f=v("react.fundamental"),y=v("react.debug_trace_mode"),g=v("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case n:case i:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case m:case o:return e;default:return t}}case a:return t}}}var j=o,w=r,N=c,C=n,S=p,A=m,k=a,E=i,P=s,O=d;t.ContextConsumer=l,t.ContextProvider=j,t.Element=w,t.ForwardRef=N,t.Fragment=C,t.Lazy=S,t.Memo=A,t.Portal=k,t.Profiler=E,t.StrictMode=P,t.Suspense=O,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===o},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===c},t.isFragment=function(e){return b(e)===n},t.isLazy=function(e){return b(e)===p},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===i},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===n||e===i||e===y||e===s||e===d||e===u||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===o||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===h||e[0]===x)},t.typeOf=b},3693:(e,t,r)=>{var a=r(7736);e.exports=function(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3701:e=>{"use strict";e.exports=Math.abs},3713:(e,t,r)=>{var a=r(6140),n=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return n(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"alt"}],name:"img"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"alt"}],name:"img"},module:"HTML"},{concept:{name:"imggroup"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3781:(e,t,r)=>{var a=r(9417),n=r(8673);e.exports=function(e){for(var t=n(e),r=t.length;r--;){var s=t[r],i=e[s];t[r]=[s,i,a(i)]}return t}},3794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{"aria-atomic":null,"aria-busy":null,"aria-controls":null,"aria-current":null,"aria-describedby":null,"aria-details":null,"aria-dropeffect":null,"aria-flowto":null,"aria-grabbed":null,"aria-hidden":null,"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-live":null,"aria-owns":null,"aria-relevant":null,"aria-roledescription":null},relatedConcepts:[{concept:{name:"rel"},module:"HTML"},{concept:{name:"role"},module:"XHTML"},{concept:{name:"type"},module:"Dublin Core"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=r},3799:(e,t,r)=>{"use strict";var a=r(7974);e.exports=function(){return"function"===typeof Object.is?Object.is:a}},3858:(e,t,r)=>{"use strict";t.Ot=t.wZ=t._s=void 0;var a=l(r(2049)),n=l(r(3606)),s=l(r(9253)),i=l(r(6558)),o=l(r(241));function l(e){return e&&e.__esModule?e:{default:e}}a.default,n.default;var c=s.default;t.Ot=c;var d=i.default;t._s=d;var u=o.default;t.wZ=u},3863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=Te(r(4043)),n=Te(r(5259)),s=Te(r(8811)),i=Te(r(1235)),o=Te(r(1315)),l=Te(r(3754)),c=Te(r(4585)),d=Te(r(2167)),u=Te(r(8449)),m=Te(r(1644)),p=Te(r(4876)),h=Te(r(6270)),x=Te(r(9102)),f=Te(r(5343)),y=Te(r(7436)),g=Te(r(4960)),v=Te(r(7311)),b=Te(r(833)),j=Te(r(1322)),w=Te(r(5532)),N=Te(r(7331)),C=Te(r(9625)),S=Te(r(5309)),A=Te(r(3023)),k=Te(r(6488)),E=Te(r(9049)),P=Te(r(8937)),O=Te(r(9214)),T=Te(r(2423)),D=Te(r(3778)),R=Te(r(588)),_=Te(r(7913)),M=Te(r(8477)),I=Te(r(2056)),L=Te(r(1014)),F=Te(r(979)),q=Te(r(9912)),z=Te(r(5297)),U=Te(r(5539)),B=Te(r(2478)),V=Te(r(5321)),H=Te(r(1765)),W=Te(r(8624)),G=Te(r(6630)),Y=Te(r(7824)),K=Te(r(6899)),$=Te(r(8387)),Q=Te(r(285)),X=Te(r(4596)),J=Te(r(3275)),Z=Te(r(7138)),ee=Te(r(4145)),te=Te(r(8746)),re=Te(r(7427)),ae=Te(r(2557)),ne=Te(r(5453)),se=Te(r(10)),ie=Te(r(3324)),oe=Te(r(7327)),le=Te(r(9833)),ce=Te(r(2644)),de=Te(r(8286)),ue=Te(r(6972)),me=Te(r(5361)),pe=Te(r(2279)),he=Te(r(9662)),xe=Te(r(1744)),fe=Te(r(3581)),ye=Te(r(5929)),ge=Te(r(3114)),ve=Te(r(5813)),be=Te(r(3894)),je=Te(r(9914)),we=Te(r(5171)),Ne=Te(r(9173)),Ce=Te(r(9200)),Se=Te(r(6960)),Ae=Te(r(9890)),ke=Te(r(7970)),Ee=Te(r(3517)),Pe=Te(r(9685)),Oe=Te(r(4070));function Te(e){return e&&e.__esModule?e:{default:e}}var De=[["alert",a.default],["alertdialog",n.default],["application",s.default],["article",i.default],["banner",o.default],["blockquote",l.default],["button",c.default],["caption",d.default],["cell",u.default],["checkbox",m.default],["code",p.default],["columnheader",h.default],["combobox",x.default],["complementary",f.default],["contentinfo",y.default],["definition",g.default],["deletion",v.default],["dialog",b.default],["directory",j.default],["document",w.default],["emphasis",N.default],["feed",C.default],["figure",S.default],["form",A.default],["generic",k.default],["grid",E.default],["gridcell",P.default],["group",O.default],["heading",T.default],["img",D.default],["insertion",R.default],["link",_.default],["list",M.default],["listbox",I.default],["listitem",L.default],["log",F.default],["main",q.default],["marquee",z.default],["math",U.default],["menu",B.default],["menubar",V.default],["menuitem",H.default],["menuitemcheckbox",W.default],["menuitemradio",G.default],["meter",Y.default],["navigation",K.default],["none",$.default],["note",Q.default],["option",X.default],["paragraph",J.default],["presentation",Z.default],["progressbar",ee.default],["radio",te.default],["radiogroup",re.default],["region",ae.default],["row",ne.default],["rowgroup",se.default],["rowheader",ie.default],["scrollbar",oe.default],["search",le.default],["searchbox",ce.default],["separator",de.default],["slider",ue.default],["spinbutton",me.default],["status",pe.default],["strong",he.default],["subscript",xe.default],["superscript",fe.default],["switch",ye.default],["tab",ge.default],["table",ve.default],["tablist",be.default],["tabpanel",je.default],["term",we.default],["textbox",Ne.default],["time",Ce.default],["timer",Se.default],["toolbar",Ae.default],["tooltip",ke.default],["tree",Ee.default],["treegrid",Pe.default],["treeitem",Oe.default]];t.default=De},3864:(e,t,r)=>{"use strict";var a=r(7724);e.exports=Function.prototype.bind||a},3871:e=>{e.exports=function(e,t,r){var a=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++a<n;)s[a]=e[a+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-multiselectable":null,"aria-orientation":"horizontal"},relatedConcepts:[{module:"DAISY",concept:{name:"guide"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["tab"]],requiredProps:{},superClass:[["roletype","widget","composite"]]};t.default=r},3913:(e,t,r)=>{"use strict";var a=r(8117),n=a("Date.prototype.getDay"),s=a("Object.prototype.toString"),i=r(4635)();e.exports=function(e){return"object"===typeof e&&null!==e&&(i?function(e){try{return n(e),!0}catch(t){return!1}}(e):"[object Date]"===s(e))}},3932:(e,t,r)=>{var a=r(396),n=r(2866),s=r(2597),i=r(914);e.exports=function(e){return s(e)?a(i(e)):n(e)}},3950:(e,t,r)=>{var a=r(6686),n=r(4757),s=r(801),i=Math.max,o=Math.min;e.exports=function(e,t,r){var l,c,d,u,m,p,h=0,x=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=l,a=c;return l=c=void 0,h=t,u=e.apply(a,r)}function v(e){var r=e-p;return void 0===p||r>=t||r<0||f&&e-h>=d}function b(){var e=n();if(v(e))return j(e);m=setTimeout(b,function(e){var r=t-(e-p);return f?o(r,d-(e-h)):r}(e))}function j(e){return m=void 0,y&&l?g(e):(l=c=void 0,u)}function w(){var e=n(),r=v(e);if(l=arguments,c=this,p=e,r){if(void 0===m)return function(e){return h=e,m=setTimeout(b,t),x?g(e):u}(p);if(f)return clearTimeout(m),m=setTimeout(b,t),g(p)}return void 0===m&&(m=setTimeout(b,t)),u}return t=s(t)||0,a(r)&&(x=!!r.leading,d=(f="maxWait"in r)?i(s(r.maxWait)||0,t):d,y="trailing"in r?!!r.trailing:y),w.cancel=function(){void 0!==m&&clearTimeout(m),h=0,l=p=c=m=void 0},w.flush=function(){return void 0===m?u:j(n())},w}},3986:(e,t,r)=>{"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.d(t,{A:()=>a})},4020:e=>{e.exports=function(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}},4043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"assertive"},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[],requireContextRole:["group","tree"],requiredContextRole:["group","tree"],requiredOwnedElements:[],requiredProps:{"aria-selected":null},superClass:[["roletype","structure","section","listitem"],["roletype","widget","input","option"]]};t.default=r},4079:(e,t,r)=>{var a=r(8259),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=a(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,r,a,n){t.push(a?n.replace(s,"$1"):r||e)}),t});e.exports=i},4107:(e,t,r)=>{"use strict";var a=r(8117),n=a("Object.prototype.toString"),s=r(2108)(),i=r(66);if(s){var o=a("Symbol.prototype.toString"),l=i(/^Symbol\(.*\)$/);e.exports=function(e){if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||"[object Symbol]"!==n(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&l(o(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},4145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null},relatedConcepts:[{concept:{name:"progress"},module:"HTML"},{concept:{name:"status"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=r},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}},4190:(e,t,r)=>{var a=r(1340);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},4198:(e,t,r)=>{"use strict";r.d(t,{E:()=>N});var a=r(8168),n=r(8870);function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}var o=r(1991),l=r(75),c=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,r=e||function(){};return this.listeners.push(r),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==r}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),d=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!n.S$&&(null==(t=window)?void 0:t.addEventListener)){var r=function(){return e()};return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),function(){window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}},t}i(t,e);var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},r.setEventListener=function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?r.setFocused(e):r.onFocus()})},r.setFocused=function(e){this.focused=e,e&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(e){e()})},r.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(c)),u=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!n.S$&&(null==(t=window)?void 0:t.addEventListener)){var r=function(){return e()};return window.addEventListener("online",r,!1),window.addEventListener("offline",r,!1),function(){window.removeEventListener("online",r),window.removeEventListener("offline",r)}}},t}i(t,e);var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},r.setEventListener=function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?r.setOnline(e):r.onOnline()})},r.setOnline=function(e){this.online=e,e&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(e){e()})},r.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(c));function m(e){return Math.min(1e3*Math.pow(2,e),3e4)}function p(e){return"function"===typeof(null==e?void 0:e.cancel)}var h=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function x(e){return e instanceof h}var f=function(e){var t,r,a,s,i=this,o=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){o=!0},this.continueRetry=function(){o=!1},this.continue=function(){return null==r?void 0:r()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){a=e,s=t});var l=function(t){i.isResolved||(i.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==r||r(),a(t))},c=function(t){i.isResolved||(i.isResolved=!0,null==e.onError||e.onError(t),null==r||r(),s(t))};!function a(){if(!i.isResolved){var s;try{s=e.fn()}catch(x){s=Promise.reject(x)}t=function(e){if(!i.isResolved&&(c(new h(e)),null==i.abort||i.abort(),p(s)))try{s.cancel()}catch(t){}},i.isTransportCancelable=p(s),Promise.resolve(s).then(l).catch(function(t){var s,l;if(!i.isResolved){var p=null!=(s=e.retry)?s:3,h=null!=(l=e.retryDelay)?l:m,x="function"===typeof h?h(i.failureCount,t):h,f=!0===p||"number"===typeof p&&i.failureCount<p||"function"===typeof p&&p(i.failureCount,t);!o&&f?(i.failureCount++,null==e.onFail||e.onFail(i.failureCount,t),(0,n.yy)(x).then(function(){if(!d.isFocused()||!u.isOnline())return new Promise(function(t){r=t,i.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){r=void 0,i.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){o?c(t):a()})):c(t)}})}}()},y=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,a.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,n.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var r,a,s=this.state.data,i=(0,n.Zw)(e,s);return(null==(r=(a=this.options).isDataEqual)?void 0:r.call(a,s,i))?i=s:!1!==this.options.structuralSharing&&(i=(0,n.BH)(s,i)),this.dispatch({data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),i},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(n.lQ).catch(n.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,n.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var r,a,s,i=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var c=this.observers.find(function(e){return e.options.queryFn});c&&this.setOptions(c.options)}var d=(0,n.HN)(this.queryKey),u=(0,n.jY)(),m={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(u)return i.abortSignalConsumed=!0,u.signal}});var p,h,y={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(r=this.options.behavior)?void 0:r.onFetch)&&(null==(p=this.options.behavior)||p.onFetch(y));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(a=y.fetchOptions)?void 0:a.meta))||this.dispatch({type:"fetch",meta:null==(h=y.fetchOptions)?void 0:h.meta});return this.retryer=new f({fn:y.fetchFn,abort:null==u||null==(s=u.abort)?void 0:s.bind(u),onSuccess:function(e){i.setData(e),null==i.cache.config.onSuccess||i.cache.config.onSuccess(e,i),0===i.cacheTime&&i.optionalRemove()},onError:function(e){x(e)&&e.silent||i.dispatch({type:"error",error:e}),x(e)||(null==i.cache.config.onError||i.cache.config.onError(e,i),(0,l.t)().error(e)),0===i.cacheTime&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),o.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,r="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,a="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(e,t){var r,n;switch(t.type){case"failed":return(0,a.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,a.A)({},e,{isPaused:!0});case"continue":return(0,a.A)({},e,{isPaused:!1});case"fetch":return(0,a.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(r=t.meta)?r:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,a.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(n=t.dataUpdatedAt)?n:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=t.error;return x(s)&&s.revert&&this.revertState?(0,a.A)({},this.revertState):(0,a.A)({},e,{error:s,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,a.A)({},e,{isInvalidated:!0});case"setState":return(0,a.A)({},e,t.state);default:return e}},e}(),g=function(e){function t(t){var r;return(r=e.call(this)||this).config=t||{},r.queries=[],r.queriesMap={},r}i(t,e);var r=t.prototype;return r.build=function(e,t,r){var a,s=t.queryKey,i=null!=(a=t.queryHash)?a:(0,n.F$)(s,t),o=this.get(i);return o||(o=new y({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(o)),o},r.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},r.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},r.clear=function(){var e=this;o.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},r.get=function(e){return this.queriesMap[e]},r.getAll=function(){return this.queries},r.find=function(e,t){var r=(0,n.b_)(e,t)[0];return"undefined"===typeof r.exact&&(r.exact=!0),this.queries.find(function(e){return(0,n.MK)(r,e)})},r.findAll=function(e,t){var r=(0,n.b_)(e,t)[0];return Object.keys(r).length>0?this.queries.filter(function(e){return(0,n.MK)(r,e)}):this.queries},r.notify=function(e){var t=this;o.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},r.onFocus=function(){var e=this;o.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},r.onOnline=function(){var e=this;o.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(c),v=function(){function e(e){this.options=(0,a.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(n.lQ).catch(n.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,r="loading"===this.state.status,a=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),a.then(function(){return t.executeMutation()}).then(function(r){e=r,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,l.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new f({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,a.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,a.A)({},e,{isPaused:!0});case"continue":return(0,a.A)({},e,{isPaused:!1});case"loading":return(0,a.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,a.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,a.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,a.A)({},e,t.state);default:return e}}(this.state,e),o.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var b=function(e){function t(t){var r;return(r=e.call(this)||this).config=t||{},r.mutations=[],r.mutationId=0,r}i(t,e);var r=t.prototype;return r.build=function(e,t,r){var a=new v({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(a),a},r.add=function(e){this.mutations.push(e),this.notify(e)},r.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},r.clear=function(){var e=this;o.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},r.getAll=function(){return this.mutations},r.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,n.nJ)(e,t)})},r.findAll=function(e){return this.mutations.filter(function(t){return(0,n.nJ)(e,t)})},r.notify=function(e){var t=this;o.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return o.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(n.lQ)})},Promise.resolve())})},t}(c);function j(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function w(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var N=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new g,this.mutationCache=e.mutationCache||new b,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=d.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=u.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var r=(0,n.b_)(e,t)[0];return r.fetching=!0,this.queryCache.findAll(r).length},t.isMutating=function(e){return this.mutationCache.findAll((0,a.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,r){var a=(0,n.vh)(e),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(t,r)},t.setQueriesData=function(e,t,r){var a=this;return o.j.batch(function(){return a.getQueryCache().findAll(e).map(function(e){var n=e.queryKey;return[n,a.setQueryData(n,t,r)]})})},t.getQueryState=function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state},t.removeQueries=function(e,t){var r=(0,n.b_)(e,t)[0],a=this.queryCache;o.j.batch(function(){a.findAll(r).forEach(function(e){a.remove(e)})})},t.resetQueries=function(e,t,r){var s=this,i=(0,n.b_)(e,t,r),l=i[0],c=i[1],d=this.queryCache,u=(0,a.A)({},l,{active:!0});return o.j.batch(function(){return d.findAll(l).forEach(function(e){e.reset()}),s.refetchQueries(u,c)})},t.cancelQueries=function(e,t,r){var a=this,s=(0,n.b_)(e,t,r),i=s[0],l=s[1],c=void 0===l?{}:l;"undefined"===typeof c.revert&&(c.revert=!0);var d=o.j.batch(function(){return a.queryCache.findAll(i).map(function(e){return e.cancel(c)})});return Promise.all(d).then(n.lQ).catch(n.lQ)},t.invalidateQueries=function(e,t,r){var s,i,l,c=this,d=(0,n.b_)(e,t,r),u=d[0],m=d[1],p=(0,a.A)({},u,{active:null==(s=null!=(i=u.refetchActive)?i:u.active)||s,inactive:null!=(l=u.refetchInactive)&&l});return o.j.batch(function(){return c.queryCache.findAll(u).forEach(function(e){e.invalidate()}),c.refetchQueries(p,m)})},t.refetchQueries=function(e,t,r){var s=this,i=(0,n.b_)(e,t,r),l=i[0],c=i[1],d=o.j.batch(function(){return s.queryCache.findAll(l).map(function(e){return e.fetch(void 0,(0,a.A)({},c,{meta:{refetchPage:null==l?void 0:l.refetchPage}}))})}),u=Promise.all(d).then(n.lQ);return(null==c?void 0:c.throwOnError)||(u=u.catch(n.lQ)),u},t.fetchQuery=function(e,t,r){var a=(0,n.vh)(e,t,r),s=this.defaultQueryOptions(a);"undefined"===typeof s.retry&&(s.retry=!1);var i=this.queryCache.build(this,s);return i.isStaleByTime(s.staleTime)?i.fetch(s):Promise.resolve(i.state.data)},t.prefetchQuery=function(e,t,r){return this.fetchQuery(e,t,r).then(n.lQ).catch(n.lQ)},t.fetchInfiniteQuery=function(e,t,r){var a=(0,n.vh)(e,t,r);return a.behavior={onFetch:function(e){e.fetchFn=function(){var t,r,a,s,i,o,l,c=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,d=null==(a=e.fetchOptions)||null==(s=a.meta)?void 0:s.fetchMore,u=null==d?void 0:d.pageParam,m="forward"===(null==d?void 0:d.direction),h="backward"===(null==d?void 0:d.direction),x=(null==(i=e.state.data)?void 0:i.pages)||[],f=(null==(o=e.state.data)?void 0:o.pageParams)||[],y=(0,n.jY)(),g=null==y?void 0:y.signal,v=f,b=!1,N=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(e,t,r,a){return v=a?[t].concat(v):[].concat(v,[t]),a?[r].concat(e):[].concat(e,[r])},S=function(t,r,a,n){if(b)return Promise.reject("Cancelled");if("undefined"===typeof a&&!r&&t.length)return Promise.resolve(t);var s={queryKey:e.queryKey,signal:g,pageParam:a,meta:e.meta},i=N(s),o=Promise.resolve(i).then(function(e){return C(t,a,e,n)});return p(i)&&(o.cancel=i.cancel),o};if(x.length)if(m){var A="undefined"!==typeof u,k=A?u:j(e.options,x);l=S(x,A,k)}else if(h){var E="undefined"!==typeof u,P=E?u:w(e.options,x);l=S(x,E,P,!0)}else!function(){v=[];var t="undefined"===typeof e.options.getNextPageParam,r=!c||!x[0]||c(x[0],0,x);l=r?S([],t,f[0]):Promise.resolve(C([],f[0],x[0]));for(var a=function(r){l=l.then(function(a){if(!c||!x[r]||c(x[r],r,x)){var n=t?f[r]:j(e.options,a);return S(a,t,n)}return Promise.resolve(C(a,f[r],x[r]))})},n=1;n<x.length;n++)a(n)}();else l=S([]);var O=l.then(function(e){return{pages:e,pageParams:v}});return O.cancel=function(){b=!0,null==y||y.abort(),p(l)&&l.cancel()},O}}},this.fetchQuery(a)},t.prefetchInfiniteQuery=function(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(n.lQ).catch(n.lQ)},t.cancelMutations=function(){var e=this,t=o.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(n.lQ).catch(n.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var r=this.queryDefaults.find(function(t){return(0,n.Od)(e)===(0,n.Od)(t.queryKey)});r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,n.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var r=this.mutationDefaults.find(function(t){return(0,n.Od)(e)===(0,n.Od)(t.mutationKey)});r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,n.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,a.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,n.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,a.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function y(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}function g(){}function v(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=v.prototype=new g;b.constructor=v,x(b,y.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var n,s={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!C.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:N.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,n,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,j(i)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),P(i,t,n,"",function(e){return e})):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);l+=P(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,n,d=s+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,r){if(null==e)return e;var a=[],n=0;return P(e,a,"","",function(e){return t.call(r,e,n++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},_={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=n,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=M,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=x({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var a=r(5906)();e.exports=a},4262:(e,t,r)=>{var a=r(8895),n=r(4052);e.exports=function(e,t,r){var s=t(e);return n(e)?s:a(s,r(e))}},4298:()=>{},4384:(e,t,r)=>{"use strict";var a=Function.prototype.call,n=Object.prototype.hasOwnProperty,s=r(3864);e.exports=s.call(a,n)},4391:(e,t,r)=>{"use strict";var a=r(7950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},4416:(e,t,r)=>{var a=r(8902),n=r(5866),s=r(1558),i=r(8114),o=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,d=n,u=e.length,m=!0,p=[],h=p;if(r)m=!1,d=s;else if(u>=200){var x=t?null:o(e);if(x)return l(x);m=!1,d=i,h=new a}else h=t?[]:p;e:for(;++c<u;){var f=e[c],y=t?t(f):f;if(f=r||0!==f?f:0,m&&y===y){for(var g=h.length;g--;)if(h[g]===y)continue e;t&&h.push(y),p.push(f)}else d(h,y,r)||(h!==p&&h.push(y),p.push(f))}return p}},4543:(e,t,r)=>{e=r.nmd(e);var a=r(6552),n=r(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;e.exports=l},4545:(e,t,r)=>{var a=r(7160);e.exports=function(){this.__data__=new a,this.size=0}},4552:(e,t,r)=>{var a=r(9812),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,o=a?a.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var a=!0}catch(l){}var n=i.call(e);return a&&(t?e[o]=r:delete e[o]),n}},4575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),c=new t(512);function d(e){return o.get(e)||o.set(e,u(e).map(function(e){return e.replace(i,"$2")}))}function u(e){return e.match(r)||[""]}function m(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!m(e)&&(function(e){return e.match(n)&&!e.match(a)}(e)||function(e){return s.test(e)}(e))}e.exports={Cache:t,split:u,normalizePath:d,setter:function(e){var t=d(e);return l.get(e)||l.set(e,function(e,r){for(var a=0,n=t.length,s=e;a<n-1;){var i=t[a];if("__proto__"===i||"constructor"===i||"prototype"===i)return e;s=s[t[a++]]}s[t[a]]=r})},getter:function(e,t){var r=d(e);return c.get(e)||c.set(e,function(e){for(var a=0,n=r.length;a<n;){if(null==e&&t)return;e=e[r[a++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(m(t)||a.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,r){!function(e,t,r){var a,n,s,i,o=e.length;for(n=0;n<o;n++)(a=e[n])&&(p(a)&&(a='"'+a+'"'),s=!(i=m(a))&&/^\d+$/.test(a),t.call(r,a,i,s,n,e))}(Array.isArray(e)?e:u(e),t,r)}}},4585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-pressed":null},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-pressed"},{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"false"}],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"true"}],constraints:["direct descendant of details element with the open attribute defined"],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"type",value:"button"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"image"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"reset"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"submit"}],name:"input"},module:"HTML"},{concept:{name:"button"},module:"HTML"},{concept:{name:"trigger"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},4590:e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},4591:e=>{"use strict";e.exports=Math.max},4596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[{concept:{name:"item"},module:"XForms"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"option"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-selected":"false"},superClass:[["roletype","widget","input"]]};t.default=r},4597:(e,t,r)=>{var a=r(2587),n=r(9096),s=r(2165),i=r(4052),o=r(929);e.exports=function(e,t,r){var l=i(e)?a:s;return r&&o(e,t,r)&&(t=void 0),l(e,n(t,3))}},4635:(e,t,r)=>{"use strict";var a=r(9534);e.exports=function(){return a()&&!!Symbol.toStringTag}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var a=r(4258),n=r(8673);e.exports=function(e,t){return e&&a(e,t,n)}},4696:(e,t,r)=>{"use strict";var a=r(1787),n=r(869),s=r(2735),i=r(6641);e.exports=function(e){if(e&&"object"===typeof e){if(a(e))return"Map";if(n(e))return"Set";if(s(e))return"WeakMap";if(i(e))return"WeakSet"}return!1}},4705:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>s})},4717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},4746:(e,t,r)=>{var a=r(5652);e.exports=function(e,t){var r=!0;return a(e,function(e,a,n){return r=!!t(e,a,n)}),r}},4757:(e,t,r)=>{var a=r(6552);e.exports=function(){return a.Date.now()}},4781:(e,t,r)=>{"use strict";var a=r(3864),n=r(4902),s=r(4937),i=r(5747);e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new n("a function is required");return i(a,s,e)}},4816:(e,t,r)=>{var a=r(7251),n=r(7159),s=r(438),i=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},4842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=B(r(6081)),n=B(r(2497)),s=B(r(5153)),i=B(r(158)),o=B(r(9064)),l=B(r(5138)),c=B(r(8199)),d=B(r(5656)),u=B(r(5218)),m=B(r(1581)),p=B(r(6744)),h=B(r(1172)),x=B(r(2482)),f=B(r(669)),y=B(r(9185)),g=B(r(1986)),v=B(r(7149)),b=B(r(2119)),j=B(r(5907)),w=B(r(9030)),N=B(r(6305)),C=B(r(2327)),S=B(r(9637)),A=B(r(3407)),k=B(r(5236)),E=B(r(1795)),P=B(r(723)),O=B(r(7502)),T=B(r(6627)),D=B(r(1449)),R=B(r(2924)),_=B(r(8818)),M=B(r(4919)),I=B(r(9810)),L=B(r(7406)),F=B(r(2397)),q=B(r(7731)),z=B(r(9106)),U=B(r(7678));function B(e){return e&&e.__esModule?e:{default:e}}var V=[["doc-abstract",a.default],["doc-acknowledgments",n.default],["doc-afterword",s.default],["doc-appendix",i.default],["doc-backlink",o.default],["doc-biblioentry",l.default],["doc-bibliography",c.default],["doc-biblioref",d.default],["doc-chapter",u.default],["doc-colophon",m.default],["doc-conclusion",p.default],["doc-cover",h.default],["doc-credit",x.default],["doc-credits",f.default],["doc-dedication",y.default],["doc-endnote",g.default],["doc-endnotes",v.default],["doc-epigraph",b.default],["doc-epilogue",j.default],["doc-errata",w.default],["doc-example",N.default],["doc-footnote",C.default],["doc-foreword",S.default],["doc-glossary",A.default],["doc-glossref",k.default],["doc-index",E.default],["doc-introduction",P.default],["doc-noteref",O.default],["doc-notice",T.default],["doc-pagebreak",D.default],["doc-pagelist",R.default],["doc-part",_.default],["doc-preface",M.default],["doc-prologue",I.default],["doc-pullquote",L.default],["doc-qna",F.default],["doc-subtitle",q.default],["doc-tip",z.default],["doc-toc",U.default]];t.default=V},4876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},4902:e=>{"use strict";e.exports=TypeError},4919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"preface [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},4937:e=>{"use strict";e.exports=Function.prototype.call},4938:e=>{"use strict";e.exports=SyntaxError},4960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dd"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},4975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){"function"===typeof Symbol&&"symbol"===s(Symbol.iterator)&&Object.defineProperty(e,Symbol.iterator,{value:n.default.bind(t)});return e};var a,n=(a=r(7137))&&a.__esModule?a:{default:a};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}},4992:(e,t,r)=>{"use strict";var a=r(2090),n=r(4938),s=r(4902),i=r(5558);e.exports=function(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],u=!!i&&i(e,t);if(a)a(e,t,{configurable:null===c&&u?u.configurable:!c,enumerable:null===o&&u?u.enumerable:!o,value:r,writable:null===l&&u?u.writable:!l});else{if(!d&&(o||l||c))throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},5029:(e,t,r)=>{var a=r(6989),n=r(3097),s=r(3366),i=r(2597),o=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return i(e)&&o(t)?l(c(e),t):function(r){var i=n(r,e);return void 0===i&&i===t?s(r,e):a(t,i,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5061:e=>{"use strict";e.exports=Function.prototype.apply},5077:e=>{"use strict";e.exports=ReferenceError},5138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"EPUB biblioentry [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-bibliography"],requiredContextRole:["doc-bibliography"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=r},5153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"afterword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=r(7938),n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),s=n["jest-symbol-do-not-touch"]||n.Symbol;const i="function"===typeof s&&s.for?s.for("jest.asymmetricMatcher"):1267621,o=" ",l=(e,t,r,n,s,i)=>{const l=e.toString();return"ArrayContaining"===l||"ArrayNotContaining"===l?++n>t.maxDepth?"["+l+"]":l+o+"["+(0,a.printListItems)(e.sample,t,r,n,s,i)+"]":"ObjectContaining"===l||"ObjectNotContaining"===l?++n>t.maxDepth?"["+l+"]":l+o+"{"+(0,a.printObjectProperties)(e.sample,t,r,n,s,i)+"}":"StringMatching"===l||"StringNotMatching"===l||"StringContaining"===l||"StringNotContaining"===l?l+o+i(e.sample,t,r,n,s):e.toAsymmetricMatcher()};t.serialize=l;const c=e=>e&&e.$$typeof===i;t.test=c;var d={serialize:l,test:c};t.default=d},5171:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dfn"},module:"HTML"},{concept:{name:"dt"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return n(e)&&"[object Arguments]"==a(e)}},5204:(e,t,r)=>{var a=r(7937)(r(6552),"Map");e.exports=a},5218:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"chapter [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},5259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","alert"],["roletype","window","dialog"]]};t.default=r},5268:(e,t,r)=>{var a=r(9160);e.exports=function(e){return a(e)&&e!=+e}},5289:(e,t,r)=>{"use strict";var a=r(3799),n=r(1779);e.exports=function(){var e=a();return n(Object,{is:e},{is:function(){return Object.is!==e}}),e}},5295:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}},5297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"figure"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"toolbar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select","menu"],["roletype","structure","section","group","select","menu"]]};t.default=r},5322:(e,t,r)=>{"use strict";var a=r(2),n=r(8117),s=r(8206),i=r(7858),o=r(4902),l=a("%WeakMap%",!0),c=n("WeakMap.prototype.get",!0),d=n("WeakMap.prototype.set",!0),u=n("WeakMap.prototype.has",!0),m=n("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new o("Side channel does not contain "+s(e))},delete:function(r){if(l&&r&&("object"===typeof r||"function"===typeof r)){if(e)return m(e,r)}else if(i&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"===typeof r||"function"===typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"===typeof r||"function"===typeof r)&&e?u(e,r):!!t&&t.has(r)},set:function(r,a){l&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new l),d(e,r,a)):i&&(t||(t=i()),t.set(r,a))}};return r}:i},5324:(e,t,r)=>{var a=r(4052),n=r(2597),s=r(4079),i=r(1069);e.exports=function(e,t){return a(e)?e:n(e,t)?[e]:s(i(e))}},5343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"aside"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5349:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},5361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-valuetext":null,"aria-valuenow":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"number"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","widget","input"],["roletype","structure","range"]]};t.default=r},5387:(e,t,r)=>{var a=r(7937)(r(6552),"Promise");e.exports=a},5428:(e,t,r)=>{var a=r(6913),n=r(6173),s=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!i[a(e)]}},5438:(e,t,r)=>{"use strict";var a=r(2),n=r(4992),s=r(2101)(),i=r(5558),o=r(4902),l=a("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new o("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||l(t)!==t)throw new o("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],a=!0,c=!0;if("length"in e&&i){var d=i(e,"length");d&&!d.configurable&&(a=!1),d&&!d.writable&&(c=!1)}return(a||c||!r)&&(s?n(e,"length",t,!0,!0):n(e,"length",t)),e}},5453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-expanded":null,"aria-level":null,"aria-posinset":null,"aria-rowindex":null,"aria-selected":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"tr"},module:"HTML"}],requireContextRole:["grid","rowgroup","table","treegrid"],requiredContextRole:["grid","rowgroup","table","treegrid"],requiredOwnedElements:[["cell"],["columnheader"],["gridcell"],["rowheader"]],requiredProps:{},superClass:[["roletype","structure","section","group"],["roletype","widget"]]};t.default=r},5532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}},{concept:{name:"body"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},5538:(e,t,r)=>{var a=r(7160),n=r(4545),s=r(793),i=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},5539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"math"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5558:(e,t,r)=>{"use strict";var a=r(8258);if(a)try{a([],"length")}catch(n){a=null}e.exports=a},5575:(e,t,r)=>{var a=r(7937)(Object,"create");e.exports=a},5590:(e,t,r)=>{"use strict";var a=r(2678),n=r(9534)(),s=r(8117),i=r(1251),o=s("Array.prototype.push"),l=s("Object.prototype.propertyIsEnumerable"),c=n?i.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=i(e);if(1===arguments.length)return r;for(var s=1;s<arguments.length;++s){var d=i(arguments[s]),u=a(d),m=n&&(i.getOwnPropertySymbols||c);if(m)for(var p=m(d),h=0;h<p.length;++h){var x=p[h];l(d,x)&&o(u,x)}for(var f=0;f<u.length;++f){var y=u[f];if(l(d,y)){var g=d[y];r[y]=g}}}return r}},5636:(e,t,r)=>{var a=r(1170),n=Math.max;e.exports=function(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,o=n(s.length-t,0),l=Array(o);++i<o;)l[i]=s[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=s[i];return c[t]=r(l),a(e,this,c)}}},5638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printText=t.printProps=t.printElementAsLeaf=t.printElement=t.printComment=t.printChildren=void 0;var a,n=(a=r(2672))&&a.__esModule?a:{default:a};t.printProps=(e,t,r,a,n,s,i)=>{const o=a+r.indent,l=r.colors;return e.map(e=>{const c=t[e];let d=i(c,r,o,n,s);return"string"!==typeof c&&(-1!==d.indexOf("\n")&&(d=r.spacingOuter+o+d+r.spacingOuter+a),d="{"+d+"}"),r.spacingInner+a+l.prop.open+e+l.prop.close+"="+l.value.open+d+l.value.close}).join("")};t.printChildren=(e,t,r,a,n,i)=>e.map(e=>t.spacingOuter+r+("string"===typeof e?s(e,t):i(e,t,r,a,n))).join("");const s=(e,t)=>{const r=t.colors.content;return r.open+(0,n.default)(e)+r.close};t.printText=s;t.printComment=(e,t)=>{const r=t.colors.comment;return r.open+"\x3c!--"+(0,n.default)(e)+"--\x3e"+r.close};t.printElement=(e,t,r,a,n)=>{const s=a.colors.tag;return s.open+"<"+e+(t&&s.close+t+a.spacingOuter+n+s.open)+(r?">"+s.close+r+a.spacingOuter+n+s.open+"</"+e:(t&&!a.min?"":" ")+"/")+">"+s.close};t.printElementAsLeaf=(e,t)=>{const r=t.colors.tag;return r.open+"<"+e+r.close+" \u2026"+r.open+" />"+r.close}},5647:(e,t,r)=>{var a=r(3279),n=r(5636),s=r(6350);e.exports=function(e,t){return s(n(e,t,a),e+"")}},5652:(e,t,r)=>{var a=r(4664),n=r(6516)(a);e.exports=n},5654:(e,t,r)=>{var a=r(7937),n=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=n},5656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"biblioref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},5713:e=>{e.exports=function(){}},5747:(e,t,r)=>{"use strict";var a=r(3864),n=r(5061),s=r(4937),i=r(4590);e.exports=i||a.call(s,n)},5752:(e,t,r)=>{var a=r(9395),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,i,o){var l=1&r,c=a(e),d=c.length;if(d!=a(t).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in t:n.call(t,m)))return!1}var p=o.get(e),h=o.get(t);if(p&&h)return p==t&&h==e;var x=!0;o.set(e,t),o.set(t,e);for(var f=l;++u<d;){var y=e[m=c[u]],g=t[m];if(s)var v=l?s(g,y,m,t,e,o):s(y,g,m,e,t,o);if(!(void 0===v?y===g||i(y,g,r,s,o):v)){x=!1;break}f||(f="constructor"==m)}if(x&&!f){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(x=!1)}return o.delete(e),o.delete(t),x}},5766:(e,t,r)=>{"use strict";var a=r(8117),n=a("String.prototype.valueOf"),s=a("Object.prototype.toString"),i=r(4635)();e.exports=function(e){return"string"===typeof e||!(!e||"object"!==typeof e)&&(i?function(e){try{return n(e),!0}catch(t){return!1}}(e):"[object String]"===s(e))}},5774:(e,t,r)=>{var a,n=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function n(e,t){if(!a[e]){a[e]={};for(var r=0;r<e.length;r++)a[e][e.charAt(r)]=r}return a[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var r=s._compress(e,6,function(e){return t.charAt(e)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,function(r){return n(t,e.charAt(r))})},compressToUTF16:function(t){return null==t?"":s._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=s.compress(e),r=new Uint8Array(2*t.length),a=0,n=t.length;a<n;a++){var i=t.charCodeAt(a);r[2*a]=i>>>8,r[2*a+1]=i%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return s.decompress(t);for(var r=new Array(t.length/2),a=0,n=r.length;a<n;a++)r[a]=256*t[2*a]+t[2*a+1];var i=[];return r.forEach(function(t){i.push(e(t))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,function(t){return n(r,e.charAt(t))}))},compress:function(t){return s._compress(t,16,function(t){return e(t)})},_compress:function(e,t,r){if(null==e)return"";var a,n,s,i={},o={},l="",c="",d="",u=2,m=3,p=2,h=[],x=0,f=0;for(s=0;s<e.length;s+=1)if(l=e.charAt(s),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=m++,o[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(i,c))d=c;else{if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)x<<=1,f==t-1?(f=0,h.push(r(x)),x=0):f++;for(n=d.charCodeAt(0),a=0;a<8;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1}else{for(n=1,a=0;a<p;a++)x=x<<1|n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n=0;for(n=d.charCodeAt(0),a=0;a<16;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1}0==--u&&(u=Math.pow(2,p),p++),delete o[d]}else for(n=i[d],a=0;a<p;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1;0==--u&&(u=Math.pow(2,p),p++),i[c]=m++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)x<<=1,f==t-1?(f=0,h.push(r(x)),x=0):f++;for(n=d.charCodeAt(0),a=0;a<8;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1}else{for(n=1,a=0;a<p;a++)x=x<<1|n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n=0;for(n=d.charCodeAt(0),a=0;a<16;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1}0==--u&&(u=Math.pow(2,p),p++),delete o[d]}else for(n=i[d],a=0;a<p;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1;0==--u&&(u=Math.pow(2,p),p++)}for(n=2,a=0;a<p;a++)x=x<<1|1&n,f==t-1?(f=0,h.push(r(x)),x=0):f++,n>>=1;for(;;){if(x<<=1,f==t-1){h.push(r(x));break}f++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,r,a){var n,s,i,o,l,c,d,u=[],m=4,p=4,h=3,x="",f=[],y={val:a(0),position:r,index:1};for(n=0;n<3;n+=1)u[n]=n;for(i=0,l=Math.pow(2,2),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;d=e(i);break;case 1:for(i=0,l=Math.pow(2,16),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;d=e(i);break;case 2:return""}for(u[3]=d,s=d,f.push(d);;){if(y.index>t)return"";for(i=0,l=Math.pow(2,h),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;switch(d=i){case 0:for(i=0,l=Math.pow(2,8),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;u[p++]=e(i),d=p-1,m--;break;case 1:for(i=0,l=Math.pow(2,16),c=1;c!=l;)o=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=a(y.index++)),i|=(o>0?1:0)*c,c<<=1;u[p++]=e(i),d=p-1,m--;break;case 2:return f.join("")}if(0==m&&(m=Math.pow(2,h),h++),u[d])x=u[d];else{if(d!==p)return null;x=s+s.charAt(0)}f.push(x),u[p++]=s+x.charAt(0),s=x,0==--m&&(m=Math.pow(2,h),h++)}}};return s}();void 0===(a=function(){return n}.call(t,r,t,e))||(e.exports=a)},5797:(e,t,r)=>{var a=r(4816);function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,a);return r.cache=s.set(n,i)||s,i};return r.cache=new(n.Cache||a),r}n.Cache=a,e.exports=n},5813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-colcount":null,"aria-rowcount":null},relatedConcepts:[{concept:{name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5816:e=>{e.exports=function(e,t,r,a){for(var n=e.length,s=r+(a?1:-1);a?s--:++s<n;)if(t(e[s],s,e))return s;return-1}},5819:(e,t,r)=>{"use strict";r.d(t,{QueryClient:()=>a.E});var a=r(4198),n=r(4298);r.o(n,"QueryClientProvider")&&r.d(t,{QueryClientProvider:function(){return n.QueryClientProvider}})},5855:(e,t,r)=>{e.exports=r(6483)},5866:(e,t,r)=>{var a=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},5893:(e,t,r)=>{var a=r(6599);e.exports=function(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=a(s[n],i[n]);if(c)return n>=l?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,a){for(var n=-1,s=Object(t),i=a(t),o=i.length;o--;){var l=i[e?o:++n];if(!1===r(s[l],l,s))break}return t}}},5907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epilogue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=r(5638);const n=/^((HTML|SVG)\w*)?Element$/,s=e=>{var t;return(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&(e=>{const t=e.constructor.name,{nodeType:r,tagName:a}=e,s="string"===typeof a&&a.includes("-")||(e=>{try{return"function"===typeof e.hasAttribute&&e.hasAttribute("is")}catch(t){return!1}})(e);return 1===r&&(n.test(t)||s)||3===r&&"Text"===t||8===r&&"Comment"===t||11===r&&"DocumentFragment"===t})(e)};function i(e){return 11===e.nodeType}t.test=s;const o=(e,t,r,n,s,o)=>{if(function(e){return 3===e.nodeType}(e))return(0,a.printText)(e.data,t);if(function(e){return 8===e.nodeType}(e))return(0,a.printComment)(e.data,t);const l=i(e)?"DocumentFragment":e.tagName.toLowerCase();return++n>t.maxDepth?(0,a.printElementAsLeaf)(l,t):(0,a.printElement)(l,(0,a.printProps)(i(e)?[]:Array.from(e.attributes).map(e=>e.name).sort(),i(e)?{}:Array.from(e.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),t,r+t.indent,n,s,o),(0,a.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,n,s,o),t,r)};t.serialize=o;var l={serialize:o,test:s};t.default=l},5929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"button"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"]]};t.default=r},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var a=r(3028)(Object.getPrototypeOf,Object);e.exports=a},6081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"abstract [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6142:(e,t,r)=>{"use strict";var a=r(3864),n=r(5061),s=r(5747);e.exports=function(){return s(a,n,arguments)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=x(r(2105)),n=x(r(487)),s=x(r(6448)),i=x(r(22)),o=x(r(8505)),l=x(r(3794)),c=x(r(8348)),d=x(r(5349)),u=x(r(6974)),m=x(r(4717)),p=x(r(214)),h=x(r(7361));function x(e){return e&&e.__esModule?e:{default:e}}var f=[["command",a.default],["composite",n.default],["input",s.default],["landmark",i.default],["range",o.default],["roletype",l.default],["section",c.default],["sectionhead",d.default],["select",u.default],["structure",m.default],["widget",p.default],["window",h.default]];t.default=f},6244:(e,t,r)=>{"use strict";var a=r(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=r(7938);const s=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,o=e=>{return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==s.indexOf(t)||i.test(t));var t};t.test=o;const l=(e,t,r,i,o,l)=>{const c=e.constructor.name;return++i>t.maxDepth?"["+c+"]":(t.min?"":c+" ")+(-1!==s.indexOf(c)?"{"+(0,n.printObjectProperties)((e=>"NamedNodeMap"===e.constructor.name)(e)?Array.from(e).reduce((e,t)=>(e[t.name]=t.value,e),{}):a({},e),t,r,i,o,l)+"}":"["+(0,n.printListItems)(Array.from(e),t,r,i,o,l)+"]")};t.serialize=l;var c={serialize:l,test:o};t.default=c},6270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{attributes:[{name:"scope",value:"col"}],concept:{name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=r},6305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var a=r(8325),n=r(6578)(a);e.exports=n},6361:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return!0===e||!1===e||n(e)&&"[object Boolean]"==a(e)}},6378:(e,t)=>{"use strict";var r,a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case s:case o:case i:case m:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case x:case h:case l:return e;default:return t}}case n:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,r)=>{var a=r(5538),n=r(3668),s=r(9987),i=r(5752),o=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",m="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,x,f,y){var g=l(e),v=l(t),b=g?m:o(e),j=v?m:o(t),w=(b=b==u?p:b)==p,N=(j=j==u?p:j)==p,C=b==j;if(C&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(C&&!w)return y||(y=new a),g||d(e)?n(e,t,r,x,f,y):s(e,t,b,r,x,f,y);if(!(1&r)){var S=w&&h.call(e,"__wrapped__"),A=N&&h.call(t,"__wrapped__");if(S||A){var k=S?e.value():e,E=A?t.value():t;return y||(y=new a),f(k,E,r,x,y)}}return!!C&&(y||(y=new a),i(e,t,r,x,f,y))}},6448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null},relatedConcepts:[{concept:{name:"input"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},6466:(e,t,r)=>{"use strict";e.exports=r(3678)},6483:e=>{e.exports=function(e){return e&&e.length?e[0]:void 0}},6487:(e,t,r)=>{"use strict";var a=r(6712),n=r(4938),s="object"===typeof StopIteration?StopIteration:null;e.exports=function(e){if(!s)throw new n("this environment lacks StopIteration");a.set(e,"[[Done]]",!1);var t={next:function(){var e=a.get(this,"[[Iterator]]"),t=!!a.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(r){if(a.set(e,"[[Done]]",!0),r!==s)throw r;return{done:!0,value:void 0}}}};return a.set(t,"[[Iterator]]",e),t}},6488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[{concept:{name:"span"},module:"HTML"},{concept:{name:"div"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},6516:(e,t,r)=>{var a=r(6571);e.exports=function(e,t){return function(r,n){if(null==r)return r;if(!a(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&!1!==n(o[i],i,o););return r}}},6524:(e,t,r)=>{"use strict";r.d(t,{QueryClientProvider:()=>u});var a=r(1991),n=r(7950).unstable_batchedUpdates;a.j.setBatchNotifyFunction(n);var s=r(75),i=console;(0,s.B)(i);var o=r(5043),l=o.createContext(void 0),c=o.createContext(!1);function d(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l),window.ReactQueryClientContext):l}var u=function(e){var t=e.client,r=e.contextSharing,a=void 0!==r&&r,n=e.children;o.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var s=d(a);return o.createElement(c.Provider,{value:a},o.createElement(s.Provider,{value:t},n))}},6532:(e,t,r)=>{var a=r(5538),n=r(6989);e.exports=function(e,t,r,s){var i=r.length,o=i,l=!s;if(null==e)return!o;for(e=Object(e);i--;){var c=r[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var d=(c=r[i])[0],u=e[d],m=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new a;if(s)var h=s(u,m,d,e,t,p);if(!(void 0===h?n(m,u,3,s,p):h))return!1}}return!0}},6552:(e,t,r)=>{var a=r(7105),n="object"==typeof self&&self&&self.Object===Object&&self,s=a||n||Function("return this")();e.exports=s},6558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(8287)),n=i(r(4975)),s=i(r(9253));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}for(var d=[],u=s.default.keys(),m=0;m<u.length;m++){var p=u[m],h=s.default.get(p);if(h)for(var x=[].concat(h.baseConcepts,h.relatedConcepts),f=0;f<x.length;f++){var y=x[f];if("HTML"===y.module){var g=y.concept;g&&function(){var e=JSON.stringify(g),t=d.find(function(t){return JSON.stringify(t[0])===e}),r=void 0;r=t?t[1]:[];for(var a=!0,n=0;n<r.length;n++)if(r[n]===p){a=!1;break}a&&r.push(p),d.push([g,r])}()}}}var v={entries:function(){return d},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}(d);try{for(a.s();!(t=a.n()).done;){var n=o(t.value,2),s=n[0],i=n[1];e.call(r,i,s,d)}}catch(c){a.e(c)}finally{a.f()}},get:function(e){var t=d.find(function(t){return(0,a.default)(e,t[0])});return t&&t[1]},has:function(e){return!!v.get(e)},keys:function(){return d.map(function(e){return o(e,1)[0]})},values:function(){return d.map(function(e){return o(e,2)[1]})}},b=(0,n.default)(v,v.entries());t.default=b},6571:(e,t,r)=>{var a=r(1629),n=r(6173);e.exports=function(e){return null!=e&&n(e.length)&&!a(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,a=0;return function(){var n=t(),s=16-(n-a);if(a=n,s>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var a=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,s=e===e,i=a(e),o=void 0!==t,l=null===t,c=t===t,d=a(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!d&&e<t||d&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}},6600:(e,t,r)=>{var a=r(7937)(r(6552),"WeakMap");e.exports=a},6604:(e,t,r)=>{var a=r(3331)();e.exports=a},6627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"notice [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=r},6630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox","menuitemcheckbox"],["roletype","widget","command","menuitem","menuitemcheckbox"],["roletype","widget","input","radio"]]};t.default=r},6641:(e,t,r)=>{"use strict";var a=r(2),n=r(8117),s=a("%WeakSet%",!0),i=n("WeakSet.prototype.has",!0);if(i){var o=n("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==typeof e)return!1;try{if(i(e,i),o)try{o(e,o)}catch(t){return!0}return e instanceof s}catch(t){}return!1}}else e.exports=function(e){return!1}},6649:e=>{"use strict";e.exports=function(){let{onlyFirst:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6712:(e,t,r)=>{"use strict";var a=r(4384),n=r(9269)(),s=r(4902),i={assert:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`O` is not an object");if("string"!==typeof t)throw new s("`slot` must be a string");if(n.assert(e),!i.has(e,t))throw new s("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`O` is not an object");if("string"!==typeof t)throw new s("`slot` must be a string");var r=n.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`O` is not an object");if("string"!==typeof t)throw new s("`slot` must be a string");var r=n.get(e);return!!r&&a(r,"$"+t)},set:function(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`O` is not an object");if("string"!==typeof t)throw new s("`slot` must be a string");var a=n.get(e);a||(a={},n.set(e,a)),a["$"+t]=r}};Object.freeze&&Object.freeze(i),e.exports=i},6744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"conclusion [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},6745:(e,t,r)=>{var a=r(9742),n=r(61),s=r(3279);e.exports=function(e){return e&&e.length?a(e,s,n):void 0}},6788:(e,t,r)=>{var a=r(7160),n=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof a){var i=r.__data__;if(!n||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(i)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var a=r(7105),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n&&a.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,r)=>{var a=r(2622);e.exports=function(e,t){var r=a(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},6899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"nav"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},6913:(e,t,r)=>{var a=r(9812),n=r(4552),s=r(6095),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):s(e)}},6924:(e,t,r)=>{var a=r(7685),n=r(5204),s=r(5387),i=r(2070),o=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",m="[object Set]",p="[object WeakMap]",h="[object DataView]",x=c(a),f=c(n),y=c(s),g=c(i),v=c(o),b=l;(a&&b(new a(new ArrayBuffer(1)))!=h||n&&b(new n)!=d||s&&b(s.resolve())!=u||i&&b(new i)!=m||o&&b(new o)!=p)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,a=r?c(r):"";if(a)switch(a){case x:return h;case f:return d;case y:return u;case g:return m;case v:return p}return t}),e.exports=b},6954:(e,t,r)=>{var a=r(1629),n=r(7857),s=r(6686),i=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||n(e))&&(a(e)?m:o).test(i(e))}},6960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","status"]]};t.default=r},6972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-valuetext":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"range"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","widget","input"],["roletype","structure","range"]]};t.default=r},6974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","group"]]};t.default=r},6989:(e,t,r)=>{var a=r(6399),n=r(2761);e.exports=function e(t,r,s,i,o){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!==t&&r!==r:a(t,r,s,i,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var a=r(5295),n=r(4746),s=r(9096),i=r(4052),o=r(929);e.exports=function(e,t,r){var l=i(e)?a:n;return r&&o(e,t,r)&&(t=void 0),l(e,s(t,3))}},7068:(e,t,r)=>{"use strict";e.exports=r(8903)},7095:(e,t,r)=>{"use strict";var a=r(5590);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},a=0;a<t.length;++a)r[t[a]]=t[a];var n=Object.assign({},r),s="";for(var i in n)s+=i;return e!==s}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?a:Object.assign:a}},7105:(e,t,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},7116:(e,t,r)=>{var a=r(9812),n=r(2777),s=r(4052),i=a?a.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||n(e)||!!(i&&e&&e[i])}},7137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=this,t=0,r={"@@iterator":function(){return r},next:function(){if(t<e.length){var r=e[t];return t+=1,{done:!1,value:r}}return{done:!0}}};return r};t.default=r},7138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},7149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnotes [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-endnote"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7159:(e,t,r)=>{var a=r(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var a=r(7563),n=r(9935),s=r(4190),i=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},7161:(e,t,r)=>{"use strict";var a=r(1779),n=r(7095);e.exports=function(){var e=n();return a(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},7163:e=>{"use strict";e.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<n&&0>s(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,p=3,h=!1,x=!1,f=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function j(e){if(f=!1,b(e),!x)if(null!==a(c))x=!0,R(w);else{var t=a(d);null!==t&&_(j,t.startTime-e)}}function w(e,r){x=!1,f&&(f=!1,g(A),A=-1),h=!0;var s=p;try{for(b(r),m=a(c);null!==m&&(!(m.expirationTime>r)||e&&!P());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===a(c)&&n(c),b(r)}else n(c);m=a(c)}if(null!==m)var l=!0;else{var u=a(d);null!==u&&_(j,u.startTime-r),l=!1}return l}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,C=!1,S=null,A=-1,k=5,E=-1;function P(){return!(t.unstable_now()-E<k)}function O(){if(null!==S){var e=t.unstable_now();E=e;var r=!0;try{r=S(!0,e)}finally{r?N():(C=!1,S=null)}}else C=!1}if("function"===typeof v)N=function(){v(O)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,D=T.port2;T.port1.onmessage=O,N=function(){D.postMessage(null)}}else N=function(){y(O,0)};function R(e){S=e,C||(C=!0,N())}function _(e,r){A=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(f?(g(A),A=-1):f=!0,_(j,s-i))):(e.sortIndex=o,r(c,e),x||h||(x=!0,R(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},7237:(e,t,r)=>{"use strict";e.exports=r(8365)},7251:(e,t,r)=>{var a=r(8724),n=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||n),string:new a}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function a(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,a,s,i){if("function"!==typeof a)throw new TypeError("The listener must be a function");var o=new n(a,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,a,n=[];if(0===this._eventsCount)return n;for(a in e=this._events)t.call(e,a)&&n.push(r?a.slice(1):a);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=r?r+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var n=0,s=a.length,i=new Array(s);n<s;n++)i[n]=a[n].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,n,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,n),!0;case 5:return d.fn.call(d.context,t,a,n,s),!0;case 6:return d.fn.call(d.context,t,a,n,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,a);break;case 4:d[c].fn.call(d[c].context,t,a,n);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,a,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||a&&o.context!==a||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||n&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},7297:(e,t,r)=>{"use strict";var a,n=r(4781),s=r(5558);try{a=[].__proto__===Array.prototype}catch(c){if(!c||"object"!==typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var i=!!a&&s&&s(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;e.exports=i&&"function"===typeof i.get?n([i.get]):"function"===typeof l&&function(e){return l(null==e?e:o(e))}},7303:(e,t,r)=>{var a=r(801),n=1/0;e.exports=function(e){return e?(e=a(e))===n||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-valuetext":null,"aria-orientation":"vertical","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-valuenow":null},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=r},7331:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-modal":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},7406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"pullquote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["none"]]};t.default=r},7424:(e,t,r)=>{var a=r(755),n=r(2536),s=r(5647),i=r(929),o=s(function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),n(e,a(t,1),[])});e.exports=o},7427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{name:"list"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["radio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},7436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"footer"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7498:e=>{e.exports=function(e,t){return e>t}},7502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"noteref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},7529:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7583:e=>{"use strict";e.exports=Math.pow},7615:(e,t,r)=>{var a=r(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},7651:(e,t,r)=>{"use strict";var a=r(1251);e.exports=a.getPrototypeOf||null},7673:(e,t,r)=>{"use strict";r.d(t,{jK:()=>pe,rC:()=>cr});var a=r(9379),n=r(3986),s=r(295),i=Object.prototype.toString;function o(e){return"function"===typeof e||"[object Function]"===i.call(e)}var l=Math.pow(2,53)-1;function c(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),l)}function d(e,t){var r=Array,a=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");if("undefined"!==typeof t&&!o(t))throw new TypeError("Array.from: when provided, the second argument must be a function");for(var n,s=c(a.length),i=o(r)?Object(new r(s)):new Array(s),l=0;l<s;)n=a[l],i[l]=t?t(n,l):n,l+=1;return i.length=s,i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p(a.key),a)}}function p(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}const h="undefined"===typeof Set?Set:function(){function e(){var t,r,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,a=void 0,(r=p(r="items"))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,this.items=n}var t,r,a;return t=e,(r=[{key:"add",value:function(e){return!1===this.has(e)&&this.items.push(e),this}},{key:"clear",value:function(){this.items=[]}},{key:"delete",value:function(e){var t=this.items.length;return this.items=this.items.filter(function(t){return t!==e}),t!==this.items.length}},{key:"forEach",value:function(e){var t=this;this.items.forEach(function(r){e(r,r,t)})}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"size",get:function(){return this.items.length}}])&&m(t.prototype,r),a&&m(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){var t;return null!==(t=e.localName)&&void 0!==t?t:e.tagName.toLowerCase()}var f={article:"article",aside:"complementary",button:"button",datalist:"listbox",dd:"definition",details:"group",dialog:"dialog",dt:"term",fieldset:"group",figure:"figure",form:"form",footer:"contentinfo",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",header:"banner",hr:"separator",html:"document",legend:"legend",li:"listitem",math:"math",main:"main",menu:"list",nav:"navigation",ol:"list",optgroup:"group",option:"option",output:"status",progress:"progressbar",section:"region",summary:"button",table:"table",tbody:"rowgroup",textarea:"textbox",tfoot:"rowgroup",td:"cell",th:"columnheader",thead:"rowgroup",tr:"row",ul:"list"},y={caption:new Set(["aria-label","aria-labelledby"]),code:new Set(["aria-label","aria-labelledby"]),deletion:new Set(["aria-label","aria-labelledby"]),emphasis:new Set(["aria-label","aria-labelledby"]),generic:new Set(["aria-label","aria-labelledby","aria-roledescription"]),insertion:new Set(["aria-label","aria-labelledby"]),paragraph:new Set(["aria-label","aria-labelledby"]),presentation:new Set(["aria-label","aria-labelledby"]),strong:new Set(["aria-label","aria-labelledby"]),subscript:new Set(["aria-label","aria-labelledby"]),superscript:new Set(["aria-label","aria-labelledby"])};function g(e,t){return function(e,t){return["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-dropeffect","aria-flowto","aria-grabbed","aria-hidden","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"].some(function(r){var a;return e.hasAttribute(r)&&!(null!==(a=y[t])&&void 0!==a&&a.has(r))})}(e,t)}function v(e){var t=function(e){var t=e.getAttribute("role");if(null!==t){var r=t.trim().split(" ")[0];if(r.length>0)return r}return null}(e);if(null===t||"presentation"===t){var r=function(e){var t=f[x(e)];if(void 0!==t)return t;switch(x(e)){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"img":return""!==e.getAttribute("alt")||g(e,"img")?"img":"presentation";case"input":var r=e.type;switch(r){case"button":case"image":case"reset":case"submit":return"button";case"checkbox":case"radio":return r;case"range":return"slider";case"email":case"tel":case"text":case"url":return e.hasAttribute("list")?"combobox":"textbox";case"search":return e.hasAttribute("list")?"combobox":"searchbox";case"number":return"spinbutton";default:return null}case"select":return e.hasAttribute("multiple")||e.size>1?"listbox":"combobox"}return null}(e);if("presentation"!==t||g(e,r||""))return r}return t}function b(e){return null!==e&&e.nodeType===e.ELEMENT_NODE}function j(e){return b(e)&&"caption"===x(e)}function w(e){return b(e)&&"input"===x(e)}function N(e){return b(e)&&"legend"===x(e)}function C(e){return function(e){return b(e)&&void 0!==e.ownerSVGElement}(e)&&"title"===x(e)}function S(e,t){if(b(e)&&e.hasAttribute(t)){var r=e.getAttribute(t).split(" "),a=e.getRootNode?e.getRootNode():e.ownerDocument;return r.map(function(e){return a.getElementById(e)}).filter(function(e){return null!==e})}return[]}function A(e,t){return!!b(e)&&-1!==t.indexOf(v(e))}function k(e,t){if(!b(e))return!1;if("range"===t)return A(e,["meter","progressbar","scrollbar","slider","spinbutton"]);throw new TypeError("No knowledge about abstract role '".concat(t,"'. This is likely a bug :("))}function E(e,t){var r=d(e.querySelectorAll(t));return S(e,"aria-owns").forEach(function(e){r.push.apply(r,d(e.querySelectorAll(t)))}),r}function P(e){return b(t=e)&&"select"===x(t)?e.selectedOptions||E(e,"[selected]"):E(e,'[aria-selected="true"]');var t}function O(e){return w(e)||b(t=e)&&"textarea"===x(t)?e.value:e.textContent||"";var t}function T(e){var t=e.getPropertyValue("content");return/^["'].*["']$/.test(t)?t.slice(1,-1):""}function D(e){var t=x(e);return"button"===t||"input"===t&&"hidden"!==e.getAttribute("type")||"meter"===t||"output"===t||"progress"===t||"select"===t||"textarea"===t}function R(e){if(D(e))return e;var t=null;return e.childNodes.forEach(function(e){if(null===t&&b(e)){var r=R(e);null!==r&&(t=r)}}),t}function _(e){if(void 0!==e.control)return e.control;var t=e.getAttribute("for");return null!==t?e.ownerDocument.getElementById(t):R(e)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new h,a=function(e){var t=(null===e.ownerDocument?e:e.ownerDocument).defaultView;if(null===t)throw new TypeError("no window available");return t}(e),n=t.compute,s=void 0===n?"name":n,i=t.computedStyleSupportsPseudoElements,o=void 0===i?void 0!==t.getComputedStyle:i,l=t.getComputedStyle,c=void 0===l?a.getComputedStyle.bind(a):l,u=t.hidden,m=void 0!==u&&u;function p(e,t){var r="";if(b(e)&&o){var a=T(c(e,"::before"));r="".concat(a," ").concat(r)}if((function(e){return b(e)&&"slot"===x(e)}(e)?function(e){var t=e.assignedNodes();return 0===t.length?d(e.childNodes):t}(e):d(e.childNodes).concat(S(e,"aria-owns"))).forEach(function(e){var a=g(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0}),n="inline"!==(b(e)?c(e).getPropertyValue("display"):"inline")?" ":"";r+="".concat(n).concat(a).concat(n)}),b(e)&&o){var n=T(c(e,"::after"));r="".concat(r," ").concat(n)}return r.trim()}function f(e,t){var a=e.getAttributeNode(t);return null===a||r.has(a)||""===a.value.trim()?null:(r.add(a),a.value)}function y(e){if(!b(e))return null;if(function(e){return b(e)&&"fieldset"===x(e)}(e)){r.add(e);for(var t=d(e.childNodes),a=0;a<t.length;a+=1){var n=t[a];if(N(n))return g(n,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if(function(e){return b(e)&&"table"===x(e)}(e)){r.add(e);for(var s=d(e.childNodes),i=0;i<s.length;i+=1){var o=s[i];if(j(o))return g(o,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else{if(function(e){return b(e)&&"svg"===x(e)}(e)){r.add(e);for(var l=d(e.childNodes),c=0;c<l.length;c+=1){var u=l[c];if(C(u))return u.textContent}return null}if("img"===x(e)||"area"===x(e)){var m=f(e,"alt");if(null!==m)return m}else if(function(e){return b(e)&&"optgroup"===x(e)}(e)){var h=f(e,"label");if(null!==h)return h}}if(w(e)&&("button"===e.type||"submit"===e.type||"reset"===e.type)){var y=f(e,"value");if(null!==y)return y;if("submit"===e.type)return"Submit";if("reset"===e.type)return"Reset"}var v=function(e){var t=e.labels;return null===t?t:void 0!==t?d(t):D(e)?d(e.ownerDocument.querySelectorAll("label")).filter(function(t){return _(t)===e}):null}(e);if(null!==v&&0!==v.length)return r.add(e),d(v).map(function(e){return g(e,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})}).filter(function(e){return e.length>0}).join(" ");if(w(e)&&"image"===e.type){var S=f(e,"alt");if(null!==S)return S;var k=f(e,"title");return null!==k?k:"Submit Query"}if(A(e,["button"])){var E=p(e,{isEmbeddedInLabel:!1,isReferenced:!1});if(""!==E)return E}return null}function g(e,t){if(r.has(e))return"";if(!m&&function(e,t){if(!b(e))return!1;if(e.hasAttribute("hidden")||"true"===e.getAttribute("aria-hidden"))return!0;var r=t(e);return"none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")}(e,c)&&!t.isReferenced)return r.add(e),"";var a=b(e)?e.getAttributeNode("aria-labelledby"):null,n=null===a||r.has(a)?[]:S(e,"aria-labelledby");if("name"===s&&!t.isReferenced&&n.length>0)return r.add(a),n.map(function(e){return g(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!0,recursion:!1})}).join(" ");var i,o=t.recursion&&(A(i=e,["button","combobox","listbox","textbox"])||k(i,"range"))&&"name"===s;if(!o){var l=(b(e)&&e.getAttribute("aria-label")||"").trim();if(""!==l&&"name"===s)return r.add(e),l;if(!function(e){return A(e,["none","presentation"])}(e)){var u=y(e);if(null!==u)return r.add(e),u}}if(A(e,["menu"]))return r.add(e),"";if(o||t.isEmbeddedInLabel||t.isReferenced){if(A(e,["combobox","listbox"])){r.add(e);var h=P(e);return 0===h.length?w(e)?e.value:"":d(h).map(function(e){return g(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0})}).join(" ")}if(k(e,"range"))return r.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext"):e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow"):e.getAttribute("value")||"";if(A(e,["textbox"]))return r.add(e),O(e)}if(function(e){return A(e,["button","cell","checkbox","columnheader","gridcell","heading","label","legend","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"])}(e)||b(e)&&t.isReferenced||function(e){return j(e)}(e)){var x=p(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});if(""!==x)return r.add(e),x}if(e.nodeType===e.TEXT_NODE)return r.add(e),e.textContent||"";if(t.recursion)return r.add(e),p(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});var v=function(e){return b(e)?f(e,"title"):null}(e);return null!==v?(r.add(e),v):(r.add(e),"")}return g(e,{isEmbeddedInLabel:!1,isReferenced:"description"===s,recursion:!1}).trim().replace(/\s\s+/g," ")}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==I(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=S(e,"aria-describedby").map(function(e){return M(e,F(F({},t),{},{compute:"description"}))}).join(" ");if(""===r){var a=e.getAttribute("title");r=null===a?"":a}return r}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(e,["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])?"":M(e,t)}var B=r(3858),V=r(5774),H=r.n(V);e=r.hmd(e);const W=["filterNode"],G=["value","files"],Y=["bubbles","cancelable","detail"];function K(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const $=(e,t)=>{const r=t.colors.content;return r.open+K(e)+r.close},Q=/^((HTML|SVG)\w*)?Element$/;function X(e){return 11===e.nodeType}function J(e){return{test:e=>{var t;return(null==e||null==(t=e.constructor)?void 0:t.name)&&(e=>{const t=e.constructor.name,{nodeType:r,tagName:a}=e,n="string"===typeof a&&a.includes("-")||"function"===typeof e.hasAttribute&&e.hasAttribute("is");return 1===r&&(Q.test(t)||n)||3===r&&"Text"===t||8===r&&"Comment"===t||11===r&&"DocumentFragment"===t})(e)},serialize:(t,r,a,n,s,i)=>{if(function(e){return 3===e.nodeType}(t))return $(t.data,r);if(function(e){return 8===e.nodeType}(t))return((e,t)=>{const r=t.colors.comment;return r.open+"\x3c!--"+K(e)+"--\x3e"+r.close})(t.data,r);const o=X(t)?"DocumentFragment":t.tagName.toLowerCase();return++n>r.maxDepth?((e,t)=>{const r=t.colors.tag;return r.open+"<"+e+r.close+" \u2026"+r.open+" />"+r.close})(o,r):((e,t,r,a,n)=>{const s=a.colors.tag;return s.open+"<"+e+(t&&s.close+t+a.spacingOuter+n+s.open)+(r?">"+s.close+r+a.spacingOuter+n+s.open+"</"+e:(t&&!a.min?"":" ")+"/")+">"+s.close})(o,((e,t,r,a,n,s,i)=>{const o=a+r.indent,l=r.colors;return e.map(e=>{const c=t[e];let d=i(c,r,o,n,s);return"string"!==typeof c&&(-1!==d.indexOf("\n")&&(d=r.spacingOuter+o+d+r.spacingOuter+a),d="{"+d+"}"),r.spacingInner+a+l.prop.open+e+l.prop.close+"="+l.value.open+d+l.value.close}).join("")})(X(t)?[]:Array.from(t.attributes).map(e=>e.name).sort(),X(t)?{}:Array.from(t.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),r,a+r.indent,n,s,i),((e,t,r,a,n,s)=>e.map(e=>{const i="string"===typeof e?$(e,t):s(e,t,r,a,n);return""===i&&"object"===typeof e&&null!==e&&3!==e.nodeType?"":t.spacingOuter+r+i}).join(""))(Array.prototype.slice.call(t.childNodes||t.children).filter(e),r,a+r.indent,n,s,i),r,a)}}}let Z=null,ee=null,te=null;try{const t=e&&e.require;ee=t.call(e,"fs").readFileSync,te=t.call(e,"@babel/code-frame").codeFrameColumns,Z=t.call(e,"chalk")}catch(pr){}function re(){if(!ee||!te)return"";return function(e){const t=e.indexOf("(")+1,r=e.indexOf(")"),a=e.slice(t,r),n=a.split(":"),[s,i,o]=[n[0],parseInt(n[1],10),parseInt(n[2],10)];let l="";try{l=ee(s,"utf-8")}catch(d){return""}const c=te(l,{start:{line:i,column:o}},{highlightCode:!0,linesBelow:0});return Z.dim(a)+"\n"+c+"\n"}((new Error).stack.split("\n").slice(1).find(e=>!e.includes("node_modules/")))}function ae(){return"undefined"!==typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}function ne(){if("undefined"===typeof window)throw new Error("Could not find default container");return window.document}function se(e){if(e.defaultView)return e.defaultView;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument.defaultView;if(e.window)return e.window;throw e.ownerDocument&&null===e.ownerDocument.defaultView?new Error("It looks like the window object is not available for the provided node."):e.then instanceof Function?new Error("It looks like you passed a Promise object instead of a DOM node. Did you do something like `fireEvent.click(screen.findBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`, or await the findBy query `fireEvent.click(await screen.findBy...`?"):Array.isArray(e)?new Error("It looks like you passed an Array instead of a DOM node. Did you do something like `fireEvent.click(screen.getAllBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`?"):"function"===typeof e.debug&&"function"===typeof e.logTestingPlaygroundURL?new Error("It looks like you passed a `screen` object. Did you do something like `fireEvent.click(screen, ...` when you meant to use a query, e.g. `fireEvent.click(screen.getBy..., `?"):new Error("The given node is not an Element, the node type is: "+typeof e+".")}function ie(e){if(!e||"function"!==typeof e.querySelector||"function"!==typeof e.querySelectorAll)throw new TypeError("Expected container to be an Element, a Document or a DocumentFragment but got "+function(e){if("object"===typeof e)return null===e?"null":e.constructor.name;return typeof e}(e)+".")}const oe=()=>{let e;try{var t;e=JSON.parse(null==(t=process)||null==(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://medilink24.com/api/payment-service/stripe/webhooksi",REACT_APP_ENVIRONMENT:"development",REACT_APP_GOOGLE_CLIENT_ID:"599044889227-mmr204c794307k86fsi5o1i67eg4v340.apps.googleusercontent.com",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"})?void 0:t.COLORS)}catch(r){}return"boolean"===typeof e?e:"undefined"!==typeof process&&void 0!==process.versions&&void 0!==process.versions.node},{DOMCollection:le}=s.Nx;function ce(e){return 8!==e.nodeType&&(1!==e.nodeType||!e.matches(he().defaultIgnore))}function de(e,t,r){if(void 0===r&&(r={}),e||(e=ne().body),"number"!==typeof t&&(t="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://medilink24.com/api/payment-service/stripe/webhooksi",REACT_APP_ENVIRONMENT:"development",REACT_APP_GOOGLE_CLIENT_ID:"599044889227-mmr204c794307k86fsi5o1i67eg4v340.apps.googleusercontent.com",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"}.DEBUG_PRINT_LIMIT||7e3),0===t)return"";e.documentElement&&(e=e.documentElement);let i=typeof e;if("object"===i?i=e.constructor.name:e={},!("outerHTML"in e))throw new TypeError("Expected an element or document but got "+i);const{filterNode:o=ce}=r,l=(0,n.A)(r,W),c=s.GP(e,(0,a.A)({plugins:[J(o),le],printFunctionName:!1,highlight:oe()},l));return void 0!==t&&e.outerHTML.length>t?c.slice(0,t)+"...":c}const ue=function(){const e=re();e?console.log(de(...arguments)+"\n\n"+e):console.log(de(...arguments))};let me={testIdAttribute:"data-testid",asyncUtilTimeout:1e3,asyncWrapper:e=>e(),unstable_advanceTimersWrapper:e=>e(),eventWrapper:e=>e(),defaultHidden:!1,defaultIgnore:"script, style",showOriginalStackTrace:!1,throwSuggestions:!1,getElementError(e,t){const r=de(t),a=new Error([e,"Ignored nodes: comments, "+me.defaultIgnore+"\n"+r].filter(Boolean).join("\n\n"));return a.name="TestingLibraryElementError",a},_disableExpensiveErrorDiagnostics:!1,computedStyleSupportsPseudoElements:!1};function pe(e){"function"===typeof e&&(e=e(me)),me=(0,a.A)((0,a.A)({},me),e)}function he(){return me}const xe=["button","meter","output","progress","select","textarea","input"];function fe(e){return xe.includes(e.nodeName.toLowerCase())?"":3===e.nodeType?e.textContent:Array.from(e.childNodes).map(e=>fe(e)).join("")}function ye(e){let t;return t="label"===e.tagName.toLowerCase()?fe(e):e.value||e.textContent,t}function ge(e){var t;if(void 0!==e.labels)return null!=(t=e.labels)?t:[];if(!function(e){return/BUTTON|METER|OUTPUT|PROGRESS|SELECT|TEXTAREA/.test(e.tagName)||"INPUT"===e.tagName&&"hidden"!==e.getAttribute("type")}(e))return[];const r=e.ownerDocument.querySelectorAll("label");return Array.from(r).filter(t=>t.control===e)}function ve(e,t,r){let{selector:a="*"}=void 0===r?{}:r;const n=t.getAttribute("aria-labelledby"),s=n?n.split(" "):[];return s.length?s.map(t=>{const r=e.querySelector('[id="'+t+'"]');return r?{content:ye(r),formControl:null}:{content:"",formControl:null}}):Array.from(ge(t)).map(e=>({content:ye(e),formControl:Array.from(e.querySelectorAll("button, input, meter, output, progress, select, textarea")).filter(e=>e.matches(a))[0]}))}function be(e){if(null===e||void 0===e)throw new Error("It looks like "+e+" was passed instead of a matcher. Did you do something like getByText("+e+")?")}function je(e,t,r,a){if("string"!==typeof e)return!1;be(r);const n=a(e);return"string"===typeof r||"number"===typeof r?n.toLowerCase().includes(r.toString().toLowerCase()):"function"===typeof r?r(n,t):Se(r,n)}function we(e,t,r,a){if("string"!==typeof e)return!1;be(r);const n=a(e);return r instanceof Function?r(n,t):r instanceof RegExp?Se(r,n):n===String(r)}function Ne(e){let{trim:t=!0,collapseWhitespace:r=!0}=void 0===e?{}:e;return e=>{let a=e;return a=t?a.trim():a,a=r?a.replace(/\s+/g," "):a,a}}function Ce(e){let{trim:t,collapseWhitespace:r,normalizer:a}=e;if(!a)return Ne({trim:t,collapseWhitespace:r});if("undefined"!==typeof t||"undefined"!==typeof r)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return a}function Se(e,t){const r=e.test(t);return e.global&&0!==e.lastIndex&&(console.warn("To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp."),e.lastIndex=0),r}function Ae(e){return e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:Array.from(e.childNodes).filter(e=>3===e.nodeType&&Boolean(e.textContent)).map(e=>e.textContent).join("")}const ke=function(e){function t(e){let{attributes:t=[]}=e;return t.length}function r(e){let{attributes:t=[]}=e;const r=t.findIndex(e=>e.value&&"type"===e.name&&"text"===e.value);r>=0&&(t=[...t.slice(0,r),...t.slice(r+1)]);const n=function(e){let{name:t,attributes:r}=e;return""+t+r.map(e=>{let{name:t,value:r,constraints:a=[]}=e;return-1!==a.indexOf("undefined")?":not(["+t+"])":r?"["+t+'="'+r+'"]':"["+t+"]"}).join("")}((0,a.A)((0,a.A)({},e),{},{attributes:t}));return e=>!(r>=0&&"text"!==e.type)&&e.matches(n)}let n=[];for(const[a,s]of e.entries())n=[...n,{match:r(a),roles:Array.from(s),specificity:t(a)}];return n.sort(function(e,t){let{specificity:r}=e,{specificity:a}=t;return a-r})}(B._s);function Ee(e){if(!0===e.hidden)return!0;if("true"===e.getAttribute("aria-hidden"))return!0;return"none"===e.ownerDocument.defaultView.getComputedStyle(e).display}function Pe(e,t){void 0===t&&(t={});const{isSubtreeInaccessible:r=Ee}=t;if("hidden"===e.ownerDocument.defaultView.getComputedStyle(e).visibility)return!0;let a=e;for(;a;){if(r(a))return!0;a=a.parentElement}return!1}function Oe(e){for(const{match:t,roles:r}of ke)if(t(e))return[...r];return[]}function Te(e,t){let{hidden:r,includeDescription:n}=t;const s=function(e,t){let{hidden:r=!1}=void 0===t?{}:t;return function e(t){return[t,...Array.from(t.children).reduce((t,r)=>[...t,...e(r)],[])]}(e).filter(e=>!1!==r||!1===Pe(e)).reduce((e,t)=>{let r=[];return r=t.hasAttribute("role")?t.getAttribute("role").split(" ").slice(0,1):Oe(t),r.reduce((e,r)=>Array.isArray(e[r])?(0,a.A)((0,a.A)({},e),{},{[r]:[...e[r],t]}):(0,a.A)((0,a.A)({},e),{},{[r]:[t]}),e)},{})}(e,{hidden:r});return Object.entries(s).filter(e=>{let[t]=e;return"generic"!==t}).map(e=>{let[t,r]=e;const a="-".repeat(50);return t+":\n\n"+r.map(e=>{const t='Name "'+U(e,{computedStyleSupportsPseudoElements:he().computedStyleSupportsPseudoElements})+'":\n',r=de(e.cloneNode(!1));if(n){return""+t+('Description "'+z(e,{computedStyleSupportsPseudoElements:he().computedStyleSupportsPseudoElements})+'":\n')+r}return""+t+r}).join("\n\n")+"\n\n"+a}).join("\n")}function De(e,t){const r=e.getAttribute(t);return"true"===r||"false"!==r&&void 0}const Re=Ne();function _e(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function Me(e,t,r,a){let{variant:n,name:s}=a,i="";const o={},l=[["Role","TestId"].includes(e)?r:_e(r)];s&&(o.name=_e(s)),"Role"===e&&Pe(t)&&(o.hidden=!0,i="Element is inaccessible. This means that the element and all its children are invisible to screen readers.\n    If you are using the aria-hidden prop, make sure this is the right choice for your case.\n    "),Object.keys(o).length>0&&l.push(o);const c=n+"By"+e;return{queryName:e,queryMethod:c,queryArgs:l,variant:n,warning:i,toString(){i&&console.warn(i);let[e,t]=l;return e="string"===typeof e?"'"+e+"'":e,t=t?", { "+Object.entries(t).map(e=>{let[t,r]=e;return t+": "+r}).join(", ")+" }":"",c+"("+e+t+")"}}}function Ie(e,t,r){return r&&(!t||t.toLowerCase()===e.toLowerCase())}function Le(e,t,r){var a,n;if(void 0===t&&(t="get"),e.matches(he().defaultIgnore))return;const s=null!=(a=e.getAttribute("role"))?a:null==(n=Oe(e))?void 0:n[0];if("generic"!==s&&Ie("Role",r,s))return Me("Role",e,s,{variant:t,name:U(e,{computedStyleSupportsPseudoElements:he().computedStyleSupportsPseudoElements})});const i=ve(document,e).map(e=>e.content).join(" ");if(Ie("LabelText",r,i))return Me("LabelText",e,i,{variant:t});const o=e.getAttribute("placeholder");if(Ie("PlaceholderText",r,o))return Me("PlaceholderText",e,o,{variant:t});const l=Re(Ae(e));if(Ie("Text",r,l))return Me("Text",e,l,{variant:t});if(Ie("DisplayValue",r,e.value))return Me("DisplayValue",e,Re(e.value),{variant:t});const c=e.getAttribute("alt");if(Ie("AltText",r,c))return Me("AltText",e,c,{variant:t});const d=e.getAttribute("title");if(Ie("Title",r,d))return Me("Title",e,d,{variant:t});const u=e.getAttribute(he().testIdAttribute);return Ie("TestId",r,u)?Me("TestId",e,u,{variant:t}):void 0}function Fe(e,t){e.stack=t.stack.replace(t.message,e.message)}function qe(e,t){let{container:r=ne(),timeout:a=he().asyncUtilTimeout,showOriginalStackTrace:n=he().showOriginalStackTrace,stackTraceError:s,interval:i=50,onTimeout:o=e=>(Object.defineProperty(e,"message",{value:he().getElementError(e.message,r).message}),e),mutationObserverOptions:l={subtree:!0,childList:!0,attributes:!0,characterData:!0}}=t;if("function"!==typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise(async(t,c)=>{let d,u,m,p=!1,h="idle";const x=setTimeout(function(){let e;d?(e=d,n||"TestingLibraryElementError"!==e.name||Fe(e,s)):(e=new Error("Timed out in waitFor."),n||Fe(e,s));y(o(e),null)},a),f=ae();if(f){const{unstable_advanceTimersWrapper:e}=he();for(v();!p;){if(!ae()){const e=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return n||Fe(e,s),void c(e)}if(await e(async()=>{jest.advanceTimersByTime(i)}),p)break;v()}}else{try{ie(r)}catch(b){return void c(b)}u=setInterval(g,i);const{MutationObserver:e}=se(r);m=new e(g),m.observe(r,l),v()}function y(e,r){p=!0,clearTimeout(x),f||(clearInterval(u),m.disconnect()),e?c(e):t(r)}function g(){if(ae()){const e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return n||Fe(e,s),c(e)}return v()}function v(){if("pending"!==h)try{const t=function(e){try{return me._disableExpensiveErrorDiagnostics=!0,e()}finally{me._disableExpensiveErrorDiagnostics=!1}}(e);"function"===typeof(null==t?void 0:t.then)?(h="pending",t.then(e=>{h="resolved",y(null,e)},e=>{h="rejected",d=e})):y(null,t)}catch(t){d=t}}})}function ze(e,t){const r=new Error("STACK_TRACE_MESSAGE");return he().asyncWrapper(()=>qe(e,(0,a.A)({stackTraceError:r},t)))}function Ue(e,t){return he().getElementError(e,t)}function Be(e,t){return Ue(e+"\n\n(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).",t)}function Ve(e,t,r,a){let{exact:n=!0,collapseWhitespace:s,trim:i,normalizer:o}=void 0===a?{}:a;const l=n?we:je,c=Ce({collapseWhitespace:s,trim:i,normalizer:o});return Array.from(t.querySelectorAll("["+e+"]")).filter(t=>l(t.getAttribute(e),t,r,c))}function He(e,t){return function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];const i=e(r,...n);if(i.length>1){const e=i.map(e=>Ue(null,e).message).join("\n\n");throw Be(t(r,...n)+"\n\nHere are the matching elements:\n\n"+e,r)}return i[0]||null}}function We(e,t){return he().getElementError("A better query is available, try this:\n"+e.toString()+"\n",t)}function Ge(e,t){return function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];const i=e(r,...n);if(!i.length)throw he().getElementError(t(r,...n),r);return i}}function Ye(e){return(t,r,n,s)=>ze(()=>e(t,r,n),(0,a.A)({container:t},s))}const Ke=(e,t,r)=>function(a){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];const o=e(a,...s),[{suggest:l=he().throwSuggestions}={}]=s.slice(-1);if(o&&l){const e=Le(o,r);if(e&&!t.endsWith(e.queryName))throw We(e.toString(),a)}return o},$e=(e,t,r)=>function(a){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];const o=e(a,...s),[{suggest:l=he().throwSuggestions}={}]=s.slice(-1);if(o.length&&l){const e=[...new Set(o.map(e=>{var t;return null==(t=Le(e,r))?void 0:t.toString()}))];if(1===e.length&&!t.endsWith(Le(o[0],r).queryName))throw We(e[0],a)}return o};function Qe(e,t,r){const a=Ke(He(e,t),e.name,"query"),n=Ge(e,r),s=He(n,t),i=Ke(s,e.name,"get");return[a,$e(n,e.name.replace("query","get"),"getAll"),i,Ye($e(n,e.name,"findAll")),Ye(Ke(s,e.name,"find"))]}const Xe=function(e,t,r){let{exact:a=!0,trim:n,collapseWhitespace:s,normalizer:i}=void 0===r?{}:r;const o=a?we:je,l=Ce({collapseWhitespace:s,trim:n,normalizer:i}),c=function(e){return Array.from(e.querySelectorAll("label,input")).map(e=>({node:e,textToMatch:ye(e)})).filter(e=>{let{textToMatch:t}=e;return null!==t})}(e);return c.filter(e=>{let{node:r,textToMatch:a}=e;return o(a,r,t,l)}).map(e=>{let{node:t}=e;return t})},Je=function(e,t,r){let{selector:a="*",exact:n=!0,collapseWhitespace:s,trim:i,normalizer:o}=void 0===r?{}:r;ie(e);const l=n?we:je,c=Ce({collapseWhitespace:s,trim:i,normalizer:o}),d=Array.from(e.querySelectorAll("*")).filter(e=>ge(e).length||e.hasAttribute("aria-labelledby")).reduce((r,n)=>{const s=ve(e,n,{selector:a});s.filter(e=>Boolean(e.formControl)).forEach(e=>{l(e.content,e.formControl,t,c)&&e.formControl&&r.push(e.formControl)});const i=s.filter(e=>Boolean(e.content)).map(e=>e.content);return l(i.join(" "),n,t,c)&&r.push(n),i.length>1&&i.forEach((e,a)=>{l(e,n,t,c)&&r.push(n);const s=[...i];s.splice(a,1),s.length>1&&l(s.join(" "),n,t,c)&&r.push(n)}),r},[]).concat(Ve("aria-label",e,t,{exact:n,normalizer:c}));return Array.from(new Set(d)).filter(e=>e.matches(a))},Ze=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];const s=Je(e,t,...a);if(!s.length){const r=Xe(e,t,...a);if(r.length){const a=r.map(t=>function(e,t){const r=t.getAttribute("for");if(!r)return null;const a=e.querySelector('[id="'+r+'"]');return a?a.tagName.toLowerCase():null}(e,t)).filter(e=>!!e);throw a.length?he().getElementError(a.map(e=>"Found a label with the text of: "+t+", however the element associated with this label (<"+e+" />) is non-labellable [https://html.spec.whatwg.org/multipage/forms.html#category-label]. If you really need to label a <"+e+" />, you can use aria-label or aria-labelledby instead.").join("\n\n"),e):he().getElementError("Found a label with the text of: "+t+', however no form control was found associated to that label. Make sure you\'re using the "for" attribute or "aria-labelledby" attribute correctly.',e)}throw he().getElementError("Unable to find a label with the text of: "+t,e)}return s};const et=(e,t)=>"Found multiple elements with the text of: "+t,tt=Ke(He(Je,et),Je.name,"query"),rt=He(Ze,et),at=Ye($e(Ze,Ze.name,"findAll")),nt=Ye(Ke(rt,Ze.name,"find")),st=$e(Ze,Ze.name,"getAll"),it=Ke(rt,Ze.name,"get"),ot=$e(Je,Je.name,"queryAll"),lt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ie(t[0]),Ve("placeholder",...t)},ct=$e(lt,lt.name,"queryAll"),[dt,ut,mt,pt,ht]=Qe(lt,(e,t)=>"Found multiple elements with the placeholder text of: "+t,(e,t)=>"Unable to find an element with the placeholder text of: "+t),xt=function(e,t,r){let{selector:a="*",exact:n=!0,collapseWhitespace:s,trim:i,ignore:o=he().defaultIgnore,normalizer:l}=void 0===r?{}:r;ie(e);const c=n?we:je,d=Ce({collapseWhitespace:s,trim:i,normalizer:l});let u=[];return"function"===typeof e.matches&&e.matches(a)&&(u=[e]),[...u,...Array.from(e.querySelectorAll(a))].filter(e=>!o||!e.matches(o)).filter(e=>c(Ae(e),e,t,d))},ft=$e(xt,xt.name,"queryAll"),[yt,gt,vt,bt,jt]=Qe(xt,(e,t)=>"Found multiple elements with the text: "+t,function(e,t,r){void 0===r&&(r={});const{collapseWhitespace:a,trim:n,normalizer:s,selector:i}=r,o=Ce({collapseWhitespace:a,trim:n,normalizer:s})(t.toString());return"Unable to find an element with the text: "+(o!==t.toString()?o+" (normalized from '"+t+"')":t)+("*"!==(null!=i?i:"*")?", which matches selector '"+i+"'":"")+". This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible."}),wt=function(e,t,r){let{exact:a=!0,collapseWhitespace:n,trim:s,normalizer:i}=void 0===r?{}:r;ie(e);const o=a?we:je,l=Ce({collapseWhitespace:n,trim:s,normalizer:i});return Array.from(e.querySelectorAll("input,textarea,select")).filter(e=>{if("SELECT"===e.tagName){return Array.from(e.options).filter(e=>e.selected).some(e=>o(Ae(e),e,t,l))}return o(e.value,e,t,l)})},Nt=$e(wt,wt.name,"queryAll"),[Ct,St,At,kt,Et]=Qe(wt,(e,t)=>"Found multiple elements with the display value: "+t+".",(e,t)=>"Unable to find an element with the display value: "+t+"."),Pt=/^(img|input|area|.+-.+)$/i,Ot=function(e,t,r){return void 0===r&&(r={}),ie(e),Ve("alt",e,t,r).filter(e=>Pt.test(e.tagName))},Tt=$e(Ot,Ot.name,"queryAll"),[Dt,Rt,_t,Mt,It]=Qe(Ot,(e,t)=>"Found multiple elements with the alt text: "+t,(e,t)=>"Unable to find an element with the alt text: "+t),Lt=function(e,t,r){let{exact:a=!0,collapseWhitespace:n,trim:s,normalizer:i}=void 0===r?{}:r;ie(e);const o=a?we:je,l=Ce({collapseWhitespace:n,trim:s,normalizer:i});return Array.from(e.querySelectorAll("[title], svg > title")).filter(e=>o(e.getAttribute("title"),e,t,l)||(e=>{var t;return"title"===e.tagName.toLowerCase()&&"svg"===(null==(t=e.parentElement)?void 0:t.tagName.toLowerCase())})(e)&&o(Ae(e),e,t,l))},Ft=$e(Lt,Lt.name,"queryAll"),[qt,zt,Ut,Bt,Vt]=Qe(Lt,(e,t)=>"Found multiple elements with the title: "+t+".",(e,t)=>"Unable to find an element with the title: "+t+"."),Ht=function(e,t,r){let{hidden:a=he().defaultHidden,name:n,description:s,queryFallbacks:i=!1,selected:o,busy:l,checked:c,pressed:d,current:u,level:m,expanded:p,value:{now:h,min:x,max:f,text:y}={}}=void 0===r?{}:r;var g,v,b,j,w,N,C,S,A,k;if((ie(e),void 0!==o)&&void 0===(null==(g=B.Ot.get(t))?void 0:g.props["aria-selected"]))throw new Error('"aria-selected" is not supported on role "'+t+'".');if(void 0!==l&&void 0===(null==(v=B.Ot.get(t))?void 0:v.props["aria-busy"]))throw new Error('"aria-busy" is not supported on role "'+t+'".');if(void 0!==c&&void 0===(null==(b=B.Ot.get(t))?void 0:b.props["aria-checked"]))throw new Error('"aria-checked" is not supported on role "'+t+'".');if(void 0!==d&&void 0===(null==(j=B.Ot.get(t))?void 0:j.props["aria-pressed"]))throw new Error('"aria-pressed" is not supported on role "'+t+'".');if(void 0!==u&&void 0===(null==(w=B.Ot.get(t))?void 0:w.props["aria-current"]))throw new Error('"aria-current" is not supported on role "'+t+'".');if(void 0!==m&&"heading"!==t)throw new Error('Role "'+t+'" cannot have "level" property.');if(void 0!==h&&void 0===(null==(N=B.Ot.get(t))?void 0:N.props["aria-valuenow"]))throw new Error('"aria-valuenow" is not supported on role "'+t+'".');if(void 0!==f&&void 0===(null==(C=B.Ot.get(t))?void 0:C.props["aria-valuemax"]))throw new Error('"aria-valuemax" is not supported on role "'+t+'".');if(void 0!==x&&void 0===(null==(S=B.Ot.get(t))?void 0:S.props["aria-valuemin"]))throw new Error('"aria-valuemin" is not supported on role "'+t+'".');if(void 0!==y&&void 0===(null==(A=B.Ot.get(t))?void 0:A.props["aria-valuetext"]))throw new Error('"aria-valuetext" is not supported on role "'+t+'".');if(void 0!==p&&void 0===(null==(k=B.Ot.get(t))?void 0:k.props["aria-expanded"]))throw new Error('"aria-expanded" is not supported on role "'+t+'".');const E=new WeakMap;function P(e){return E.has(e)||E.set(e,Ee(e)),E.get(e)}return Array.from(e.querySelectorAll(function(e){var t;const r='*[role~="'+e+'"]',a=null!=(t=B.wZ.get(e))?t:new Set,n=new Set(Array.from(a).map(e=>{let{name:t}=e;return t}));return[r].concat(Array.from(n)).join(",")}(t))).filter(e=>{if(e.hasAttribute("role")){const r=e.getAttribute("role");if(i)return r.split(" ").filter(Boolean).some(e=>e===t);const[a]=r.split(" ");return a===t}return Oe(e).some(e=>e===t)}).filter(e=>{if(void 0!==o)return o===function(e){return"OPTION"===e.tagName?e.selected:De(e,"aria-selected")}(e);if(void 0!==l)return l===function(e){return"true"===e.getAttribute("aria-busy")}(e);if(void 0!==c)return c===function(e){if(!("indeterminate"in e)||!e.indeterminate)return"checked"in e?e.checked:De(e,"aria-checked")}(e);if(void 0!==d)return d===function(e){return De(e,"aria-pressed")}(e);if(void 0!==u)return u===function(e){var t,r;return null!=(t=null!=(r=De(e,"aria-current"))?r:e.getAttribute("aria-current"))&&t}(e);if(void 0!==p)return p===function(e){return De(e,"aria-expanded")}(e);if(void 0!==m)return m===function(e){return e.getAttribute("aria-level")&&Number(e.getAttribute("aria-level"))||{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName]}(e);if(void 0!==h||void 0!==f||void 0!==x||void 0!==y){let r=!0;var t;if(void 0!==h&&r&&(r=h===function(e){const t=e.getAttribute("aria-valuenow");return null===t?void 0:+t}(e)),void 0!==f&&r&&(r=f===function(e){const t=e.getAttribute("aria-valuemax");return null===t?void 0:+t}(e)),void 0!==x&&r&&(r=x===function(e){const t=e.getAttribute("aria-valuemin");return null===t?void 0:+t}(e)),void 0!==y)r&&(r=we(null!=(t=function(e){const t=e.getAttribute("aria-valuetext");return null===t?void 0:t}(e))?t:null,e,y,e=>e));return r}return!0}).filter(e=>void 0===n||we(U(e,{computedStyleSupportsPseudoElements:he().computedStyleSupportsPseudoElements}),e,n,e=>e)).filter(e=>void 0===s||we(z(e,{computedStyleSupportsPseudoElements:he().computedStyleSupportsPseudoElements}),e,s,e=>e)).filter(e=>!1!==a||!1===Pe(e,{isSubtreeInaccessible:P}))};const Wt=e=>{let t="";return t=void 0===e?"":"string"===typeof e?' and name "'+e+'"':" and name `"+e+"`",t},Gt=$e(Ht,Ht.name,"queryAll"),[Yt,Kt,$t,Qt,Xt]=Qe(Ht,function(e,t,r){let{name:a}=void 0===r?{}:r;return'Found multiple elements with the role "'+t+'"'+Wt(a)},function(e,t,r){let{hidden:a=he().defaultHidden,name:n,description:s}=void 0===r?{}:r;if(he()._disableExpensiveErrorDiagnostics)return'Unable to find role="'+t+'"'+Wt(n);let i,o="";Array.from(e.children).forEach(e=>{o+=Te(e,{hidden:a,includeDescription:void 0!==s})}),i=0===o.length?!1===a?"There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole":"There are no available roles.":("\nHere are the "+(!1===a?"accessible":"available")+" roles:\n\n  "+o.replace(/\n/g,"\n  ").replace(/\n\s\s\n/g,"\n\n")+"\n").trim();let l="";l=void 0===n?"":"string"===typeof n?' and name "'+n+'"':" and name `"+n+"`";let c="";return c=void 0===s?"":"string"===typeof s?' and description "'+s+'"':" and description `"+s+"`",("\nUnable to find an "+(!1===a?"accessible ":"")+'element with the role "'+t+'"'+l+c+"\n\n"+i).trim()}),Jt=()=>he().testIdAttribute,Zt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ie(t[0]),Ve(Jt(),...t)},er=$e(Zt,Zt.name,"queryAll"),[tr,rr,ar,nr,sr]=Qe(Zt,(e,t)=>"Found multiple elements by: ["+Jt()+'="'+t+'"]',(e,t)=>"Unable to find an element by: ["+Jt()+'="'+t+'"]');var ir=Object.freeze({__proto__:null,queryAllByLabelText:ot,queryByLabelText:tt,getAllByLabelText:st,getByLabelText:it,findAllByLabelText:at,findByLabelText:nt,queryByPlaceholderText:dt,queryAllByPlaceholderText:ct,getByPlaceholderText:mt,getAllByPlaceholderText:ut,findAllByPlaceholderText:pt,findByPlaceholderText:ht,queryByText:yt,queryAllByText:ft,getByText:vt,getAllByText:gt,findAllByText:bt,findByText:jt,queryByDisplayValue:Ct,queryAllByDisplayValue:Nt,getByDisplayValue:At,getAllByDisplayValue:St,findAllByDisplayValue:kt,findByDisplayValue:Et,queryByAltText:Dt,queryAllByAltText:Tt,getByAltText:_t,getAllByAltText:Rt,findAllByAltText:Mt,findByAltText:It,queryByTitle:qt,queryAllByTitle:Ft,getByTitle:Ut,getAllByTitle:zt,findAllByTitle:Bt,findByTitle:Vt,queryByRole:Yt,queryAllByRole:Gt,getAllByRole:Kt,getByRole:$t,findAllByRole:Qt,findByRole:Xt,queryByTestId:tr,queryAllByTestId:er,getByTestId:ar,getAllByTestId:rr,findAllByTestId:nr,findByTestId:sr});const or={copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionEnd:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionStart:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionUpdate:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyDown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyPress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyUp:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusIn:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusOut:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},invalid:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!0}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},reset:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},click:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,button:0,composed:!0}},contextMenu:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblClick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drag:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragEnd:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragEnter:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragExit:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragLeave:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragOver:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragStart:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drop:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseDown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseEnter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseLeave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseMove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOut:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOver:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseUp:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},select:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},touchCancel:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},touchEnd:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchMove:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchStart:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},resize:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},scroll:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},wheel:{EventType:"WheelEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},abort:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlay:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlayThrough:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},durationChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},emptied:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},encrypted:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},ended:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedData:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedMetadata:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadStart:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},pause:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},play:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},playing:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},progress:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},rateChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeked:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeking:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},stalled:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},suspend:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},timeUpdate:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},volumeChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},waiting:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},load:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},error:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},animationStart:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationEnd:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationIteration:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionCancel:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionEnd:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!0}},transitionRun:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionStart:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},pointerOver:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerEnter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerDown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerMove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerUp:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerCancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerOut:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerLeave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},gotPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},lostPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},popState:{EventType:"PopStateEvent",defaultInit:{bubbles:!0,cancelable:!1}},offline:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},online:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}}},lr={doubleClick:"dblClick"};function cr(e,t){return he().eventWrapper(()=>{if(!t)throw new Error("Unable to fire an event - please provide an event object.");if(!e)throw new Error('Unable to fire a "'+t.type+'" event - please provide a DOM element.');return e.dispatchEvent(t)})}function dr(e,t,r,s){let{EventType:i="Event",defaultInit:o={}}=void 0===s?{}:s;if(!t)throw new Error('Unable to fire a "'+e+'" event - please provide a DOM element.');const l=(0,a.A)((0,a.A)({},o),r),{target:{value:c,files:d}={}}=l,u=(0,n.A)(l.target,G);void 0!==c&&function(e,t){const{set:r}=Object.getOwnPropertyDescriptor(e,"value")||{},a=Object.getPrototypeOf(e),{set:n}=Object.getOwnPropertyDescriptor(a,"value")||{};if(n&&r!==n)n.call(e,t);else{if(!r)throw new Error("The given element does not have a value setter");r.call(e,t)}}(t,c),void 0!==d&&Object.defineProperty(t,"files",{configurable:!0,enumerable:!0,writable:!0,value:d}),Object.assign(t,u);const m=se(t),p=m[i]||m.Event;let h;if("function"===typeof p)h=new p(e,l);else{h=m.document.createEvent(i);const{bubbles:t,cancelable:r,detail:a}=l,s=(0,n.A)(l,Y);h.initEvent(e,t,r,a),Object.keys(s).forEach(e=>{h[e]=s[e]})}return["dataTransfer","clipboardData"].forEach(e=>{const t=l[e];"object"===typeof t&&("function"===typeof m.DataTransfer?Object.defineProperty(h,e,{value:Object.getOwnPropertyNames(t).reduce((e,r)=>(Object.defineProperty(e,r,{value:t[r]}),e),new m.DataTransfer)}):Object.defineProperty(h,e,{value:t}))}),h}function ur(e){return"https://testing-playground.com/#markup="+(t=e,H().compressToEncodedURIComponent(t.replace(/[ \t]*[\n][ \t]*/g,"\n")));var t}Object.keys(or).forEach(e=>{const{EventType:t,defaultInit:r}=or[e],a=e.toLowerCase();dr[e]=(e,n)=>dr(a,e,n,{EventType:t,defaultInit:r}),cr[e]=(t,r)=>cr(t,dr[e](t,r))}),Object.keys(lr).forEach(e=>{const t=lr[e];cr[e]=function(){return cr[t](...arguments)}});const mr={debug:(e,t,r)=>Array.isArray(e)?e.forEach(e=>ue(e,t,r)):ue(e,t,r),logTestingPlaygroundURL:function(e){if(void 0===e&&(e=ne().body),!e||!("innerHTML"in e))return void console.log("The element you're providing isn't a valid DOM element.");if(!e.innerHTML)return void console.log("The provided element doesn't have any children.");const t=ur(e.innerHTML);return console.log("Open this URL in your browser\n\n"+t),t}};"undefined"!==typeof document&&document.body?function(e,t,r){void 0===t&&(t=ir),void 0===r&&(r={}),Object.keys(t).reduce((r,a)=>{const n=t[a];return r[a]=n.bind(null,e),r},r)}(document.body,ir,mr):Object.keys(ir).reduce((e,t)=>(e[t]=()=>{throw new TypeError("For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error")},e),mr)},7676:(e,t,r)=>{var a=r(8189),n=r(6311),s=r(9115),i=r(1069);e.exports=function(e){return function(t){t=i(t);var r=n(t)?s(t):void 0,o=r?r[0]:t.charAt(0),l=r?a(r,1).join(""):t.slice(1);return o[e]()+l}}},7678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"toc [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},7685:(e,t,r)=>{var a=r(7937)(r(6552),"DataView");e.exports=a},7699:e=>{"use strict";var t=function(){return"string"===typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(n){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r(function(){},"name");return!!e&&!!e.configurable};var a=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof a&&""!==function(){}.bind().name},e.exports=t},7724:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,a=function(e,t){for(var r=[],a=0;a<e.length;a+=1)r[a]=e[a];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r};e.exports=function(e){var n=this;if("function"!==typeof n||"[object Function]"!==t.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var s,i=function(e,t){for(var r=[],a=t||0,n=0;a<e.length;a+=1,n+=1)r[n]=e[a];return r}(arguments,1),o=r(0,n.length-i.length),l=[],c=0;c<o;c++)l[c]="$"+c;if(s=Function("binder","return function ("+function(e,t){for(var r="",a=0;a<e.length;a+=1)r+=e[a],a+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var t=n.apply(this,a(i,arguments));return Object(t)===t?t:this}return n.apply(e,a(i,arguments))}),n.prototype){var d=function(){};d.prototype=n.prototype,s.prototype=new d,d.prototype=null}return s}},7731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"subtitle [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"]]};t.default=r},7736:(e,t,r)=>{var a=r(3738).default,n=r(9045);e.exports=function(e){var t=n(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7787:(e,t,r)=>{"use strict";var a=r(8117),n=a("Boolean.prototype.toString"),s=a("Object.prototype.toString"),i=r(4635)();e.exports=function(e){return"boolean"===typeof e||null!==e&&"object"===typeof e&&(i?function(e){try{return n(e),!0}catch(t){return!1}}(e):"[object Boolean]"===s(e))}},7792:(e,t,r)=>{"use strict";var a=r(2816);e.exports=function(e){return a(e)||0===e?e:e<0?-1:1}},7824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null,"aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","structure","range"]]};t.default=r},7828:e=>{e.exports=function(){return[]}},7856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=s(r(6649)),n=s(r(124));function s(e){return e&&e.__esModule?e:{default:e}}const i=e=>"string"===typeof e&&!!e.match((0,a.default)());t.test=i;const o=(e,t,r,s,i,o)=>o(e.replace((0,a.default)(),e=>{switch(e){case n.default.red.close:case n.default.green.close:case n.default.cyan.close:case n.default.gray.close:case n.default.white.close:case n.default.yellow.close:case n.default.bgRed.close:case n.default.bgGreen.close:case n.default.bgYellow.close:case n.default.inverse.close:case n.default.dim.close:case n.default.bold.close:case n.default.reset.open:case n.default.reset.close:return"</>";case n.default.red.open:return"<red>";case n.default.green.open:return"<green>";case n.default.cyan.open:return"<cyan>";case n.default.gray.open:return"<gray>";case n.default.white.open:return"<white>";case n.default.yellow.open:return"<yellow>";case n.default.bgRed.open:return"<bgRed>";case n.default.bgGreen.open:return"<bgGreen>";case n.default.bgYellow.open:return"<bgYellow>";case n.default.inverse.open:return"<inverse>";case n.default.dim.open:return"<dim>";case n.default.bold.open:return"<bold>";default:return""}}),t,r,s,i);t.serialize=o;var l={serialize:o,test:i};t.default=l},7857:(e,t,r)=>{var a=r(3440),n=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!n&&n in e}},7858:(e,t,r)=>{"use strict";var a=r(2),n=r(8117),s=r(8206),i=r(4902),o=a("%Map%",!0),l=n("Map.prototype.get",!0),c=n("Map.prototype.set",!0),d=n("Map.prototype.has",!0),u=n("Map.prototype.delete",!0),m=n("Map.prototype.size",!0);e.exports=!!o&&function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+s(e))},delete:function(t){if(e){var r=u(e,t);return 0===m(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&d(e,t)},set:function(t,r){e||(e=new o),c(e,t,r)}};return t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[{concept:{attributes:[{name:"href"}],name:"a"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"area"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"link"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},7937:(e,t,r)=>{var a=r(6954),n=r(4657);e.exports=function(e,t){var r=n(e,t);return a(r)?r:void 0}},7938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printIteratorEntries=function(e,t,r,a,n,s){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:": ",o="",l=e.next();if(!l.done){o+=t.spacingOuter;const c=r+t.indent;for(;!l.done;){o+=c+s(l.value[0],t,c,a,n)+i+s(l.value[1],t,c,a,n),l=e.next(),l.done?t.min||(o+=","):o+=","+t.spacingInner}o+=t.spacingOuter+r}return o},t.printIteratorValues=function(e,t,r,a,n,s){let i="",o=e.next();if(!o.done){i+=t.spacingOuter;const l=r+t.indent;for(;!o.done;)i+=l+s(o.value,t,l,a,n),o=e.next(),o.done?t.min||(i+=","):i+=","+t.spacingInner;i+=t.spacingOuter+r}return i},t.printListItems=function(e,t,r,a,n,s){let i="";if(e.length){i+=t.spacingOuter;const o=r+t.indent;for(let r=0;r<e.length;r++)i+=o,r in e&&(i+=s(e[r],t,o,a,n)),r<e.length-1?i+=","+t.spacingInner:t.min||(i+=",");i+=t.spacingOuter+r}return i},t.printObjectProperties=function(e,t,a,n,s,i){let o="";const l=r(e,t.compareKeys);if(l.length){o+=t.spacingOuter;const r=a+t.indent;for(let a=0;a<l.length;a++){const c=l[a];o+=r+i(c,t,r,n,s)+": "+i(e[c],t,r,n,s),a<l.length-1?o+=","+t.spacingInner:t.min||(o+=",")}o+=t.spacingOuter+a}return o};const r=(e,t)=>{const r=Object.keys(e).sort(t);return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).enumerable&&r.push(t)}),r}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},7970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7974:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},7991:(e,t,r)=>{"use strict";var a=r(8317),n=r(6487);if(r(2108)()||r(9534)()){var s=Symbol.iterator;e.exports=function(e){return null!=e&&"undefined"!==typeof e[s]?e[s]():a(e)?Array.prototype[s].call(e):void 0}}else{var i=r(3522),o=r(5766),l=r(2),c=l("%Map%",!0),d=l("%Set%",!0),u=r(2028),m=u("Array.prototype.push"),p=u("String.prototype.charCodeAt"),h=u("String.prototype.slice"),x=function(e){var t=0;return{next:function(){var r,a=t>=e.length;return a||(r=e[t],t+=1),{done:a,value:r}}}},f=function(e,t){if(i(e)||a(e))return x(e);if(o(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=p(e,t);if(r<55296||r>56319)return t+1;var a=p(e,t+1);return a<56320||a>57343?t+1:t+2}(e,r),a=h(e,r,t);return r=t,{done:t>e.length,value:a}}}}return t&&"undefined"!==typeof e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||d){var y=r(1787),g=r(869),v=u("Map.prototype.forEach",!0),b=u("Set.prototype.forEach",!0);if("undefined"===typeof process||!process.versions||!process.versions.node)var j=u("Map.prototype.iterator",!0),w=u("Set.prototype.iterator",!0);var N=u("Map.prototype.@@iterator",!0)||u("Map.prototype._es6-shim iterator_",!0),C=u("Set.prototype.@@iterator",!0)||u("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(y(e)){if(j)return n(j(e));if(N)return N(e);if(v){var t=[];return v(e,function(e,r){m(t,[r,e])}),x(t)}}if(g(e)){if(w)return n(w(e));if(C)return C(e);if(b){var r=[];return b(e,function(e){m(r,e)}),x(r)}}}(e)||f(e)}}else e.exports=function(e){if(null!=e)return f(e,!0)}}},8004:(e,t,r)=>{"use strict";var a=r(1903),n=r(2936),s=r(1712),i=r(8117),o=r(5558),l=r(1291),c=i("Object.prototype.toString"),d=r(4635)(),u="undefined"===typeof globalThis?r.g:globalThis,m=n(),p=i("String.prototype.slice"),h=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},x={__proto__:null};a(m,d&&o&&l?function(e){var t=new u[e];if(Symbol.toStringTag in t&&l){var r=l(t),a=o(r,Symbol.toStringTag);if(!a&&r){var n=l(r);a=o(n,Symbol.toStringTag)}x["$"+e]=s(a.get)}}:function(e){var t=new u[e],r=t.slice||t.set;r&&(x["$"+e]=s(r))});e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!d){var t=p(c(e),8,-1);return h(m,t)>-1?t:"Object"===t&&function(e){var t=!1;return a(x,function(r,a){if(!t)try{r(e),t=p(a,1)}catch(n){}}),t}(e)}return o?function(e){var t=!1;return a(x,function(r,a){if(!t)try{"$"+r(e)===a&&(t=p(a,1))}catch(n){}}),t}(e):null}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8117:(e,t,r)=>{"use strict";var a=r(2),n=r(4781),s=n([a("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=a(e,!!t);return"function"===typeof r&&s(e,".prototype.")>-1?n([r]):r}},8168:(e,t,r)=>{"use strict";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a.apply(null,arguments)}r.d(t,{A:()=>a})},8182:(e,t,r)=>{var a=r(2070),n=r(5713),s=r(2074),i=a&&1/s(new a([,-0]))[1]==1/0?function(e){return new a(e)}:n;e.exports=i},8189:(e,t,r)=>{var a=r(3871);e.exports=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:a(e,t,r)}},8199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"bibliography [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-biblioentry"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},8206:(e,t,r)=>{var a="function"===typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=a&&n&&"function"===typeof n.get?n.get:null,i=a&&Map.prototype.forEach,o="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=o&&l&&"function"===typeof l.get?l.get:null,d=o&&Set.prototype.forEach,u="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,m="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,x=Object.prototype.toString,f=Function.prototype.toString,y=String.prototype.match,g=String.prototype.slice,v=String.prototype.replace,b=String.prototype.toUpperCase,j=String.prototype.toLowerCase,w=RegExp.prototype.test,N=Array.prototype.concat,C=Array.prototype.join,S=Array.prototype.slice,A=Math.floor,k="function"===typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"===typeof Symbol&&"object"===typeof Symbol.iterator,T="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===O||"symbol")?Symbol.toStringTag:null,D=Object.prototype.propertyIsEnumerable,R=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function _(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var a=e<0?-A(-e):A(e);if(a!==e){var n=String(a),s=g.call(t,n.length+1);return v.call(n,r,"$&_")+"."+v.call(v.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,r,"$&_")}var M=r(2634),I=M.custom,L=W(I)?I:null,F={__proto__:null,double:'"',single:"'"},q={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function z(e,t,r){var a=r.quoteStyle||t,n=F[a];return n+e+n}function U(e){return v.call(String(e),/"/g,"&quot;")}function B(e){return!T||!("object"===typeof e&&(T in e||"undefined"!==typeof e[T]))}function V(e){return"[object Array]"===K(e)&&B(e)}function H(e){return"[object RegExp]"===K(e)&&B(e)}function W(e){if(O)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!P)return!1;try{return P.call(e),!0}catch(t){}return!1}e.exports=function e(t,a,n,o){var l=a||{};if(Y(l,"quoteStyle")&&!Y(F,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Y(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var x=!Y(l,"customInspect")||l.customInspect;if("boolean"!==typeof x&&"symbol"!==x)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Y(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Y(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Q(t,l);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return b?_(t,w):w}if("bigint"===typeof t){var A=String(t)+"n";return b?_(t,A):A}var E="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof n&&(n=0),n>=E&&E>0&&"object"===typeof t)return V(t)?"[Array]":"[Object]";var I=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;r=C.call(Array(e.indent+1)," ")}return{base:r,prev:C.call(Array(t+1),r)}}(l,n);if("undefined"===typeof o)o=[];else if($(o,t)>=0)return"[Circular]";function q(t,r,a){if(r&&(o=S.call(o)).push(r),a){var s={depth:l.depth};return Y(l,"quoteStyle")&&(s.quoteStyle=l.quoteStyle),e(t,s,n+1,o)}return e(t,l,n+1,o)}if("function"===typeof t&&!H(t)){var G=function(e){if(e.name)return e.name;var t=y.call(f.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),X=re(t,q);return"[Function"+(G?": "+G:" (anonymous)")+"]"+(X.length>0?" { "+C.call(X,", ")+" }":"")}if(W(t)){var ae=O?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!==typeof t||O?ae:J(ae)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var ne="<"+j.call(String(t.nodeName)),se=t.attributes||[],ie=0;ie<se.length;ie++)ne+=" "+se[ie].name+"="+z(U(se[ie].value),"double",l);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+j.call(String(t.nodeName))+">"}if(V(t)){if(0===t.length)return"[]";var oe=re(t,q);return I&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(oe)?"["+te(oe,I)+"]":"[ "+C.call(oe,", ")+" ]"}if(function(e){return"[object Error]"===K(e)&&B(e)}(t)){var le=re(t,q);return"cause"in Error.prototype||!("cause"in t)||D.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(le,", ")+" }":"{ ["+String(t)+"] "+C.call(N.call("[cause]: "+q(t.cause),le),", ")+" }"}if("object"===typeof t&&x){if(L&&"function"===typeof t[L]&&M)return M(t,{depth:E-n});if("symbol"!==x&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!==typeof e)return!1;try{s.call(e);try{c.call(e)}catch(ne){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ce=[];return i&&i.call(t,function(e,r){ce.push(q(r,t,!0)+" => "+q(e,t))}),ee("Map",s.call(t),ce,I)}if(function(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{s.call(e)}catch(t){return!0}return e instanceof Set}catch(r){}return!1}(t)){var de=[];return d&&d.call(t,function(e){de.push(q(e,t))}),ee("Set",c.call(t),de,I)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e,u);try{m.call(e,m)}catch(ne){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Z("WeakMap");if(function(e){if(!m||!e||"object"!==typeof e)return!1;try{m.call(e,m);try{u.call(e,u)}catch(ne){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Z("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return Z("WeakRef");if(function(e){return"[object Number]"===K(e)&&B(e)}(t))return J(q(Number(t)));if(function(e){if(!e||"object"!==typeof e||!k)return!1;try{return k.call(e),!0}catch(t){}return!1}(t))return J(q(k.call(t)));if(function(e){return"[object Boolean]"===K(e)&&B(e)}(t))return J(h.call(t));if(function(e){return"[object String]"===K(e)&&B(e)}(t))return J(q(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===K(e)&&B(e)}(t)&&!H(t)){var ue=re(t,q),me=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",he=!me&&T&&Object(t)===t&&T in t?g.call(K(t),8,-1):pe?"Object":"",xe=(me||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||pe?"["+C.call(N.call([],he||[],pe||[]),": ")+"] ":"");return 0===ue.length?xe+"{}":I?xe+"{"+te(ue,I)+"}":xe+"{ "+C.call(ue,", ")+" }"}return String(t)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function Y(e,t){return G.call(e,t)}function K(e){return x.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1}function Q(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,a="... "+r+" more character"+(r>1?"s":"");return Q(g.call(e,0,t.maxStringLength),t)+a}var n=q[t.quoteStyle||"single"];return n.lastIndex=0,z(v.call(v.call(e,n,"\\$1"),/[\x00-\x1f]/g,X),"single",t)}function X(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function J(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function ee(e,t,r,a){return e+" ("+t+") {"+(a?te(r,a):C.call(r,", "))+"}"}function te(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+C.call(e,","+r)+"\n"+t.prev}function re(e,t){var r=V(e),a=[];if(r){a.length=e.length;for(var n=0;n<e.length;n++)a[n]=Y(e,n)?t(e[n],e):""}var s,i="function"===typeof E?E(e):[];if(O){s={};for(var o=0;o<i.length;o++)s["$"+i[o]]=i[o]}for(var l in e)Y(e,l)&&(r&&String(Number(l))===l&&l<e.length||O&&s["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?a.push(t(l,e)+": "+t(e[l],e)):a.push(l+": "+t(e[l],e))));if("function"===typeof E)for(var c=0;c<i.length;c++)D.call(e,i[c])&&a.push("["+t(i[c])+"]: "+t(e[i[c]],e));return a}},8210:function(e,t,r){var a;!function(){"use strict";var n,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,m=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,x=9007199254740991,f=u(1286742750677284.5),y={};function g(e,t){var r,a,n,s,i,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?E(t,m):t;if(c=e.d,d=t.d,i=e.e,n=t.e,c=c.slice(),s=i-n){for(s<0?(a=c,s=-s,l=d.length):(a=d,n=i,l=c.length),s>(l=(i=Math.ceil(m/7))>l?i+1:l+1)&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,a=d,d=c,c=a),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/h|0,c[s]%=h;for(r&&(c.unshift(r),++n),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=n,o?E(t,m):t}function v(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,a,n=e.length-1,s="",i=e[0];if(n>0){for(s+=i,t=1;t<n;t++)(r=7-(a=e[t]+"").length)&&(s+=S(r)),s+=a;(r=7-(a=(i=e[t])+"").length)&&(s+=S(r))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,r,a,n,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(a=s.d.length)<(n=e.d.length)?a:n;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===n?0:a>n^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},y.dividedBy=y.div=function(e){return j(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(j(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(n))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(n)?new a(0):(o=!1,t=j(A(r,i),A(e,i),i),o=!0,E(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):g(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(!(e=new a(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=j(r,e,0,1).times(e),o=!0,r.minus(t)):E(new a(r),n)},y.naturalExponential=y.exp=function(){return w(this)},y.naturalLogarithm=y.ln=function(){return A(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,r,a,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(n)+1,r=7*(a=n.d.length-1)+1,a=n.d[a]){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r},y.squareRoot=y.sqrt=function(){var e,t,r,a,n,s,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(n=Math.sqrt(+c))||n==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),a=new d(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new d(n.toString()),n=i=(r=d.precision)+3;;)if(a=(s=a).plus(j(c,s,i+2)).times(.5),b(s.d).slice(0,i)===(t=b(a.d)).slice(0,i)){if(t=t.slice(i-3,i+1),n==i&&"4999"==t){if(E(s,r+1,0),s.times(s).eq(c)){a=s;break}}else if("9999"!=t)break;i+=4}return o=!0,E(a,r)},y.times=y.mul=function(e){var t,r,a,n,s,i,l,c,d,u=this,m=u.constructor,p=u.d,x=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,(c=p.length)<(d=x.length)&&(s=p,p=x,x=s,i=c,c=d,d=i),s=[],a=i=c+d;a--;)s.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=s[n]+x[a]*p[n-a-1]+t,s[n--]=l%h|0,t=l/h|0;s[n]=(s[n]+t)%h|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,o?E(e,m.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),void 0===e?r:(v(e,0,s),void 0===t?t=a.rounding:v(t,0,8),E(r,e+N(r)+1,t))},y.toExponential=function(e,t){var r,a=this,n=a.constructor;return void 0===e?r=O(a,!0):(v(e,0,s),void 0===t?t=n.rounding:v(t,0,8),r=O(a=E(new n(a),e+1,t),!0,e+1)),r},y.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return void 0===e?O(n):(v(e,0,s),void 0===t?t=i.rounding:v(t,0,8),r=O((a=E(new i(n),e+N(n)+1,t)).abs(),!1,e+N(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,r,a,s,i,c,d=this,m=d.constructor,p=+(e=new m(e));if(!e.s)return new m(n);if(!(d=new m(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(n))return d;if(a=m.precision,e.eq(n))return E(d,a);if(c=(t=e.e)>=(r=e.d.length-1),i=d.s,c){if((r=p<0?-p:p)<=x){for(s=new m(n),t=Math.ceil(a/7+4),o=!1;r%2&&T((s=s.times(d)).d,t),0!==(r=u(r/2));)T((d=d.times(d)).d,t);return o=!0,e.s<0?new m(n).div(s):E(s,a)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,o=!1,s=e.times(A(d,a+12)),o=!0,(s=w(s)).s=i,s},y.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return void 0===e?a=O(n,(r=N(n))<=i.toExpNeg||r>=i.toExpPos):(v(e,1,s),void 0===t?t=i.rounding:v(t,0,8),a=O(n=E(new i(n),e,t),e<=(r=N(n))||r<=i.toExpNeg,e)),a},y.toSignificantDigits=y.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(v(e,1,s),void 0===t?t=r.rounding:v(t,0,8)),E(new r(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),r=e.constructor;return O(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,a=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+a,e[n]=r%h|0,a=r/h|0;return a&&e.unshift(a),e}function t(e,t,r,a){var n,s;if(r!=a)s=r>a?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function r(e,t,r){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*h+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(a,n,s,i){var o,c,d,u,m,p,x,f,y,g,v,b,j,w,C,S,A,k,P=a.constructor,O=a.s==n.s?1:-1,T=a.d,D=n.d;if(!a.s)return new P(a);if(!n.s)throw Error(l+"Division by zero");for(c=a.e-n.e,A=D.length,C=T.length,f=(x=new P(O)).d=[],d=0;D[d]==(T[d]||0);)++d;if(D[d]>(T[d]||0)&&--c,(b=null==s?s=P.precision:i?s+(N(a)-N(n))+1:s)<0)return new P(0);if(b=b/7+2|0,d=0,1==A)for(u=0,D=D[0],b++;(d<C||u)&&b--;d++)j=u*h+(T[d]||0),f[d]=j/D|0,u=j%D|0;else{for((u=h/(D[0]+1)|0)>1&&(D=e(D,u),T=e(T,u),A=D.length,C=T.length),w=A,g=(y=T.slice(0,A)).length;g<A;)y[g++]=0;(k=D.slice()).unshift(0),S=D[0],D[1]>=h/2&&++S;do{u=0,(o=t(D,y,A,g))<0?(v=y[0],A!=g&&(v=v*h+(y[1]||0)),(u=v/S|0)>1?(u>=h&&(u=h-1),1==(o=t(m=e(D,u),y,p=m.length,g=y.length))&&(u--,r(m,A<p?k:D,p))):(0==u&&(o=u=1),m=D.slice()),(p=m.length)<g&&m.unshift(0),r(y,m,g),-1==o&&(o=t(D,y,A,g=y.length))<1&&(u++,r(y,A<g?k:D,g)),g=y.length):0===o&&(u++,y=[0]),f[d++]=u,o&&y[0]?y[g++]=T[w]||0:(y=[T[w]],g=1)}while((w++<C||void 0!==y[0])&&b--)}return f[0]||f.shift(),x.e=c,E(x,i?s+N(x)+1:s)}}();function w(e,t){var r,a,s,i,l,c=0,u=0,p=e.constructor,h=p.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new p(n);for(null==t?(o=!1,l=h):l=t,i=new p(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(l+=Math.log(m(2,u))/Math.LN10*2+5|0,r=a=s=new p(n),p.precision=l;;){if(a=E(a.times(e),l),r=r.times(++c),b((i=s.plus(j(a,r,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;u--;)s=E(s.times(s),l);return p.precision=h,null==t?(o=!0,E(s,h)):s}s=i}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function C(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function A(e,t){var r,a,s,i,c,d,u,m,p,h=1,x=e,f=x.d,y=x.constructor,g=y.precision;if(x.s<1)throw Error(l+(x.s?"NaN":"-Infinity"));if(x.eq(n))return new y(0);if(null==t?(o=!1,m=g):m=t,x.eq(10))return null==t&&(o=!0),C(y,m);if(m+=10,y.precision=m,a=(r=b(f)).charAt(0),i=N(x),!(Math.abs(i)<15e14))return u=C(y,m+2,g).times(i+""),x=A(new y(a+"."+r.slice(1)),m-10).plus(u),y.precision=g,null==t?(o=!0,E(x,g)):x;for(;a<7&&1!=a||1==a&&r.charAt(1)>3;)a=(r=b((x=x.times(e)).d)).charAt(0),h++;for(i=N(x),a>1?(x=new y("0."+r),i++):x=new y(a+"."+r.slice(1)),d=c=x=j(x.minus(n),x.plus(n),m),p=E(x.times(x),m),s=3;;){if(c=E(c.times(p),m),b((u=d.plus(j(c,new y(s),m))).d).slice(0,m)===b(d.d).slice(0,m))return d=d.times(2),0!==i&&(d=d.plus(C(y,m+2,g).times(i+""))),d=j(d,new y(h),m),y.precision=g,null==t?(o=!0,E(d,g)):d;d=u,s+=2}}function k(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;48===t.charCodeAt(a);)++a;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(a,n)){if(n-=a,r=r-a-1,e.e=u(r/7),e.d=[],a=(r+1)%7,r<0&&(a+=7),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=7;a<n;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),o&&(e.e>f||e.e<-f))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var a,n,s,i,l,c,p,x,y=e.d;for(i=1,s=y[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,n=t,p=y[x=0];else{if((x=Math.ceil((a+1)/7))>=(s=y.length))return e;for(p=s=y[x],i=1;s>=10;s/=10)i++;n=(a%=7)-7+i}if(void 0!==r&&(l=p/(s=m(10,i-n-1))%10|0,c=t<0||void 0!==y[x+1]||p%s,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(a>0?n>0?p/m(10,i-n):0:y[x-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return c?(s=N(e),y.length=1,t=t-s-1,y[0]=m(10,(7-t%7)%7),e.e=u(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==a?(y.length=x,s=1,x--):(y.length=x+1,s=m(10,7-a),y[x]=n>0?(p/m(10,i-n)%m(10,n)|0)*s:0),c)for(;;){if(0==x){(y[0]+=s)==h&&(y[0]=1,++e.e);break}if(y[x]+=s,y[x]!=h)break;y[x--]=0,s=1}for(a=y.length;0===y[--a];)y.pop();if(o&&(e.e>f||e.e<-f))throw Error(d+N(e));return e}function P(e,t){var r,a,n,s,i,l,c,d,u,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),o?E(t,x):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),i=d-a){for((u=i<0)?(r=c,i=-i,l=m.length):(r=m,a=d,l=c.length),i>(n=Math.max(Math.ceil(x/7),l)+2)&&(i=n,r.length=1),r.reverse(),n=i;n--;)r.push(0);r.reverse()}else{for((u=(n=c.length)<(l=m.length))&&(l=n),n=0;n<l;n++)if(c[n]!=m[n]){u=c[n]<m[n];break}i=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,n=m.length-l;n>0;--n)c[l++]=0;for(n=m.length;n>i;){if(c[--n]<m[n]){for(s=n;s&&0===c[--s];)c[s]=h-1;--c[s],c[n]+=h}c[n]-=m[n]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--a;return c[0]?(t.d=c,t.e=a,o?E(t,x):t):new p(0)}function O(e,t,r){var a,n=N(e),s=b(e.d),i=s.length;return t?(r&&(a=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+S(a):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+S(-n-1)+s,r&&(a=r-i)>0&&(s+=S(a))):n>=i?(s+=S(n+1-i),r&&(a=r-n-1)>0&&(s=s+"."+S(a))):((a=n+1)<i&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-i)>0&&(n+1===i&&(s+="."),s+=S(a))),e.s<0?"-"+s:s}function T(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,a,n=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(a=e[r=n[t]])){if(!(u(a)===a&&a>=n[t+1]&&a<=n[t+2]))throw Error(c+r+": "+a);this[r]=a}if(void 0!==(a=e[r="LN10"])){if(a!=Math.LN10)throw Error(c+r+": "+a);this[r]=new this(a)}return this}i=function e(t){var r,a,n;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);k(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=D,void 0===t&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)t.hasOwnProperty(a=n[r++])||(t[a]=this[a]);return s.config(t),s}(i),i.default=i.Decimal=i,n=new i(1),void 0===(a=function(){return i}.call(t,r,t,e))||(e.exports=a)}()},8232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var a=r(7938);const n="@@__IMMUTABLE_ORDERED__@@",s=e=>"Immutable."+e,i=e=>"["+e+"]",o=" ";const l=(e,t,r,n,l,c,d)=>++n>t.maxDepth?i(s(d)):s(d)+o+"["+(0,a.printIteratorValues)(e.values(),t,r,n,l,c)+"]",c=(e,t,r,c,d,u)=>e["@@__IMMUTABLE_MAP__@@"]?((e,t,r,n,l,c,d)=>++n>t.maxDepth?i(s(d)):s(d)+o+"{"+(0,a.printIteratorEntries)(e.entries(),t,r,n,l,c)+"}")(e,t,r,c,d,u,e[n]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?l(e,t,r,c,d,u,"List"):e["@@__IMMUTABLE_SET__@@"]?l(e,t,r,c,d,u,e[n]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?l(e,t,r,c,d,u,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?((e,t,r,n,l,c)=>{const d=s("Seq");return++n>t.maxDepth?i(d):e["@@__IMMUTABLE_KEYED__@@"]?d+o+"{"+(e._iter||e._object?(0,a.printIteratorEntries)(e.entries(),t,r,n,l,c):"\u2026")+"}":d+o+"["+(e._iter||e._array||e._collection||e._iterable?(0,a.printIteratorValues)(e.values(),t,r,n,l,c):"\u2026")+"]"})(e,t,r,c,d,u):((e,t,r,n,l,c)=>{const d=s(e._name||"Record");return++n>t.maxDepth?i(d):d+o+"{"+(0,a.printIteratorEntries)(function(e){let t=0;return{next(){if(t<e._keys.length){const r=e._keys[t++];return{done:!1,value:[r,e.get(r)]}}return{done:!0,value:void 0}}}}(e),t,r,n,l,c)+"}"})(e,t,r,c,d,u);t.serialize=c;const d=e=>e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"]);t.test=d;var u={serialize:c,test:d};t.default=u},8250:(e,t,r)=>{var a=r(3738).default,n=r(3255),s=r(9511);function i(){e.exports=i=function(e,t){return new o(e,void 0,t)},e.exports.__esModule=!0,e.exports.default=e.exports;var t=RegExp.prototype,r=new WeakMap;function o(e,t,a){var s=RegExp(e,t);return r.set(s,a||r.get(e)),n(s,o.prototype)}function l(e,t){var a=r.get(t);return Object.keys(a).reduce(function(t,r){var n=a[r];if("number"==typeof n)t[r]=e[n];else{for(var s=0;void 0===e[n[s]]&&s+1<n.length;)s++;t[r]=e[n[s]]}return t},Object.create(null))}return s(o,RegExp),o.prototype.exec=function(e){var r=t.exec.call(this,e);if(r){r.groups=l(r,this);var a=r.indices;a&&(a.groups=l(a,this))}return r},o.prototype[Symbol.replace]=function(e,n){if("string"==typeof n){var s=r.get(this);return t[Symbol.replace].call(this,e,n.replace(/\$<([^>]+)(>|$)/g,function(e,t,r){if(""===r)return e;var a=s[t];return Array.isArray(a)?"$"+a.join("$"):"number"==typeof a?"$"+a:""}))}if("function"==typeof n){var i=this;return t[Symbol.replace].call(this,e,function(){var e=arguments;return"object"!=a(e[e.length-1])&&(e=[].slice.call(e)).push(l(e,i)),n.apply(this,e)})}return t[Symbol.replace].call(this,e,n)},i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8258:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},8259:(e,t,r)=>{var a=r(5797);e.exports=function(e){var t=a(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},8286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":null,"aria-valuetext":null},relatedConcepts:[{concept:{name:"hr"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},8287:(e,t,r)=>{"use strict";var a=r(1297),n=r(2028),s=r(2488),i=r(2),o=r(7991),l=r(9269),c=r(2702),d=r(8317),u=r(3522),m=r(257),p=r(3913),h=r(3290),x=r(8887),f=r(2678),y=r(728),g=r(4696),v=r(8004),b=r(8358),j=n("SharedArrayBuffer.prototype.byteLength",!0),w=n("Date.prototype.getTime"),N=Object.getPrototypeOf,C=n("Object.prototype.toString"),S=i("%Set%",!0),A=n("Map.prototype.has",!0),k=n("Map.prototype.get",!0),E=n("Map.prototype.size",!0),P=n("Set.prototype.add",!0),O=n("Set.prototype.delete",!0),T=n("Set.prototype.has",!0),D=n("Set.prototype.size",!0);function R(e,t,r,a){for(var n,s=o(e);(n=s.next())&&!n.done;)if(F(t,n.value,r,a))return O(e,n.value),!0;return!1}function _(e){return"undefined"===typeof e?null:"object"!==typeof e?"symbol"!==typeof e&&("string"!==typeof e&&"number"!==typeof e||+e===+e):void 0}function M(e,t,r,n,s,i){var o=_(r);if(null!=o)return o;var l=k(t,o),c=a({},s,{strict:!1});return!("undefined"===typeof l&&!A(t,o)||!F(n,l,c,i))&&(!A(e,o)&&F(n,l,c,i))}function I(e,t,r){var a=_(r);return null!=a?a:T(t,a)&&!T(e,a)}function L(e,t,r,a,n,s){for(var i,l,c=o(e);(i=c.next())&&!i.done;)if(F(r,l=i.value,n,s)&&F(a,k(t,l),n,s))return O(e,l),!0;return!1}function F(e,t,r,n){var i=r||{};if(i.strict?c(e,t):e===t)return!0;if(y(e)!==y(t))return!1;if(!e||!t||"object"!==typeof e&&"object"!==typeof t)return i.strict?c(e,t):e==t;var l,O=n.has(e),_=n.has(t);if(O&&_){if(n.get(e)===n.get(t))return!0}else l={};return O||n.set(e,l),_||n.set(t,l),function(e,t,r,n){var i,l;if(typeof e!==typeof t)return!1;if(null==e||null==t)return!1;if(C(e)!==C(t))return!1;if(d(e)!==d(t))return!1;var c=u(e),y=u(t);if(c!==y)return!1;var O=e instanceof Error,_=t instanceof Error;if(O!==_)return!1;if((O||_)&&(e.name!==t.name||e.message!==t.message))return!1;var z=h(e),U=h(t);if(z!==U)return!1;if((z||U)&&(e.source!==t.source||s(e)!==s(t)))return!1;var B=p(e),V=p(t);if(B!==V)return!1;if((B||V)&&w(e)!==w(t))return!1;if(r.strict&&N&&N(e)!==N(t))return!1;var H=v(e),W=v(t);if(H!==W)return!1;if(H||W){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var G=q(e),Y=q(t);if(G!==Y)return!1;if(G||Y){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var K=m(e),$=m(t);if(K!==$)return!1;if(K||$)return b(e)===b(t)&&("function"===typeof Uint8Array&&F(new Uint8Array(e),new Uint8Array(t),r,n));var Q=x(e),X=x(t);if(Q!==X)return!1;if(Q||X)return j(e)===j(t)&&("function"===typeof Uint8Array&&F(new Uint8Array(e),new Uint8Array(t),r,n));if(typeof e!==typeof t)return!1;var J=f(e),Z=f(t);if(J.length!==Z.length)return!1;for(J.sort(),Z.sort(),i=J.length-1;i>=0;i--)if(J[i]!=Z[i])return!1;for(i=J.length-1;i>=0;i--)if(!F(e[l=J[i]],t[l],r,n))return!1;var ee=g(e),te=g(t);if(ee!==te)return!1;if("Set"===ee||"Set"===te)return function(e,t,r,a){if(D(e)!==D(t))return!1;var n,s,i,l=o(e),c=o(t);for(;(n=l.next())&&!n.done;)if(n.value&&"object"===typeof n.value)i||(i=new S),P(i,n.value);else if(!T(t,n.value)){if(r.strict)return!1;if(!I(e,t,n.value))return!1;i||(i=new S),P(i,n.value)}if(i){for(;(s=c.next())&&!s.done;)if(s.value&&"object"===typeof s.value){if(!R(i,s.value,r.strict,a))return!1}else if(!r.strict&&!T(e,s.value)&&!R(i,s.value,r.strict,a))return!1;return 0===D(i)}return!0}(e,t,r,n);if("Map"===ee)return function(e,t,r,n){if(E(e)!==E(t))return!1;var s,i,l,c,d,u,m=o(e),p=o(t);for(;(s=m.next())&&!s.done;)if(c=s.value[0],d=s.value[1],c&&"object"===typeof c)l||(l=new S),P(l,c);else if("undefined"===typeof(u=k(t,c))&&!A(t,c)||!F(d,u,r,n)){if(r.strict)return!1;if(!M(e,t,c,d,r,n))return!1;l||(l=new S),P(l,c)}if(l){for(;(i=p.next())&&!i.done;)if(c=i.value[0],u=i.value[1],c&&"object"===typeof c){if(!L(l,e,c,u,r,n))return!1}else if(!r.strict&&(!e.has(c)||!F(k(e,c),u,r,n))&&!L(l,e,c,u,a({},r,{strict:!1}),n))return!1;return 0===D(l)}return!0}(e,t,r,n);return!0}(e,t,i,n)}function q(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&(!(e.length>0&&"number"!==typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,r){return F(e,t,r,l())}},8317:(e,t,r)=>{"use strict";var a=r(4635)(),n=r(8117)("Object.prototype.toString"),s=function(e){return!(a&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===n(e)},i=function(e){return!!s(e)||null!==e&&"object"===typeof e&&"length"in e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==n(e)&&"callee"in e&&"[object Function]"===n(e.callee)},o=function(){return s(arguments)}();s.isLegacyArguments=i,e.exports=o?s:i},8325:(e,t,r)=>{var a=r(2541),n=r(5654),s=r(3279),i=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:s;e.exports=i},8348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"frontmatter"},module:"DTB"},{concept:{name:"level"},module:"DTB"},{concept:{name:"level"},module:"SMIL"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},8358:(e,t,r)=>{"use strict";var a=r(8117)("ArrayBuffer.prototype.byteLength",!0),n=r(257);e.exports=function(e){return n(e)?a?a(e):e.byteLength:NaN}},8365:(e,t,r)=>{"use strict";var a=r(5043);var n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,i=a.useRef,o=a.useEffect,l=a.useMemo,c=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,a,d){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=l(function(){function e(e){if(!o){if(o=!0,s=e,e=a(e),void 0!==d&&m.hasValue){var t=m.value;if(d(t,e))return i=t}return i=e}if(t=i,n(s,e))return t;var r=a(e);return void 0!==d&&d(t,r)?(s=e,t):(s=e,i=r)}var s,i,o=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,a,d]);var p=s(e,u[0],u[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),c(p),p}},8387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=r},8449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-colspan":null,"aria-rowindex":null,"aria-rowspan":null},relatedConcepts:[{concept:{constraints:["descendant of table"],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8468:(e,t,r)=>{var a=r(5816),n=r(644),s=r(4020);e.exports=function(e,t,r){return t===t?s(e,t,r):a(e,n,r)}},8477:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menu"},module:"HTML"},{concept:{name:"ol"},module:"HTML"},{concept:{name:"ul"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["listitem"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},8541:(e,t,r)=>{var a=r(9812),n=r(149),s=r(4052),i=r(9841),o=a?a.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return n(t,e)+"";if(i(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8583:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-object"}},{module:"ARIA",concept:{name:"img"}},{module:"ARIA",concept:{name:"article"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=r},8624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"],["roletype","widget","command","menuitem"]]};t.default=r},8673:(e,t,r)=>{var a=r(3204),n=r(3713),s=r(6571);e.exports=function(e){return s(e)?a(e):n(e)}},8704:e=>{function t(e,t){var r=e.length,a=new Array(r),n={},s=r,i=function(e){for(var t=new Map,r=0,a=e.length;r<a;r++){var n=e[r];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}(t),o=function(e){for(var t=new Map,r=0,a=e.length;r<a;r++)t.set(e[r],r);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)n[s]||l(e[s],s,new Set);return a;function l(e,t,s){if(s.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(m){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!n[t]){n[t]=!0;var d=i.get(e)||new Set;if(t=(d=Array.from(d)).length){s.add(e);do{var u=d[--t];l(u,o.get(u),s)}while(t);s.delete(e)}a[--r]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,r=0,a=e.length;r<a;r++){var n=e[r];t.add(n[0]),t.add(n[1])}return Array.from(t)}(e),e)},e.exports.array=t},8712:(e,t,r)=>{"use strict";var a=r(8206),n=r(4902),s=function(e,t,r){for(var a,n=e;null!=(a=n.next);n=a)if(a.key===t)return n.next=a.next,r||(a.next=e.next,e.next=a),a};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+a(e))},delete:function(t){var r=e&&e.next,a=function(e,t){if(e)return s(e,t,!0)}(e,t);return a&&r&&r===a&&(e=void 0),!!a},get:function(t){return function(e,t){if(e){var r=s(e,t);return r&&r.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!s(e,t)}(e,t)},set:function(t,r){e||(e={next:void 0}),function(e,t,r){var a=s(e,t);a?a.value=r:e.next={key:t,next:e.next,value:r}}(e,t,r)}};return t}},8724:(e,t,r)=>{var a=r(7615),n=r(5051),s=r(2154),i=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8734:(e,t,r)=>{var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:n.call(t,e)}},8746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"radio"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=r},8799:e=>{"use strict";var t,r,a=Function.prototype.toString,n="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof n&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},n(function(){throw 42},null,t)}catch(p){p!==r&&(n=null)}else n=null;var s=/^\s*class\b/,i=function(e){try{var t=a.call(e);return s.test(t)}catch(r){return!1}},o=function(e){try{return!i(e)&&(a.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,c="function"===typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),u=function(){return!1};if("object"===typeof document){var m=document.all;l.call(m)===l.call(document.all)&&(u=function(e){if((d||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}e.exports=n?function(e){if(u(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{n(e,null,t)}catch(a){if(a!==r)return!1}return!i(e)&&o(e)}:function(e){if(u(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(c)return o(e);if(i(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&o(e)}},8811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},8818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"part [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8870:(e,t,r)=>{"use strict";r.d(t,{BH:()=>g,Cp:()=>f,F$:()=>h,G6:()=>N,HN:()=>l,MK:()=>m,Od:()=>x,S$:()=>n,Zw:()=>i,b_:()=>u,gn:()=>o,j3:()=>c,jY:()=>C,lQ:()=>s,nJ:()=>p,vh:()=>d,yy:()=>w});var a=r(8168),n="undefined"===typeof window;function s(){}function i(e,t){return"function"===typeof e?e(t):e}function o(e){return"number"===typeof e&&e>=0&&e!==1/0}function l(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,r){return j(e)?"function"===typeof t?(0,a.A)({},r,{queryKey:e,queryFn:t}):(0,a.A)({},t,{queryKey:e}):e}function u(e,t,r){return j(e)?[(0,a.A)({},t,{queryKey:e}),r]:[e||{},t]}function m(e,t){var r=e.active,a=e.exact,n=e.fetching,s=e.inactive,i=e.predicate,o=e.queryKey,l=e.stale;if(j(o))if(a){if(t.queryHash!==h(o,t.options))return!1}else if(!f(t.queryKey,o))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(r,s);if("none"===c)return!1;if("all"!==c){var d=t.isActive();if("active"===c&&!d)return!1;if("inactive"===c&&d)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("boolean"!==typeof n||t.isFetching()===n)&&!(i&&!i(t)))}function p(e,t){var r=e.exact,a=e.fetching,n=e.predicate,s=e.mutationKey;if(j(s)){if(!t.options.mutationKey)return!1;if(r){if(x(t.options.mutationKey)!==x(s))return!1}else if(!f(t.options.mutationKey,s))return!1}return("boolean"!==typeof a||"loading"===t.state.status===a)&&!(n&&!n(t))}function h(e,t){return((null==t?void 0:t.queryKeyHashFn)||x)(e)}function x(e){var t,r=l(e);return t=r,JSON.stringify(t,function(e,t){return v(t)?Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{}):t})}function f(e,t){return y(l(e),l(t))}function y(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(r){return!y(e[r],t[r])}))}function g(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||v(e)&&v(t)){for(var a=r?e.length:Object.keys(e).length,n=r?t:Object.keys(t),s=n.length,i=r?[]:{},o=0,l=0;l<s;l++){var c=r?l:n[l];i[c]=g(e[c],t[c]),i[c]===e[c]&&o++}return a===s&&o===a?e:i}return t}function v(e){if(!b(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var r=t.prototype;return!!b(r)&&!!r.hasOwnProperty("isPrototypeOf")}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"string"===typeof e||Array.isArray(e)}function w(e){return new Promise(function(t){setTimeout(t,e)})}function N(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function C(){if("function"===typeof AbortController)return new AbortController}},8883:(e,t,r)=>{var a=r(5652),n=r(6571);e.exports=function(e,t){var r=-1,s=n(e)?Array(e.length):[];return a(e,function(e,a,n){s[++r]=t(e,a,n)}),s}},8887:(e,t,r)=>{"use strict";var a=r(8117)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=a?function(e){if(!e||"object"!==typeof e)return!1;try{return a(e),!0}catch(t){return!1}}:function(e){return!1}},8895:e=>{e.exports=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}},8902:(e,t,r)=>{var a=r(4816),n=r(6179),s=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new a;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,e.exports=i},8903:(e,t,r)=>{"use strict";var a=r(5043),n=r(7950);function s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function i(e){if(s(e)!==e)throw Error("Unable to find node on an unmounted component.")}var o=Object.assign;function l(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function c(){return!0}function d(){return!1}function u(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?c:d,this.isPropagationStopped=d,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=c)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=c)},persist:function(){},isPersistent:c}),t}var m={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p=u(m),h=o({},m,{view:0,detail:0});u(h);var x,f,y,g=o({},h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==y&&(y&&"mousemove"===e.type?(x=e.screenX-y.screenX,f=e.screenY-y.screenY):f=x=0,y=e),x)},movementY:function(e){return"movementY"in e?e.movementY:f}});u(g),u(o({},g,{dataTransfer:0})),u(o({},h,{relatedTarget:0})),u(o({},m,{animationName:0,elapsedTime:0,pseudoElement:0})),u(o({},m,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),u(o({},m,{data:0}));var v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=j[e])&&!!t[e]}function N(){return w}function C(e,t,r,a,n,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}u(o({},h,{key:function(e){if(e.key){var t=v[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=l(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?b[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N,charCode:function(e){return"keypress"===e.type?l(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?l(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),u(o({},g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),u(o({},h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N})),u(o({},m,{propertyName:0,elapsedTime:0,pseudoElement:0})),u(o({},g,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}));var S=!1,A=null,k=!1,E=null,P={onError:function(e){S=!0,A=e}};function O(e,t,r,a,n,s,i,o,l){S=!1,A=null,C.apply(P,arguments)}var T=Array.isArray,D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,R=D[0],_=D[1],M=D[2],I=D[3],L=D[4],F=a.unstable_act;function q(){}function z(e,t){if(!e)return[];if(e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(a=n.return)){r=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return i(n),e;if(o===a)return i(n),t;o=o.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==a.return)r=n,a=o;else{for(var l=!1,c=n.child;c;){if(c===r){l=!0,r=n,a=o;break}if(c===a){l=!0,a=n,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,a=n;break}if(c===a){l=!0,a=o,r=n;break}c=c.sibling}if(!l)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==a)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}(e),!e)return[];for(var r=e,a=[];;){if(5===r.tag||6===r.tag||1===r.tag||0===r.tag){var n=r.stateNode;t(n)&&a.push(n)}if(r.child)r.child.return=r,r=r.child;else{if(r===e)return a;for(;!r.sibling;){if(!r.return||r.return===e)return a;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function U(e,t){if(e&&!e._reactInternals){var r=String(e);throw e=T(e)?"an array":e&&1===e.nodeType&&e.tagName?"a DOM node":"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,Error(t+"(...): the first argument must be a React class instance. Instead received: "+e+".")}}function B(e){return!(!e||1!==e.nodeType||!e.tagName)}function V(e){return!B(e)&&(null!=e&&"function"===typeof e.render&&"function"===typeof e.setState)}function H(e,t){return!!V(e)&&e._reactInternals.type===t}function W(e,t){return U(e,"findAllInRenderedTree"),e?z(e._reactInternals,t):[]}function G(e,t){return U(e,"scryRenderedDOMComponentsWithClass"),W(e,function(e){if(B(e)){var r=e.className;"string"!==typeof r&&(r=e.getAttribute("class")||"");var a=r.split(/\s+/);if(!T(t)){if(void 0===t)throw Error("TestUtils.scryRenderedDOMComponentsWithClass expects a className as a second argument.");t=t.split(/\s+/)}return t.every(function(e){return-1!==a.indexOf(e)})}return!1})}function Y(e,t){return U(e,"scryRenderedDOMComponentsWithTag"),W(e,function(e){return B(e)&&e.tagName.toUpperCase()===t.toUpperCase()})}function K(e,t){return U(e,"scryRenderedComponentsWithType"),W(e,function(e){return H(e,t)})}function $(e,t,r){var a=e.type||"unknown-event";e.currentTarget=_(r),function(e,t,r,a,n,s,i,o,l){if(O.apply(this,arguments),S){if(!S)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var c=A;S=!1,A=null,k||(k=!0,E=c)}}(a,t,void 0,e),e.currentTarget=null}function Q(e,t,r){for(var a=[];e;){a.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=a.length;0<e--;)t(a[e],"captured",r);for(e=0;e<a.length;e++)t(a[e],"bubbled",r)}function X(e,t){var r=e.stateNode;if(!r)return null;var a=M(r);if(!a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof r+"` type.");return r}function J(e,t,r){var a=r._reactName;"captured"===t&&(a+="Capture"),(t=X(e,a))&&(null==r._dispatchListeners&&(r._dispatchListeners=[]),null==r._dispatchInstances&&(r._dispatchInstances=[]),r._dispatchListeners.push(t),r._dispatchInstances.push(e))}var Z={},ee=new Set(["mouseEnter","mouseLeave","pointerEnter","pointerLeave"]);function te(e){return function(t,r){if(a.isValidElement(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.");if(V(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.");var s="on"+e[0].toUpperCase()+e.slice(1),i=new q;i.target=t,i.type=e.toLowerCase();var l=R(t),c=new p(s,i.type,l,i,t);c.persist(),o(c,r),ee.has(e)?c&&c._reactName&&function(e,t,r){e&&r&&r._reactName&&(t=X(e,r._reactName))&&(null==r._dispatchListeners&&(r._dispatchListeners=[]),null==r._dispatchInstances&&(r._dispatchInstances=[]),r._dispatchListeners.push(t),r._dispatchInstances.push(e))}(c._targetInst,null,c):c&&c._reactName&&Q(c._targetInst,J,c),n.unstable_batchedUpdates(function(){if(I(t),c){var e=c._dispatchListeners,r=c._dispatchInstances;if(T(e))for(var a=0;a<e.length&&!c.isPropagationStopped();a++)$(c,e[a],r[a]);else e&&$(c,e,r);c._dispatchListeners=null,c._dispatchInstances=null,c.isPersistent()||c.constructor.release(c)}if(k)throw e=E,k=!1,E=null,e}),L()}}"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate".split(" ").forEach(function(e){Z[e]=te(e)}),t.act=F},8937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-selected":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"gridcell"}],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","widget"]]};t.default=r},8990:(e,t,r)=>{var a=r(9995)(r(2520));e.exports=a},9030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"errata [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9045:(e,t,r)=>{var a=r(3738).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-multiselectable":null,"aria-readonly":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"grid"}],name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","table"]]};t.default=r},9057:(e,t,r)=>{var a=r(5324),n=r(2777),s=r(4052),i=r(9194),o=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,d=(t=a(t,e)).length,u=!1;++c<d;){var m=l(t[c]);if(!(u=null!=e&&r(e,m)))break;e=e[m]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&i(m,d)&&(s(e)||n(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","content"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"referrer [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},9096:(e,t,r)=>{var a=r(9256),n=r(5029),s=r(3279),i=r(4052),o=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?n(e[0],e[1]):a(e):o(e)}},9102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-expanded":"false","aria-haspopup":"listbox"},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{constraints:["undefined"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{name:"size",value:1}],name:"select"},module:"HTML"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-expanded":"false"},superClass:[["roletype","widget","input"]]};t.default=r},9106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"help [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=r},9115:(e,t,r)=>{var a=r(5967),n=r(6311),s=r(715);e.exports=function(e){return n(e)?s(e):a(e)}},9140:(e,t,r)=>{var a=r(7303);e.exports=function(e){var t=a(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==a(e)}},9173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-multiline":null,"aria-placeholder":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"type"},{constraints:["undefined"],name:"list"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{name:"input"},module:"XForms"},{concept:{name:"textarea"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input"]]};t.default=r},9185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"dedication [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var a=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<r}},9200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[{concept:{name:"details"},module:"HTML"},{concept:{name:"fieldset"},module:"HTML"},{concept:{name:"optgroup"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(r(6225)),n=l(r(3863)),s=l(r(4842)),i=l(r(1088)),o=l(r(4975));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}return s}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var h=[].concat(a.default,n.default,s.default,i.default);h.forEach(function(e){var t,r=u(e,2)[1],a=d(r.superClass);try{for(a.s();!(t=a.n()).done;){var n,s=d(t.value);try{var i=function(){var e=n.value,t=h.find(function(t){return u(t,1)[0]===e});if(t)for(var a=t[1],s=0,i=Object.keys(a.props);s<i.length;s++){var o=i[s];Object.prototype.hasOwnProperty.call(r.props,o)||Object.assign(r.props,c({},o,a.props[o]))}};for(s.s();!(n=s.n()).done;)i()}catch(o){s.e(o)}finally{s.f()}}}catch(o){a.e(o)}finally{a.f()}});var x={entries:function(){return h},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=d(h);try{for(a.s();!(t=a.n()).done;){var n=u(t.value,2),s=n[0],i=n[1];e.call(r,i,s,h)}}catch(o){a.e(o)}finally{a.f()}},get:function(e){var t=h.find(function(t){return t[0]===e});return t&&t[1]},has:function(e){return!!x.get(e)},keys:function(){return h.map(function(e){return u(e,1)[0]})},values:function(){return h.map(function(e){return u(e,2)[1]})}},f=(0,o.default)(x,x.entries());t.default=f},9256:(e,t,r)=>{var a=r(6532),n=r(3781),s=r(1310);e.exports=function(e){var t=n(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(r){return r===e||a(r,e,t)}}},9269:(e,t,r)=>{"use strict";var a=r(4902),n=r(8206),s=r(8712),i=r(7858),o=r(5322)||i||s;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+n(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=o()),e.set(t,r)}};return t}},9304:e=>{"use strict";e.exports=Error},9364:(e,t,r)=>{var a=r(9742),n=r(9096),s=r(61);e.exports=function(e,t){return e&&e.length?a(e,n(t,2),s):void 0}},9379:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4705);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},9394:(e,t,r)=>{var a=r(2622);e.exports=function(e){return a(this,e).has(e)}},9395:(e,t,r)=>{var a=r(4262),n=r(9621),s=r(8673);e.exports=function(e){return a(e,s,n)}},9417:(e,t,r)=>{var a=r(6686);e.exports=function(e){return e===e&&!a(e)}},9511:(e,t,r)=>{var a=r(3255);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9534:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var a in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},9621:(e,t,r)=>{var a=r(7529),n=r(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),a(i(e),function(t){return s.call(e,t)}))}:n;e.exports=o},9625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["article"]],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=r},9637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"foreword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,a,n,s){for(var i=-1,o=r(t((a-e)/(n||1)),0),l=Array(o);o--;)l[s?o:++i]=e,e+=n;return l}},9685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite","grid"],["roletype","structure","section","table","grid"],["roletype","widget","composite","select","tree"],["roletype","structure","section","group","select","tree"]]};t.default=r},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var a=r(9841);e.exports=function(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(null!=o&&(void 0===l?o===o&&!a(o):r(o,l)))var l=o,c=i}return c}},9810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"prologue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9812:(e,t,r)=>{var a=r(6552).Symbol;e.exports=a},9820:e=>{"use strict";e.exports=EvalError},9833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9841:(e,t,r)=>{var a=r(6913),n=r(2761);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==a(e)}},9853:(e,t,r)=>{var a=r(6989);e.exports=function(e,t){return a(e,t)}},9889:(e,t,r)=>{var a=r(3950),n=r(6686);e.exports=function(e,t,r){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return n(r)&&(s="leading"in r?!!r.leading:s,i="trailing"in r?!!r.trailing:i),a(e,t,{leading:s,maxWait:t,trailing:i})}},9890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"menubar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=r},9906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=r},9912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"main"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9935:(e,t,r)=>{var a=r(1340),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var a=r(9812),n=r(2929),s=r(3211),i=r(3668),o=r(4160),l=r(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,a,c,u,m){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var h=1&a;if(p||(p=l),e.size!=t.size&&!h)return!1;var x=m.get(e);if(x)return x==t;a|=2,m.set(e,t);var f=i(p(e),p(t),a,c,u,m);return m.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,r)=>{var a=r(9096),n=r(6571),s=r(8673);e.exports=function(e){return function(t,r,i){var o=Object(t);if(!n(t)){var l=a(r,3);t=s(t),r=function(e){return l(o[e],e,o)}}var c=e(t,r,i);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,r.d(s,i),s}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Tl,hasStandardBrowserEnv:()=>Rl,hasStandardBrowserWebWorkerEnv:()=>_l,navigator:()=>Dl,origin:()=>Ml});var t={};r.r(t),r.d(t,{Decoder:()=>pm,Encoder:()=>um,PacketType:()=>dm,protocol:()=>cm});var a={};r.r(a),r.d(a,{scaleBand:()=>wk,scaleDiverging:()=>ZD,scaleDivergingLog:()=>eR,scaleDivergingPow:()=>rR,scaleDivergingSqrt:()=>aR,scaleDivergingSymlog:()=>tR,scaleIdentity:()=>YP,scaleImplicit:()=>bk,scaleLinear:()=>GP,scaleLog:()=>rO,scaleOrdinal:()=>jk,scalePoint:()=>Ck,scalePow:()=>uO,scaleQuantile:()=>NO,scaleQuantize:()=>CO,scaleRadial:()=>hO,scaleSequential:()=>GD,scaleSequentialLog:()=>YD,scaleSequentialPow:()=>$D,scaleSequentialQuantile:()=>XD,scaleSequentialSqrt:()=>QD,scaleSequentialSymlog:()=>KD,scaleSqrt:()=>mO,scaleSymlog:()=>iO,scaleThreshold:()=>SO,scaleTime:()=>BD,scaleUtc:()=>VD,tickFormat:()=>HP});var n,s=r(5043),i=r.t(s,2),o=r(4391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,r,a){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,u=n.Pop,x=null,f=y();function y(){return(o.state||{idx:null}).idx}function g(){u=n.Pop;let e=y(),t=null==e?null:e-f;f=e,x&&x({action:u,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==f&&(f=0,o.replaceState(l({},o.state,{idx:f}),""));let b={get action(){return u},get location(){return e(s,o)},listen(e){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener(c,g),x=e,()=>{s.removeEventListener(c,g),x=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=n.Push;let a=p(b.location,e,t);r&&r(a,e),f=y()+1;let l=m(a,f),c=b.createHref(a);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}i&&x&&x({action:u,location:b.location,delta:1})},replace:function(e,t){u=n.Replace;let a=p(b.location,e,t);r&&r(a,e),f=y();let s=m(a,f),l=b.createHref(a);o.replaceState(s,"",l),i&&x&&x({action:u,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,a){let n=R(("string"===typeof t?x(t):t).pathname||"/",r);if(null==n)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=D(n);i=O(s[o],e,a)}return i}function b(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=F([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of j(e.path))n(e,t,a);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let i=j(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,C=2,S=1,A=10,k=-2,E=e=>"*"===e;function P(e,t){let r=e.split("/"),a=r.length;return r.some(E)&&(a+=k),t&&(a+=C),r.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?S:A),a)}function O(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,n={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:F([s,d.pathname]),pathnameBase:q(F([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=F([s,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),o=n.slice(1),l=a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function _(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let r=M(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function L(e,t,r,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=x(e):(n=l({},e),d(!n.pathname||!n.pathname.includes("?"),_("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),_("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),_("#","search","hash",n)));let s,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)s=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:n=""}="string"===typeof e?x(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:z(a),hash:U(n)}}(n,s),u=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W.apply(this,arguments)}const G=s.createContext(null);const Y=s.createContext(null);const K=s.createContext(null);const $=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function J(){return null!=s.useContext($)}function Z(){return J()||d(!1),s.useContext($).location}function ee(e){s.useContext(K).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=pe(ue.UseNavigateStable),t=xe(me.UseNavigateStable),r=s.useRef(!1);return ee(()=>{r.current=!0}),s.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},n)))},[e,t])}():function(){J()||d(!1);let e=s.useContext(G),{basename:t,future:r,navigator:a}=s.useContext(K),{matches:n}=s.useContext(Q),{pathname:i}=Z(),o=JSON.stringify(I(n,r.v7_relativeSplatPath)),l=s.useRef(!1);ee(()=>{l.current=!0});let c=s.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void a.go(r);let s=L(r,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[t,a,o,i,e]);return c}()}const re=s.createContext(null);function ae(){let{matches:e}=s.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=s.useContext(K),{matches:n}=s.useContext(Q),{pathname:i}=Z(),o=JSON.stringify(I(n,a.v7_relativeSplatPath));return s.useMemo(()=>L(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function se(e,t,r,a){J()||d(!1);let{navigator:i}=s.useContext(K),{matches:o}=s.useContext(Q),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,p=Z();if(t){var h;let e="string"===typeof t?x(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),m=e}else m=p;let f=m.pathname||"/",y=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:y});let b=de(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);return t&&b?s.createElement($.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},b):b}function ie(){let e=function(){var e;let t=s.useContext(X),r=he(me.UseRouteError),a=xe(me.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:n},r):null,null)}const oe=s.createElement(ie,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:a}=e,n=s.useContext(G);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(Q.Provider,{value:t},a)}function de(e,t,r,a){var n;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(n=r)?void 0:n.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,n)=>{let i,d=!1,m=null,p=null;var h;r&&(i=l&&a.route.id?l[a.route.id]:void 0,m=a.route.errorElement||oe,c&&(u<0&&0===n?(h="route-fallback",!1||fe[h]||(fe[h]=!0),d=!0,p=null):u===n&&(d=!0,p=a.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,n+1)),f=()=>{let t;return t=i?m:d?p:a.route.Component?s.createElement(a.route.Component,null):a.route.element?a.route.element:e,s.createElement(ce,{match:a,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===n)?s.createElement(le,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function pe(e){let t=s.useContext(G);return t||d(!1),t}function he(e){let t=s.useContext(Y);return t||d(!1),t}function xe(e){let t=function(){let e=s.useContext(Q);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const fe={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:r,state:a,relative:n}=e;J()||d(!1);let{future:i,static:o}=s.useContext(K),{matches:l}=s.useContext(Q),{pathname:c}=Z(),u=te(),m=L(t,I(l,i.v7_relativeSplatPath),c,"path"===n),p=JSON.stringify(m);return s.useEffect(()=>u(JSON.parse(p),{replace:r,state:a,relative:n}),[u,p,n,r,a]),null}function ve(e){return function(e){let t=s.useContext(Q).outlet;return t?s.createElement(re.Provider,{value:e},t):t}(e.context)}function be(e){d(!1)}function je(e){let{basename:t="/",children:r=null,location:a,navigationType:i=n.Pop,navigator:o,static:l=!1,future:c}=e;J()&&d(!1);let u=t.replace(/^\/*/,"/"),m=s.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof a&&(a=x(a));let{pathname:p="/",search:h="",hash:f="",state:y=null,key:g="default"}=a,v=s.useMemo(()=>{let e=R(p,u);return null==e?null:{location:{pathname:e,search:h,hash:f,state:y,key:g},navigationType:i}},[u,p,h,f,y,g,i]);return null==v?null:s.createElement(K.Provider,{value:m},s.createElement($.Provider,{children:r,value:v}))}function we(e){let{children:t,location:r}=e;return se(Ne(t),r)}new Promise(()=>{});s.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return s.Children.forEach(e,(e,a)=>{if(!s.isValidElement(e))return;let n=[...t,a];if(e.type===s.Fragment)return void r.push.apply(r,Ne(e.props.children,n));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,n)),r.push(i)}),r}var Ce=r(7950),Se=r.t(Ce,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(this,arguments)}function ke(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Ee(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Pe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(CY){}new Map;const Oe=i.startTransition;Se.flushSync,i.useId;function Te(e){let{basename:t,children:r,future:a,window:n}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:n,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return p("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let l=i.current,[c,d]=s.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},m=s.useCallback(e=>{u&&Oe?Oe(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>l.listen(m),[l,m]),s.useEffect(()=>ye(a),[a]),s.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=s.forwardRef(function(e,t){let r,{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,x=ke(e,Pe),{basename:f}=s.useContext(K),y=!1;if("string"===typeof u&&Re.test(u)&&(r=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=R(t.pathname,f);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:y=!0}catch(CY){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;J()||d(!1);let{basename:a,navigator:n}=s.useContext(K),{hash:i,pathname:o,search:l}=ne(e,{relative:r}),c=o;return"/"!==a&&(c="/"===o?a:F([a,o])),n.createHref({pathname:c,search:l,hash:i})}(u,{relative:n}),v=function(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==a?a:h(d)===h(u);c(e,{replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,n,r,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:m,relative:n,viewTransition:p});return s.createElement("a",Ae({},x,{href:r||g,onClick:y||i?a:function(e){a&&a(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Me,Ie;function Le(e){let t=s.useRef(Ee(e)),r=s.useRef(!1),a=Z(),n=s.useMemo(()=>function(e,t){let r=Ee(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(a.search,r.current?null:t.current),[a.search]),i=te(),o=s.useCallback((e,t)=>{const a=Ee("function"===typeof e?e(n):e);r.current=!0,i("?"+a,t)},[i,n]);return[n,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var Fe=r(7237);function qe(e){e()}var ze={notify(){},get:()=>[]};function Ue(e,t){let r,a=ze,n=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function o(){n++,r||(r=t?t.addNestedSub(i):e.subscribe(i),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qe(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){a&&null!==e&&(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}())}function l(){n--,r&&0===n&&(r(),r=void 0,a.clear(),a=ze)}const c={addNestedSub:function(e){o();const t=a.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>a};return c}var Be=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Ve=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),He=(()=>Be||Ve?s.useLayoutEffect:s.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var We=Symbol.for("react-redux-context"),Ge="undefined"!==typeof globalThis?globalThis:{};function Ye(){var e;if(!s.createContext)return{};const t=null!==(e=Ge[We])&&void 0!==e?e:Ge[We]=new Map;let r=t.get(s.createContext);return r||(r=s.createContext(null),t.set(s.createContext,r)),r}var Ke=Ye();var $e=function(e){const{children:t,context:r,serverState:a,store:n}=e,i=s.useMemo(()=>{const e=Ue(n);return{store:n,subscription:e,getServerState:a?()=>a:void 0}},[n,a]),o=s.useMemo(()=>n.getState(),[n]);He(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,o]);const l=r||Ke;return s.createElement(l.Provider,{value:i},t)};function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return function(){return s.useContext(e)}}var Xe=Qe();function Je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;const t=e===Ke?Xe:Qe(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var Ze=Je();function et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;const t=e===Ke?Ze:Je(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var tt=et(),rt=(e,t)=>e===t;function at(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;const t=e===Ke?Xe:Qe(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=rt}="function"===typeof r?{equalityFn:r}:r;const n=t(),{store:i,subscription:o,getServerState:l}=n,c=(s.useRef(!0),s.useCallback({[e.name]:t=>e(t)}[e.name],[e])),d=(0,Fe.useSyncExternalStoreWithSelector)(o.addNestedSub,i.getState,l||i.getState,c,a);return s.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var nt=at(),st=r(2907),it=r(3986),ot=r(9379);function lt(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=lt(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}const ct=function(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=lt(e))&&(a&&(a+=" "),a+=t);return a},dt=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ut=e=>"number"==typeof e&&!isNaN(e),mt=e=>"string"==typeof e,pt=e=>"function"==typeof e,ht=e=>mt(e)||pt(e)?e:null,xt=(e,t)=>!1===e||ut(e)&&e>0?e:t,ft=e=>(0,s.isValidElement)(e)||mt(e)||pt(e)||ut(e);function yt(e){let{enter:t,exit:r,appendPosition:a=!1,collapse:n=!0,collapseDuration:i=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:p}=e,h=a?"".concat(t,"--").concat(l):t,x=a?"".concat(r,"--").concat(l):r,f=(0,s.useRef)(0);return(0,s.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),r=a=>{a.target===u.current&&(p(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===f.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,s.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),n?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition="all ".concat(r,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}(e,d,i):d()};m||(c?t():(f.current=1,e.className+=" ".concat(x),e.addEventListener("animationend",t)))},[m]),s.createElement(s.Fragment,null,o)}}function gt(e,t){return{content:vt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function vt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.isValidElement)(e)&&!mt(e.type)?(0,s.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):pt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function bt(e){let{delay:t,isRunning:r,closeToast:a,type:n="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:m}=e,p=i||l&&0===c,h={animationDuration:"".concat(t,"ms"),animationPlayState:r?"running":"paused"};l&&(h.transform="scaleX(".concat(c,")"));let x=ct("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(n),{"Toastify__progress-bar--rtl":d}),f=pt(o)?o({rtl:d,type:n,defaultClassName:x}):ct(x,o),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&a()}};return s.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},s.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(m," Toastify__progress-bar--").concat(n)}),s.createElement("div",(0,ot.A)({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:f,style:h},y)))}var jt=1,wt=()=>"".concat(jt++);function Nt(e,t,r){let a=1,n=0,s=[],i=[],o=t,l=new Map,c=new Set,d=()=>{i=Array.from(l.values()),c.forEach(e=>e())},u=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},p=e=>{var t,a;let{toastId:n,updateId:s}=e.props,i=null==s;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(n,e),d(),r(gt(e,i?"added":"updated")),i&&(null==(a=(t=e.props).onOpen)||a.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(r=>{var a;(null==t||t===r.props.toastId)&&(null==(a=r.toggle)||a.call(r,e))})},removeToast:m,toasts:l,clearQueue:()=>{n-=s.length,s=[]},buildToast:(t,i)=>{if((t=>{let{containerId:r,toastId:a,updateId:n}=t,s=r?r!==e:1!==e,i=l.has(a)&&null==n;return s||i})(i))return;let{toastId:c,updateId:u,data:h,staleId:x,delay:f}=i,y=null==u;y&&n++;let g=(0,ot.A)((0,ot.A)((0,ot.A)({},o),{},{style:o.toastStyle,key:a++},Object.fromEntries(Object.entries(i).filter(e=>{let[t,r]=e;return null!=r}))),{},{toastId:c,updateId:u,data:h,isIn:!1,className:ht(i.className||o.toastClassName),progressClassName:ht(i.progressClassName||o.progressClassName),autoClose:!i.isLoading&&xt(i.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,m(c)},deleteToast(){let e=l.get(c);if(null!=e){if(r(gt(e,"removed")),l.delete(c),n--,n<0&&(n=0),s.length>0)return void p(s.shift());d()}}});g.closeButton=o.closeButton,!1===i.closeButton||ft(i.closeButton)?g.closeButton=i.closeButton:!0===i.closeButton&&(g.closeButton=!ft(o.closeButton)||o.closeButton);let v={content:t,props:g,staleId:x};o.limit&&o.limit>0&&n>o.limit&&y?s.push(v):ut(f)?setTimeout(()=>{p(v)},f):p(v)},setProps(e){o=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>i}}var Ct=new Map,St=[],At=new Set,kt=e=>At.forEach(t=>t(e)),Et=()=>Ct.size>0;function Pt(e,t){var r;if(t)return!(null==(r=Ct.get(t))||!r.isToastActive(e));let a=!1;return Ct.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function Ot(e){if(Et()){if(null==e||(e=>mt(e)||ut(e))(e))Ct.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ct.get(e.containerId);t?t.removeToast(e.id):Ct.forEach(t=>{t.removeToast(e.id)})}}else St=St.filter(t=>null!=e&&t.options.toastId!==e)}function Tt(e,t){ft(e)&&(Et()||St.push({content:e,options:t}),Ct.forEach(r=>{r.buildToast(e,t)}))}function Dt(e,t){Ct.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function Rt(e){let t=e.containerId||1;return{subscribe(r){let a=Nt(t,e,kt);Ct.set(t,a);let n=a.observe(r);return St.forEach(e=>Tt(e.content,e.options)),St=[],()=>{n(),Ct.delete(t)}},setProps(e){var r;null==(r=Ct.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Ct.get(t))?void 0:e.getSnapshot()}}}function _t(e){return e&&(mt(e.toastId)||ut(e.toastId))?e.toastId:wt()}function Mt(e,t){return Tt(e,t),t.toastId}function It(e,t){return(0,ot.A)((0,ot.A)({},t),{},{type:t&&t.type||e,toastId:_t(t)})}function Lt(e){return(t,r)=>Mt(t,It(e,r))}function Ft(e,t){return Mt(e,It("default",t))}function qt(e){let[t,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),i=(0,s.useRef)(null),o=(0,s.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function p(){r(!0)}function h(){r(!1)}function x(r){let a=i.current;if(o.canDrag&&a){o.didMove=!0,t&&h(),"x"===e.draggableDirection?o.delta=r.clientX-o.start:o.delta=r.clientY-o.start,o.start!==r.clientX&&(o.canCloseOnClick=!1);let n="x"===e.draggableDirection?"".concat(o.delta,"px, var(--y)"):"0, calc(".concat(o.delta,"px + var(--y))");a.style.transform="translate3d(".concat(n,",0)"),a.style.opacity="".concat(1-Math.abs(o.delta/o.removalDistance))}}function f(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",f);let t=i.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return n(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ct.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,s.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",f);let r=i.current;o.canCloseOnClick=!0,o.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:a,left:n,right:s}=i.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=n&&t.clientX<=s&&t.clientY>=r&&t.clientY<=a?h():p()}};return l&&c&&(y.onMouseEnter=h,e.stacked||(y.onMouseLeave=p)),m&&(y.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:p,pauseToast:h,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:y}}Ft.loading=(e,t)=>Mt(e,It("default",(0,ot.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Ft.promise=function(e,t,r){let a,{pending:n,error:s,success:i}=t;n&&(a=mt(n)?Ft.loading(n,r):Ft.loading(n.render,(0,ot.A)((0,ot.A)({},r),n)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,n)=>{if(null==t)return void Ft.dismiss(a);let s=(0,ot.A)((0,ot.A)((0,ot.A)({type:e},o),r),{},{data:n}),i=mt(t)?{render:t}:t;return a?Ft.update(a,(0,ot.A)((0,ot.A)({},s),i)):Ft(i.render,(0,ot.A)((0,ot.A)({},s),i)),n},c=pt(e)?e():e;return c.then(e=>l("success",i,e)).catch(e=>l("error",s,e)),c},Ft.success=Lt("success"),Ft.info=Lt("info"),Ft.error=Lt("error"),Ft.warning=Lt("warning"),Ft.warn=Ft.warning,Ft.dark=(e,t)=>Mt(e,It("default",(0,ot.A)({theme:"dark"},t))),Ft.dismiss=function(e){Ot(e)},Ft.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Ft.isActive=Pt,Ft.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var a;return null==(a=Ct.get(r||1))?void 0:a.toasts.get(e)})(e,t);if(r){let{props:a,content:n}=r,s=(0,ot.A)((0,ot.A)((0,ot.A)({delay:100},a),t),{},{toastId:t.toastId||e,updateId:wt()});s.toastId!==e&&(s.staleId=e);let i=s.render||n;delete s.render,Mt(i,s)}},Ft.done=e=>{Ft.update(e,{progress:1})},Ft.onChange=function(e){return At.add(e),()=>{At.delete(e)}},Ft.play=e=>Dt(!0,e),Ft.pause=e=>Dt(!1,e);var zt="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Ut=e=>{let{theme:t,type:r,isLoading:a}=e,n=(0,it.A)(e,dt);return s.createElement("svg",(0,ot.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(r,")")},n))};var Bt={info:function(e){return s.createElement(Ut,(0,ot.A)({},e),s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(Ut,(0,ot.A)({},e),s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(Ut,(0,ot.A)({},e),s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(Ut,(0,ot.A)({},e),s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function Vt(e){let{theme:t,type:r,isLoading:a,icon:n}=e,i=null,o={theme:t,type:r};return!1===n||(pt(n)?i=n((0,ot.A)((0,ot.A)({},o),{},{isLoading:a})):(0,s.isValidElement)(n)?i=(0,s.cloneElement)(n,o):a?i=Bt.spinner():(e=>e in Bt)(r)&&(i=Bt[r](o))),i}var Ht=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:n,playToast:i}=qt(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:p,transition:h,position:x,className:f,style:y,progressClassName:g,updateId:v,role:b,progress:j,rtl:w,toastId:N,deleteToast:C,isIn:S,isLoading:A,closeOnClick:k,theme:E,ariaLabel:P}=e,O=ct("Toastify__toast","Toastify__toast-theme--".concat(E),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":k}),T=pt(f)?f({rtl:w,position:x,type:u,defaultClassName:O}):ct(O,f),D=Vt(e),R=!!j||!c,_={closeToast:p,type:u,theme:E},M=null;return!1===o||(M=pt(o)?o(_):(0,s.isValidElement)(o)?(0,s.cloneElement)(o,_):function(e){let{closeToast:t,theme:r,ariaLabel:a="close"}=e;return s.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":a},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(_)),s.createElement(h,{isIn:S,done:C,position:x,preventExitTransition:r,nodeRef:a,playToast:i},s.createElement("div",(0,ot.A)((0,ot.A)({id:N,tabIndex:0,onClick:d,"data-in":S,className:T},n),{},{style:y,ref:a},S&&{role:b,"aria-label":P}),null!=D&&s.createElement("div",{className:ct("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},D),vt(l,e,!t),M,!e.customProgressBar&&s.createElement(bt,(0,ot.A)((0,ot.A)({},v&&!R?{key:"p-".concat(v)}:{}),{},{rtl:w,theme:E,delay:c,isRunning:t,isIn:S,closeToast:p,hide:m,type:u,className:g,controlledProgress:R,progress:j||0}))))},Wt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Gt=yt(Wt("bounce",!0)),Yt=(yt(Wt("slide",!0)),yt(Wt("zoom")),yt(Wt("flip")),{position:"top-right",transition:Gt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Kt(e){let t=(0,ot.A)((0,ot.A)({},Yt),e),r=e.stacked,[a,n]=(0,s.useState)(!0),i=(0,s.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var t;let{subscribe:r,getSnapshot:a,setProps:n}=(0,s.useRef)(Rt(e)).current;n(e);let i=null==(t=(0,s.useSyncExternalStore)(r,a,a))?void 0:t.slice();return{getToastToRender:function(t){if(!i)return[];let r=new Map;return e.newestOnTop&&i.reverse(),i.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:Pt,count:null==i?void 0:i.length}}(t),{className:d,style:u,rtl:m,containerId:p,hotKeys:h}=t;function x(e){let t=ct("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":m});return pt(d)?d({position:e,rtl:m,defaultClassName:t}):ct(t,ht(d))}function f(){r&&(n(!0),Ft.play())}return zt(()=>{var e;if(r){let r=i.current.querySelectorAll('[data-in="true"]'),n=12,s=null==(e=t.position)?void 0:e.includes("top"),o=0,l=0;Array.from(r).reverse().forEach((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed="".concat(a)),r.dataset.pos||(r.dataset.pos=s?"top":"bot");let i=o*(a?.2:1)+(a?0:n*t);r.style.setProperty("--y","".concat(s?i:-1*i,"px")),r.style.setProperty("--g","".concat(n)),r.style.setProperty("--s","".concat(1-(a?l:0))),o+=r.offsetHeight,l+=.025})}},[a,c,r]),(0,s.useEffect)(()=>{function e(e){var t;let r=i.current;h(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),n(!1),Ft.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(n(!0),Ft.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),s.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{r&&(n(!1),Ft.pause())},onMouseLeave:f,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((e,t)=>{let a=t.length?(0,ot.A)({},u):(0,ot.A)((0,ot.A)({},u),{},{pointerEvents:"none"});return s.createElement("div",{tabIndex:-1,className:x(e),"data-stacked":r,style:a,key:"c-".concat(e)},t.map(e=>{let{content:t,props:a}=e;return s.createElement(Ht,(0,ot.A)((0,ot.A)({},a),{},{stacked:r,collapseAll:f,isIn:l(a.toastId,a.containerId),key:"t-".concat(a.key)}),t)}))}))}var $t=r(4705);function Qt(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Xt=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Jt=()=>Math.random().toString(36).substring(7).split("").join("."),Zt={INIT:"@@redux/INIT".concat(Jt()),REPLACE:"@@redux/REPLACE".concat(Jt()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Jt())};function er(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tr(e,t,r){if("function"!==typeof e)throw new Error(Qt(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Qt(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Qt(1));return r(tr)(e,t)}let a=e,n=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(Qt(3));return n}function u(e){if("function"!==typeof e)throw new Error(Qt(4));if(l)throw new Error(Qt(5));let t=!0;c();const r=o++;return i.set(r,e),function(){if(t){if(l)throw new Error(Qt(6));t=!1,c(),i.delete(r),s=null}}}function m(e){if(!er(e))throw new Error(Qt(7));if("undefined"===typeof e.type)throw new Error(Qt(8));if("string"!==typeof e.type)throw new Error(Qt(17));if(l)throw new Error(Qt(9));try{l=!0,n=a(n,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}m({type:Zt.INIT});return{dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Qt(10));a=e,m({type:Zt.REPLACE})},[Xt]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Qt(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[Xt](){return this}}}}}function rr(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];0,"function"===typeof e[a]&&(r[a]=e[a])}const a=Object.keys(r);let n;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Zt.INIT}))throw new Error(Qt(12));if("undefined"===typeof r(void 0,{type:Zt.PROBE_UNKNOWN_ACTION()}))throw new Error(Qt(13))})}(r)}catch(CY){n=CY}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(n)throw n;let s=!1;const i={};for(let n=0;n<a.length;n++){const o=a[n],l=r[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Qt(14))}i[o]=d,s=s||d!==c}return s=s||a.length!==Object.keys(e).length,s?i:e}}function ar(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function nr(e){return t=>{let{dispatch:r,getState:a}=t;return t=>n=>"function"===typeof n?n(r,a,e):t(n)}}var sr=nr(),ir=nr,or=Symbol.for("immer-nothing"),lr=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function dr(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ur=Object.getPrototypeOf;function mr(e){return!!e&&!!e[cr]}function pr(e){var t;return!!e&&(xr(e)||Array.isArray(e)||!!e[lr]||!(null===(t=e.constructor)||void 0===t||!t[lr])||br(e)||jr(e))}var hr=Object.prototype.constructor.toString();function xr(e){if(!e||"object"!==typeof e)return!1;const t=ur(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===hr}function fr(e,t){0===yr(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function yr(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:br(e)?2:jr(e)?3:0}function gr(e,t){return 2===yr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vr(e,t,r){const a=yr(e);2===a?e.set(t,r):3===a?e.add(r):e[t]=r}function br(e){return e instanceof Map}function jr(e){return e instanceof Set}function wr(e){return e.copy_||e.base_}function Nr(e,t){if(br(e))return new Map(e);if(jr(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=xr(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[cr];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){const n=r[a],s=t[n];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[n]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[n]})}return Object.create(ur(e),t)}{const t=ur(e);if(null!==t&&r)return(0,ot.A)({},e);const a=Object.create(t);return Object.assign(a,e)}}function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ar(e)||mr(e)||!pr(e)||(yr(e)>1&&(e.set=e.add=e.clear=e.delete=Sr),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,r]=e;return Cr(r,!0)})),e}function Sr(){dr(2)}function Ar(e){return Object.isFrozen(e)}var kr,Er={};function Pr(e){const t=Er[e];return t||dr(0),t}function Or(){return kr}function Tr(e,t){t&&(Pr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dr(e){Rr(e),e.drafts_.forEach(Mr),e.drafts_=null}function Rr(e){e===kr&&(kr=e.parent_)}function _r(e){return kr={drafts_:[],parent_:kr,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mr(e){const t=e[cr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ir(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[cr].modified_&&(Dr(t),dr(4)),pr(e)&&(e=Lr(t,e),t.parent_||qr(t,e)),t.patches_&&Pr("Patches").generateReplacementPatches_(r[cr].base_,e,t.patches_,t.inversePatches_)):e=Lr(t,r,[]),Dr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==or?e:void 0}function Lr(e,t,r){if(Ar(t))return t;const a=t[cr];if(!a)return fr(t,(n,s)=>Fr(e,a,t,n,s,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return qr(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let n=t,s=!1;3===a.type_&&(n=new Set(t),t.clear(),s=!0),fr(n,(n,i)=>Fr(e,a,t,n,i,r,s)),qr(e,t,!1),r&&e.patches_&&Pr("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Fr(e,t,r,a,n,s,i){if(mr(n)){const i=Lr(e,n,s&&t&&3!==t.type_&&!gr(t.assigned_,a)?s.concat(a):void 0);if(vr(r,a,i),!mr(i))return;e.canAutoFreeze_=!1}else i&&r.add(n);if(pr(n)&&!Ar(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lr(e,n),t&&t.scope_.parent_||"symbol"===typeof a||!Object.prototype.propertyIsEnumerable.call(r,a)||qr(e,n)}}function qr(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cr(t,r)}var zr={get(e,t){if(t===cr)return e;const r=wr(e);if(!gr(r,t))return function(e,t,r){var a;const n=Vr(t,r);return n?"value"in n?n.value:null===(a=n.get)||void 0===a?void 0:a.call(e.draft_):void 0}(e,r,t);const a=r[t];return e.finalized_||!pr(a)?a:a===Br(e.base_,t)?(Wr(e),e.copy_[t]=Gr(a,e)):a},has:(e,t)=>t in wr(e),ownKeys:e=>Reflect.ownKeys(wr(e)),set(e,t,r){const a=Vr(wr(e),t);if(null!==a&&void 0!==a&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const a=Br(wr(e),t),n=null===a||void 0===a?void 0:a[cr];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,a)&&(void 0!==r||gr(e.base_,t)))return!0;Wr(e),Hr(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Br(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Wr(e),Hr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=wr(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:r[t]}:a},defineProperty(){dr(11)},getPrototypeOf:e=>ur(e.base_),setPrototypeOf(){dr(12)}},Ur={};function Br(e,t){const r=e[cr];return(r?wr(r):e)[t]}function Vr(e,t){if(!(t in e))return;let r=ur(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=ur(r)}}function Hr(e){e.modified_||(e.modified_=!0,e.parent_&&Hr(e.parent_))}function Wr(e){e.copy_||(e.copy_=Nr(e.base_,e.scope_.immer_.useStrictShallowCopy_))}fr(zr,(e,t)=>{Ur[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ur.deleteProperty=function(e,t){return Ur.set.call(this,e,t,void 0)},Ur.set=function(e,t,r){return zr.set.call(this,e[0],t,r,e[0])};function Gr(e,t){const r=br(e)?Pr("MapSet").proxyMap_(e,t):jr(e)?Pr("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:Or(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,s=zr;r&&(n=[a],s=Ur);const{revoke:i,proxy:o}=Proxy.revocable(n,s);return a.draft_=o,a.revoke_=i,o}(e,t);return(t?t.scope_:Or()).drafts_.push(r),r}function Yr(e){if(!pr(e)||Ar(e))return e;const t=e[cr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nr(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Nr(e,!0);return fr(r,(e,t)=>{vr(r,e,Yr(t))}),t&&(t.finalized_=!1),r}var Kr=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const a=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return a.produce(e,e=>t.call(this,e,...s))}}let a;if("function"!==typeof t&&dr(6),void 0!==r&&"function"!==typeof r&&dr(7),pr(e)){const n=_r(this),s=Gr(e,void 0);let i=!0;try{a=t(s),i=!1}finally{i?Dr(n):Rr(n)}return Tr(n,r),Ir(a,n)}if(!e||"object"!==typeof e){if(a=t(e),void 0===a&&(a=e),a===or&&(a=void 0),this.autoFreeze_&&Cr(a,!0),r){const t=[],n=[];Pr("Patches").generateReplacementPatches_(e,a,t,n),r(t,n)}return a}dr(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return t.produceWithPatches(r,t=>e(t,...n))};let a,n;return[this.produce(e,r,(e,t)=>{a=e,n=t}),a,n]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){pr(e)||dr(8),mr(e)&&(e=function(e){mr(e)||dr(10);return Yr(e)}(e));const t=_r(this),r=Gr(e,void 0);return r[cr].isManual_=!0,Rr(t),r}finishDraft(e,t){const r=e&&e[cr];r&&r.isManual_||dr(9);const{scope_:a}=r;return Tr(a,t),Ir(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));const a=Pr("Patches").applyPatches_;return mr(e)?a(e,t):this.produce(e,e=>a(e,t))}},$r=Kr.produce;Kr.produceWithPatches.bind(Kr),Kr.setAutoFreeze.bind(Kr),Kr.setUseStrictShallowCopy.bind(Kr),Kr.applyPatches.bind(Kr),Kr.createDraft.bind(Kr),Kr.finishDraft.bind(Kr);const Qr=["reducerPath"];var Xr="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ar:ar.apply(null,arguments)},Jr=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function Zr(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(Oa(0));return(0,ot.A)((0,ot.A)({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>function(e){return er(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,r}var ea=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function ta(e){return pr(e)?$r(e,()=>{}):e}function ra(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var aa="RTK_autoBatch",na=e=>t=>{setTimeout(t,e)},sa=e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let a=new ea(e);return r&&a.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let a=!0,n=!1,s=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:na(10):"callback"===e.type?e.queueNotification:na(e.timeout),l=()=>{s=!1,n&&(n=!1,i.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>a&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return a=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[aa]),n=!a,n&&(s||(s=!0,o(l))),r.dispatch(e)}finally{a=!0}}})}}("object"===typeof r?r:void 0)),a};function ia(e){const t={},r=[];let a;const n={addCase(e,r){const a="string"===typeof e?e:e.type;if(!a)throw new Error(Oa(28));if(a in t)throw new Error(Oa(29));return t[a]=r,n},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),n),addDefaultCase:e=>(a=e,n)};return e(n),[t,r,a]}var oa=(e,t)=>Jr(e)?e.match(t):e(t);function la(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.some(t=>oa(t,e))}var ca=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},da=["name","message","stack","code"],ua=class{constructor(e,t){(0,$t.A)(this,"_type",void 0),this.payload=e,this.meta=t}},ma=class{constructor(e,t){(0,$t.A)(this,"_type",void 0),this.payload=e,this.meta=t}},pa=e=>{if("object"===typeof e&&null!==e){const t={};for(const r of da)"string"===typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},ha="External signal was aborted",xa=(()=>{function e(e,t,r){const a=Zr(e+"/fulfilled",(e,t,r,a)=>({payload:e,meta:(0,ot.A)((0,ot.A)({},a||{}),{},{arg:r,requestId:t,requestStatus:"fulfilled"})})),n=Zr(e+"/pending",(e,t,r)=>({payload:void 0,meta:(0,ot.A)((0,ot.A)({},r||{}),{},{arg:t,requestId:e,requestStatus:"pending"})})),s=Zr(e+"/rejected",(e,t,a,n,s)=>({payload:n,error:(r&&r.serializeError||pa)(e||"Rejected"),meta:(0,ot.A)((0,ot.A)({},s||{}),{},{arg:a,requestId:t,rejectedWithValue:!!n,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}));return Object.assign(function(e){let{signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,l,c)=>{const d=null!==r&&void 0!==r&&r.idGenerator?r.idGenerator(e):ca(),u=new AbortController;let m,p;function h(e){p=e,u.abort()}i&&(i.aborted?h(ha):i.addEventListener("abort",()=>h(ha),{once:!0}));const x=async function(){let i;try{var x,f;let s=null===r||void 0===r||null===(x=r.condition)||void 0===x?void 0:x.call(r,e,{getState:l,extra:c});if(function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(s)&&(s=await s),!1===s||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise((e,t)=>{m=()=>{t({name:"AbortError",message:p||"Aborted"})},u.signal.addEventListener("abort",m)});o(n(d,e,null===r||void 0===r||null===(f=r.getPendingMeta)||void 0===f?void 0:f.call(r,{requestId:d,arg:e},{getState:l,extra:c}))),i=await Promise.race([y,Promise.resolve(t(e,{dispatch:o,getState:l,extra:c,requestId:d,signal:u.signal,abort:h,rejectWithValue:(e,t)=>new ua(e,t),fulfillWithValue:(e,t)=>new ma(e,t)})).then(t=>{if(t instanceof ua)throw t;return t instanceof ma?a(t.payload,d,e,t.meta):a(t,d,e)})])}catch(y){i=y instanceof ua?s(null,d,e,y.payload,y.meta):s(y,d,e)}finally{m&&u.signal.removeEventListener("abort",m)}return r&&!r.dispatchConditionRejection&&s.match(i)&&i.meta.condition||o(i),i}();return Object.assign(x,{abort:h,requestId:d,arg:e,unwrap:()=>x.then(fa)})}},{pending:n,rejected:s,fulfilled:a,settled:la(s,a),typePrefix:e})}return e.withTypes=()=>e,e})();function fa(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ya=Symbol.for("rtk-slice-createasyncthunk");function ga(e,t){return"".concat(e,"/").concat(t)}function va(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[ya];return function(e){const{name:t,reducerPath:a=t}=e;if(!t)throw new Error(Oa(11));const n=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,ot.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(n),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Oa(12));if(r in i.sliceCaseReducersByType)throw new Error(Oa(13));return i.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],a]="function"===typeof e.extraReducers?ia(e.extraReducers):[e.extraReducers],n=(0,ot.A)((0,ot.A)({},t),i.sliceCaseReducersByType);return function(e,t){let r,[a,n,s]=ia(t);if("function"===typeof e)r=()=>ta(e());else{const t=ta(e);r=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,i=[a[t.type],...n.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,r)=>{if(r){if(mr(e)){const a=r(e,t);return void 0===a?e:a}if(pr(e))return $r(e,e=>r(e,t));{const a=r(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in n)e.addCase(t,n[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);a&&e.addDefaultCase(a)})}s.forEach(a=>{const s=n[a],i={reducerName:a,type:ga(t,a),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,r){let a,n,{type:s,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Oa(17));a=t.reducer,n=t.prepare}else a=t;r.addCase(s,a).exposeCaseReducer(i,a).exposeAction(i,n?Zr(s,n):Zr(s))}(i,s,o):function(e,t,r,a){let{type:n,reducerName:s}=e;if(!a)throw new Error(Oa(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,m=a(n,i,u);r.exposeAction(s,m),o&&r.addCase(m.fulfilled,o);l&&r.addCase(m.pending,l);c&&r.addCase(m.rejected,c);d&&r.addMatcher(m.settled,d);r.exposeCaseReducer(s,{fulfilled:o||wa,pending:l||wa,rejected:c||wa,settled:d||wa})}(i,s,o,r)});const c=e=>e,d=new Map,u=new WeakMap;let m;function p(e,t){return m||(m=l()),m(e,t)}function h(){return m||(m=l()),m.getInitialState()}function x(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function a(e){let n=e[t];return"undefined"===typeof n&&r&&(n=ra(u,a,h)),n}function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const a=ra(d,r,()=>new WeakMap);return ra(a,t,()=>{const a={};for(const[s,i]of Object.entries(null!==(n=e.selectors)&&void 0!==n?n:{})){var n;a[s]=ba(i,t,()=>ra(u,t,h),r)}return a})}return{reducerPath:t,getSelectors:n,get selectors(){return n(a)},selectSlice:a}}const f=(0,ot.A)((0,ot.A)({name:t,reducer:p,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:h},x(a)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,n=(0,it.A)(t,Qr);const s=null!==r&&void 0!==r?r:a;return e.inject({reducerPath:s,reducer:p},n),(0,ot.A)((0,ot.A)({},f),x(s,!0))}});return f}}function ba(e,t,r,a){function n(n){let s=t(n);"undefined"===typeof s&&a&&(s=r());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(s,...o)}return n.unwrapped=e,n}var ja=va();function wa(){}var Na="listener",Ca="completed",Sa="cancelled";"task-".concat(Sa),"task-".concat(Ca),"".concat(Na,"-").concat(Sa),"".concat(Na,"-").concat(Ca);var{assign:Aa}=Object,ka="listenerMiddleware",Ea=Aa(Zr("".concat(ka,"/add")),{withTypes:()=>Ea}),Pa=("".concat(ka,"/removeAll"),Aa(Zr("".concat(ka,"/remove")),{withTypes:()=>Pa}));Symbol.for("rtk-state-proxy-original");function Oa(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const Ta=ja({name:"auth",initialState:{user:null,isAuthenticated:!1,isLoading:!1,error:null,token:null,refreshToken:null},reducers:{loginStart:e=>{e.isLoading=!0,e.error=null},loginSuccess:(e,t)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.error=null},loginFailure:(e,t)=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.token=null,e.refreshToken=null,e.error=t.payload},logout:e=>{e.isAuthenticated=!1,e.user=null,e.token=null,e.refreshToken=null,e.error=null,e.isLoading=!1},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},updateUser:(e,t)=>{e.user&&(e.user=(0,ot.A)((0,ot.A)({},e.user),t.payload))},setTokens:(e,t)=>{e.token=t.payload.accessToken,t.payload.refreshToken&&(e.refreshToken=t.payload.refreshToken)},clearError:e=>{e.error=null},setLoading:(e,t)=>{e.isLoading=t.payload}}}),{loginStart:Da,loginSuccess:Ra,loginFailure:_a,logout:Ma,setUser:Ia,updateUser:La,setTokens:Fa,clearError:qa,setLoading:za}=Ta.actions,Ua=Ta.reducer,Ba={profile:null,preferences:{notifications:{email:!0,push:!0,sms:!1,inApp:!0},language:"en",timezone:"UTC",theme:"light"},medicalHistory:null,emergencyContacts:[],insuranceInfo:null,subscription:null,isLoading:!1,error:null},Va=ja({name:"user",initialState:Ba,reducers:{setProfile:(e,t)=>{e.profile=t.payload,e.error=null},updateProfile:(e,t)=>{e.profile&&(e.profile=(0,ot.A)((0,ot.A)({},e.profile),t.payload)),e.error=null},clearProfile:e=>{e.profile=null},setPreferences:(e,t)=>{e.preferences=(0,ot.A)((0,ot.A)({},e.preferences),t.payload),e.error=null},updatePreferences:(e,t)=>{e.preferences=(0,ot.A)((0,ot.A)({},e.preferences),t.payload),e.error=null},updateNotificationPreferences:(e,t)=>{e.preferences.notifications=(0,ot.A)((0,ot.A)({},e.preferences.notifications),t.payload),e.error=null},setLanguage:(e,t)=>{e.preferences.language=t.payload},setTimezone:(e,t)=>{e.preferences.timezone=t.payload},setTheme:(e,t)=>{e.preferences.theme=t.payload},setMedicalHistory:(e,t)=>{e.medicalHistory=t.payload,e.error=null},updateMedicalHistory:(e,t)=>{e.medicalHistory?e.medicalHistory=(0,ot.A)((0,ot.A)({},e.medicalHistory),t.payload):e.medicalHistory=t.payload,e.error=null},addMedicalRecord:(e,t)=>{e.medicalHistory&&(e.medicalHistory.records||(e.medicalHistory.records=[]),e.medicalHistory.records.push(t.payload))},updateMedicalRecord:(e,t)=>{const{recordId:r,data:a}=t.payload;if(e.medicalHistory&&e.medicalHistory.records){const t=e.medicalHistory.records.findIndex(e=>e.id===r);-1!==t&&(e.medicalHistory.records[t]=(0,ot.A)((0,ot.A)({},e.medicalHistory.records[t]),a))}},deleteMedicalRecord:(e,t)=>{const r=t.payload;e.medicalHistory&&e.medicalHistory.records&&(e.medicalHistory.records=e.medicalHistory.records.filter(e=>e.id!==r))},setEmergencyContacts:(e,t)=>{e.emergencyContacts=t.payload,e.error=null},addEmergencyContact:(e,t)=>{e.emergencyContacts.push(t.payload),e.error=null},updateEmergencyContact:(e,t)=>{const{contactId:r,data:a}=t.payload,n=e.emergencyContacts.findIndex(e=>e.id===r);-1!==n&&(e.emergencyContacts[n]=(0,ot.A)((0,ot.A)({},e.emergencyContacts[n]),a))},deleteEmergencyContact:(e,t)=>{const r=t.payload;e.emergencyContacts=e.emergencyContacts.filter(e=>e.id!==r)},setInsuranceInfo:(e,t)=>{e.insuranceInfo=t.payload,e.error=null},updateInsuranceInfo:(e,t)=>{e.insuranceInfo?e.insuranceInfo=(0,ot.A)((0,ot.A)({},e.insuranceInfo),t.payload):e.insuranceInfo=t.payload,e.error=null},clearInsuranceInfo:e=>{e.insuranceInfo=null},setSubscription:(e,t)=>{e.subscription=t.payload,e.error=null},updateSubscription:(e,t)=>{e.subscription?e.subscription=(0,ot.A)((0,ot.A)({},e.subscription),t.payload):e.subscription=t.payload,e.error=null},clearSubscription:e=>{e.subscription=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},resetUserData:e=>Ba,setUserData:(e,t)=>{const{profile:r,medicalHistory:a,emergencyContacts:n,insuranceInfo:s,subscription:i,preferences:o}=t.payload;r&&(e.profile=r),a&&(e.medicalHistory=a),n&&(e.emergencyContacts=n),s&&(e.insuranceInfo=s),i&&(e.subscription=i),o&&(e.preferences=(0,ot.A)((0,ot.A)({},e.preferences),o)),e.error=null},updateAvatar:(e,t)=>{e.profile&&(e.profile.avatar=t.payload)},removeAvatar:e=>{e.profile&&(e.profile.avatar=null)},updateAccountStatus:(e,t)=>{e.profile&&(e.profile.accountStatus=t.payload)},updateVerificationStatus:(e,t)=>{e.profile&&(e.profile.isVerified=t.payload)},updatePrivacySettings:(e,t)=>{e.preferences.privacy=(0,ot.A)((0,ot.A)({},e.preferences.privacy),t.payload)},updateAccessibilitySettings:(e,t)=>{e.preferences.accessibility=(0,ot.A)((0,ot.A)({},e.preferences.accessibility),t.payload)},updateCommunicationPreferences:(e,t)=>{e.preferences.communication=(0,ot.A)((0,ot.A)({},e.preferences.communication),t.payload)},updateSecuritySettings:(e,t)=>{e.preferences.security=(0,ot.A)((0,ot.A)({},e.preferences.security),t.payload)},updateLastActivity:(e,t)=>{e.profile&&(e.profile.lastActivity=t.payload)},updateOnlineStatus:(e,t)=>{e.profile&&(e.profile.isOnline=t.payload)}}}),{setProfile:Ha,updateProfile:Wa,clearProfile:Ga,setPreferences:Ya,updatePreferences:Ka,updateNotificationPreferences:$a,setLanguage:Qa,setTimezone:Xa,setTheme:Ja,setMedicalHistory:Za,updateMedicalHistory:en,addMedicalRecord:tn,updateMedicalRecord:rn,deleteMedicalRecord:an,setEmergencyContacts:nn,addEmergencyContact:sn,updateEmergencyContact:on,deleteEmergencyContact:ln,setInsuranceInfo:cn,updateInsuranceInfo:dn,clearInsuranceInfo:un,setSubscription:mn,updateSubscription:pn,clearSubscription:hn,setLoading:xn,setError:fn,clearError:yn,resetUserData:gn,setUserData:vn,updateAvatar:bn,removeAvatar:jn,updateAccountStatus:wn,updateVerificationStatus:Nn,updatePrivacySettings:Cn,updateAccessibilitySettings:Sn,updateCommunicationPreferences:An,updateSecuritySettings:kn,updateLastActivity:En,updateOnlineStatus:Pn}=Va.actions,On=Va.reducer,Tn={cases:[],currentCase:null,filteredCases:[],statistics:{total:0,pending:0,assigned:0,accepted:0,scheduled:0,inProgress:0,completed:0,rejected:0,closed:0},filters:{status:"all",priority:"all",specialization:"all",dateRange:null,searchTerm:""},sortBy:{field:"createdAt",order:"desc"},pagination:{currentPage:1,totalPages:1,itemsPerPage:10,totalItems:0},isLoading:!1,isSubmitting:!1,error:null},Dn=ja({name:"cases",initialState:Tn,reducers:{fetchCasesStart:e=>{e.isLoading=!0,e.error=null},fetchCasesSuccess:(e,t)=>{e.isLoading=!1,e.cases=t.payload.cases,e.pagination=t.payload.pagination,e.statistics=t.payload.statistics,e.error=null},fetchCasesFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload},setCaseDetails:(e,t)=>{e.currentCase=t.payload,e.error=null},updateCaseDetails:(e,t)=>{e.currentCase&&e.currentCase.id===t.payload.id&&(e.currentCase=(0,ot.A)((0,ot.A)({},e.currentCase),t.payload));const r=e.cases.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.cases[r]=(0,ot.A)((0,ot.A)({},e.cases[r]),t.payload))},clearCurrentCase:e=>{e.currentCase=null},submitCaseStart:e=>{e.isSubmitting=!0,e.error=null},submitCaseSuccess:(e,t)=>{e.isSubmitting=!1,e.cases.unshift(t.payload),e.statistics.total+=1,e.statistics.pending+=1,e.error=null},submitCaseFailure:(e,t)=>{e.isSubmitting=!1,e.error=t.payload},updateCaseStatus:(e,t)=>{const{caseId:r,newStatus:a,previousStatus:n}=t.payload,s=e.cases.findIndex(e=>e.id===r);-1!==s&&(e.cases[s].status=a,e.cases[s].updatedAt=(new Date).toISOString()),e.currentCase&&e.currentCase.id===r&&(e.currentCase.status=a,e.currentCase.updatedAt=(new Date).toISOString()),n&&e.statistics[n]>0&&(e.statistics[n]-=1),e.statistics[a]=(e.statistics[a]||0)+1},acceptCase:(e,t)=>{const{caseId:r,doctorId:a}=t.payload,n=e.cases.findIndex(e=>e.id===r);-1!==n&&(e.cases[n].status="accepted",e.cases[n].assignedDoctorId=a,e.cases[n].acceptedAt=(new Date).toISOString()),e.currentCase&&e.currentCase.id===r&&(e.currentCase.status="accepted",e.currentCase.assignedDoctorId=a,e.currentCase.acceptedAt=(new Date).toISOString())},rejectCase:(e,t)=>{const{caseId:r,reason:a}=t.payload,n=e.cases.findIndex(e=>e.id===r);-1!==n&&(e.cases[n].status="rejected",e.cases[n].rejectionReason=a,e.cases[n].rejectedAt=(new Date).toISOString()),e.currentCase&&e.currentCase.id===r&&(e.currentCase.status="rejected",e.currentCase.rejectionReason=a,e.currentCase.rejectedAt=(new Date).toISOString())},addCaseDocument:(e,t)=>{const{caseId:r,document:a}=t.payload,n=e.cases.findIndex(e=>e.id===r);-1!==n&&(e.cases[n].documents||(e.cases[n].documents=[]),e.cases[n].documents.push(a)),e.currentCase&&e.currentCase.id===r&&(e.currentCase.documents||(e.currentCase.documents=[]),e.currentCase.documents.push(a))},removeCaseDocument:(e,t)=>{const{caseId:r,documentId:a}=t.payload,n=e.cases.findIndex(e=>e.id===r);-1!==n&&e.cases[n].documents&&(e.cases[n].documents=e.cases[n].documents.filter(e=>e.id!==a)),e.currentCase&&e.currentCase.id===r&&e.currentCase.documents&&(e.currentCase.documents=e.currentCase.documents.filter(e=>e.id!==a))},addCaseNote:(e,t)=>{const{caseId:r,note:a}=t.payload,n=e.cases.findIndex(e=>e.id===r);-1!==n&&(e.cases[n].notes||(e.cases[n].notes=[]),e.cases[n].notes.push(a)),e.currentCase&&e.currentCase.id===r&&(e.currentCase.notes||(e.currentCase.notes=[]),e.currentCase.notes.push(a))},setFilters:(e,t)=>{e.filters=(0,ot.A)((0,ot.A)({},e.filters),t.payload),e.pagination.currentPage=1},clearFilters:e=>{e.filters=Tn.filters,e.pagination.currentPage=1},setSearchTerm:(e,t)=>{e.filters.searchTerm=t.payload,e.pagination.currentPage=1},setSortBy:(e,t)=>{e.sortBy=t.payload},setCurrentPage:(e,t)=>{e.pagination.currentPage=t.payload},setItemsPerPage:(e,t)=>{e.pagination.itemsPerPage=t.payload,e.pagination.currentPage=1},bulkUpdateCases:(e,t)=>{t.payload.forEach(t=>{const r=e.cases.findIndex(e=>e.id===t.id);-1!==r&&(e.cases[r]=(0,ot.A)((0,ot.A)({},e.cases[r]),t))})},clearCases:e=>{e.cases=[],e.currentCase=null,e.filteredCases=[],e.error=null},clearError:e=>{e.error=null}}}),{fetchCasesStart:Rn,fetchCasesSuccess:_n,fetchCasesFailure:Mn,setCaseDetails:In,updateCaseDetails:Ln,clearCurrentCase:Fn,submitCaseStart:qn,submitCaseSuccess:zn,submitCaseFailure:Un,updateCaseStatus:Bn,acceptCase:Vn,rejectCase:Hn,addCaseDocument:Wn,removeCaseDocument:Gn,addCaseNote:Yn,setFilters:Kn,clearFilters:$n,setSearchTerm:Qn,setSortBy:Xn,setCurrentPage:Jn,setItemsPerPage:Zn,bulkUpdateCases:es,clearCases:ts,clearError:rs}=Dn.actions,as=Dn.reducer,ns={appointments:[],currentAppointment:null,upcomingAppointments:[],pastAppointments:[],statistics:{total:0,upcoming:0,completed:0,cancelled:0,noShow:0},availability:{slots:[],blockedDates:[],workingHours:{}},filters:{status:"all",dateRange:null,doctorId:null,patientId:null,consultationType:"all"},sortBy:{field:"scheduledAt",order:"asc"},isLoading:!1,isScheduling:!1,error:null},ss=ja({name:"appointments",initialState:ns,reducers:{fetchAppointmentsStart:e=>{e.isLoading=!0,e.error=null},fetchAppointmentsSuccess:(e,t)=>{e.isLoading=!1,e.appointments=t.payload.appointments,e.statistics=t.payload.statistics||e.statistics,e.error=null;const r=new Date;e.upcomingAppointments=e.appointments.filter(e=>new Date(e.scheduledAt)>r&&"cancelled"!==e.status),e.pastAppointments=e.appointments.filter(e=>new Date(e.scheduledAt)<=r||"cancelled"===e.status)},fetchAppointmentsFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload},setAppointmentDetails:(e,t)=>{e.currentAppointment=t.payload,e.error=null},updateAppointmentDetails:(e,t)=>{e.currentAppointment&&e.currentAppointment.id===t.payload.id&&(e.currentAppointment=(0,ot.A)((0,ot.A)({},e.currentAppointment),t.payload));const r=e.appointments.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.appointments[r]=(0,ot.A)((0,ot.A)({},e.appointments[r]),t.payload))},clearCurrentAppointment:e=>{e.currentAppointment=null},scheduleAppointmentStart:e=>{e.isScheduling=!0,e.error=null},scheduleAppointmentSuccess:(e,t)=>{e.isScheduling=!1,e.appointments.push(t.payload),e.upcomingAppointments.push(t.payload),e.statistics.total+=1,e.statistics.upcoming+=1,e.error=null},scheduleAppointmentFailure:(e,t)=>{e.isScheduling=!1,e.error=t.payload},updateAppointmentStatus:(e,t)=>{const{appointmentId:r,newStatus:a,previousStatus:n}=t.payload,s=e.appointments.findIndex(e=>e.id===r);-1!==s&&(e.appointments[s].status=a,e.appointments[s].updatedAt=(new Date).toISOString(),n&&e.statistics[n]>0&&(e.statistics[n]-=1),e.statistics[a]=(e.statistics[a]||0)+1),e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.status=a,e.currentAppointment.updatedAt=(new Date).toISOString())},rescheduleAppointment:(e,t)=>{const{appointmentId:r,newDate:a,newTime:n,reason:s}=t.payload,i=e.appointments.findIndex(e=>e.id===r);-1!==i&&(e.appointments[i].scheduledAt="".concat(a,"T").concat(n),e.appointments[i].rescheduledAt=(new Date).toISOString(),e.appointments[i].rescheduleReason=s,e.appointments[i].status="rescheduled"),e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.scheduledAt="".concat(a,"T").concat(n),e.currentAppointment.rescheduledAt=(new Date).toISOString(),e.currentAppointment.rescheduleReason=s,e.currentAppointment.status="rescheduled")},cancelAppointment:(e,t)=>{const{appointmentId:r,reason:a,cancelledBy:n}=t.payload,s=e.appointments.findIndex(e=>e.id===r);if(-1!==s){e.appointments[s].status="cancelled",e.appointments[s].cancelledAt=(new Date).toISOString(),e.appointments[s].cancellationReason=a,e.appointments[s].cancelledBy=n;const t=e.upcomingAppointments.findIndex(e=>e.id===r);if(-1!==t){const r=e.upcomingAppointments.splice(t,1)[0];e.pastAppointments.push(r),e.statistics.upcoming-=1,e.statistics.cancelled+=1}}e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.status="cancelled",e.currentAppointment.cancelledAt=(new Date).toISOString(),e.currentAppointment.cancellationReason=a,e.currentAppointment.cancelledBy=n)},completeAppointment:(e,t)=>{const{appointmentId:r,notes:a,followUpRequired:n}=t.payload,s=e.appointments.findIndex(e=>e.id===r);-1!==s&&(e.appointments[s].status="completed",e.appointments[s].completedAt=(new Date).toISOString(),e.appointments[s].consultationNotes=a,e.appointments[s].followUpRequired=n),e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.status="completed",e.currentAppointment.completedAt=(new Date).toISOString(),e.currentAppointment.consultationNotes=a,e.currentAppointment.followUpRequired=n)},markAsNoShow:(e,t)=>{const r=t.payload,a=e.appointments.findIndex(e=>e.id===r);-1!==a&&(e.appointments[a].status="noShow",e.appointments[a].noShowAt=(new Date).toISOString()),e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.status="noShow",e.currentAppointment.noShowAt=(new Date).toISOString())},setAvailability:(e,t)=>{e.availability=t.payload},updateAvailabilitySlots:(e,t)=>{e.availability.slots=t.payload},addBlockedDate:(e,t)=>{e.availability.blockedDates.push(t.payload)},removeBlockedDate:(e,t)=>{e.availability.blockedDates=e.availability.blockedDates.filter(e=>e!==t.payload)},updateWorkingHours:(e,t)=>{e.availability.workingHours=t.payload},setMeetingDetails:(e,t)=>{const{appointmentId:r,meetingLink:a,meetingId:n,meetingPassword:s}=t.payload,i=e.appointments.findIndex(e=>e.id===r);-1!==i&&(e.appointments[i].meetingLink=a,e.appointments[i].meetingId=n,e.appointments[i].meetingPassword=s),e.currentAppointment&&e.currentAppointment.id===r&&(e.currentAppointment.meetingLink=a,e.currentAppointment.meetingId=n,e.currentAppointment.meetingPassword=s)},setFilters:(e,t)=>{e.filters=(0,ot.A)((0,ot.A)({},e.filters),t.payload)},clearFilters:e=>{e.filters=ns.filters},setSortBy:(e,t)=>{e.sortBy=t.payload},clearAppointments:e=>{e.appointments=[],e.currentAppointment=null,e.upcomingAppointments=[],e.pastAppointments=[],e.error=null},clearError:e=>{e.error=null}}}),{fetchAppointmentsStart:is,fetchAppointmentsSuccess:os,fetchAppointmentsFailure:ls,setAppointmentDetails:cs,updateAppointmentDetails:ds,clearCurrentAppointment:us,scheduleAppointmentStart:ms,scheduleAppointmentSuccess:ps,scheduleAppointmentFailure:hs,updateAppointmentStatus:xs,rescheduleAppointment:fs,cancelAppointment:ys,completeAppointment:gs,markAsNoShow:vs,setAvailability:bs,updateAvailabilitySlots:js,addBlockedDate:ws,removeBlockedDate:Ns,updateWorkingHours:Cs,setMeetingDetails:Ss,setFilters:As,clearFilters:ks,setSortBy:Es,clearAppointments:Ps,clearError:Os}=ss.actions,Ts=ss.reducer,Ds={notifications:[],unreadCount:0,settings:{email:!0,push:!0,sms:!1,inApp:!0,appointmentReminders:!0,caseUpdates:!0,paymentAlerts:!0,systemAnnouncements:!0},filters:{type:"all",isRead:"all",dateRange:null},isLoading:!1,error:null},Rs=ja({name:"notifications",initialState:Ds,reducers:{fetchNotificationsStart:e=>{e.isLoading=!0,e.error=null},fetchNotificationsSuccess:(e,t)=>{e.isLoading=!1,e.notifications=t.payload,e.unreadCount=t.payload.filter(e=>!e.isRead).length,e.error=null},fetchNotificationsFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload},addNotification:(e,t)=>{e.notifications.unshift(t.payload),t.payload.isRead||(e.unreadCount+=1)},markAsRead:(e,t)=>{const r=e.notifications.findIndex(e=>e.id===t.payload);-1===r||e.notifications[r].isRead||(e.notifications[r].isRead=!0,e.notifications[r].readAt=(new Date).toISOString(),e.unreadCount=Math.max(0,e.unreadCount-1))},markAllAsRead:e=>{const t=(new Date).toISOString();e.notifications.forEach(e=>{e.isRead||(e.isRead=!0,e.readAt=t)}),e.unreadCount=0},markAsUnread:(e,t)=>{const r=e.notifications.findIndex(e=>e.id===t.payload);-1!==r&&e.notifications[r].isRead&&(e.notifications[r].isRead=!1,e.notifications[r].readAt=null,e.unreadCount+=1)},removeNotification:(e,t)=>{const r=e.notifications.findIndex(e=>e.id===t.payload);-1!==r&&(e.notifications[r].isRead||(e.unreadCount=Math.max(0,e.unreadCount-1)),e.notifications.splice(r,1))},clearAllNotifications:e=>{e.notifications=[],e.unreadCount=0},clearReadNotifications:e=>{e.notifications=e.notifications.filter(e=>!e.isRead)},updateNotificationSettings:(e,t)=>{e.settings=(0,ot.A)((0,ot.A)({},e.settings),t.payload)},toggleNotificationSetting:(e,t)=>{const r=t.payload;e.settings.hasOwnProperty(r)&&(e.settings[r]=!e.settings[r])},setNotificationFilters:(e,t)=>{e.filters=(0,ot.A)((0,ot.A)({},e.filters),t.payload)},clearNotificationFilters:e=>{e.filters=Ds.filters},batchUpdateNotifications:(e,t)=>{const{notificationIds:r,updates:a}=t.payload;r.forEach(t=>{const r=e.notifications.findIndex(e=>e.id===t);-1!==r&&(e.notifications[r]=(0,ot.A)((0,ot.A)({},e.notifications[r]),a))}),e.unreadCount=e.notifications.filter(e=>!e.isRead).length},setNotifications:(e,t)=>{e.notifications=t.payload,e.unreadCount=t.payload.filter(e=>!e.isRead).length},clearError:e=>{e.error=null}}}),{fetchNotificationsStart:_s,fetchNotificationsSuccess:Ms,fetchNotificationsFailure:Is,addNotification:Ls,markAsRead:Fs,markAllAsRead:qs,markAsUnread:zs,removeNotification:Us,clearAllNotifications:Bs,clearReadNotifications:Vs,updateNotificationSettings:Hs,toggleNotificationSetting:Ws,setNotificationFilters:Gs,clearNotificationFilters:Ys,batchUpdateNotifications:Ks,setNotifications:$s,clearError:Qs}=Rs.actions,Xs=Rs.reducer,Js={payments:[],currentPayment:null,paymentMethods:[],selectedPaymentMethod:null,transactions:[],invoices:[],statistics:{totalPaid:0,totalPending:0,totalRefunded:0,monthlyRevenue:0,yearlyRevenue:0},subscription:{status:null,plan:null,startDate:null,endDate:null,autoRenew:!1,paymentMethod:null},filters:{status:"all",type:"all",dateRange:null,minAmount:null,maxAmount:null},sortBy:{field:"createdAt",order:"desc"},isLoading:!1,isProcessing:!1,error:null},Zs=ja({name:"payments",initialState:Js,reducers:{fetchPaymentsStart:e=>{e.isLoading=!0,e.error=null},fetchPaymentsSuccess:(e,t)=>{e.isLoading=!1,e.payments=t.payload.payments,e.statistics=t.payload.statistics||e.statistics,e.error=null},fetchPaymentsFailure:(e,t)=>{e.isLoading=!1,e.error=t.payload},setPaymentDetails:(e,t)=>{e.currentPayment=t.payload,e.error=null},updatePaymentDetails:(e,t)=>{e.currentPayment&&e.currentPayment.id===t.payload.id&&(e.currentPayment=(0,ot.A)((0,ot.A)({},e.currentPayment),t.payload));const r=e.payments.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.payments[r]=(0,ot.A)((0,ot.A)({},e.payments[r]),t.payload))},clearCurrentPayment:e=>{e.currentPayment=null},processPaymentStart:e=>{e.isProcessing=!0,e.error=null},processPaymentSuccess:(e,t)=>{e.isProcessing=!1,e.payments.unshift(t.payload),e.transactions.unshift(t.payload),e.statistics.totalPaid+=t.payload.amount,e.error=null},processPaymentFailure:(e,t)=>{e.isProcessing=!1,e.error=t.payload},updatePaymentStatus:(e,t)=>{const{paymentId:r,newStatus:a,previousStatus:n}=t.payload,s=e.payments.findIndex(e=>e.id===r);-1!==s&&(e.payments[s].status=a,e.payments[s].updatedAt=(new Date).toISOString(),"pending"===n&&"completed"===a?(e.statistics.totalPending-=e.payments[s].amount,e.statistics.totalPaid+=e.payments[s].amount):"completed"===n&&"refunded"===a&&(e.statistics.totalPaid-=e.payments[s].amount,e.statistics.totalRefunded+=e.payments[s].amount)),e.currentPayment&&e.currentPayment.id===r&&(e.currentPayment.status=a,e.currentPayment.updatedAt=(new Date).toISOString())},refundPayment:(e,t)=>{const{paymentId:r,amount:a,reason:n}=t.payload,s=e.payments.findIndex(e=>e.id===r);-1!==s&&(e.payments[s].status="refunded",e.payments[s].refundedAmount=a,e.payments[s].refundReason=n,e.payments[s].refundedAt=(new Date).toISOString(),e.statistics.totalPaid-=a,e.statistics.totalRefunded+=a),e.currentPayment&&e.currentPayment.id===r&&(e.currentPayment.status="refunded",e.currentPayment.refundedAmount=a,e.currentPayment.refundReason=n,e.currentPayment.refundedAt=(new Date).toISOString())},setPaymentMethods:(e,t)=>{e.paymentMethods=t.payload},addPaymentMethod:(e,t)=>{e.paymentMethods.push(t.payload)},updatePaymentMethod:(e,t)=>{const r=e.paymentMethods.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.paymentMethods[r]=(0,ot.A)((0,ot.A)({},e.paymentMethods[r]),t.payload))},removePaymentMethod:(e,t)=>{e.paymentMethods=e.paymentMethods.filter(e=>e.id!==t.payload)},setSelectedPaymentMethod:(e,t)=>{e.selectedPaymentMethod=t.payload},setDefaultPaymentMethod:(e,t)=>{e.paymentMethods.forEach(e=>{e.isDefault=e.id===t.payload})},setTransactions:(e,t)=>{e.transactions=t.payload},addTransaction:(e,t)=>{e.transactions.unshift(t.payload)},setInvoices:(e,t)=>{e.invoices=t.payload},addInvoice:(e,t)=>{e.invoices.unshift(t.payload)},updateInvoice:(e,t)=>{const r=e.invoices.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.invoices[r]=(0,ot.A)((0,ot.A)({},e.invoices[r]),t.payload))},setSubscription:(e,t)=>{e.subscription=t.payload},updateSubscription:(e,t)=>{e.subscription=(0,ot.A)((0,ot.A)({},e.subscription),t.payload)},cancelSubscription:e=>{e.subscription.status="cancelled",e.subscription.endDate=(new Date).toISOString(),e.subscription.autoRenew=!1},renewSubscription:(e,t)=>{e.subscription=(0,ot.A)((0,ot.A)({},e.subscription),{},{status:"active",startDate:(new Date).toISOString(),endDate:t.payload.endDate,plan:t.payload.plan})},updateStatistics:(e,t)=>{e.statistics=(0,ot.A)((0,ot.A)({},e.statistics),t.payload)},setFilters:(e,t)=>{e.filters=(0,ot.A)((0,ot.A)({},e.filters),t.payload)},clearFilters:e=>{e.filters=Js.filters},setSortBy:(e,t)=>{e.sortBy=t.payload},clearPayments:e=>{e.payments=[],e.currentPayment=null,e.transactions=[],e.invoices=[],e.error=null},clearError:e=>{e.error=null}}}),{fetchPaymentsStart:ei,fetchPaymentsSuccess:ti,fetchPaymentsFailure:ri,setPaymentDetails:ai,updatePaymentDetails:ni,clearCurrentPayment:si,processPaymentStart:ii,processPaymentSuccess:oi,processPaymentFailure:li,updatePaymentStatus:ci,refundPayment:di,setPaymentMethods:ui,addPaymentMethod:mi,updatePaymentMethod:pi,removePaymentMethod:hi,setSelectedPaymentMethod:xi,setDefaultPaymentMethod:fi,setTransactions:yi,addTransaction:gi,setInvoices:vi,addInvoice:bi,updateInvoice:ji,setSubscription:wi,updateSubscription:Ni,cancelSubscription:Ci,renewSubscription:Si,updateStatistics:Ai,setFilters:ki,clearFilters:Ei,setSortBy:Pi,clearPayments:Oi,clearError:Ti}=Zs.actions,Di=Zs.reducer,Ri={modals:{},activeModal:null,toasts:[],drawers:{},activeDrawer:null,isLoading:!1,loadingText:"",loadingProgress:null,sidebarOpen:!0,sidebarCollapsed:!1,mobileSidebarOpen:!1,theme:localStorage.getItem("theme")||"light",layout:"default",compactMode:!1,breadcrumbs:[],pageTitle:"",pageDescription:"",confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,onCancel:null},tableSettings:{density:"normal",showFilters:!1,showColumns:!0},formSettings:{autoSave:!1,showValidation:!0},preferences:{animations:!0,sounds:!1,shortcuts:!0,tooltips:!0},hasError:!1,errorMessage:null},_i=ja({name:"ui",initialState:Ri,reducers:{openModal:(e,t)=>{const{name:r,props:a={}}=t.payload;e.modals[r]={isOpen:!0,props:a},e.activeModal=r},closeModal:(e,t)=>{const r=t.payload;e.modals[r]&&(e.modals[r].isOpen=!1),e.activeModal===r&&(e.activeModal=null)},closeAllModals:e=>{Object.keys(e.modals).forEach(t=>{e.modals[t].isOpen=!1}),e.activeModal=null},updateModalProps:(e,t)=>{const{name:r,props:a}=t.payload;e.modals[r]&&(e.modals[r].props=(0,ot.A)((0,ot.A)({},e.modals[r].props),a))},addToast:(e,t)=>{const r={id:t.payload.id||Date.now().toString(),type:t.payload.type||"info",title:t.payload.title,message:t.payload.message,duration:t.payload.duration||5e3,timestamp:(new Date).toISOString()};e.toasts.push(r)},removeToast:(e,t)=>{e.toasts=e.toasts.filter(e=>e.id!==t.payload)},clearToasts:e=>{e.toasts=[]},openDrawer:(e,t)=>{const{name:r,props:a={}}=t.payload;e.drawers[r]={isOpen:!0,props:a},e.activeDrawer=r},closeDrawer:(e,t)=>{const r=t.payload;e.drawers[r]&&(e.drawers[r].isOpen=!1),e.activeDrawer===r&&(e.activeDrawer=null)},closeAllDrawers:e=>{Object.keys(e.drawers).forEach(t=>{e.drawers[t].isOpen=!1}),e.activeDrawer=null},setLoading:(e,t)=>{"boolean"===typeof t.payload?(e.isLoading=t.payload,t.payload||(e.loadingText="",e.loadingProgress=null)):(e.isLoading=t.payload.isLoading,e.loadingText=t.payload.loadingText||"",e.loadingProgress=t.payload.progress||null)},setLoadingProgress:(e,t)=>{e.loadingProgress=t.payload},toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebar:(e,t)=>{e.sidebarOpen=t.payload},toggleSidebarCollapse:e=>{e.sidebarCollapsed=!e.sidebarCollapsed},setSidebarCollapse:(e,t)=>{e.sidebarCollapsed=t.payload},toggleMobileSidebar:e=>{e.mobileSidebarOpen=!e.mobileSidebarOpen},setMobileSidebar:(e,t)=>{e.mobileSidebarOpen=t.payload},setTheme:(e,t)=>{e.theme=t.payload,localStorage.setItem("theme",t.payload),"dark"===t.payload?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:e=>{const t="light"===e.theme?"dark":"light";e.theme=t,localStorage.setItem("theme",t),"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setLayout:(e,t)=>{e.layout=t.payload},toggleCompactMode:e=>{e.compactMode=!e.compactMode},setCompactMode:(e,t)=>{e.compactMode=t.payload},setBreadcrumbs:(e,t)=>{e.breadcrumbs=t.payload},addBreadcrumb:(e,t)=>{e.breadcrumbs.push(t.payload)},removeBreadcrumb:(e,t)=>{e.breadcrumbs=e.breadcrumbs.filter((e,r)=>r!==t.payload)},clearBreadcrumbs:e=>{e.breadcrumbs=[]},setPageTitle:(e,t)=>{e.pageTitle=t.payload,document.title=t.payload},setPageDescription:(e,t)=>{e.pageDescription=t.payload},setPageMetadata:(e,t)=>{e.pageTitle=t.payload.title||e.pageTitle,e.pageDescription=t.payload.description||e.pageDescription,t.payload.title&&(document.title=t.payload.title)},showConfirmDialog:(e,t)=>{e.confirmDialog=(0,ot.A)({isOpen:!0},t.payload)},hideConfirmDialog:e=>{e.confirmDialog=(0,ot.A)((0,ot.A)({},Ri.confirmDialog),{},{isOpen:!1})},updateTableSettings:(e,t)=>{e.tableSettings=(0,ot.A)((0,ot.A)({},e.tableSettings),t.payload)},setTableDensity:(e,t)=>{e.tableSettings.density=t.payload},toggleTableFilters:e=>{e.tableSettings.showFilters=!e.tableSettings.showFilters},toggleTableColumns:e=>{e.tableSettings.showColumns=!e.tableSettings.showColumns},updateFormSettings:(e,t)=>{e.formSettings=(0,ot.A)((0,ot.A)({},e.formSettings),t.payload)},toggleAutoSave:e=>{e.formSettings.autoSave=!e.formSettings.autoSave},toggleShowValidation:e=>{e.formSettings.showValidation=!e.formSettings.showValidation},updatePreferences:(e,t)=>{e.preferences=(0,ot.A)((0,ot.A)({},e.preferences),t.payload)},togglePreference:(e,t)=>{const r=t.payload;e.preferences.hasOwnProperty(r)&&(e.preferences[r]=!e.preferences[r])},setError:(e,t)=>{e.hasError=!0,e.errorMessage=t.payload},clearError:e=>{e.hasError=!1,e.errorMessage=null},resetUI:e=>(0,ot.A)((0,ot.A)({},Ri),{},{theme:e.theme})}}),{openModal:Mi,closeModal:Ii,closeAllModals:Li,updateModalProps:Fi,addToast:qi,removeToast:zi,clearToasts:Ui,openDrawer:Bi,closeDrawer:Vi,closeAllDrawers:Hi,setLoading:Wi,setLoadingProgress:Gi,toggleSidebar:Yi,setSidebar:Ki,toggleSidebarCollapse:$i,setSidebarCollapse:Qi,toggleMobileSidebar:Xi,setMobileSidebar:Ji,setTheme:Zi,toggleTheme:eo,setLayout:to,toggleCompactMode:ro,setCompactMode:ao,setBreadcrumbs:no,addBreadcrumb:so,removeBreadcrumb:io,clearBreadcrumbs:oo,setPageTitle:lo,setPageDescription:co,setPageMetadata:uo,showConfirmDialog:mo,hideConfirmDialog:po,updateTableSettings:ho,setTableDensity:xo,toggleTableFilters:fo,toggleTableColumns:yo,updateFormSettings:go,toggleAutoSave:vo,toggleShowValidation:bo,updatePreferences:jo,togglePreference:wo,setError:No,clearError:Co,resetUI:So}=_i.actions,Ao=_i.reducer;function ko(e,t){return function(){return e.apply(t,arguments)}}const{toString:Eo}=Object.prototype,{getPrototypeOf:Po}=Object,{iterator:Oo,toStringTag:To}=Symbol,Do=(e=>t=>{const r=Eo.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ro=e=>(e=e.toLowerCase(),t=>Do(t)===e),_o=e=>t=>typeof t===e,{isArray:Mo}=Array,Io=_o("undefined");function Lo(e){return null!==e&&!Io(e)&&null!==e.constructor&&!Io(e.constructor)&&zo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fo=Ro("ArrayBuffer");const qo=_o("string"),zo=_o("function"),Uo=_o("number"),Bo=e=>null!==e&&"object"===typeof e,Vo=e=>{if("object"!==Do(e))return!1;const t=Po(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(To in e)&&!(Oo in e)},Ho=Ro("Date"),Wo=Ro("File"),Go=Ro("Blob"),Yo=Ro("FileList"),Ko=Ro("URLSearchParams"),[$o,Qo,Xo,Jo]=["ReadableStream","Request","Response","Headers"].map(Ro);function Zo(e,t){let r,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Mo(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Lo(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(r=0;r<s;r++)i=a[r],t.call(null,e[i],i,e)}}function el(e,t){if(Lo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const tl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,rl=e=>!Io(e)&&e!==tl;const al=(nl="undefined"!==typeof Uint8Array&&Po(Uint8Array),e=>nl&&e instanceof nl);var nl;const sl=Ro("HTMLFormElement"),il=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),ol=Ro("RegExp"),ll=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Zo(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)};const cl=Ro("AsyncFunction"),dl=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],tl.addEventListener("message",e=>{let{source:t,data:n}=e;t===tl&&n===r&&a.length&&a.shift()()},!1),e=>{a.push(e),tl.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,zo(tl.postMessage)),ul="undefined"!==typeof queueMicrotask?queueMicrotask.bind(tl):"undefined"!==typeof process&&process.nextTick||dl,ml={isArray:Mo,isArrayBuffer:Fo,isBuffer:Lo,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||zo(e.append)&&("formdata"===(t=Do(e))||"object"===t&&zo(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Fo(e.buffer),t},isString:qo,isNumber:Uo,isBoolean:e=>!0===e||!1===e,isObject:Bo,isPlainObject:Vo,isEmptyObject:e=>{if(!Bo(e)||Lo(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(CY){return!1}},isReadableStream:$o,isRequest:Qo,isResponse:Xo,isHeaders:Jo,isUndefined:Io,isDate:Ho,isFile:Wo,isBlob:Go,isRegExp:ol,isFunction:zo,isStream:e=>Bo(e)&&zo(e.pipe),isURLSearchParams:Ko,isTypedArray:al,isFileList:Yo,forEach:Zo,merge:function e(){const{caseless:t}=rl(this)&&this||{},r={},a=(a,n)=>{const s=t&&el(r,n)||n;Vo(r[s])&&Vo(a)?r[s]=e(r[s],a):Vo(a)?r[s]=e({},a):Mo(a)?r[s]=a.slice():r[s]=a};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Zo(arguments[n],a);return r},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Zo(t,(t,a)=>{r&&zo(t)?e[a]=ko(t,r):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)i=n[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&Po(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Do,kindOfTest:Ro,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if(Mo(e))return e;let t=e.length;if(!Uo(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Oo]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:sl,hasOwnProperty:il,hasOwnProp:il,reduceDescriptors:ll,freezeMethods:e=>{ll(e,(t,r)=>{if(zo(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];zo(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return Mo(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:el,global:tl,isContextDefined:rl,isSpecCompliantForm:function(e){return!!(e&&zo(e.append)&&"FormData"===e[To]&&e[Oo])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(Bo(e)){if(t.indexOf(e)>=0)return;if(Lo(e))return e;if(!("toJSON"in e)){t[a]=e;const n=Mo(e)?[]:{};return Zo(e,(e,t)=>{const s=r(e,a+1);!Io(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:cl,isThenable:e=>e&&(Bo(e)||zo(e))&&zo(e.then)&&zo(e.catch),setImmediate:dl,asap:ul,isIterable:e=>null!=e&&zo(e[Oo])};function pl(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ml.inherits(pl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ml.toJSONObject(this.config),code:this.code,status:this.status}}});const hl=pl.prototype,xl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xl[e]={value:e}}),Object.defineProperties(pl,xl),Object.defineProperty(hl,"isAxiosError",{value:!0}),pl.from=(e,t,r,a,n,s)=>{const i=Object.create(hl);return ml.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),pl.call(i,e.message,t,r,a,n),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const fl=pl;function yl(e){return ml.isPlainObject(e)||ml.isArray(e)}function gl(e){return ml.endsWith(e,"[]")?e.slice(0,-2):e}function vl(e,t,r){return e?e.concat(t).map(function(e,t){return e=gl(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const bl=ml.toFlatObject(ml,{},null,function(e){return/^is[A-Z]/.test(e)});const jl=function(e,t,r){if(!ml.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=ml.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ml.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&ml.isSpecCompliantForm(t);if(!ml.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ml.isDate(e))return e.toISOString();if(ml.isBoolean(e))return e.toString();if(!o&&ml.isBlob(e))throw new fl("Blob is not supported. Use a Buffer instead.");return ml.isArrayBuffer(e)||ml.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"===typeof e)if(ml.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(ml.isArray(e)&&function(e){return ml.isArray(e)&&!e.some(yl)}(e)||(ml.isFileList(e)||ml.endsWith(r,"[]"))&&(o=ml.toArray(e)))return r=gl(r),o.forEach(function(e,a){!ml.isUndefined(e)&&null!==e&&t.append(!0===i?vl([r],a,s):null===i?r:r+"[]",l(e))}),!1;return!!yl(e)||(t.append(vl(n,r,s),l(e)),!1)}const d=[],u=Object.assign(bl,{defaultVisitor:c,convertValue:l,isVisitable:yl});if(!ml.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!ml.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),ml.forEach(r,function(r,s){!0===(!(ml.isUndefined(r)||null===r)&&n.call(t,r,ml.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t};function wl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Nl(e,t){this._pairs=[],e&&jl(e,this,t)}const Cl=Nl.prototype;Cl.append=function(e,t){this._pairs.push([e,t])},Cl.toString=function(e){const t=e?function(t){return e.call(this,t,wl)}:wl;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Sl=Nl;function Al(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kl(e,t,r){if(!t)return e;const a=r&&r.encode||Al;ml.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let s;if(s=n?n(t,r):ml.isURLSearchParams(t)?t.toString():new Sl(t,r).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const El=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ml.forEach(this.handlers,function(t){null!==t&&e(t)})}},Pl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ol={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Sl,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tl="undefined"!==typeof window&&"undefined"!==typeof document,Dl="object"===typeof navigator&&navigator||void 0,Rl=Tl&&(!Dl||["ReactNative","NativeScript","NS"].indexOf(Dl.product)<0),_l="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ml=Tl&&window.location.href||"http://localhost",Il=(0,ot.A)((0,ot.A)({},e),Ol);const Ll=function(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=n>=e.length;if(s=!s&&ml.isArray(a)?a.length:s,o)return ml.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i;a[s]&&ml.isObject(a[s])||(a[s]=[]);return t(e,r,a[s],n)&&ml.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!i}if(ml.isFormData(e)&&ml.isFunction(e.entries)){const r={};return ml.forEachEntry(e,(e,a)=>{t(function(e){return ml.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const Fl={transitional:Pl,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=ml.isObject(e);n&&ml.isHTMLForm(e)&&(e=new FormData(e));if(ml.isFormData(e))return a?JSON.stringify(Ll(e)):e;if(ml.isArrayBuffer(e)||ml.isBuffer(e)||ml.isStream(e)||ml.isFile(e)||ml.isBlob(e)||ml.isReadableStream(e))return e;if(ml.isArrayBufferView(e))return e.buffer;if(ml.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jl(e,new Il.classes.URLSearchParams,(0,ot.A)({visitor:function(e,t,r,a){return Il.isNode&&ml.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ml.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jl(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(ml.isString(e))try{return(t||JSON.parse)(e),ml.trim(e)}catch(CY){if("SyntaxError"!==CY.name)throw CY}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Fl.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(ml.isResponse(e)||ml.isReadableStream(e))return e;if(e&&ml.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(CY){if(r){if("SyntaxError"===CY.name)throw fl.from(CY,fl.ERR_BAD_RESPONSE,this,null,this.response);throw CY}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Il.classes.FormData,Blob:Il.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ml.forEach(["delete","get","head","post","put","patch"],e=>{Fl.headers[e]={}});const ql=Fl,zl=ml.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ul=Symbol("internals");function Bl(e){return e&&String(e).trim().toLowerCase()}function Vl(e){return!1===e||null==e?e:ml.isArray(e)?e.map(Vl):String(e)}function Hl(e,t,r,a,n){return ml.isFunction(a)?a.call(this,t,r):(n&&(t=r),ml.isString(t)?ml.isString(a)?-1!==t.indexOf(a):ml.isRegExp(a)?a.test(t):void 0:void 0)}class Wl{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=Bl(t);if(!n)throw new Error("header name must be a non-empty string");const s=ml.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=Vl(e))}const s=(e,t)=>ml.forEach(e,(e,r)=>n(e,r,t));if(ml.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ml.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&zl[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(ml.isObject(e)&&ml.isIterable(e)){let r,a,n={};for(const t of e){if(!ml.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?ml.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=Bl(e)){const r=ml.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(ml.isFunction(t))return t.call(this,e,r);if(ml.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bl(e)){const r=ml.findKey(this,e);return!(!r||void 0===this[r]||t&&!Hl(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=Bl(e)){const n=ml.findKey(r,e);!n||t&&!Hl(0,r[n],n,t)||(delete r[n],a=!0)}}return ml.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!Hl(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return ml.forEach(this,(a,n)=>{const s=ml.findKey(r,n);if(s)return t[s]=Vl(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=Vl(a),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ml.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&ml.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ul]=this[Ul]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=Bl(e);t[a]||(!function(e,t){const r=ml.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return ml.isArray(e)?e.forEach(a):a(e),this}}Wl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ml.reduceDescriptors(Wl.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),ml.freezeMethods(Wl);const Gl=Wl;function Yl(e,t){const r=this||ql,a=t||r,n=Gl.from(a.headers);let s=a.data;return ml.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function Kl(e){return!(!e||!e.__CANCEL__)}function $l(e,t,r){fl.call(this,null==e?"canceled":e,fl.ERR_CANCELED,t,r),this.name="CanceledError"}ml.inherits($l,fl,{__CANCEL__:!0});const Ql=$l;function Xl(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new fl("Request failed with status code "+r.status,[fl.ERR_BAD_REQUEST,fl.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Jl=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),r[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const Zl=function(e,t){let r,a,n=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,a||(a=setTimeout(()=>{a=null,i(r)},s-t)))},()=>r&&i(r)]},ec=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=Jl(50,250);return Zl(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-a,l=n(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},tc=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},rc=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return ml.asap(()=>e(...r))},ac=Il.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Il.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Il.origin),Il.navigator&&/(msie|trident)/i.test(Il.navigator.userAgent)):()=>!0,nc=Il.hasStandardBrowserEnv?{write(e,t,r,a,n,s){const i=[e+"="+encodeURIComponent(t)];ml.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ml.isString(a)&&i.push("path="+a),ml.isString(n)&&i.push("domain="+n),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function sc(e,t,r){let a=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ic=e=>e instanceof Gl?(0,ot.A)({},e):e;function oc(e,t){t=t||{};const r={};function a(e,t,r,a){return ml.isPlainObject(e)&&ml.isPlainObject(t)?ml.merge.call({caseless:a},e,t):ml.isPlainObject(t)?ml.merge({},t):ml.isArray(t)?t.slice():t}function n(e,t,r,n){return ml.isUndefined(t)?ml.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!ml.isUndefined(t))return a(void 0,t)}function i(e,t){return ml.isUndefined(t)?ml.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>n(ic(e),ic(t),0,!0)};return ml.forEach(Object.keys((0,ot.A)((0,ot.A)({},e),t)),function(a){const s=l[a]||n,i=s(e[a],t[a],a);ml.isUndefined(i)&&s!==o||(r[a]=i)}),r}const lc=e=>{const t=oc({},e);let r,{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Gl.from(o),t.url=kl(sc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ml.isFormData(a))if(Il.hasStandardBrowserEnv||Il.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Il.hasStandardBrowserEnv&&(n&&ml.isFunction(n)&&(n=n(t)),n||!1!==n&&ac(t.url))){const e=s&&i&&nc.read(i);e&&o.set(s,e)}return t},cc="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=lc(e);let n=a.data;const s=Gl.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function f(){if(!x)return;const a=Gl.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());Xl(function(e){t(e),h()},function(e){r(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:a,config:e,request:x}),x=null}x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(r(new fl("Request aborted",fl.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new fl("Network Error",fl.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||Pl;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new fl(t,n.clarifyTimeoutError?fl.ETIMEDOUT:fl.ECONNABORTED,e,x)),x=null},void 0===n&&s.setContentType(null),"setRequestHeader"in x&&ml.forEach(s.toJSON(),function(e,t){x.setRequestHeader(t,e)}),ml.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),u&&"json"!==u&&(x.responseType=a.responseType),p&&([l,d]=ec(p,!0),x.addEventListener("progress",l)),m&&x.upload&&([o,c]=ec(m),x.upload.addEventListener("progress",o),x.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{x&&(r(!t||t.type?new Ql(null,e,x):t),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);y&&-1===Il.protocols.indexOf(y)?r(new fl("Unsupported protocol "+y+":",fl.ERR_BAD_REQUEST,e)):x.send(n||null)})},dc=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof fl?t:new Ql(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new fl("timeout ".concat(t," of ms exceeded"),fl.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>ml.asap(i),o}};function uc(e,t){this.v=e,this.k=t}function mc(e){return function(){return new pc(e.apply(this,arguments))}}function pc(e){var t,r;function a(t,r){try{var s=e[t](r),i=s.value,o=i instanceof uc;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return a(l,r);r=e[l](r).value}n(s.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,i){var o={key:e,arg:n,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function hc(e){return new uc(e,0)}function xc(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new uc(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function fc(e){var t,r,a,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new yc(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function yc(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return yc=function(e){this.s=e,this.n=e.next},yc.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new yc(e)}pc.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pc.prototype.next=function(e){return this._invoke("next",e)},pc.prototype.throw=function(e){return this._invoke("throw",e)},pc.prototype.return=function(e){return this._invoke("return",e)};const gc=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},vc=function(){var e=mc(function*(e,t){var r,a=!1,n=!1;try{for(var s,i=fc(bc(e));a=!(s=yield hc(i.next())).done;a=!1){const e=s.value;yield*xc(fc(gc(e,t)))}}catch(o){n=!0,r=o}finally{try{a&&null!=i.return&&(yield hc(i.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),bc=function(){var e=mc(function*(e){if(e[Symbol.asyncIterator])return void(yield*xc(fc(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield hc(t.read());if(e)break;yield r}}finally{yield hc(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),jc=(e,t,r,a)=>{const n=vc(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();let s=a.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},wc="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Nc=wc&&"function"===typeof ReadableStream,Cc=wc&&("function"===typeof TextEncoder?(Sc=new TextEncoder,e=>Sc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Sc;const Ac=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(CY){return!1}},kc=Nc&&Ac(()=>{let e=!1;const t=new Request(Il.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ec=Nc&&Ac(()=>ml.isReadableStream(new Response("").body)),Pc={stream:Ec&&(e=>e.body)};var Oc;wc&&(Oc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pc[e]&&(Pc[e]=ml.isFunction(Oc[e])?t=>t[e]():(t,r)=>{throw new fl("Response type '".concat(e,"' is not supported"),fl.ERR_NOT_SUPPORT,r)})}));const Tc=async(e,t)=>{const r=ml.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(ml.isBlob(e))return e.size;if(ml.isSpecCompliantForm(e)){const t=new Request(Il.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ml.isArrayBufferView(e)||ml.isArrayBuffer(e)?e.byteLength:(ml.isURLSearchParams(e)&&(e+=""),ml.isString(e)?(await Cc(e)).byteLength:void 0)})(t):r},Dc=wc&&(async e=>{let{url:t,method:r,data:a,signal:n,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=lc(e);c=c?(c+"").toLowerCase():"text";let p,h=dc([n,s&&s.toAbortSignal()],i);const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let f;try{if(l&&kc&&"get"!==r&&"head"!==r&&0!==(f=await Tc(d,a))){let e,r=new Request(t,{method:"POST",body:a,duplex:"half"});if(ml.isFormData(a)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=tc(f,ec(rc(l)));a=jc(r.body,65536,e,t)}}ml.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;p=new Request(t,(0,ot.A)((0,ot.A)({},m),{},{signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:n?u:void 0}));let s=await fetch(p,m);const i=Ec&&("stream"===c||"response"===c);if(Ec&&(o||i&&x)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=ml.toFiniteNumber(s.headers.get("content-length")),[r,a]=o&&tc(t,ec(rc(o),!0))||[];s=new Response(jc(s.body,65536,r,()=>{a&&a(),x&&x()}),e)}c=c||"text";let y=await Pc[ml.findKey(Pc,c)||"text"](s,e);return!i&&x&&x(),await new Promise((t,r)=>{Xl(t,r,{data:y,headers:Gl.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})})}catch(y){if(x&&x(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new fl("Network Error",fl.ERR_NETWORK,e,p),{cause:y.cause||y});throw fl.from(y,y&&y.code,e,p)}}),Rc={http:null,xhr:cc,fetch:Dc};ml.forEach(Rc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(CY){}Object.defineProperty(e,"adapterName",{value:t})}});const _c=e=>"- ".concat(e),Mc=e=>ml.isFunction(e)||null===e||!1===e,Ic=e=>{e=ml.isArray(e)?e:[e];const{length:t}=e;let r,a;const n={};for(let s=0;s<t;s++){let t;if(r=e[s],a=r,!Mc(r)&&(a=Rc[(t=String(r)).toLowerCase()],void 0===a))throw new fl("Unknown adapter '".concat(t,"'"));if(a)break;n[t||"#"+s]=a}if(!a){const e=Object.entries(n).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(_c).join("\n"):" "+_c(e[0]):"as no adapter specified";throw new fl("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a};function Lc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ql(null,e)}function Fc(e){Lc(e),e.headers=Gl.from(e.headers),e.data=Yl.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ic(e.adapter||ql.adapter)(e).then(function(t){return Lc(e),t.data=Yl.call(e,e.transformResponse,t),t.headers=Gl.from(t.headers),t},function(t){return Kl(t)||(Lc(e),t&&t.response&&(t.response.data=Yl.call(e,e.transformResponse,t.response),t.response.headers=Gl.from(t.response.headers))),Promise.reject(t)})}const qc="1.11.0",zc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Uc={};zc.transitional=function(e,t,r){function a(e,t){return"[Axios v"+qc+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new fl(a(n," has been removed"+(t?" in "+t:"")),fl.ERR_DEPRECATED);return t&&!Uc[n]&&(Uc[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},zc.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const Bc={assertOptions:function(e,t,r){if("object"!==typeof e)throw new fl("options must be an object",fl.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new fl("option "+s+" must be "+r,fl.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new fl("Unknown option "+s,fl.ERR_BAD_OPTION)}},validators:zc},Vc=Bc.validators;class Hc{constructor(e){this.defaults=e||{},this.interceptors={request:new El,response:new El}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(CY){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=oc(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&Bc.assertOptions(r,{silentJSONParsing:Vc.transitional(Vc.boolean),forcedJSONParsing:Vc.transitional(Vc.boolean),clarifyTimeoutError:Vc.transitional(Vc.boolean)},!1),null!=a&&(ml.isFunction(a)?t.paramsSerializer={serialize:a}:Bc.assertOptions(a,{encode:Vc.function,serialize:Vc.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Bc.assertOptions(t,{baseUrl:Vc.spelling("baseURL"),withXsrfToken:Vc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&ml.merge(n.common,n[t.method]);n&&ml.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=Gl.concat(s,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Fc.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=Fc.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return kl(sc((e=oc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ml.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(t,r){return this.request(oc(r||{},{method:e,url:t,data:(r||{}).data}))}}),ml.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(oc(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Hc.prototype[e]=t(),Hc.prototype[e+"Form"]=t(!0)});const Wc=Hc;class Gc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new Ql(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Gc(function(t){e=t});return{token:t,cancel:e}}}const Yc=Gc;const Kc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kc).forEach(e=>{let[t,r]=e;Kc[r]=t});const $c=Kc;const Qc=function e(t){const r=new Wc(t),a=ko(Wc.prototype.request,r);return ml.extend(a,Wc.prototype,r,{allOwnKeys:!0}),ml.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(oc(t,r))},a}(ql);Qc.Axios=Wc,Qc.CanceledError=Ql,Qc.CancelToken=Yc,Qc.isCancel=Kl,Qc.VERSION=qc,Qc.toFormData=jl,Qc.AxiosError=fl,Qc.Cancel=Qc.CanceledError,Qc.all=function(e){return Promise.all(e)},Qc.spread=function(e){return function(t){return e.apply(null,t)}},Qc.isAxiosError=function(e){return ml.isObject(e)&&!0===e.isAxiosError},Qc.mergeConfig=oc,Qc.AxiosHeaders=Gl,Qc.formToJSON=e=>Ll(ml.isHTMLForm(e)?new FormData(e):e),Qc.getAdapter=Ic,Qc.HttpStatusCode=$c,Qc.default=Qc;const Xc=Qc,Jc=Xc.create({baseURL:"http://172.16.1.122:8080",timeout:3e4,headers:{"Content-Type":"application/json"}});Jc.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");t&&(e.headers.Authorization="Bearer ".concat(t));const r=JSON.parse(localStorage.getItem("user")||"{}");return r.id&&(e.headers["X-User-Id"]=r.id,e.headers["X-User-Role"]=r.role),e},e=>Promise.reject(e)),Jc.interceptors.response.use(e=>e,async e=>{var t;const r=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!r._retry){r._retry=!0;try{const e=localStorage.getItem("refreshToken");if(e){const t=await Xc.post("".concat(Jc.defaults.baseURL,"/api/auth/refresh"),{refreshToken:e}),{accessToken:a,refreshToken:n}=t.data.data;return localStorage.setItem("accessToken",a),n&&localStorage.setItem("refreshToken",n),r.headers.Authorization="Bearer ".concat(a),Jc(r)}}catch(a){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(a)}}return Promise.reject(e)});const Zc=e=>{if(e.data.success)return e.data.data;if(e.data)return e.data;throw new Error(e.data.message||"An error occurred")},ed=e=>{if(e.response){var t;const r=(null===(t=e.response.data)||void 0===t?void 0:t.message)||e.response.statusText;throw new Error(r)}throw e.request?new Error("Network error - please check your connection"):new Error(e.message||"An unexpected error occurred")},td=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r=await Jc.get(e,t);return Zc(r)}catch(r){ed(r)}},rd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const a=await Jc.post(e,t,r);return Zc(a)}catch(a){ed(a)}},ad=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const a=await Jc.put(e,t,r);return Zc(a)}catch(a){ed(a)}},nd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r=await Jc.delete(e,t);return Zc(r)}catch(r){ed(r)}},sd=async(e,t,r)=>{try{const a=await Jc.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r});return Zc(a)}catch(a){ed(a)}},id=async(e,t)=>{try{const r=await Jc.get(e,{responseType:"blob"}),a=new Blob([r.data]),n=window.URL.createObjectURL(a),s=document.createElement("a");return s.href=n,s.download=t,s.click(),window.URL.revokeObjectURL(n),r.data}catch(r){ed(r)}},od={getProfile:async()=>td("/supervisor-service/api/supervisors/profile"),createProfile:async e=>rd("/supervisor-service/api/supervisors/profile",e),updateProfile:async e=>ad("/supervisor-service/api/supervisors/profile",e),uploadLicenseDocument:async e=>{const t=new FormData;return t.append("file",e),sd("/supervisor-service/api/supervisors/profile/license-document",t)},deleteProfile:async()=>nd("/supervisor-service/api/supervisors/profile"),getPatients:async()=>td("/supervisor-service/api/supervisors/patients"),assignPatientById:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=new URLSearchParams;return r.append("patientId",e),t&&r.append("notes",t),rd("/supervisor-service/api/supervisors/patients?".concat(r.toString()))},createAndAssignPatient:async e=>rd("/supervisor-service/api/supervisors/patients/create-and-assign",e),assignPatientByEmail:async function(e){return rd("/supervisor-service/api/supervisors/patients/assign-by-email",{email:e,notes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""})},getPatientDetails:async e=>td("/supervisor-service/api/supervisors/patients/".concat(e)),removePatient:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=new URLSearchParams;return t&&r.append("reason",t),nd("/supervisor-service/api/supervisors/patients/".concat(e,"?").concat(r.toString()))},getPatientIds:async()=>td("/supervisor-service/api/supervisors/patients/ids"),submitCase:async(e,t)=>rd("/supervisor-service/api/supervisors/cases/patient/".concat(e),t),getCases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.patientId&&t.append("patientId",e.patientId),e.status&&t.append("status",e.status);const r=t.toString();return td("/supervisor-service/api/supervisors/cases".concat(r?"?"+r:""))},getCasesByPatient:async e=>td("/supervisor-service/api/supervisors/cases/patient/".concat(e)),getCaseDetails:async e=>td("/supervisor-service/api/supervisors/cases/".concat(e)),updateCase:async(e,t)=>ad("/supervisor-service/api/supervisors/cases/".concat(e),t),cancelCase:async(e,t)=>{const r=new URLSearchParams;return r.append("reason",t),ad("/supervisor-service/api/supervisors/cases/".concat(e,"/cancel?").concat(r.toString()))},getPatientInfo:async e=>td("/supervisor-service/api/supervisors/cases/patient/".concat(e,"/info")),getCustomPatientInfo:async(e,t)=>td("/supervisor-service/api/supervisors/patients/".concat(e,"/patient?patientId=").concat(t)),getDashboardStatistics:async()=>td("/supervisor-service/api/supervisors/dashboard/statistics"),getRecentActivity:async function(){return td("/supervisor-service/api/supervisors/dashboard/activity?limit=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:20))},getPerformanceMetrics:async()=>td("/supervisor-service/api/supervisors/dashboard/metrics"),payConsultationFee:async e=>rd("/supervisor-service/api/supervisors/payments/pay",e),createPaymentIntent:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/create-payment-intent?caseId=".concat(e,"&patientId=").concat(t,"&doctorId=").concat(r)),validateCoupon:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/validate-coupon?couponCode=".concat(e,"&patientId=").concat(t,"&caseId=").concat(r)),redeemCoupon:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/coupon/".concat(e,"?patientId=").concat(t),{couponCode:r}),getCouponSummary:async()=>td("/supervisor-service/api/supervisors/payments/coupons"),getPatientCoupons:async e=>td("/supervisor-service/api/supervisors/payments/coupons/patient/".concat(e)),getAllAvailableCoupons:async()=>td("/supervisor-service/api/supervisors/payments/available-coupons"),getExpiringCoupons:async function(){return td("/supervisor-service/api/supervisors/payments/coupons/expiring?days=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:7))},getPaymentHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"?patientId=".concat(e):"";return td("/supervisor-service/api/supervisors/payments/history".concat(t))},getNotifications:async e=>await td("/supervisor-service/api/supervisors/notifications/".concat(e)),markNotificationAsRead:async(e,t)=>await ad("/supervisor-service/api/supervisors/notifications/".concat(e,"/").concat(t,"/read")),markAllNotificationsAsRead:async e=>await ad("/supervisor-service/api/supervisors/notifications/".concat(e,"/read-all")),deleteNotification:async e=>await nd("/supervisor-service/api/supervisors/notifications/".concat(e)),getNotificationSettings:async()=>await td("/supervisor-service/api/supervisors/notifications/settings"),updateNotificationSettings:async e=>await ad("/supervisor-service/api/supervisors/notifications/settings",e),getSettings:async()=>td("/supervisor-service/api/supervisors/settings"),updateSettings:async e=>ad("/supervisor-service/api/supervisors/settings",e),getAppointments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.patientId&&t.append("patientId",e.patientId),e.caseId&&t.append("caseId",e.caseId),e.status&&t.append("status",e.status),e.date&&t.append("date",e.date),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),void 0!==e.upcomingOnly&&t.append("upcomingOnly",e.upcomingOnly),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder);const r=t.toString();return td("/supervisor-service/api/supervisors/appointments".concat(r?"?"+r:""))},getUpcomingAppointments:async()=>td("/supervisor-service/api/supervisors/appointments/upcoming"),getAppointmentDetails:async e=>td("/supervisor-service/api/supervisors/appointments/".concat(e)),getPatientAppointments:async e=>td("/supervisor-service/api/supervisors/appointments/patient/".concat(e)),getCaseAppointments:async e=>td("/supervisor-service/api/supervisors/appointments/case/".concat(e)),acceptAppointment:async e=>rd("/supervisor-service/api/supervisors/appointments/accept",e),createRescheduleRequest:async e=>rd("/supervisor-service/api/supervisors/appointments/reschedule-request",e),getRescheduleRequests:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"?patientId=".concat(e):"";return td("/supervisor-service/api/supervisors/appointments/reschedule-requests".concat(t))},getCaseRescheduleRequests:async e=>td("/supervisor-service/api/supervisors/appointments/case/".concat(e,"/reschedule-requests")),getAppointmentSummary:async()=>td("/supervisor-service/api/supervisors/appointments/summary"),getTodayAppointments:async()=>td("/supervisor-service/api/supervisors/appointments/today"),getAppointmentsByStatus:async e=>td("/supervisor-service/api/supervisors/appointments/status/".concat(e)),getMessages:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"?caseId=".concat(e):"";return td("/supervisor-service/api/supervisors/communication".concat(t))},sendMessage:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=new FormData;return a.append("message",t),a.append("caseId",e),r&&r.length>0&&r.forEach(e=>{a.append("attachments",e)}),sd("/supervisor-service/api/supervisors/communication/send",a)},getComplaints:async()=>td("/supervisor-service/api/admin/supervisors/complaints"),getComplaintById:async e=>td("/supervisor-service/api/admin/supervisors/complaints/".concat(e)),createComplaint:async e=>rd("/supervisor-service/api/admin/supervisors/complaints",e),getComplaintsByPatient:async e=>td("/supervisor-service/api/admin/supervisors/complaints/patient/".concat(e))},ld=od,cd=xa("supervisor/fetchProfile",async(e,t)=>{let{rejectWithValue:r}=t;try{return await ld.getProfile()}catch(s){var a,n;return r((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to fetch profile")}}),dd=xa("supervisor/fetchDashboardStatistics",async(e,t)=>{let{rejectWithValue:r}=t;try{return await ld.getDashboardStatistics()}catch(s){var a,n;return r((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to fetch dashboard statistics")}}),ud=xa("supervisor/fetchPatients",async(e,t)=>{let{rejectWithValue:r}=t;try{return await ld.getPatients()}catch(s){var a,n;return r((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to fetch patients")}}),md=xa("supervisor/fetchCases",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:t}=arguments.length>1?arguments[1]:void 0;try{return await ld.getCases(e)}catch(n){var r,a;return t((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to fetch cases")}}),pd=xa("supervisor/fetchCouponSummary",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await ld.getCouponSummary()).data}catch(s){var a,n;return r((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to fetch coupon summary")}}),hd=xa("supervisor/fetchPatientCoupons",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await ld.getPatientCoupons(e)).data}catch(s){var a,n;return r((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to fetch patient coupons")}}),xd=xa("supervisor/submitCase",async(e,t)=>{let{patientId:r,caseData:a}=e,{rejectWithValue:n}=t;try{return(await ld.submitCase(r,a)).data}catch(o){var s,i;return n((null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Failed to submit case")}}),fd=xa("supervisor/redeemCoupon",async(e,t)=>{let{caseId:r,patientId:a,couponCode:n}=e,{rejectWithValue:s}=t;try{return(await ld.redeemCoupon(r,a,n)).data}catch(l){var i,o;return s((null===(i=l.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Failed to redeem coupon")}}),yd={profile:null,profileLoading:!1,profileError:null,statistics:{supervisorId:null,supervisorName:"",verificationStatus:null,activePatientCount:0,maxPatientsLimit:0,totalCasesSubmitted:0,activeCases:0,completedCases:0,totalAppointments:0,upcomingAppointments:0,completedAppointments:0,totalCouponsIssued:0,availableCoupons:0,usedCoupons:0,totalCouponValue:0,totalPaymentsProcessed:0,lastActivityAt:null},statisticsLoading:!1,statisticsError:null,patients:[],currentPatient:null,patientsLoading:!1,patientsError:null,cases:[],currentCase:null,casesLoading:!1,casesError:null,couponSummary:{totalCoupons:0,availableCoupons:0,usedCoupons:0,expiredCoupons:0,totalAvailableValue:0},patientCoupons:[],couponsLoading:!1,couponsError:null,appointments:[],appointmentsLoading:!1,appointmentsError:null,filters:{patientStatus:"all",caseStatus:"all",searchTerm:"",selectedPatientId:null},isLoading:!1,error:null,successMessage:null},gd=ja({name:"supervisor",initialState:yd,reducers:{setProfile:(e,t)=>{e.profile=t.payload},clearProfile:e=>{e.profile=null},setPatients:(e,t)=>{e.patients=t.payload},setCurrentPatient:(e,t)=>{e.currentPatient=t.payload},addPatient:(e,t)=>{e.patients.push(t.payload)},updatePatient:(e,t)=>{const r=e.patients.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.patients[r]=(0,ot.A)((0,ot.A)({},e.patients[r]),t.payload))},removePatient:(e,t)=>{e.patients=e.patients.filter(e=>e.id!==t.payload)},setCases:(e,t)=>{e.cases=t.payload},setCurrentCase:(e,t)=>{e.currentCase=t.payload},addCase:(e,t)=>{e.cases.unshift(t.payload)},updateCase:(e,t)=>{const r=e.cases.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.cases[r]=(0,ot.A)((0,ot.A)({},e.cases[r]),t.payload))},setCouponSummary:(e,t)=>{e.couponSummary=t.payload},setPatientCoupons:(e,t)=>{e.patientCoupons=t.payload},setAppointments:(e,t)=>{e.appointments=t.payload},setStatistics:(e,t)=>{e.statistics=t.payload},setFilters:(e,t)=>{e.filters=(0,ot.A)((0,ot.A)({},e.filters),t.payload)},setPatientFilter:(e,t)=>{e.filters.selectedPatientId=t.payload},setCaseStatusFilter:(e,t)=>{e.filters.caseStatus=t.payload},setSearchTerm:(e,t)=>{e.filters.searchTerm=t.payload},clearFilters:e=>{e.filters=yd.filters},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},setSuccessMessage:(e,t)=>{e.successMessage=t.payload},clearSuccessMessage:e=>{e.successMessage=null},resetSupervisorState:()=>yd},extraReducers:e=>{e.addCase(cd.pending,e=>{e.profileLoading=!0,e.profileError=null}).addCase(cd.fulfilled,(e,t)=>{e.profileLoading=!1,e.profile=t.payload}).addCase(cd.rejected,(e,t)=>{e.profileLoading=!1,e.profileError=t.payload}),e.addCase(dd.pending,e=>{e.statisticsLoading=!0,e.statisticsError=null}).addCase(dd.fulfilled,(e,t)=>{e.statisticsLoading=!1,e.statistics=t.payload}).addCase(dd.rejected,(e,t)=>{e.statisticsLoading=!1,e.statisticsError=t.payload}),e.addCase(ud.pending,e=>{e.patientsLoading=!0,e.patientsError=null}).addCase(ud.fulfilled,(e,t)=>{e.patientsLoading=!1,e.patients=t.payload}).addCase(ud.rejected,(e,t)=>{e.patientsLoading=!1,e.patientsError=t.payload}),e.addCase(md.pending,e=>{e.casesLoading=!0,e.casesError=null}).addCase(md.fulfilled,(e,t)=>{e.casesLoading=!1,e.cases=t.payload}).addCase(md.rejected,(e,t)=>{e.casesLoading=!1,e.casesError=t.payload}),e.addCase(pd.pending,e=>{e.couponsLoading=!0,e.couponsError=null}).addCase(pd.fulfilled,(e,t)=>{e.couponsLoading=!1,e.couponSummary=t.payload}).addCase(pd.rejected,(e,t)=>{e.couponsLoading=!1,e.couponsError=t.payload}),e.addCase(hd.pending,e=>{e.couponsLoading=!0,e.couponsError=null}).addCase(hd.fulfilled,(e,t)=>{e.couponsLoading=!1,e.patientCoupons=t.payload}).addCase(hd.rejected,(e,t)=>{e.couponsLoading=!1,e.couponsError=t.payload}),e.addCase(xd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xd.fulfilled,(e,t)=>{e.isLoading=!1,e.cases.unshift(t.payload),e.successMessage="Case submitted successfully"}).addCase(xd.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(fd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fd.fulfilled,(e,t)=>{e.isLoading=!1,e.successMessage="Coupon redeemed successfully"}).addCase(fd.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setProfile:vd,clearProfile:bd,setPatients:jd,setCurrentPatient:wd,addPatient:Nd,updatePatient:Cd,removePatient:Sd,setCases:Ad,setCurrentCase:kd,addCase:Ed,updateCase:Pd,setCouponSummary:Od,setPatientCoupons:Td,setAppointments:Dd,setStatistics:Rd,setFilters:_d,setPatientFilter:Md,setCaseStatusFilter:Id,setSearchTerm:Ld,clearFilters:Fd,setLoading:qd,setError:zd,clearError:Ud,setSuccessMessage:Bd,clearSuccessMessage:Vd,resetSupervisorState:Hd}=gd.actions,Wd=e=>e.supervisor.profile,Gd=e=>e.supervisor.statistics,Yd=e=>e.supervisor.patients,Kd=e=>e.supervisor.cases,$d=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:n=!0}=null!==e&&void 0!==e?e:{};let s=new ea;return t&&("boolean"===typeof t?s.push(sr):s.push(ir(t.extraArgument))),s},{reducer:r,middleware:a,devTools:n=!0,duplicateMiddlewareCheck:s=!0,preloadedState:i,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!er(r))throw new Error(Oa(1));l=rr(r)}c="function"===typeof a?a(t):t();let d=ar;n&&(d=Xr((0,ot.A)({trace:!1},"object"===typeof n&&n)));const u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,a)=>{const n=e(r,a);let s=()=>{throw new Error(Qt(15))};const i={getState:n.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s(e,...r)}},o=t.map(e=>e(i));return s=ar(...o)(n.dispatch),(0,ot.A)((0,ot.A)({},n),{},{dispatch:s})}}(...c),m=sa(u);return tr(l,i,d(..."function"===typeof o?o(m):m()))}({reducer:{auth:Ua,user:On,cases:as,appointments:Ts,notifications:Xs,payments:Di,ui:Ao,supervisor:gd.reducer},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}}),devTools:!1}),Qd={login:async e=>{const t=await rd("/auth-service/api/auth/login",e);if(t){localStorage.setItem("accessToken",t.token),localStorage.setItem("refreshToken",t.refreshToken);const e={id:t.userId,email:t.email,role:t.role,fullName:t.fullName};localStorage.setItem("user",JSON.stringify(e))}return t},register:async e=>await rd("/auth-service/api/auth/register",e),googleLogin:async e=>{try{const t=await rd("/auth-service/api/auth/google",e);if(t&&t.token){localStorage.setItem("accessToken",t.token),t.refreshToken&&localStorage.setItem("refreshToken",t.refreshToken);const e={id:t.userId,email:t.email,role:t.role,fullName:t.fullName};localStorage.setItem("user",JSON.stringify(e))}return t}catch(t){throw console.error("Google login error:",t),t}},logout:async()=>{try{const e=localStorage.getItem("refreshToken");e&&await rd("/api/auth/logout",{refreshToken:e})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}},refreshToken:async()=>{const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token available");const t=await rd("/api/auth/refresh",{refreshToken:e});return localStorage.setItem("accessToken",t.accessToken),t.refreshToken&&localStorage.setItem("refreshToken",t.refreshToken),t},requestPasswordReset:async e=>await rd("/auth-service/api/auth/password-reset/request",{identifier:e}),verifyResetCode:async e=>await rd("/auth-service/api/auth/password-reset/verify",{identifier:e.identifier,code:e.code,newPassword:e.newPassword}),changePassword:async(e,t)=>await rd("/api/auth/change-password",{currentPassword:e,newPassword:t}),verifyEmail:async e=>await rd("/api/auth/verify-email",{token:e}),resendVerification:async e=>await rd("/api/auth/resend-verification",{email:e}),enable2FA:async()=>await rd("/api/auth/2fa/enable"),verify2FA:async(e,t)=>await rd("/api/auth/2fa/verify",{token:e,secret:t}),disable2FA:async e=>await rd("/api/auth/2fa/disable",{token:e}),checkAuth:async()=>{try{const e=await td("/api/auth/me");return localStorage.setItem("user",JSON.stringify(e)),e}catch(e){throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e}},getCurrentUser:()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user from localStorage:",e),null}},isAuthenticated:()=>{const e=localStorage.getItem("accessToken"),t=Qd.getCurrentUser();return!(!e||!t)},getAccessToken:()=>localStorage.getItem("accessToken"),getRefreshToken:()=>localStorage.getItem("refreshToken"),updateProfile:async e=>{const t=await ad("/api/auth/profile",e);return localStorage.setItem("user",JSON.stringify(t)),t},deleteAccount:async e=>{const t=await nd("/api/auth/account",{data:{password:e}});return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),t}},Xd=Qd,Jd=()=>{const e=tt(),{user:t,isAuthenticated:r,isLoading:a,error:n}=nt(e=>e.auth),[i,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{if(Xd.isAuthenticated()){const t=Xd.getCurrentUser();e(Ia(t))}}catch(n){console.error("Auth initialization error:",n),Xd.logout()}finally{o(!1)}})()},[e]);const l=()=>t?"".concat(t.fullName).trim():"";return{user:t,isAuthenticated:r,isLoading:a||i,error:n,initializing:i,login:async t=>{try{e(Da());const r=await Xd.login(t);return e(Ra(r)),r}catch(n){throw e(_a(n.message)),n}},googleLogin:async t=>{try{e(Da());const r=await Xd.googleLogin(t);return e(Ra(r)),r}catch(n){throw e(_a(n.message)),n}},register:async t=>{try{e(Da());return await Xd.register(t)}catch(n){throw e(_a(n.message)),n}finally{e(_a(null))}},logout:async()=>{try{await Xd.logout(),e(Ma())}catch(n){console.error("Logout error:",n),e(Ma())}},updateProfile:async t=>{try{const r=await Xd.updateProfile(t);return e(Ia(r)),r}catch(n){throw n}},changePassword:async(e,t)=>{try{return await Xd.changePassword(e,t)}catch(n){throw n}},forgotPassword:async e=>{try{return await Xd.forgotPassword(e)}catch(n){throw n}},resetPassword:async(e,t)=>{try{return await Xd.resetPassword(e,t)}catch(n){throw n}},verifyEmail:async e=>{try{return await Xd.verifyEmail(e)}catch(n){throw n}},resendVerification:async e=>{try{return await Xd.resendVerification(e)}catch(n){throw n}},enable2FA:async()=>{try{return await Xd.enable2FA()}catch(n){throw n}},verify2FA:async(t,r)=>{try{const a=await Xd.verify2FA(t,r);return e(Ia(a.user)),a}catch(n){throw n}},disable2FA:async t=>{try{const r=await Xd.disable2FA(t);return e(Ia(r.user)),r}catch(n){throw n}},clearAuthError:()=>{e(qa())},refreshUser:async()=>{try{const t=await Xd.checkAuth();return e(Ia(t)),t}catch(n){throw console.error("Error refreshing user data:",n),n}},hasRole:e=>(null===t||void 0===t?void 0:t.role)===e,hasAnyRole:e=>e.includes(null===t||void 0===t?void 0:t.role),isVerified:()=>!0===(null===t||void 0===t?void 0:t.isVerified),hasActiveSubscription:()=>{var e;return"PATIENT"!==(null===t||void 0===t?void 0:t.role)||"ACTIVE"===(null===t||void 0===t||null===(e=t.subscription)||void 0===e?void 0:e.status)},isDoctorVerified:()=>"DOCTOR"!==(null===t||void 0===t?void 0:t.role)||"VERIFIED"===(null===t||void 0===t?void 0:t.verificationStatus),getFullName:l,getInitials:()=>{if(!t)return"";const e=t.fullName||"",r=t.fullName||"";return"".concat(e.charAt(0)).concat(r.charAt(0)).toUpperCase()},getDisplayName:()=>{const e=l();return e||((null===t||void 0===t?void 0:t.email)||"User")}}},Zd=Object.create(null);Zd.open="0",Zd.close="1",Zd.ping="2",Zd.pong="3",Zd.message="4",Zd.upgrade="5",Zd.noop="6";const eu=Object.create(null);Object.keys(Zd).forEach(e=>{eu[Zd[e]]=e});const tu={type:"error",data:"parser error"},ru="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),au="function"===typeof ArrayBuffer,nu=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,su=(e,t,r)=>{let{type:a,data:n}=e;return ru&&n instanceof Blob?t?r(n):iu(n,r):au&&(n instanceof ArrayBuffer||nu(n))?t?r(n):iu(new Blob([n]),r):r(Zd[a]+(n||""))},iu=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function ou(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lu;const cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",du="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)du[cu.charCodeAt(r)]=r;const uu="function"===typeof ArrayBuffer,mu=(e,t)=>{if("string"!==typeof e)return{type:"message",data:hu(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:pu(e.substring(1),t)};return eu[r]?e.length>1?{type:eu[r],data:e.substring(1)}:{type:eu[r]}:tu},pu=(e,t)=>{if(uu){const r=(e=>{let t,r,a,n,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=du[e.charCodeAt(t)],a=du[e.charCodeAt(t+1)],n=du[e.charCodeAt(t+2)],s=du[e.charCodeAt(t+3)],d[l++]=r<<2|a>>4,d[l++]=(15&a)<<4|n>>2,d[l++]=(3&n)<<6|63&s;return c})(e);return hu(r,t)}return{base64:!0,data:e}},hu=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,xu=String.fromCharCode(30);function fu(){return new TransformStream({transform(e,t){!function(e,t){ru&&e.data instanceof Blob?e.data.arrayBuffer().then(ou).then(t):au&&(e.data instanceof ArrayBuffer||nu(e.data))?t(ou(e.data)):su(e,!1,e=>{lu||(lu=new TextEncoder),t(lu.encode(e))})}(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let yu;function gu(e){return e.reduce((e,t)=>e+t.length,0)}function vu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function bu(e){if(e)return function(e){for(var t in bu.prototype)e[t]=bu.prototype[t];return e}(e)}bu.prototype.on=bu.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},bu.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},bu.prototype.off=bu.prototype.removeListener=bu.prototype.removeAllListeners=bu.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<a.length;n++)if((r=a[n])===t||r.fn===t){a.splice(n,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},bu.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){a=0;for(var n=(r=r.slice(0)).length;a<n;++a)r[a].apply(this,t)}return this},bu.prototype.emitReserved=bu.prototype.emit,bu.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},bu.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ju="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),wu="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Nu(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const Cu=wu.setTimeout,Su=wu.clearTimeout;function Au(e,t){t.useNativeTimers?(e.setTimeoutFn=Cu.bind(wu),e.clearTimeoutFn=Su.bind(wu)):(e.setTimeoutFn=wu.setTimeout.bind(wu),e.clearTimeoutFn=wu.clearTimeout.bind(wu))}function ku(e){return"string"===typeof e?function(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Eu(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Pu extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Ou extends bu{constructor(e){super(),this.writable=!1,Au(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Pu(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=mu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class Tu extends Ou{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(xu),a=[];for(let n=0;n<r.length;n++){const e=mu(r[n],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((e,s)=>{su(e,!1,e=>{a[s]=e,++n===r&&t(a.join(xu))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Eu()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Du=!1;try{Du="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(SY){}const Ru=Du;function _u(){}class Mu extends Tu{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Iu extends bu{constructor(e,t,r){super(),this.createRequest=e,Au(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=Nu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(CY){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(CY){}try{r.setRequestHeader("Accept","*/*")}catch(CY){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof r.status?r.status:0)},0))},r.send(this._data)}catch(CY){return void this.setTimeoutFn(()=>{this._onError(CY)},0)}"undefined"!==typeof document&&(this._index=Iu.requestsCount++,Iu.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=_u,e)try{this._xhr.abort()}catch(CY){}"undefined"!==typeof document&&delete Iu.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Iu.requestsCount=0,Iu.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Lu);else if("function"===typeof addEventListener){addEventListener("onpagehide"in wu?"pagehide":"unload",Lu,!1)}function Lu(){for(let e in Iu.requests)Iu.requests.hasOwnProperty(e)&&Iu.requests[e].abort()}const Fu=function(){const e=qu({xdomain:!1});return e&&null!==e.responseType}();function qu(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ru))return new XMLHttpRequest}catch(CY){}if(!t)try{return new(wu[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(CY){}}const zu="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Uu extends Ou{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=zu?{}:Nu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(SY){return this.emitReserved("error",SY)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;su(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(CY){}a&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Eu()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Bu=wu.WebSocket||wu.MozWebSocket;const Vu={websocket:class extends Uu{createSocket(e,t,r){return zu?new Bu(e,t,r):t?new Bu(e,t):new Bu(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Ou{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(SY){return this.emitReserved("error",SY)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){yu||(yu=new TextDecoder);const r=[];let a=0,n=-1,s=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===a){if(gu(r)<1)break;const e=vu(r,1);s=128===(128&e[0]),n=127&e[0],a=n<126?3:126===n?1:2}else if(1===a){if(gu(r)<2)break;const e=vu(r,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(gu(r)<8)break;const e=vu(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(tu);break}n=s*Math.pow(2,32)+t.getUint32(4),a=3}else{if(gu(r)<n)break;const e=vu(r,n);o.enqueue(mu(s?e:yu.decode(e),t)),a=0}if(0===n||n>e){o.enqueue(tu);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),a=fu();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const n=()=>{r.read().then(e=>{let{done:t,value:r}=e;t||(this.onPacket(r),n())}).catch(e=>{})};n();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;this._writer.write(r).then(()=>{a&&ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Mu{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Fu&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Iu(qu,this.uri(),e)}}},Hu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gu(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=Hu.exec(e||""),s={},i=14;for(;i--;)s[Wu[i]]=n[i]||"";return-1!=r&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,a){t&&(r[t]=a)}),r}(0,s.query),s}const Yu="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ku=[];Yu&&addEventListener("offline",()=>{Ku.forEach(e=>e())},!1);class $u extends bu{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Gu(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Gu(t.host).host);Au(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let e=r[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Yu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ku.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&$u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",$u.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=ku(r)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ju(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof r&&(a=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if($u.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Ku.indexOf(this._offlineEventListener);-1!==e&&Ku.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}$u.protocol=4;class Qu extends $u{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;$u.priorWebsocketSuccess=!1;const a=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;$u.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function n(){r||(r=!0,c(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,n(),this.emitReserved("upgradeError",r)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class Xu extends Qu{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Vu[e]).filter(e=>!!e)),super(e,t)}}const Ju="function"===typeof ArrayBuffer,Zu=Object.prototype.toString,em="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Zu.call(Blob),tm="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Zu.call(File);function rm(e){return Ju&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||em&&e instanceof Blob||tm&&e instanceof File}function am(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(am(e[t]))return!0;return!1}if(rm(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return am(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&am(e[r]))return!0;return!1}function nm(e){const t=[],r=e.data,a=e;return a.data=sm(r,t),a.attachments=t.length,{packet:a,buffers:t}}function sm(e,t){if(!e)return e;if(rm(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=sm(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=sm(e[a],t));return r}return e}function im(e,t){return e.data=om(e.data,t),delete e.attachments,e}function om(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=om(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=om(e[r],t));return e}const lm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cm=5;var dm;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(dm||(dm={}));class um{constructor(e){this.replacer=e}encode(e){return e.type!==dm.EVENT&&e.type!==dm.ACK||!am(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===dm.EVENT?dm.BINARY_EVENT:dm.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==dm.BINARY_EVENT&&e.type!==dm.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=nm(e),r=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(r),a}}function mm(e){return"[object Object]"===Object.prototype.toString.call(e)}class pm extends bu{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===dm.BINARY_EVENT;r||t.type===dm.BINARY_ACK?(t.type=r?dm.EVENT:dm.ACK,this.reconstructor=new hm(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!rm(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===dm[r.type])throw new Error("unknown packet type "+r.type);if(r.type===dm.BINARY_EVENT||r.type===dm.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(a,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!pm.isPayloadValid(r.type,a))throw new Error("invalid payload");r.data=a}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(CY){return!1}}static isPayloadValid(e,t){switch(e){case dm.CONNECT:return mm(t);case dm.DISCONNECT:return void 0===t;case dm.CONNECT_ERROR:return"string"===typeof t||mm(t);case dm.EVENT:case dm.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===lm.indexOf(t[0]));case dm.ACK:case dm.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hm{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=im(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function xm(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const fm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ym extends bu{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xm(e,"open",this.onopen.bind(this)),xm(e,"packet",this.onpacket.bind(this)),xm(e,"error",this.onerror.bind(this)),xm(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,a;if(fm.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:dm.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,a=this;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},n),i=function(){a.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.apply(a,r)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return new Promise((t,a)=>{const n=(e,r)=>e?a(e):t(r);n.withError=!0,r.push(n),this.emit(e,...r)})}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];r(null,...s)}return a.pending=!1,t._drainQueue()}),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:dm.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case dm.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dm.EVENT:case dm.BINARY_EVENT:this.onevent(e);break;case dm.ACK:case dm.BINARY_ACK:this.onack(e);break;case dm.DISCONNECT:this.ondisconnect();break;case dm.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t.packet({type:dm.ACK,id:e,data:n})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dm.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function gm(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gm.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},gm.prototype.reset=function(){this.attempts=0},gm.prototype.setMin=function(e){this.ms=e},gm.prototype.setMax=function(e){this.max=e},gm.prototype.setJitter=function(e){this.jitter=e};class vm extends bu{constructor(e,r){var a;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Au(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(a=r.randomizationFactor)&&void 0!==a?a:.5),this.backoff=new gm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||t;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Xu(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=xm(t,"open",function(){r.onopen(),e&&e()}),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=xm(t,"error",n);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{a(),n(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xm(e,"ping",this.onping.bind(this)),xm(e,"data",this.ondata.bind(this)),xm(e,"error",this.onerror.bind(this)),xm(e,"close",this.onclose.bind(this)),xm(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(CY){this.onclose("parse error",CY)}}ondecoded(e){ju(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ym(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const bm={};function jm(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),a=Gu(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const n=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+n+":"+a.port+t,a.href=a.protocol+"://"+n+(r&&r.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=r.source,n=r.id,s=r.path,i=bm[n]&&s in bm[n].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new vm(a,t):(bm[n]||(bm[n]=new vm(a,t)),o=bm[n]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(jm,{Manager:vm,Socket:ym,io:jm,connect:jm});let wm=null;const Nm=()=>{const[e,t]=(0,s.useState)(!1),{user:r,isAuthenticated:a}=Jd();return(0,s.useEffect)(()=>{if(a&&r)return wm=jm("http://172.16.1.122:8080",{auth:{token:localStorage.getItem("accessToken"),userId:r.id,userRole:r.role},transports:["websocket"]}),wm.on("connect",()=>{t(!0),console.log("Socket connected")}),wm.on("disconnect",()=>{t(!1),console.log("Socket disconnected")}),wm.on("connect_error",e=>{t(!1)}),()=>{wm&&(wm.disconnect(),wm=null,t(!1))}},[a,r]),wm};var Cm,Sm=r(3393),Am="https://js.stripe.com/v3",km=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Em="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Pm=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Am).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},Om=null,Tm=null,Dm=null,Rm=function(e){return null!==Om?Om:(Om=new Promise(function(t,r){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(Em),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Am,'"]')),t=0;t<e.length;t++){var r=e[t];if(km.test(r.src))return r}return null}();if(a&&e)console.warn(Em);else if(a){if(a&&null!==Dm&&null!==Tm){var n;a.removeEventListener("load",Dm),a.removeEventListener("error",Tm),null===(n=a.parentNode)||void 0===n||n.removeChild(a),a=Pm(e)}}else a=Pm(e);Dm=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),Tm=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(r),a.addEventListener("load",Dm),a.addEventListener("error",Tm)}catch(s){return void r(s)}else t(null)}),Om.catch(function(e){return Om=null,Promise.reject(e)}))},_m=!1,Mm=function(){return Cm||(Cm=Rm(null).catch(function(e){return Cm=null,Promise.reject(e)}))};Promise.resolve().then(function(){return Mm()}).catch(function(e){_m||console.warn(e)});var Im=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_m=!0;var a=Date.now();return Mm().then(function(e){return function(e,t,r){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(a,r),a}(e,t,a)})},Lm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fm=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],qm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zm=(e,t)=>{const r=(0,s.forwardRef)((r,a)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=r,u=(0,it.A)(r,Fm);return(0,s.createElement)("svg",(0,ot.A)((0,ot.A)({ref:a},Lm),{},{width:i,height:i,stroke:n,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(qm(e)),c].join(" ")},u),[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])});return r.displayName="".concat(e),r},Um=zm("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Bm=zm("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Vm=zm("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Hm=zm("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wm=zm("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Gm=zm("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ym=zm("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Km=zm("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),$m=zm("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Qm=zm("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var Xm=r(579);const Jm=["children","variant","size","icon","iconPosition","onClick","disabled","loading","fullWidth","className","type"],Zm=e=>{let{children:t,variant:r="primary",size:a="md",icon:n,iconPosition:s="left",onClick:i,disabled:o=!1,loading:l=!1,fullWidth:c=!1,className:d="",type:u="button"}=e,m=(0,it.A)(e,Jm);const p={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-sm hover:shadow-md",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-sm hover:shadow-md",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white focus:ring-primary-500",outlineSecondary:"border-2 border-secondary-500 text-secondary-500 hover:bg-secondary-500 hover:text-white focus:ring-secondary-500",ghost:"text-primary-500 hover:bg-primary-50 focus:ring-primary-500",ghostSecondary:"text-secondary-500 hover:bg-secondary-50 focus:ring-secondary-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 shadow-sm hover:shadow-md",outlineDanger:"border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white focus:ring-red-500",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500 shadow-sm hover:shadow-md",warning:"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-500 shadow-sm hover:shadow-md",info:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500 shadow-sm hover:shadow-md",light:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",dark:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-500"},h="\n    ".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed","\n    ").concat(p[r]||p.primary,"\n    ").concat({xs:"px-2.5 py-1.5 text-xs",sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[a],"\n    ").concat(c?"w-full":"","\n    ").concat(l?"cursor-wait":"","\n    ").concat(d,"\n  ").trim(),x={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-4 h-4",lg:"w-5 h-5",xl:"w-6 h-6"}[a],f="left"===s?"mr-2":"ml-2",y=()=>(0,Xm.jsxs)("svg",{className:"animate-spin ".concat(x," ").concat("left"===s?"mr-2":"ml-2"),fill:"none",viewBox:"0 0 24 24",children:[(0,Xm.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xm.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return(0,Xm.jsxs)("button",(0,ot.A)((0,ot.A)({type:u,className:h,onClick:i,disabled:o||l},m),{},{children:[l&&(0,Xm.jsx)(y,{}),!l&&n&&"left"===s&&(0,Xm.jsx)("span",{className:"".concat(x," ").concat(f),children:n}),t,!l&&n&&"right"===s&&(0,Xm.jsx)("span",{className:"".concat(x," ").concat(f),children:n})]}))},ep=["children","variant","size","className","icon","removable","onRemove"],tp=["status","size"],rp=["priority","size"],ap=["count","maxCount","variant","size"],np=e=>{let{children:t,variant:r="default",size:a="md",className:n="",icon:s,removable:i=!1,onRemove:o}=e,l=(0,it.A)(e,ep);const c={default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",outlineDefault:"border border-gray-300 text-gray-700 bg-white",outlinePrimary:"border border-primary-300 text-primary-700 bg-white",outlineSecondary:"border border-secondary-300 text-secondary-700 bg-white",outlineSuccess:"border border-green-300 text-green-700 bg-white",outlineWarning:"border border-yellow-300 text-yellow-700 bg-white",outlineError:"border border-red-300 text-red-700 bg-white",outlineInfo:"border border-blue-300 text-blue-700 bg-white",solidPrimary:"bg-primary-500 text-white",solidSecondary:"bg-secondary-500 text-white",solidSuccess:"bg-green-500 text-white",solidWarning:"bg-yellow-500 text-white",solidError:"bg-red-500 text-white",solidInfo:"bg-blue-500 text-white"},d={xs:"w-3 h-3",sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4",xl:"w-5 h-5"},u="\n    ".concat("inline-flex items-center font-medium rounded-full","\n    ").concat(c[r]||c.default,"\n    ").concat({xs:"px-2 py-0.5 text-xs",sm:"px-2.5 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-sm",xl:"px-4 py-2 text-base"}[a],"\n    ").concat(n,"\n  ").trim();return(0,Xm.jsxs)("span",(0,ot.A)((0,ot.A)({className:u},l),{},{children:[s&&(0,Xm.jsx)("span",{className:"".concat(d[a]," mr-1"),children:s}),t,i&&o&&(0,Xm.jsxs)("button",{type:"button",onClick:o,className:"ml-1 inline-flex items-center justify-center flex-shrink-0 hover:bg-black hover:bg-opacity-10 rounded-full transition-colors",children:[(0,Xm.jsx)("span",{className:"sr-only",children:"Remove badge"}),(0,Xm.jsx)("svg",{className:d[a],fill:"currentColor",viewBox:"0 0 20 20",children:(0,Xm.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}))},sp=e=>{let{status:t,size:r="md"}=e,a=(0,it.A)(e,tp);return(0,Xm.jsx)(np,(0,ot.A)((0,ot.A)({variant:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"completed":case"approved":case"verified":case"paid":return"success";case"pending":case"assigned":case"scheduled":case"payment_pending":return"warning";case"rejected":case"cancelled":case"failed":case"expired":return"error";case"in_progress":case"accepted":return"info";default:return"default"}})(t),size:r},a),{},{children:null===t||void 0===t?void 0:t.replace(/_/g," ").toUpperCase()}))},ip=e=>{let{priority:t,size:r="md"}=e,a=(0,it.A)(e,rp);return(0,Xm.jsx)(np,(0,ot.A)((0,ot.A)({variant:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"high":case"urgent":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}})(t),size:r},a),{},{children:null===t||void 0===t?void 0:t.toUpperCase()}))},op=e=>{let{count:t,maxCount:r=99,variant:a="error",size:n="sm"}=e,s=(0,it.A)(e,ap);const i=t>r?"".concat(r,"+"):t;return 0===t?null:(0,Xm.jsx)(np,(0,ot.A)((0,ot.A)({variant:a,size:n},s),{},{children:i}))},lp=np,cp={getProfile:async()=>await td("/patient-service/api/patients/profile"),createProfile:async e=>await rd("/patient-service/api/patients/profile",e),updateProfile:async e=>await ad("/patient-service/api/patients/profile",e),uploadAvatar:async e=>{const t=new FormData;return t.append("avatar",e),await sd("/patient-service/api/patients/profile/avatar",t)},changePassword:async e=>await ad("/patient-service/api/patients/profile/password",e),getCases:async function(){new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/cases")},getCaseById:async e=>await td("/patient-service/api/patients/cases/".concat(e)),createCase:async(e,t)=>{const r=new FormData;r.append("caseTitle",e.caseTitle||""),r.append("description",e.description||""),e.primaryDiseaseCode&&r.append("primaryDiseaseCode",e.primaryDiseaseCode),e.secondaryDiseaseCodes&&Array.isArray(e.secondaryDiseaseCodes)&&e.secondaryDiseaseCodes.forEach(e=>{r.append("secondaryDiseaseCodes",e)}),e.symptomCodes&&Array.isArray(e.symptomCodes)&&e.symptomCodes.forEach(e=>{r.append("symptomCodes",e)}),e.currentMedicationCodes&&Array.isArray(e.currentMedicationCodes)&&e.currentMedicationCodes.forEach(e=>{r.append("currentMedicationCodes",e)}),e.requiredSpecialization&&r.append("requiredSpecialization",e.requiredSpecialization),e.secondarySpecializations&&Array.isArray(e.secondarySpecializations)&&e.secondarySpecializations.forEach(e=>{r.append("secondarySpecializations",e)}),r.append("urgencyLevel",e.urgencyLevel||"MEDIUM"),r.append("complexity",e.complexity||"MODERATE"),r.append("requiresSecondOpinion",e.requiresSecondOpinion||!1),r.append("minDoctorsRequired",e.minDoctorsRequired||1),r.append("maxDoctorsAllowed",e.maxDoctorsAllowed||2);const a=null===e||void 0===e?void 0:e.dependentId;return a&&r.append("dependentId",a),e.files&&Array.isArray(e.files)&&e.files.forEach(e=>{r.append("files",e)}),await sd("/patient-service/api/patients/cases",r,t)},viewCaseDocument:async(e,t)=>{try{console.log("Making request to view document:",t);const r=JSON.parse(localStorage.getItem("user")||"{}"),a=localStorage.getItem("accessToken");if(!r.id||!a)return void alert("Authentication required");const n=await fetch("http://172.16.1.122:8080/patient-service/api/files/".concat(e,"/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(a),"X-User-Id":r.id,Accept:"*/*"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const s=await n.blob();if(console.log("Received blob size:",s.size),console.log("Blob type:",s.type),0===s.size)return console.error("Received empty blob"),void alert("Received empty file from server");const i=window.URL.createObjectURL(s);if(!window.open(i,"_blank")){const e=document.createElement("a");e.href=i,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}setTimeout(()=>{window.URL.revokeObjectURL(i)},15e3)}catch(r){throw console.error("Failed to view document:",r),alert("Failed to view document. Please try again."),r}},viewMedicalReport:async e=>{try{console.log("Making request to view document:",e);const t=JSON.parse(localStorage.getItem("user")||"{}"),r=localStorage.getItem("accessToken");if(!t.id||!r)return void alert("Authentication required");const a=await fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(r),"X-User-Id":t.id,Accept:"*/*"}});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const n=await a.blob();if(console.log("Received blob size:",n.size),console.log("Blob type:",n.type),0===n.size)return console.error("Received empty blob"),void alert("Received empty file from server");const s=window.URL.createObjectURL(n);if(!window.open(s,"_blank")){const e=document.createElement("a");e.href=s,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}setTimeout(()=>{window.URL.revokeObjectURL(s)},15e3)}catch(t){throw console.error("Failed to view document:",t),alert("Failed to view document. Please try again."),t}},downloadCaseDocument:async(e,t,r)=>{try{console.log("Making request to download document:",t);const a=JSON.parse(localStorage.getItem("user")||"{}"),n=localStorage.getItem("accessToken");if(!a.id||!n)return void alert("Authentication required");const s=await fetch("http://172.16.1.122:8080/patient-service/api/files/".concat(e,"/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(n),"X-User-Id":a.id,Accept:"*/*"}});if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));const i=await s.blob();if(0===i.size)return void alert("Received empty file from server");let o=r||"document_".concat(t);const l=s.headers.get("content-disposition");if(l){const e=l.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);e&&e[1]&&(o=e[1].replace(/['"]/g,""))}const c=window.URL.createObjectURL(i),d=document.createElement("a");d.href=c,d.download=o,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c)}catch(a){throw console.error("Failed to download document:",a),alert("Failed to download document. Please try again."),a}},rateDoctor:async(e,t)=>(await rd("/doctor/".concat(e,"/rate"),t)).data,getDependents:async()=>await td("/patient-service/api/patients/dependents"),getDependent:async e=>await td("/patient-service/api/patients/dependents/".concat(e)),createDependent:async e=>await rd("/patient-service/api/patients/dependents",e),updateDependent:async(e,t)=>await ad("/patient-service/api/patients/dependents/".concat(e),t),deleteDependent:async e=>await nd("/patient-service/api/patients/dependents/".concat(e)),updateCase:async(e,t)=>await ad("/patient-service/api/patients/cases/".concat(e),t),updateCaseAttachments:async(e,t)=>await ad("/patient-service/api/patients/cases/".concat(e,"/attachments"),{documentIds:t}),deleteCase:async e=>await ad("/patient-service/api/patients/cases/".concat(e,"/delete")),updateCaseAttachments:async(e,t,r)=>{const a=new FormData;if(!t||0===t.length)throw new Error("No files provided for upload");return t.forEach(e=>{a.append("files",e)}),await sd("/patient-service/api/patients/cases/".concat(e,"/attachments"),a,r)},getCaseAttachments:async e=>await td("/patient-service/api/patients/cases/".concat(e,"/attachments")),uploadCaseDocuments:async(e,t,r)=>await cp.updateCaseAttachments(e,t,r),getCaseDocuments:async e=>await cp.getCaseAttachments(e),getDocumentContent:async e=>await td("/patient-service/api/patients/documents/".concat(e,"/content"),{responseType:"blob"}),downloadDocument:async(e,t)=>await id("/patient-service/api/patients/documents/".concat(e,"/download"),t),deleteDocument:async e=>await nd("/patient-service/api/patients/documents/".concat(e)),getDocumentMetadata:async e=>await td("/api/files/".concat(e,"/metadata")),uploadCaseDocuments:async(e,t,r)=>{const a=new FormData;return t.forEach(e=>{a.append("documents",e)}),await sd("/patient-service/api/patients/cases/".concat(e,"/documents"),a,r)},getCaseDocuments:async e=>await td("/patient-service/api/patients/cases/".concat(e,"/documents")),downloadCaseDocument:async(e,t,r)=>await id("/patient-service/api/patients/cases/".concat(e,"/documents/").concat(t,"/download"),r),deleteCaseDocument:async(e,t)=>await nd("/patient-service/api/patients/cases/".concat(e,"/documents/").concat(t)),getAppointments:async function(){new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/cases/appointments")},getAppointmentById:async e=>await td("/patient-service/api/patients/cases/appointments/".concat(e)),acceptAppointment:async e=>await rd("/patient-service/api/patients/cases/".concat(e,"/accept-appointment")),declineAppointment:async(e,t)=>await rd("/patient-service/api/patients/appointments/".concat(e,"/decline"),{reason:t}),requestReschedule:async(e,t)=>await rd("/patient-service/api/patients/cases/".concat(e,"/reschedule-request"),t),getRescheduleRequests:async e=>await td("/patient-service/api/patients/cases/".concat(e,"/reschedule-requests")),getPendingRescheduleRequests:async()=>await td("/patient-service/api/patients/reschedule-requests/pending"),updateRescheduleRequest:async(e,t)=>await ad("/patient-service/api/patients/reschedule-request/".concat(e,"/update?status=").concat(t)),getSubscriptionStatus:async()=>await td("/patient-service/api/patients/subscription"),createSubscription:async e=>await rd("/patient-service/api/patients/subscription",e),updateSubscription:async e=>await ad("/patient-service/api/patients/subscription",e),cancelSubscription:async e=>await rd("/patient-service/api/patients/subscription/cancel",{reason:e}),getSubscriptionPlans:async()=>await td("/patient-service/api/patients/subscription/plans"),getPaymentHistory:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/payments/history?".concat(e))},getPaymentMethods:async()=>await td("/patient-service/api/patients/payments/methods"),addPaymentMethod:async e=>await rd("/patient-service/api/patients/payments/methods",e),updatePaymentMethod:async(e,t)=>await ad("/patient-service/api/patients/payments/methods/".concat(e),t),deletePaymentMethod:async e=>await nd("/patient-service/api/patients/payments/methods/".concat(e)),setDefaultPaymentMethod:async e=>await rd("/patient-service/api/patients/payments/methods/".concat(e,"/set-default")),payConsultationFee:async e=>await rd("/patient-service/api/patients/cases/pay",e),getConsultationFeeStatus:async e=>await td("/patient-service/api/patients/cases/".concat(e,"/payment-status")),getInvoices:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/invoices?".concat(e))},downloadInvoice:async(e,t)=>await id("/patient-service/api/patients/invoices/".concat(e,"/download"),t),getComplaints:async function(){new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/complaints")},getComplaintById:async e=>await td("/patient-service/api/patients/complaints/".concat(e)),createComplaint:async e=>await rd("/patient-service/api/patients/complaints",e),updateComplaint:async(e,t)=>await ad("/patient-service/api/patients/complaints/".concat(e),t),addComplaintResponse:async(e,t)=>await rd("/patient-service/api/patients/complaints/".concat(e,"/responses"),t),closeComplaint:async e=>await rd("/patient-service/api/patients/complaints/".concat(e,"/close")),getNotifications:async function(e){new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return await td("/patient-service/api/patients/notifications/".concat(e))},markNotificationAsRead:async(e,t)=>await ad("/patient-service/api/patients/notifications/".concat(e,"/").concat(t,"/read?")),markAllNotificationsAsRead:async e=>await ad("/patient-service/api/patients/notifications/".concat(e,"/read-all")),deleteNotification:async e=>await nd("/patient-service/api/patients/notifications/".concat(e)),updateNotificationSettings:async e=>await ad("/patient-service/api/patients/notifications/settings",e),getNotificationSettings:async()=>await td("/patient-service/api/patients/notifications/settings"),getMessages:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/messages?".concat(e))},getMessagesByCaseId:async e=>await td("/patient-service/api/patients/cases/".concat(e,"/messages")),sendMessage:async(e,t)=>await rd("/patient-service/api/patients/cases/".concat(e,"/messages"),t),markMessageAsRead:async e=>await rd("/patient-service/api/patients/messages/".concat(e,"/read")),getDashboardData:async e=>await td("/patient-service/api/patients/".concat(e,"/dashboard")),getDashboardStats:async()=>await td("/patient-service/api/patients/dashboard/stats"),getMedicalHistory:async()=>await td("/patient-service/api/patients/medical-history"),updateMedicalHistory:async e=>await ad("/patient-service/api/patients/medical-history",e),addMedicalRecord:async e=>await rd("/patient-service/api/patients/medical-history/records",e),updateMedicalRecord:async(e,t)=>await ad("/patient-service/api/patients/medical-history/records/".concat(e),t),deleteMedicalRecord:async e=>await nd("/patient-service/api/patients/medical-history/records/".concat(e)),getEmergencyContacts:async()=>await td("/patient-service/api/patients/emergency-contacts"),addEmergencyContact:async e=>await rd("/patient-service/api/patients/emergency-contacts",e),updateEmergencyContact:async(e,t)=>await ad("/patient-service/api/patients/emergency-contacts/".concat(e),t),deleteEmergencyContact:async e=>await nd("/patient-service/api/patients/emergency-contacts/".concat(e)),getInsuranceInfo:async()=>await td("/patient-service/api/patients/insurance"),updateInsuranceInfo:async e=>await ad("/patient-service/api/patients/insurance",e),uploadInsuranceCard:async e=>{const t=new FormData;return t.append("insuranceCard",e),await sd("/patient-service/api/patients/insurance/card",t)},getConsultationReports:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/consultation-reports?".concat(e))},getConsultationReportById:async e=>await td("/patient-service/api/patients/consultation-reports/".concat(e)),downloadConsultationReport:async(e,t)=>await id("/patient-service/api/patients/consultation-reports/".concat(e,"/download"),t),getPrescriptions:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/prescriptions?".concat(e))},getPrescriptionById:async e=>await td("/patient-service/api/patients/prescriptions/".concat(e)),downloadPrescription:async(e,t)=>await id("/patient-service/api/patients/prescriptions/".concat(e,"/download"),t),getReferrals:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/patient-service/api/patients/referrals?".concat(e))},getReferralById:async e=>await td("/patient-service/api/patients/referrals/".concat(e)),getAccountSettings:async()=>await td("/patient-service/api/patients/settings"),updateAccountSettings:async e=>await ad("/patient-service/api/patients/settings",e),getPrivacySettings:async()=>await td("/patient-service/api/patients/privacy"),updatePrivacySettings:async e=>await ad("/patient-service/api/patients/privacy",e),requestDataExport:async()=>await rd("/patient-service/api/patients/data-export"),getDataExportStatus:async e=>await td("/patient-service/api/patients/data-export/".concat(e,"/status")),downloadDataExport:async(e,t)=>await id("/patient-service/api/patients/data-export/".concat(e,"/download"),t),requestAccountDeletion:async e=>await rd("/patient-service/api/patients/delete-account",{reason:e}),cancelAccountDeletion:async()=>await rd("/patient-service/api/patients/cancel-deletion")},dp=cp,up={getProfile:async()=>await td("/doctor-service/api/doctors/profile"),createProfile:async e=>await rd("/doctor-service/api/doctors/profile",e),updateProfile:async e=>await ad("/doctor-service/api/doctors/profile",e),uploadAvatar:async e=>{const t=new FormData;return t.append("avatar",e),await sd("/doctor-service/api/doctors/profile/avatar",t)},getAvailabilityStatus:async()=>await td("/doctor-service/api/doctors/availability/status"),updateAvailability:async e=>await ad("/doctor-service/api/doctors/availability",e),toggleAvailability:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=new URLSearchParams({isAvailable:e});return t&&r.append("reason",t),await rd("/doctor-service/api/doctors/availability/toggle?".concat(r))},uploadCredentials:async e=>{const t=new FormData;return e.forEach(e=>{t.append("credentials",e)}),await sd("/doctor-service/api/doctors/credentials",t)},getCredentials:async()=>await td("/doctor-service/api/doctors/credentials"),deleteCredential:async e=>await nd("/doctor-service/api/doctors/credentials/".concat(e)),getVerificationStatus:async()=>await td("/doctor-service/api/doctors/verification-status"),getCustomPatientInfo:async e=>await td("/doctor-service/api/doctors/cases/".concat(e,"/patient/custom")),getAssignedCases:async()=>await td("/doctor-service/api/doctors/cases/assigned"),getActiveCases:async()=>await td("/doctor-service/api/doctors/cases/active"),getAllCasses:async()=>await td("/doctor-service/api/doctors/cases/all"),setCaseFee:async(e,t)=>await rd("/doctor-service/api/doctors/cases/".concat(e,"/set-fee"),{consultationFee:t}),getCaseById:async e=>await td("/doctor-service/api/doctors/cases/".concat(e)),acceptCase:async e=>await rd("/doctor-service/api/doctors/cases/".concat(e,"/accept")),rejectCase:async(e,t)=>await rd("/doctor-service/api/doctors/cases/".concat(e,"/reject"),{reason:t}),updateCaseStatus:async(e,t,r)=>await ad("/doctor-service/api/doctors/cases/".concat(e,"/status"),{status:t,notes:r}),getCaseAssignments:async function(e){const t=new URLSearchParams({doctorId:e,status:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NA"});return await td("/doctor-service/api/patients/case-assignments?".concat(t))},acceptAssignment:async(e,t)=>await rd("/doctor-service/api/patients/case-assignment/".concat(e,"/assignment/").concat(t)),rejectAssignment:async(e,t,r)=>await rd("/doctor-service/api/patients/case-assignment/".concat(e,"/assignment/").concat(t,"/reject"),null,{params:{reason:r}}),getAppointments:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/appointments?".concat(e))},scheduleAppointment:async e=>await rd("/doctor-service/api/doctors/appointments",e),updateAppointment:async(e,t)=>await ad("/doctor-service/api/doctors/appointments/".concat(e),t),cancelAppointment:async(e,t)=>await rd("/doctor-service/api/doctors/appointments/".concat(e,"/cancel"),{reason:t}),completeAppointment:async e=>await ad("/doctor-service/api/doctors/appointments/complete",e),rescheduleAppointment:async(e,t)=>await ad("/doctor-service/api/doctors/appointments/".concat(e,"/reschedule"),t),approveRescheduleRequest:async(e,t)=>await rd("/doctor-service/api/doctors/reschedule-requests/".concat(e,"/approve"),t),proposeRescheduleTime:async(e,t)=>await rd("/doctor-service/api/doctors/appointments/".concat(e,"/propose-reschedule"),t),rejectRescheduleRequest:async(e,t)=>await rd("/doctor-service/api/doctors/reschedule-requests/".concat(e,"/reject"),t),getAvailableTimeSlots:async function(e){const t=new URLSearchParams({date:e,duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:30});return await td("/doctor-service/api/doctors/appointments/available-slots?".concat(t))},checkSlotAvailability:async function(e){const t=new URLSearchParams({scheduledTime:e,duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:30});return await td("/doctor-service/api/doctors/appointments/check-availability?".concat(t))},getSchedule:async(e,t)=>{const r=new URLSearchParams({startDate:e,endDate:t});return await td("/doctor-service/api/doctors/schedule?".concat(r))},getAvailability:async e=>await td("/doctor-service/api/doctors/availability/".concat(e)),updateAvailability:async e=>await ad("/doctor-service/api/doctors/availability",e),setWorkingHours:async e=>await ad("/doctor-service/api/doctors/working-hours",e),addTimeSlot:async e=>await rd("/doctor-service/api/doctors/time-slots",e),removeTimeSlot:async e=>await nd("/doctor-service/api/doctors/time-slots/".concat(e)),getConsultationReports:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?new URLSearchParams({status:e}):"";return await td("/doctor-service/api/doctors/consultation-reports?".concat(t))},getConsultationReportById:async e=>await td("/doctor-service/api/doctors/consultation-reports/".concat(e)),createConsultationReport:async e=>await rd("/doctor-service/api/doctors/consultation-reports/create",e),updateConsultationReport:async(e,t)=>await ad("/doctor-service/api/doctors/consultation-reports/".concat(e),t),exportReportToPdf:async e=>await rd("/doctor-service/api/doctors/consultation-reports/".concat(e,"/export")),deleteConsultationReport:async e=>await nd("/doctor-service/api/doctors/consultation-reports/".concat(e)),getCaseDetailsForMedicalReport:async e=>await td("/doctor-service/api/doctors/consultation-reports/".concat(e,"/custom-case")),downloadPdf:e=>{window.open(e,"_blank")},canEditReport:e=>e&&"DRAFT"===e.status,canExportReport:e=>e&&"DRAFT"===e.status&&e.diagnosis&&e.recommendations&&e.prescriptions,formatReport:e=>(0,ot.A)((0,ot.A)({},e),{},{createdAtFormatted:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A",updatedAtFormatted:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A",exportedAtFormatted:e.exportedAt?new Date(e.exportedAt).toLocaleDateString():"N/A",isDraft:"DRAFT"===e.status,isFinalized:"FINALIZED"===e.status,hasPdf:Boolean(e.pdfFileLink)}),createPrescription:async e=>await rd("/doctor-service/api/doctors/prescriptions",e),getPrescriptions:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/prescriptions?".concat(e))},updatePrescription:async(e,t)=>await ad("/doctor-service/api/doctors/prescriptions/".concat(e),t),createReferral:async e=>await rd("/doctor-service/api/doctors/referrals",e),getReferrals:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/referrals?".concat(e))},updateReferral:async(e,t)=>await ad("/doctor-service/api/doctors/referrals/".concat(e),t),getMessages:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/messages?".concat(e))},getMessagesByCaseId:async e=>await td("/doctor-service/api/doctors/cases/".concat(e,"/messages")),sendMessage:async(e,t)=>await rd("/doctor-service/api/doctors/cases/".concat(e,"/messages"),t),markMessageAsRead:async e=>await rd("/doctor-service/api/doctors/messages/".concat(e,"/read")),getEarnings:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/earnings?".concat(e))},getEarningsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return await td("/doctor-service/api/doctors/earnings/summary?period=".concat(e))},getPaymentHistory:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/payments?".concat(e))},requestPayout:async(e,t)=>await rd("/doctor-service/api/doctors/payouts",{amount:e,paymentMethod:t}),getPayoutHistory:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/payouts?".concat(e))},getEarningsChartData:async function(e){const t=new URLSearchParams({period:e,groupBy:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"daily"});return await td("/doctor-service/api/doctors/earnings/chart-data?".concat(t))},getPaymentMethodDistribution:async e=>{const t=new URLSearchParams({period:e});return await td("/doctor-service/api/doctors/earnings/payment-methods?".concat(t))},exportEarningsPdf:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a=new URLSearchParams({period:e});t&&a.append("startDate",t),r&&a.append("endDate",r);const n=await td("/doctor-service/api/doctors/earnings/export/pdf?".concat(a),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([n])),i=document.createElement("a");return i.href=s,i.setAttribute("download","earnings_report_".concat(e,"_").concat((new Date).getTime(),".pdf")),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s),n}catch(a){throw console.error("Error exporting PDF:",a),a}},exportEarningsCsv:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a=new URLSearchParams({period:e});t&&a.append("startDate",t),r&&a.append("endDate",r);const n=await td("/doctor-service/api/doctors/earnings/export/csv?".concat(a),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([n],{type:"text/csv"})),i=document.createElement("a");return i.href=s,i.setAttribute("download","earnings_report_".concat(e,"_").concat((new Date).getTime(),".csv")),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s),n}catch(a){throw console.error("Error exporting CSV:",a),a}},getBankAccounts:async()=>await td("/doctor-service/api/doctors/bank-accounts"),addBankAccount:async e=>await rd("/doctor-service/api/doctors/bank-accounts",e),updateBankAccount:async(e,t)=>await ad("/doctor-service/api/doctors/bank-accounts/".concat(e),t),deleteBankAccount:async e=>await nd("/doctor-service/api/doctors/bank-accounts/".concat(e)),setDefaultBankAccount:async e=>await rd("/doctor-service/api/doctors/bank-accounts/".concat(e,"/set-default")),getRates:async()=>await td("/doctor-service/api/doctors/rates"),updateRates:async e=>await ad("/doctor-service/api/doctors/rates",e),getDashboardData:async()=>await td("/doctor-service/api/doctors/dashboard"),getReviews:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/doctor-service/api/doctors/reviews?".concat(e))},getReviewById:async e=>await td("/doctor-service/api/doctors/reviews/".concat(e)),respondToReview:async(e,t)=>await rd("/doctor-service/api/doctors/reviews/".concat(e,"/respond"),{response:t}),getSpecializations:async()=>await td("/doctor-service/api/doctors/specializations"),updateSpecializations:async e=>await ad("/doctor-service/api/doctors/specializations",e),getSkills:async()=>await td("/doctor-service/api/doctors/skills"),updateSkills:async e=>await ad("/doctor-service/api/doctors/skills",e),getEducation:async()=>await td("/doctor-service/api/doctors/education"),addEducation:async e=>await rd("/doctor-service/api/doctors/education",e),updateEducation:async(e,t)=>await ad("/doctor-service/api/doctors/education/".concat(e),t),deleteEducation:async e=>await nd("/doctor-service/api/doctors/education/".concat(e)),getExperience:async()=>await td("/doctor-service/api/doctors/experience"),addExperience:async e=>await rd("/doctor-service/api/doctors/experience",e),updateExperience:async(e,t)=>await ad("/doctor-service/api/doctors/experience/".concat(e),t),deleteExperience:async e=>await nd("/doctor-service/api/doctors/experience/".concat(e)),getSettings:async()=>await td("/doctor-service/api/doctors/settings"),updateSettings:async e=>await ad("/doctor-service/api/doctors/settings",e),getNotifications:async function(e){new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return await td("/doctor-service/api/doctors/notifications/".concat(e))},markNotificationAsRead:async(e,t)=>await ad("/doctor-service/api/doctors/notifications/".concat(e,"/").concat(t,"/read?")),markAllNotificationsAsRead:async e=>await ad("/doctor-service/api/doctors/notifications/".concat(e,"/read-all")),getNotificationSettings:async()=>await td("/doctor-service/api/doctors/notifications/settings"),updateNotificationSettings:async e=>await ad("/doctor-service/api/doctors/notifications/settings",e),getAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return await td("/doctor-service/api/doctors/analytics?period=".concat(e))},getCaseAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return await td("/doctor-service/api/doctors/analytics/cases?period=".concat(e))},getEarningsAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return await td("/doctor-service/api/doctors/analytics/earnings?period=".concat(e))},getDiseases:async()=>await td("/doctor-service/api/admin/config/diseases"),getMedications:async()=>await td("/doctor-service/api/admin/config/medications"),getSymptoms:async()=>await td("/doctor-service/api/admin/config/symptoms")},mp=up,pp={getDashboardStats:async()=>await td("/admin-service/api/admin/stats"),getSystemMetrics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return await td("/admin-service/api/admin/metrics?period=".concat(e))},getRevenueAnalytics:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/analytics/revenue?".concat(e))},getUserGrowthAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"year";return await td("/admin-service/api/admin/analytics/user-growth?period=".concat(e))},getAllUsers:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/users?".concat(e))},getUserById:async e=>await td("/admin-service/api/admin/users/".concat(e)),createUser:async e=>await rd("/admin-service/api/admin/users",e),updateUser:async(e,t)=>await ad("/admin-service/api/admin/users/".concat(e),t),deleteUser:async e=>await nd("/admin-service/api/admin/users/".concat(e)),suspendUser:async(e,t)=>await rd("/admin-service/api/admin/users/".concat(e,"/suspend"),{reason:t}),unsuspendUser:async e=>await rd("/admin-service/api/admin/users/".concat(e,"/unsuspend")),resetUserPassword:async e=>await rd("/admin-service/api/admin/users/".concat(e,"/reset-password")),getPendingDoctors:async()=>await td("/admin-service/api/admin/doctors/pending-verification"),getDoctorVerificationDetails:async e=>await td("/admin-service/api/admin/doctors/".concat(e,"/verification")),verifyDoctor:async(e,t)=>await rd("/admin-service/api/admin/doctors/".concat(e,"/verify"),t),rejectDoctorVerification:async(e,t)=>await rd("/admin-service/api/admin/doctors/".concat(e,"/reject"),{reason:t}),getAllDoctors:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/doctors?".concat(e))},updateDoctorStatus:async(e,t)=>await ad("/admin-service/api/admin/doctors/".concat(e,"/status"),{status:t}),getAllCases:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/cases?".concat(e))},getCaseById:async e=>await td("/admin-service/api/admin/cases/".concat(e)),assignCaseToDoctor:async(e,t)=>await rd("/admin-service/api/admin/cases/".concat(e,"/assign"),{doctorId:t}),reassignCase:async(e,t,r)=>await rd("/admin-service/api/admin/cases/".concat(e,"/reassign"),{newDoctorId:t,reason:r}),getCaseMetrics:async()=>await td("/admin-service/api/admin/cases/metrics"),getAllPayments:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/payments?".concat(e))},getSubscriptionPayments:async()=>await td("/admin-service/api/admin/payments/subscriptions"),getConsultationPayments:async()=>await td("/admin-service/api/admin/payments/consultations"),processRefund:async e=>await rd("/admin-service/api/admin/payments/refund",e),getCaseAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=new URLSearchParams;return e&&r.append("startDate",e),t&&r.append("endDate",t),await td("/admin-service/api/admin/cases/analytics?".concat(r))},getPaymentAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=new URLSearchParams;return e&&r.append("startDate",e),t&&r.append("endDate",t),await td("/admin-service/api/admin/payments/analytics?".concat(r))},getAllComplaints:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/complaints?".concat(e))},getComplaintById:async e=>await td("/admin-service/api/admin/complaints/".concat(e)),updateComplaintStatus:async(e,t,r)=>await ad("/admin-service/api/admin/complaints/".concat(e),{status:t,resolution:r}),assignComplaintToAgent:async(e,t)=>await rd("/admin-service/api/admin/complaints/".concat(e,"/assign"),{agentId:t}),addComplaintNote:async(e,t)=>await rd("/admin-service/api/admin/complaints/".concat(e,"/notes"),{note:t}),getNotifications:async e=>await td("/admin-service/api/admin/notifications/".concat(e)),markNotificationAsRead:async(e,t)=>await ad("/admin-service/api/admin/notifications/".concat(e,"/").concat(t,"/read")),markAllNotificationsAsRead:async e=>await ad("/admin-service/api/admin/notifications/".concat(e,"/read-all")),deleteNotification:async e=>await nd("/admin-service/api/admin/notifications/".concat(e)),getNotificationSettings:async()=>await td("/admin-service/api/admin/notifications/settings"),updateNotificationSettings:async e=>await ad("/admin-service/api/admin/notifications/settings",e),getSystemConfiguration:async()=>await td("/admin-service/api/admin/config/system"),updateSystemConfiguration:async e=>await ad("/admin-service/api/admin/config/system",e),getAllDiseases:async()=>await td("/admin-service/api/admin/config/diseases"),getDiseasesByCategory:async e=>await td("/admin-service/api/admin/config/diseases/category/".concat(e)),createDisease:async e=>await rd("/admin-service/api/admin/config/diseases",e),updateDisease:async(e,t)=>await ad("/admin-service/api/admin/config/diseases/".concat(e),t),deleteDisease:async e=>await nd("/admin-service/api/admin/config/diseases/".concat(e)),getAllMedications:async()=>await td("/admin-service/api/admin/config/medications"),createMedication:async e=>await rd("/admin-service/api/admin/config/medications",e),updateMedication:async(e,t)=>await ad("/admin-service/api/admin/config/medications/".concat(e),t),deleteMedication:async e=>await nd("/admin-service/api/admin/config/medications/".concat(e)),getAllSymptoms:async()=>await td("/admin-service/api/admin/config/symptoms"),getSymptomsByBodySystem:async e=>await td("/admin-service/api/admin/config/symptoms/system/".concat(e)),createSymptom:async e=>await rd("/admin-service/api/admin/config/symptoms",e),updateSymptom:async(e,t)=>await ad("/admin-service/api/admin/config/symptoms/".concat(e),t),deleteSymptom:async e=>await nd("/admin-service/api/admin/config/symptoms/".concat(e)),getConfigurationsByType:async e=>await td("/admin-service/api/admin/config/".concat(e)),generateSystemReport:async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return await td("/admin-service/api/admin/reports/".concat(e,"?").concat(t))},exportSystemReport:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URLSearchParams((0,ot.A)((0,ot.A)({},r),{},{format:t}));return await id("/admin-service/api/admin/reports/".concat(e,"/export?").concat(a),"".concat(e,"_report.").concat(t))},getUserReport:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/reports/users?".concat(e))},getRevenueReport:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/reports/revenue?".concat(e))},getCaseReport:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/reports/cases?".concat(e))},getDoctorPerformanceReport:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/reports/doctor-performance?".concat(e))},getSystemHealth:async()=>await td("/admin-service/api/admin/health"),getSystemLogs:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/logs?".concat(e))},clearSystemLogs:async()=>await rd("/admin-service/api/admin/logs/clear"),clearCache:async()=>await rd("/admin-service/api/admin/config/cache/clear"),getCacheStats:async()=>await td("/admin-service/api/admin/cache/stats"),createBackup:async()=>await rd("/admin-service/api/admin/backup/create"),getBackupHistory:async()=>await td("/admin-service/api/admin/backup/history"),restoreBackup:async e=>await rd("/admin-service/api/admin/backup/".concat(e,"/restore")),deleteBackup:async e=>await nd("/admin-service/api/admin/backup/".concat(e)),getEmailTemplates:async()=>await td("/admin-service/api/admin/email-templates"),getEmailTemplate:async e=>await td("/admin-service/api/admin/email-templates/".concat(e)),updateEmailTemplate:async(e,t)=>await ad("/admin-service/api/admin/email-templates/".concat(e),t),testEmailTemplate:async(e,t)=>await rd("/admin-service/api/admin/email-templates/".concat(e,"/test"),t),sendSystemNotification:async e=>await rd("/admin-service/api/admin/notifications/system",e),sendBulkNotification:async e=>await rd("/admin-service/api/admin/notifications/bulk",e),getNotificationHistory:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/notifications/history?".concat(e))},getAuditLogs:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/audit-logs?".concat(e))},getSecurityEvents:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/security/events?".concat(e))},getFailedLoginAttempts:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/admin-service/api/admin/security/failed-logins?".concat(e))},blockIpAddress:async(e,t)=>await rd("/admin-service/api/admin/security/block-ip",{ipAddress:e,reason:t}),unblockIpAddress:async e=>await rd("/admin-service/api/admin/security/unblock-ip",{ipAddress:e}),getFeatureFlags:async()=>await td("/admin-service/api/admin/feature-flags"),updateFeatureFlag:async(e,t)=>await ad("/admin-service/api/admin/feature-flags/".concat(e),{enabled:t}),getRateLimitSettings:async()=>await td("/admin-service/api/admin/rate-limits"),updateRateLimitSettings:async e=>await ad("/admin-service/api/admin/rate-limits",e),getAnnouncements:async()=>await td("/admin-service/api/admin/announcements"),createAnnouncement:async e=>await rd("/admin-service/api/admin/announcements",e),updateAnnouncement:async(e,t)=>await ad("/admin-service/api/admin/announcements/".concat(e),t),deleteAnnouncement:async e=>await nd("/admin-service/api/admin/announcements/".concat(e)),publishAnnouncement:async e=>await rd("/admin-service/api/admin/announcements/".concat(e,"/publish")),getSupportedLanguages:async()=>await td("/admin-service/api/admin/languages"),addLanguage:async e=>await rd("/admin-service/api/admin/languages",e),updateLanguage:async(e,t)=>await ad("/admin-service/api/admin/languages/".concat(e),t),getTranslations:async e=>await td("/admin-service/api/admin/translations/".concat(e)),updateTranslations:async(e,t)=>await ad("/admin-service/api/admin/translations/".concat(e),t),getIntegrations:async()=>await td("/admin-service/api/admin/integrations"),updateIntegration:async(e,t)=>await ad("/admin-service/api/admin/integrations/".concat(e),t),testIntegration:async e=>await rd("/admin-service/api/admin/integrations/".concat(e,"/test")),getDatabaseStats:async()=>await td("/admin-service/api/admin/database/stats"),optimizeDatabase:async()=>await rd("/admin-service/api/admin/database/optimize"),getPerformanceMetrics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"24h";return await td("/admin-service/api/admin/performance?timeRange=".concat(e))},getApiMetrics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"24h";return await td("/admin-service/api/admin/admin-service/api-metrics?timeRange=".concat(e))},getContentPages:async()=>await td("/admin-service/api/admin/content/pages"),updateContentPage:async(e,t)=>await ad("/admin-service/api/admin/content/pages/".concat(e),t),getFAQs:async()=>await td("/admin-service/api/admin/content/faqs"),createFAQ:async e=>await rd("/admin-service/api/admin/content/faqs",e),updateFAQ:async(e,t)=>await ad("/admin-service/api/admin/content/faqs/".concat(e),t),deleteFAQ:async e=>await nd("/admin-service/api/admin/content/faqs/".concat(e)),getApiKeys:async()=>await td("/admin-service/api/admin/admin-service/api-keys"),createApiKey:async e=>await rd("/admin-service/api/admin/admin-service/api-keys",e),revokeApiKey:async e=>await nd("/admin-service/api/admin/admin-service/api-keys/".concat(e)),getWebhooks:async()=>await td("/admin-service/api/admin/webhooks"),createWebhook:async e=>await rd("/admin-service/api/admin/webhooks",e),updateWebhook:async(e,t)=>await ad("/admin-service/api/admin/webhooks/".concat(e),t),deleteWebhook:async e=>await nd("/admin-service/api/admin/webhooks/".concat(e)),testWebhook:async e=>await rd("/admin-service/api/admin/webhooks/".concat(e,"/test")),getAllSupervisors:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"?status=".concat(e):"";return await td("/admin-service/api/admin/supervisors".concat(t))},getPendingSupervisors:async()=>await td("/admin-service/api/admin/supervisors/pending"),getSupervisorById:async e=>await td("/admin-service/api/admin/supervisors/".concat(e)),verifySupervisor:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await ad("/admin-service/api/admin/supervisors/".concat(e,"/verify"),t)},rejectSupervisor:async(e,t)=>await ad("/admin-service/api/admin/supervisors/".concat(e,"/reject"),{rejectionReason:t}),suspendSupervisor:async(e,t)=>await ad("/admin-service/api/admin/supervisors/".concat(e,"/suspend?reason=").concat(encodeURIComponent(t))),updateSupervisorLimits:async(e,t)=>await ad("/admin-service/api/admin/supervisors/".concat(e,"/limits"),t),searchSupervisors:async e=>await td("/admin-service/api/admin/supervisors/search?query=".concat(encodeURIComponent(e))),getSupervisorStatistics:async()=>await td("/admin-service/api/admin/supervisors/statistics")},hp=pp,xp=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15e3;const r=tt(),{user:a}=Jd(),n=Nm(),{notifications:i,unreadCount:o,settings:l,isLoading:c,error:d}=nt(e=>e.notifications),u=(0,s.useRef)(o),m=(0,s.useRef)(0),p=(0,s.useRef)(null),h=(0,s.useRef)(null),x=(0,s.useCallback)(()=>{switch(null===a||void 0===a?void 0:a.role){case"PATIENT":return dp;case"DOCTOR":return mp;case"ADMIN":return hp;case"MEDICAL_SUPERVISOR":return ld;default:return null}},[null===a||void 0===a?void 0:a.role]),f=(0,s.useCallback)(async()=>{if(null!==a&&void 0!==a&&a.id)try{const e=x();if(!e)return void console.warn("No service found for user role:",null===a||void 0===a?void 0:a.role);const t=await e.getNotifications(a.id);if(t&&Array.isArray(t)){const e=t.slice(0,50);r($s(e)),h.current=new Date}}catch(SY){console.error("Error fetching notifications:",SY)}},[null===a||void 0===a?void 0:a.id,null===a||void 0===a?void 0:a.role,r,x]),y=(0,s.useCallback)(async e=>{try{const t=x();if(!t)return;r(Fs(e)),await t.markNotificationAsRead(e,a.id)}catch(SY){console.error("Error marking notification as read:",SY)}},[null===a||void 0===a?void 0:a.id,r,x]),g=(0,s.useCallback)(async()=>{try{const e=x();if(!e)return;r(qs()),await e.markAllNotificationsAsRead(a.id)}catch(SY){console.error("Error marking all notifications as read:",SY)}},[null===a||void 0===a?void 0:a.id,r,x]),v=(0,s.useCallback)(e=>{r(Us(e))},[r]),b=(0,s.useCallback)(()=>{const e=o-u.current;return e>0?e:0},[o]),j=(0,s.useCallback)(()=>{u.current=o,m.current=0},[o]);return(0,s.useEffect)(()=>{f()},[f]),(0,s.useEffect)(()=>{if(e&&null!==a&&void 0!==a&&a.id)return p.current=setInterval(()=>{f()},t),()=>{p.current&&clearInterval(p.current)};p.current&&clearInterval(p.current)},[e,null===a||void 0===a?void 0:a.id,t,f]),(0,s.useEffect)(()=>{if(!n)return;const e=e=>{r(Ls(e)),m.current+=1},t=e=>{r(Fs(e.id))};return n.on("notification",e),n.on("notification_updated",t),()=>{n.off("notification",e),n.off("notification_updated",t)}},[n,r]),(0,s.useEffect)(()=>{o!==u.current&&(m.current+=o-u.current,u.current=o)},[o]),{notifications:i,unreadCount:o,settings:l,isLoading:c,error:d,lastFetchTime:h.current,newNotificationsCount:b(),markAsRead:y,markAllAsRead:g,removeNotification:v,resetNewNotificationsCounter:j,refetch:f}},fp=e=>{var t,r,a,n;let{onMenuClick:i,user:o}=e;const[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),{logout:h}=Jd(),{notifications:x,unreadCount:f,newNotificationsCount:y,markAsRead:g,markAllAsRead:v,resetNewNotificationsCounter:b}=xp(!0,1e4),j=(0,s.useRef)(null),w=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&c(!1),w.current&&!w.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const N=e=>{const t=new Date,r=new Date(e),a=Math.floor((t-r)/6e4);return a<1?"Just now":a<60?"".concat(a,"m ago"):a<1440?"".concat(Math.floor(a/60),"h ago"):"".concat(Math.floor(a/1440),"d ago")},C=x.slice(0,5);return(0,Xm.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",onClick:i,className:"lg:hidden",children:(0,Xm.jsx)(Um,{className:"w-5 h-5"})}),(0,Xm.jsx)("div",{className:"hidden md:block flex-1 max-w-xs",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"relative",ref:w,children:[(0,Xm.jsxs)(Zm,{variant:"ghost",onClick:()=>{u(!d),b()},className:"relative",children:[(0,Xm.jsx)(Vm,{className:"w-5 h-5"}),f>0&&(0,Xm.jsx)(op,{count:f,maxCount:99,variant:"error",size:"sm",className:"absolute -top-1 -right-1"}),y>0&&(0,Xm.jsx)("span",{className:"absolute top-0 right-0 flex h-2 w-2 items-center justify-center",children:(0,Xm.jsx)("span",{className:"animate-pulse absolute inline-flex h-2 w-2 rounded-full bg-red-400"})})]}),d&&(0,Xm.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden flex flex-col",children:[(0,Xm.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-gray-900",children:["Notifications",y>0&&(0,Xm.jsxs)("span",{className:"ml-2 inline-block bg-red-100 text-red-800 text-xs font-bold px-2 py-1 rounded-full",children:[y," new"]})]}),f>0&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:v,className:"text-xs text-primary-600 hover:text-primary-500",children:"Mark all as read"})]})}),(0,Xm.jsx)("div",{className:"overflow-y-auto flex-1",children:C.length>0?C.map(e=>(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition ".concat(e.isRead?"":"bg-blue-50"),onClick:()=>(e=>{g(e.id),u(!1)})(e),children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 rounded-full mt-2 ".concat(e.isRead?"bg-gray-300":"bg-primary-500")}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1 truncate",children:e.message}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:N(e.createdAt)})]})]})},e.id)):(0,Xm.jsxs)("div",{className:"p-8 text-center",children:[(0,Xm.jsx)(Vm,{className:"w-8 h-8 text-gray-400 mx-auto mb-2 opacity-50"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"No notifications"})]})}),(0,Xm.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,Xm.jsx)(_e,{to:"/app/".concat(null===o||void 0===o||null===(t=o.role)||void 0===t?void 0:t.toLowerCase(),"/notifications"),className:"block text-center text-sm text-primary-600 hover:text-primary-500 font-medium",onClick:()=>u(!1),children:"View all notifications"})})]})]}),(0,Xm.jsxs)("div",{className:"relative",ref:j,children:[(0,Xm.jsxs)(Zm,{variant:"ghost",onClick:()=>c(!l),className:"flex items-center space-x-2 text-sm",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white",children:null===o||void 0===o||null===(r=o.fullName)||void 0===r||null===(a=r.charAt(0))||void 0===a?void 0:a.toUpperCase()}),(0,Xm.jsx)("span",{className:"hidden sm:block",children:null===o||void 0===o?void 0:o.fullName}),(0,Xm.jsx)(Hm,{className:"w-4 h-4 text-gray-400"})]}),l&&(0,Xm.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===o||void 0===o?void 0:o.fullName}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:null===o||void 0===o?void 0:o.email})]})]})}),(0,Xm.jsxs)("div",{className:"py-2",children:[(0,Xm.jsxs)(_e,{to:(()=>{switch(null===o||void 0===o?void 0:o.role){case"PATIENT":return"/app/patient/profile";case"DOCTOR":return"/app/doctor/profile";case"ADMIN":return"/app/admin/settings";default:return"/app/profile"}})(),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 mr-3"}),"Profile"]}),(0,Xm.jsxs)(_e,{to:(()=>{switch(null===o||void 0===o?void 0:o.role){case"PATIENT":return"/app/patient/subscription";case"DOCTOR":return"/app/doctor/settings";case"ADMIN":return"/app/admin/configuration";default:return"/app/settings"}})(),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)(Gm,{className:"w-4 h-4 mr-3"}),"Settings"]}),"PATIENT"===(null===o||void 0===o?void 0:o.role)&&(0,Xm.jsxs)(_e,{to:"/app/patient/payments",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)(Ym,{className:"w-4 h-4 mr-3"}),"Billing"]}),"DOCTOR"===(null===o||void 0===o?void 0:o.role)&&(0,Xm.jsxs)(_e,{to:"/app/doctor/earnings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)(Ym,{className:"w-4 h-4 mr-3"}),"Earnings"]}),(0,Xm.jsxs)(_e,{to:"/app/".concat(null===o||void 0===o||null===(n=o.role)||void 0===n?void 0:n.toLowerCase(),"/communication"),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)(Km,{className:"w-4 h-4 mr-3"}),"Messages"]}),"ADMIN"===(null===o||void 0===o?void 0:o.role)&&(0,Xm.jsxs)(_e,{to:"/app/admin/configuration",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:[(0,Xm.jsx)($m,{className:"w-4 h-4 mr-3"}),"Administration"]})]}),(0,Xm.jsx)("div",{className:"border-t border-gray-200 py-2",children:(0,Xm.jsxs)("button",{onClick:()=>{c(!1),h()},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,Xm.jsx)(Qm,{className:"w-4 h-4 mr-3"}),"Sign out"]})})]})]})]})]})})},yp=zm("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),gp=zm("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),vp=zm("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),bp=zm("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),jp=zm("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),wp=zm("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Np=zm("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Cp=zm("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Sp=zm("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ap=zm("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),kp=zm("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ep=zm("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Pp=zm("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Op=zm("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Tp=zm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACNCAYAAABYDvP9AAAACXBIWXMAAAsSAAALEgHS3X78AAARlElEQVR4nO1dPUwbyxb+8nRFS0jlDptIbuGJ9PhKpHIBt1hanIbINOFV0NnuoLqkMQpNfNts8UhBFaTr9EEPWksXQ+fqAq2bvGLO4PF49ndm9oe7nxQRr3d+dvfbb86cc2b84ufPnyhgDnMnuy8BnAHYHDe7D2n3xzb+lXYHniE2AawB6BOZnjUKApnHJv1dxj+ARAWBDILIsiEcWgYbzp4tCgKZxabi2NrcyW4v6Y4khYJAZqEiEABsP1cSvShmYWYwd7JbBjAMOO3duNnt2e9NcigUyBy81EfE57mT3ZrtjiSJgkDmsBfyvDNSq2eBgkAGMHey2wCwGPL0eTASPYvpfUEgM2hEPH8ZwLGFfiSOgkCaIJtmLUbRbVKuXKMgkD56GmWP5052V0x1JA0UBNJARNtHhXnoETB1FASKCTKCTdgxy3Mnu7m1hwoCxUcbTEFM4ENe/UOFJzoG6GH/abjaOwArecshKhQoHmwMOYtgqpYrFASKiLmT3TaYH8cGcjeUZYZA9WFnsz7slNPuhx9oyt2y3EyuDOrMEAjsxoUJSKaJXgJtLJPK5QKZIFB92GmD2QCNdHviDZpq2xq6ZOzlJeCaOoHqw85LTCLZy1kcxsgu+ZBgk/PIiUGdOoHAyCP6U9op9UMJchj2Umh6Ow8GdaoEktSHYztjKtSGXrhCt+1MI20FktWHo5dwP5SgWVeSQ5eMtaxH7NMmUMPj+Fp92MnCjKyXdgeQcRVKjUD1YacB/6Ghl+ZQNneyu4fkZl1+WMyyCqWpQEEKMw/gjOykREGGczvpdn3QTrsDXkiFQKQsGwGnAUwBejb74gEv2ywtZFaF0lKgKPbNRn3Y6dnqiAxSn7ArLKLgTrN820QnTCMtAjUinr+dIIlsqc+VZvnFLPqFEicQ2TRxjNPt+rBzZdMmsqg+AHBroA5bfYuNNBRIZ3q+DOCqPuzYSkTfhD3bp2+gjo2sxcjSIFBNs/wigD65AUzD5hv+AODaQD2ZUqE8EghgKvG5Puz0TA1p5HW27ffRtYOAjGUsJEogetgm40rbYENazUBdDQN1BMEEgebnTnaz4KUHkLwC2bBdFgH8WR92jjXVqGaoP34wQSAgQyqUNIFqFuv+gJhqRLOvJMIWpgi0kZXNGZImUNly/XHVqGapPyJuDS/ZycQw9twIxPEBwG2EiL719enjZveW/mtiJgYkQ/pA5IFAjzHbmgfw3/qwEyYga5tA4jWYUqF/pALFmYHp+j02EKxGtu0JU7aPiPkshDbSTigLi4+a5YPUyPZezreW6q1Zqjc08kCgFbBIdNyhTARXo5p4cNzsHgOoAPhuoA0VbCgQUBAoFGrnldYDzLnw58Fmam3x4LjZvR03uzUA/4EZsoqwRaA4O6MZRR4ItFwfdl6eV1o9mFWIVn3Y6ctDGqlRDeZmSxg3u31TdclIe4ezPBAImMw4GjCrDmtQRPfHze4VGIn+MNCGMSJ6oGy5fl/kikDnldYtzEejeXR/apY2bnYfxs1uA/ok6muWD0KhQCGwwVdo0FD21XD9fJbWkL8gEr3TqLsvfTbtMigIFBIN6f+6OcYqfPYgUQ/MuI6McbMruwi8Ym5xh7pUY2JJE0jHCN7jBi/Nymx5Yj/Xh52ZPXrIuI46nE0pZUAA9ArxSFQoUEjMQ7B/ziutK+gNLX74UB92ZmwtGs6iDJ+y+vg97DPEC3OkuvwoaQL1NcvvidNusodMzJRU+N0jbbaB8EoRlkCPYPemHLLezCBpAuk61Gb2zTmvtBowb1RzzNhElJLRUJ49ja+K9A0vAp3RuWntAhIbeSMQwIYX+UE0YM/fcuzhJwoyqlXxNS8C5fYnDxIlEPlxTDgCe1K9DzDsPRagXKNPRrVXe4/yLxP6ZD1+J0IWBAqJvoE6luVYlkAi03EsgA0tPcVxL6emSn28Zo0N+luL1KOMIA0CmUqdaMlRdcsk2pBnZhTjUhnxqq16a4pjH4VMRdX3mUeeCQQohhaa3tdgx9HYVuxZ1JY+X9OQJENWoDteluyf3BnQQAoEIpUwNWuah2JIJBKtwLxNNPPzTKQgogrNqA+t45L9NZvCLE0nvmc7WOuLtByJJlVoWbVzh0XDWrX9Hm//EeHsn3dcpci41vGqm1zpERmpEIgcgCbtlG3ZqKZ2OIlM+4mmVIZsoTsAPdn3Q5shbAuHOtIMbQ963uS+RlltpBnKUBmaOmipPMfnldbDeaW1Cf28ahGLiraOob4m8bw/xs1um38wtJ3MrWZ5LaRNINOzJWU0HQDOK609sNiZqTbb4odxs3sszKgATBHkEcBvFEsToas+wD9VgWh4Ma1CgD+JejA3Q1OpkIw9MIVYkdM6aGjTVZ87mbRJwxqB6sNOLcSCvmMkmNcDTM3QTARhlW2IGDe7Kx4P+Rg5Vx/A4k9ekpPvDMAevfle5zUAfJYOX0M9u+gHNPsS0yGBPSKMV9ubYDMonQf5b782VKBp/X812uT4TZGwliis/mZqfdjhlV+DvXFnNHSJ57wE8JLiZImD2j/G9EwpCj6SfRUKZBfdQl997sbNblmzDm3YJtAZZveD/g6mJFcAHs4rrb6BdkTleYiqCFRHGcwwjkqkx/NKK3Ra6dzJbh9m1nN1xBldWrBNoAZmh6cgyGmvK9B/Wx8xSSXpgynAlYpoApFU3mMv/BrmRZg72e0hvtLJqKRtQAP2CfQSwL21BszgKxipzsRhVPgpqjBT7cBhjHaaj/oyeeEPhUsgFVj/3XgKM5h662zjK4DeeaX1ZJiGtJGuzystz3wew+QBMqI+QDIEqgH402oj5nEHoC3OHoVZpZcaVVQTAYq0933KRUUmbB8O645Esg1s7XphC4tgvqQ+T2el6yjDOzg7o0AWyHOHjP0seFKe6HZC7ZjGGoD/8USygAh/TfxAnuY+zC67aRjeZ1EbiRCI3l5bKyeSwO88ZURY1CjH1GQFKsMseTo2d/mIiyRjYTyomFdsCyS6xWwYw+ZePd+zZPeISIxAlnbWSBoiic4gxdMs/UTnNTKyoaYKSS/r6cHeStKksC0EamVVLRtu6xHTqa+ZQxrpHHtIOY/XAD7Xh50VRUqKybVdjwBqWfH3eCGtpPoa8k+iY+EvV6HQMbEAcPJEjukljbRyop8Didbqw06DroV7rssG6r0GUM4DeYD0MxJryDeJ2vSXq1FZs76vYMqTWZtHRqr7AwkkyqthvUgqdAX9zMrOuNnNtMGsQuobTNGqiQaA35BPP1GD/p4hngLdAfg1q36eIKROIA7yq5SRPzVaI/9PH9GXJ38ES7jvm+1ScsgMgYApNaogX0TaRLQE92sw1dnL25AlI1ME4jivtG4FIn1E9oc2PhsLmhDcgS1rzrXqiLCeD2QKtIJiE8zozuJOFhWwVSB7AEA/xcTzoO4AtOVNp54DckMgEWRz1MBsJv5Xl1TyUqIHeG/JVxb+8Xbf8TLnldYtLd3ZA1sv39PsW2aRSwL5IcKP7l7JS4xitlfGJBfoDCkuUUoDz45ABZJFJo3oAvlBQaACWigIVEALBYEKaKEgUAEtFAQqoIWCQAW0UBCogBZ+SbsDJlGqOvsAFgBgNHAP6JgDYFU8RscP6b+Xo4HrSvUsAdihj6ejgXtjqH9ivTPt5hG/AECp6iwAWOcH41xYqeqsgx4egIvRwE1jW5cnspSqzhH1YRXAvniMrnefyhwBkK93Vfj+EoARAkn1qtoNBSLiasRil3FfBOHZ3o8G7oX4HVegdQBfhAKno4H7PkID+wAOhUNbiHlzCviDlHM/8ER12YPRwD2KWOYTBNUE8Eb83ssG2iFShGlgHdPkyRpOwQi9FUEVL3gZ+n8mQMNxLPIQDqmOsO2J5FHCzwY6LFWdS1mypAaWIChXFkGyHUm6iWhZVFDx4R8g/HUtYfKSryLg2miI/wLBrPGCikCXmIyvX0pV541q7BQaWVCUk8/dx/TF++FCNHap/CFCXAzYjfJsezRw38yUUEBS1QP+EpWqzo8w5QXMXEtY0NvP76dLQ494fadhFZWeVahRgs79hulneY/Jc56CikAXYGTYoUJfSlXnraKzUxdI/2bUKMaYvVqqOuIsKlBGA7CAiWG9EPKmP5Wh//MbG9VwXaU2Q9uT1JZsd5wC7AWgfsDGJEUYUfh13oMN44fwuHblEDYauO9LVQdgF7EKRpYtoaFPmCjKJYD38FYIfiPuESy5S2APbAfAQanqrArlbxC8YScvbxuRroVmf6GGG3rhRPJMvby2Zrd0r79hekTZGg3cG+KCEn420AEYeVYBOKWq84mItY9pUrylqbGqUwtCh06D5FxQqwUqK0q2G6L8D0RXiTi4CRoOJeVdRQh7he4tL3OPaIZ/bNCQLZojF2Hb9iQQkeItgL8weZPuMX2BqqGtQAxIrhB+b71szx0wxddWW4ULJpILx9cTLZCIS5toyxyNBu5lxM4mMbzkBUvClFqcJXHyzNxbDwM3Cu5B9hTVJ5Mnsp8oMJQxGriXpapzJDV0FLUhMPLp+DCeGxyoZ6Z+Lya3SePgAowgN8CMoX4P5hk/DXrJZSM+VCxsNHCPyMY5RAhbpkBs3MPfcSlOVF4jwq8AiKaGMAxy8Gl+0FR/FcDfVMfRaOAehA6mEokWwJgaB3yqH7Y9pWH+jCDeDz6ELQD4Rm4TlQqJ6nCfBfszUjReU3lunkP02SCm7oeg8Nz39sYWQejljGK/cpeE6L4IP4QVsA9SeJ7usYSJEtkiUSivPDDlHplxX1glEDGdu8F3ogxJpHbiNHZdyOHxwkwoI2K/7mNMDoxB4cD1I9EhXUNUGM1DSkKBXEzCIqFnYWSkXZaqzgWY8cidmqZwSv0R+3WJ+DaeEShIdAjm6ZcRN7wTOw9JBespreSUOkL83w2zkltECqfTL5s4ACMzwBTyU5qd8cPT2ngTQbqgOqI4EuU6ojohFdPWwH4FlYl6j3Tr8CsfF3Gfr1cguthcoYAWilUZBbRQEKiAFgoCFdBCQaACWigIVEALBYEKaCGTBCpVnQVdf4dtlKrOUtJ9TKPNIGj7gUpV5y+w/NlL+vwTLKOOL4X5ORq4L+i4iJnUSQom/sAkBrYA4A3FrvYB7I8G7iupDK+Xx7YOKDAZ2B6Vn6lXUef70cA9pe948vlMH8Xrla7pC9WlWnjwyqfsNzAv/GWcNqMETOPCRCyMx6ouKTkb9PmC3pangKh4kR74ASGds1R11gXvJ1/fviTnCks372ep6pzKx32grFeuE5NU0G9SHx065vew7kcD9y2dvwPA4Z8lHJSqzuFo4B4QCVZHA/dtqer8HadN36s2BBND2AUmQc51sBvNw9sOQi4Npht7KSZSCSrGVzUcITiIeIOQyeYR6/XqowuW36wd6KVMAB7Y/QLgve02daGtQKOB65aqDl9Q6IC9FX/T53UIBCJJBtgbuYVpLGESQJThgEn5KdgqEXnlKn/4fBuXm1LVCWrPt16hLH8p/PrIX6JIiww8cEDB0wW6t4cJtBkbpo1oHnBzSWbXue1AeE//vDIbvWSXv5UO2Jox+c3jmw4sjQbu6wjt+dUrlnWE4dnq0EAqtIPptJIsZgwAMJcP5NJbw9WG20VTQ0nA6swbsAc5lY9DD040Hi/AbvCTQUx2AjduQ7UXVK9Q9ogStxywt32mj2DX6pVHFGZNv4wbTO6l8r5YaDMWTCkQX0vPL9qVPgeClGqdjEcATzbKPmgZEb2dW1DYK2QjcMkPg1D1Eng6p6qP6/QdH0ruJSULbQeqkEabUWBKgS6Ap4sVU0anLkKwKwB2A+Rp9RsAf5WqDk8gWwcbFp9mLDwhnGZoU/VTNt/TLCygvXWveqWyq2BGLC8r9pFvuCDOhrbAUlEv6PsFA2myabQZCkYIRKmnr6TDr6UEpNfS9zPjOr1RL8h+wmjgbnk4zsQ8YbndV0SGoPbkck/1imUVLgO5j670/QWVX4diS7jRwD0VXhAvTK3I0G3TJoqEsgJayGQoo0B+UBCogBb+D8Xmy9YRmfWJAAAAAElFTkSuQmCC",Rp=e=>{let{open:t,onClose:r,userRole:a,userId:n}=e;const s=Z(),{unreadCount:i}=xp(!0,1e4),o=(()=>{switch(a){case"PATIENT":return[{name:"Dashboard",href:"/app/patient/dashboard",icon:yp},{name:"My Cases",href:"/app/patient/cases",icon:gp},{name:"Family Members",href:"/app/patient/dependents",icon:vp},{name:"Appointments",href:"/app/patient/appointments",icon:bp},{name:"Payments",href:"/app/patient/payments",icon:Ym},{name:"My Coupons",href:"/app/patient/coupons",icon:jp},{name:"Notifications",href:"/app/patient/notifications",icon:Vm,badge:i},{name:"communication",href:"/app/patient/communication",icon:Km},{name:"Complaints",href:"/app/patient/complaints",icon:wp},{name:"Profile",href:"/app/patient/profile",icon:Wm},{name:"Subscription",href:"/app/patient/subscription",icon:Np},{name:"Settings",href:"/app/patient/settings",icon:Gm}];case"DOCTOR":return[{name:"Dashboard",href:"/app/doctor/dashboard",icon:yp},{name:"New Assignments",href:"/app/doctor/assignments",icon:yp},{name:"Case Management",href:"/app/doctor/cases",icon:gp},{name:"Appointments",href:"/app/doctor/appointments",icon:bp},{name:"Schedule",href:"/app/doctor/schedule",icon:bp},{name:"Notifications",href:"/app/doctor/notifications",icon:Vm,badge:i},{name:"Reports",href:"/app/doctor/reports",icon:gp},{name:"Earnings",href:"/app/doctor/earnings",icon:Cp},{name:"Communication",href:"/app/doctor/communication",icon:Km},{name:"Profile",href:"/app/doctor/profile",icon:Wm},{name:"Settings",href:"/app/doctor/settings",icon:Gm}];case"ADMIN":return[{name:"Dashboard",href:"/app/admin/dashboard",icon:yp},{name:"User Management",href:"/app/admin/users",icon:vp},{name:"Doctor Verification",href:"/app/admin/doctors/verification",icon:Sp},{name:"Supervisors Management",href:"/app/admin/supervisors",icon:Ap},{name:"Case Management",href:"/app/admin/cases",icon:gp},{name:"Payment Management",href:"/app/admin/payments",icon:Ym},{name:"Coupons Management",href:"/app/admin/coupons",icon:jp},{name:"Complaint Management",href:"/app/admin/complaints",icon:wp},{name:"Notifications",href:"/app/admin/notifications",icon:Vm,badge:i},{name:"System Reports",href:"/app/admin/reports",icon:kp},{name:"Medical Configuration",href:"/app/admin/medical-config",icon:Ep},{name:"System Configuration",href:"/app/admin/configuration",icon:Gm},{name:"Admin Settings",href:"/app/admin/settings",icon:$m}];case"MEDICAL_SUPERVISOR":return[{name:"Dashboard",href:"/app/supervisor/dashboard",icon:yp},{name:"My Patients",href:"/app/supervisor/patients",icon:vp},{name:"All Cases",href:"/app/supervisor/cases",icon:gp},{name:"Appointments",href:"/app/supervisor/appointments",icon:bp},{name:"Payments",href:"/app/supervisor/payments",icon:Ym},{name:"Coupons",href:"/app/supervisor/coupons",icon:jp},{name:"Messages",href:"/app/supervisor/communication",icon:Km},{name:"Complaints",href:"/app/supervisor/complaints",icon:wp},{name:"Notifications",href:"/app/supervisor/notifications",icon:Vm},{name:"Profile",href:"/app/supervisor/profile",icon:Wm},{name:"Settings",href:"/app/supervisor/settings",icon:Gm}];default:return[]}})(),l=e=>!!e&&(s.pathname===e||s.pathname.startsWith(e.replace("/app/","/"))),c=()=>{switch(a){case"PATIENT":return"text-blue-600";case"DOCTOR":return"text-green-600";case"ADMIN":return"text-purple-600";case"MEDICAL_SUPERVISOR":return"text-orange-600";default:return"text-gray-600"}},d=()=>{switch(a){case"PATIENT":return(0,Xm.jsx)(Pp,{className:"w-5 h-5"});case"DOCTOR":return(0,Xm.jsx)(Op,{className:"w-5 h-5"});case"ADMIN":return(0,Xm.jsx)($m,{className:"w-5 h-5"});case"MEDICAL_SUPERVISOR":return(0,Xm.jsx)(Ap,{className:"w-5 h-5"});default:return(0,Xm.jsx)(Wm,{className:"w-5 h-5"})}};return(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 lg:z-30",children:(0,Xm.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[(0,Xm.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-19 h-19 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-18 h-18 object-contain"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"MediLink24"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Medical Consultation System"})]})]})}),(0,Xm.jsx)("div",{className:"mt-5 px-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("div",{className:"".concat(c()),children:d()}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-900 capitalize",children:[null===a||void 0===a?void 0:a.toLowerCase()," Portal"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Access Level"})]})]})}),(0,Xm.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:o.map(e=>{const t=l(e.href);return(0,Xm.jsxs)(_e,{to:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ".concat(t?"bg-primary-100 text-primary-900 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(e.icon,{className:"mr-3 flex-shrink-0 h-5 w-5 ".concat(t?"text-primary-500":"text-gray-400 group-hover:text-gray-500")}),(0,Xm.jsx)("span",{children:e.name})]}),e.badge&&e.badge>0&&(0,Xm.jsx)(op,{count:e.badge,maxCount:99,variant:"error",size:"sm"})]},e.name)})}),(0,Xm.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"inline-block h-9 w-9 rounded-full bg-gray-100 flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"h-5 w-5 text-green-600"})}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:[a," User - Id: ",n]}),(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-500 group-hover:text-gray-700",children:"Online"})]})]})})]})}),(0,Xm.jsx)("div",{className:"lg:hidden ".concat(t?"block":"hidden"),children:(0,Xm.jsxs)("div",{className:"fixed inset-0 flex z-40",children:[(0,Xm.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:r,"aria-hidden":"true"}),(0,Xm.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,Xm.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,Xm.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:r,children:[(0,Xm.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,Xm.jsx)(Tp,{className:"h-6 w-6 text-white"})]})}),(0,Xm.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-5 h-5 text-white"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"HealthBridge"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Medical Consultation"})]})]})}),(0,Xm.jsx)("div",{className:"mt-5 px-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("div",{className:"".concat(c()),children:d()}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-900 capitalize",children:[null===a||void 0===a?void 0:a.toLowerCase()," Portal"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Access Level"})]})]})}),(0,Xm.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:o.map(e=>{const t=l(e.href);return(0,Xm.jsxs)(_e,{to:e.href,onClick:r,className:"group flex items-center px-2 py-2 text-base font-medium rounded-md transition-colors ".concat(t?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Xm.jsx)(e.icon,{className:"mr-4 flex-shrink-0 h-6 w-6 ".concat(t?"text-primary-500":"text-gray-400")}),e.name,e.badge&&e.badge>0&&(0,Xm.jsx)(op,{count:e.badge,maxCount:99,variant:"error",size:"sm"})]},e.name)})})]})]})]})})]})},_p=()=>{const[e,t]=(0,s.useState)(!1),{user:r}=Jd();return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)(Rp,{open:e,onClose:()=>t(!1),userRole:null===r||void 0===r?void 0:r.role,userId:null===r||void 0===r?void 0:r.id}),(0,Xm.jsxs)("div",{className:"lg:pl-64",children:[(0,Xm.jsx)(fp,{onMenuClick:()=>t(!0),user:r}),(0,Xm.jsx)("main",{className:"py-6",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)(ve,{})})})]})]})},Mp=e=>{let{children:t,requiredRole:r}=e;const{user:a,isAuthenticated:n,isLoading:s}=Jd(),i=Z();if(s)return(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(console.log("ProtectedRoute - isAuthenticated:",n),console.log("ProtectedRoute - user:",a),!n)return(0,Xm.jsx)(ge,{to:"/login",state:{from:i},replace:!0});if("/"===i.pathname){const e="PATIENT"===(null===a||void 0===a?void 0:a.role)?"/patient/dashboard":"DOCTOR"===(null===a||void 0===a?void 0:a.role)?"/doctor/dashboard":"ADMIN"===(null===a||void 0===a?void 0:a.role)?"/admin/dashboard":"/dashboard";return(0,Xm.jsx)(ge,{to:e,replace:!0})}return t},Ip=zm("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Lp=zm("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Fp=zm("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),qp=zm("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),zp=zm("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Up=zm("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bp=zm("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Vp=zm("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Hp=zm("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Wp=zm("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),Gp=zm("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Yp=zm("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Kp=zm("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$p=zm("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Qp=zm("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xp=zm("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Jp=zm("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Zp=zm("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),eh=zm("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),th=zm("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),rh=[{id:1,name:"Dr. Hans Mueller",specialization:"Cardiology",experience:"15 years",rating:4.9,languages:["German","English","Spanish"],location:"Munich",image:"/api/placeholder/120/120",certifications:["European Society of Cardiology","German Cardiac Society"],consultationFee:"\u20ac150",availability:"Available Today",patientsHelped:1200,university:"Ludwig Maximilian University",hospital:"Munich Heart Center"},{id:2,name:"Dr. Petra Schmidt",specialization:"Oncology",experience:"12 years",rating:4.8,languages:["German","English","Russian"],location:"Berlin",image:"/api/placeholder/120/120",certifications:["German Cancer Society","ESMO Certification"],consultationFee:"\u20ac200",availability:"Available Tomorrow",patientsHelped:950,university:"Charit\xe9 Medical University",hospital:"Berlin Cancer Institute"},{id:3,name:"Dr. Michael Weber",specialization:"Orthopedics",experience:"18 years",rating:4.9,languages:["German","English","Arabic"],location:"Hamburg",image:"/api/placeholder/120/120",certifications:["AO Foundation","German Orthopedic Society"],consultationFee:"\u20ac175",availability:"Available Today",patientsHelped:1500,university:"University of Hamburg",hospital:"Hamburg Orthopedic Clinic"},{id:4,name:"Dr. Lisa Hoffmann",specialization:"Neurology",experience:"10 years",rating:4.7,languages:["German","English","French"],location:"Frankfurt",image:"/api/placeholder/120/120",certifications:["European Academy of Neurology","DGN Certification"],consultationFee:"\u20ac180",availability:"Available in 2 days",patientsHelped:800,university:"Goethe University Frankfurt",hospital:"Frankfurt Neurological Center"},{id:5,name:"Dr. Thomas Richter",specialization:"Gastroenterology",experience:"14 years",rating:4.8,languages:["German","English","Turkish"],location:"Stuttgart",image:"/api/placeholder/120/120",certifications:["DGVS Certification","ESGE Member"],consultationFee:"\u20ac165",availability:"Available Today",patientsHelped:1100,university:"University of Stuttgart",hospital:"Stuttgart Digestive Care Center"},{id:6,name:"Dr. Anna Bauer",specialization:"Dermatology",experience:"11 years",rating:4.6,languages:["German","English","Italian"],location:"Cologne",image:"/api/placeholder/120/120",certifications:["German Dermatological Society","AAD International"],consultationFee:"\u20ac140",availability:"Available Tomorrow",patientsHelped:900,university:"University of Cologne",hospital:"Cologne Skin Institute"},{id:7,name:"Dr. Klaus Wagner",specialization:"Psychiatry",experience:"16 years",rating:4.7,languages:["German","English","Russian"],location:"Dresden",image:"/api/placeholder/120/120",certifications:["German Psychiatric Society","European Psychiatric Association"],consultationFee:"\u20ac160",availability:"Available Today",patientsHelped:1300,university:"Technical University Dresden",hospital:"Dresden Mental Health Center"},{id:8,name:"Dr. Maria Schneider",specialization:"Gynecology",experience:"13 years",rating:4.8,languages:["German","English","Polish"],location:"D\xfcsseldorf",image:"/api/placeholder/120/120",certifications:["German Society of Gynecology","FIGO Certification"],consultationFee:"\u20ac155",availability:"Available Tomorrow",patientsHelped:1050,university:"Heinrich Heine University",hospital:"D\xfcsseldorf Women's Health Center"}],ah=()=>{const e=te(),[t,r]=(0,s.useState)(0),[a,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)("featured"),[d,u]=(0,s.useState)("All"),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(1),f=rh.filter(e=>{const t=e.name.toLowerCase().includes(m.toLowerCase())||e.specialization.toLowerCase().includes(m.toLowerCase())||e.location.toLowerCase().includes(m.toLowerCase()),r="All"===d||e.specialization===d;return t&&r}),y=Math.ceil(f.length/6),g=6*(h-1),v=f.slice(g,g+6),b=["All",...new Set(rh.map(e=>e.specialization))];(0,s.useEffect)(()=>{if("featured"===l){const e=setInterval(()=>{r(e=>(e+1)%rh.length)},4e3);return()=>clearInterval(e)}},[l]);const j=t=>{let{doctor:r,onClose:a}=t;return(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Xm.jsx)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-90vh overflow-y-auto",children:(0,Xm.jsxs)("div",{className:"p-8",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Xm.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:"Doctor Profile"}),(0,Xm.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Xm.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"w-48 h-48 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)(Op,{className:"w-24 h-24 text-green-600"})}),(0,Xm.jsx)("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.name}),(0,Xm.jsx)("p",{className:"text-xl text-primary-600 font-semibold mb-4",children:r.specialization}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[...Array(5)].map((e,t)=>(0,Xm.jsx)(Ip,{className:"w-5 h-5 ".concat(t<Math.floor(r.rating)?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,Xm.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[r.rating,"/5.0"]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Based on ",r.patientsHelped,"+ consultations"]})]})]})}),(0,Xm.jsxs)("div",{className:"lg:col-span-1",children:[(0,Xm.jsx)("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"Professional Details"}),(0,Xm.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Lp,{className:"w-5 h-5 text-yellow-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:"Experience"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:r.experience})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Fp,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:"Location"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:[r.location,", Germany"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(qp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:"Education"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:r.university})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(zp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:"Hospital"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:r.hospital})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:"Patients Helped"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:[r.patientsHelped.toLocaleString(),"+"]})]})]})]}),(0,Xm.jsxs)("div",{className:"mb-6",children:[(0,Xm.jsx)("h6",{className:"font-medium text-gray-900 mb-3",children:"Languages Spoken"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:r.languages.map((e,t)=>(0,Xm.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},t))})]})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-1",children:[(0,Xm.jsx)("h5",{className:"text-lg font-bold text-gray-900 mb-4",children:"Certifications & Booking"}),(0,Xm.jsxs)("div",{className:"mb-6",children:[(0,Xm.jsx)("h6",{className:"font-medium text-gray-900 mb-3",children:"Professional Certifications"}),(0,Xm.jsx)("ul",{className:"space-y-2",children:r.certifications.map((e,t)=>(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e})]},t))})]}),(0,Xm.jsxs)("div",{className:"bg-green-50 rounded-xl p-6",children:[(0,Xm.jsxs)("div",{className:"text-center mb-4",children:[(0,Xm.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-1",children:r.consultationFee}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Per consultation"})]}),(0,Xm.jsxs)("div",{className:"mb-4",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Availability"}),(0,Xm.jsx)("p",{className:"text-sm text-green-600 font-semibold",children:r.availability})]}),(0,Xm.jsx)("button",{className:"w-full bg-primary-500 text-white py-3 rounded-lg font-semibold hover:bg-primary-600 transition-colors mb-3",onClick:()=>e("/register"),children:"Book Consultation Now"}),(0,Xm.jsx)("button",{className:"w-full bg-white border-2 border-primary-500 text-primary-600 py-2 rounded-lg font-medium hover:bg-primary-50 transition-colors",onClick:a,children:"View More Doctors"})]})]})]})]})})})};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Xm.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-5 h-5 text-white"})}),(0,Xm.jsx)("div",{children:(0,Xm.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"MediLink24 Germany"})})]}),(0,Xm.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,Xm.jsx)("a",{href:"#services",className:"text-gray-600 hover:text-primary-600 font-medium",children:"Services"}),(0,Xm.jsx)("a",{href:"#doctors",className:"text-gray-600 hover:text-primary-600 font-medium",children:"Doctors"}),(0,Xm.jsx)("a",{href:"#process",className:"text-gray-600 hover:text-primary-600 font-medium",children:"Process"}),(0,Xm.jsx)("a",{href:"#pricing",className:"text-gray-600 hover:text-primary-600 font-medium",children:"Pricing"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("button",{onClick:()=>e("/login"),className:"text-gray-600 hover:text-primary-600 font-medium",children:"Sign In"}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"bg-primary-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"Get Started"})]})]})})}),(0,Xm.jsx)("section",{className:"relative bg-gradient-to-br from-primary-50 to-green-50 py-20",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"flex items-center space-x-2 mb-6",children:(0,Xm.jsx)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"\ud83c\udde9\ud83c\uddea German Quality Healthcare"})}),(0,Xm.jsxs)("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Expert Medical Consultations from",(0,Xm.jsx)("span",{className:"text-primary-600",children:" German Doctors"})]}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Get second opinions, diagnostic reviews, and complete treatment organization from verified German healthcare professionals. Access world-class medical expertise from anywhere in the world."}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[(0,Xm.jsxs)("button",{onClick:()=>e("/register"),className:"bg-primary-500 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-primary-600 transition-colors flex items-center justify-center",children:["Start Consultation",(0,Xm.jsx)(Bp,{className:"w-5 h-5 ml-2"})]}),(0,Xm.jsxs)("button",{onClick:()=>o(!0),className:"border-2 border-primary-500 text-primary-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-primary-50 transition-colors flex items-center justify-center",children:[(0,Xm.jsx)(Vp,{className:"w-5 h-5 mr-2"}),"Watch Demo"]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"500+"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"German Doctors"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"50+"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Medical Specialties"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"24/7"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Support Available"})]})]})]}),(0,Xm.jsx)("div",{className:"relative",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Hp,{className:"w-6 h-6 text-green-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:"Live Consultation"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Dr. Mueller - Cardiology"})]}),(0,Xm.jsx)("div",{className:"ml-auto",children:(0,Xm.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Active"})})]}),(0,Xm.jsx)("div",{className:"bg-gray-100 rounded-lg h-48 flex items-center justify-center mb-4",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(Op,{className:"w-16 h-16 text-primary-500 mx-auto mb-2"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Secure Video Consultation"})]})}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)("button",{className:"p-2 bg-red-500 text-white rounded-lg",children:(0,Xm.jsx)(Wp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{className:"p-2 bg-gray-200 text-gray-600 rounded-lg",children:(0,Xm.jsx)(Hp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{className:"p-2 bg-gray-200 text-gray-600 rounded-lg",children:(0,Xm.jsx)(Km,{className:"w-4 h-4"})})]}),(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"45:32"})]})]})})]})})}),(0,Xm.jsx)("section",{id:"doctors",className:"py-20 bg-white",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-12",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Our German Medical Experts"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Connect with verified German doctors across all major medical specializations"}),(0,Xm.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[(0,Xm.jsx)("button",{onClick:()=>c("featured"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("featured"===l?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Featured"}),(0,Xm.jsxs)("button",{onClick:()=>c("grid"),className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 ".concat("grid"===l?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Xm.jsx)(Gp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Grid View"})]}),(0,Xm.jsxs)("button",{onClick:()=>c("list"),className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 ".concat("list"===l?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Xm.jsx)(Yp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"List View"})]})]})]}),"featured"===l&&(0,Xm.jsxs)("div",{className:"mb-16",children:[(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-primary-500 via-green-500 to-blue-500 rounded-3xl p-8 mb-12",children:(0,Xm.jsx)("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[(0,Xm.jsxs)("div",{className:"text-white",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Xm.jsx)(Ip,{className:"w-5 h-5 text-yellow-300 fill-current"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-white/90",children:"Featured Specialist"})]}),(0,Xm.jsx)("h3",{className:"text-3xl font-bold mb-2",children:rh[t].name}),(0,Xm.jsxs)("p",{className:"text-xl text-white/90 mb-4",children:[rh[t].specialization," Specialist"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-white/60 text-sm mb-1",children:"Experience"}),(0,Xm.jsx)("p",{className:"text-lg font-semibold",children:rh[t].experience})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-white/60 text-sm mb-1",children:"Rating"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 text-yellow-300 fill-current"}),(0,Xm.jsx)("span",{className:"text-lg font-semibold",children:rh[t].rating})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-white/60 text-sm mb-1",children:"Location"}),(0,Xm.jsx)("p",{className:"text-lg font-semibold",children:rh[t].location})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-white/60 text-sm mb-1",children:"Fee"}),(0,Xm.jsx)("p",{className:"text-lg font-semibold",children:rh[t].consultationFee})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Xm.jsx)("button",{onClick:()=>n(rh[t]),className:"bg-white text-gray-900 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"View Full Profile"}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"bg-white/20 backdrop-blur text-white border border-white/30 px-6 py-3 rounded-lg font-semibold hover:bg-white/30 transition-colors",children:"Book Consultation"})]})]}),(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"w-80 h-80 bg-white/10 backdrop-blur rounded-full flex items-center justify-center",children:(0,Xm.jsx)("div",{className:"w-64 h-64 bg-white/20 backdrop-blur rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-32 h-32 text-white/70"})})}),(0,Xm.jsx)("div",{className:"absolute -top-4 -right-4 bg-white rounded-lg p-3 shadow-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Kp,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"98% Success Rate"})]})}),(0,Xm.jsx)("div",{className:"absolute -bottom-4 -left-4 bg-white rounded-lg p-3 shadow-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[rh[t].patientsHelped,"+ Patients"]})]})})]})})]})})}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:rh.slice(0,3).map((e,t)=>(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(e),children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-8 h-8 text-green-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h4",{className:"font-bold text-gray-900",children:e.name}),(0,Xm.jsx)("p",{className:"text-primary-600 font-medium text-sm",children:e.specialization})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,Xm.jsx)(Ip,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:e.rating})]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:e.availability})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.consultationFee}),(0,Xm.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-600 transition-colors",children:"View Profile"})]})]},e.id))})]}),("grid"===l||"list"===l)&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search doctors, specialties, locations...",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:m,onChange:e=>p(e.target.value)})]}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)($p,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),(0,Xm.jsx)("select",{className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white",value:d,onChange:e=>u(e.target.value),children:b.map(e=>(0,Xm.jsx)("option",{value:e,children:"All"===e?"All Specialties":e},e))})]}),(0,Xm.jsx)("div",{className:"flex items-center justify-center md:justify-start",children:(0,Xm.jsxs)("span",{className:"text-gray-600",children:["Found ",f.length," doctor",1!==f.length?"s":""]})})]})}),"grid"===l&&(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:v.map(e=>(0,Xm.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-shadow group",children:[(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-green-400 p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:e.availability})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 text-yellow-300 fill-current"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:e.rating})]})]})}),(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-8 h-8 text-gray-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),(0,Xm.jsx)("p",{className:"text-primary-600 font-medium",children:e.specialization}),(0,Xm.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.location,", Germany"]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-gray-600 mb-1",children:"Experience"}),(0,Xm.jsx)("p",{className:"font-semibold text-gray-900",children:e.experience})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-gray-600 mb-1",children:"Patients"}),(0,Xm.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.patientsHelped.toLocaleString(),"+"]})]})]}),(0,Xm.jsx)("div",{className:"mb-4",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.languages.slice(0,2).map((e,t)=>(0,Xm.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:e},t)),e.languages.length>2&&(0,Xm.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",e.languages.length-2]})]})}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:e.consultationFee}),(0,Xm.jsx)("span",{className:"text-gray-600 text-sm ml-1",children:"per session"})]}),(0,Xm.jsx)("button",{onClick:()=>n(e),className:"bg-primary-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"View Profile"})]})]})]},e.id))}),"list"===l&&(0,Xm.jsx)("div",{className:"space-y-6 mb-8",children:v.map(t=>(0,Xm.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 items-center",children:[(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-10 h-10 text-green-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:t.name}),(0,Xm.jsx)("p",{className:"text-primary-600 font-medium",children:t.specialization}),(0,Xm.jsxs)("p",{className:"text-gray-500 text-sm",children:[t.location,", Germany"]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:t.rating}),(0,Xm.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",t.patientsHelped,"+ patients)"]})]})]})]})}),(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Lp,{className:"w-4 h-4 text-yellow-600"}),(0,Xm.jsxs)("span",{className:"text-gray-600",children:["Experience: ",(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:t.experience})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(qp,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-gray-600 truncate",children:t.university})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(zp,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{className:"text-gray-600 truncate",children:t.hospital})]})]})}),(0,Xm.jsxs)("div",{className:"lg:col-span-1",children:[(0,Xm.jsxs)("div",{className:"mb-3",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Languages:"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-1",children:t.languages.map((e,t)=>(0,Xm.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:e},t))})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{className:"text-green-600 font-medium",children:t.availability})]})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-1 text-center lg:text-right",children:[(0,Xm.jsxs)("div",{className:"mb-4",children:[(0,Xm.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:t.consultationFee}),(0,Xm.jsx)("p",{className:"text-gray-600 text-sm",children:"per consultation"})]}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsx)("button",{onClick:()=>n(t),className:"w-full lg:w-auto bg-primary-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"View Full Profile"}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"w-full lg:w-auto bg-white border-2 border-primary-500 text-primary-600 px-6 py-2 rounded-lg font-medium hover:bg-primary-50 transition-colors",children:"Book Now"})]})]})]})},t.id))}),y>1&&(0,Xm.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Xm.jsxs)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===h,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xm.jsx)(Xp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Previous"})]}),[...Array(y)].map((e,t)=>(0,Xm.jsx)("button",{onClick:()=>x(t+1),className:"px-4 py-2 rounded-lg font-medium ".concat(h===t+1?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:t+1},t)),(0,Xm.jsxs)("button",{onClick:()=>x(e=>Math.min(e+1,y)),disabled:h===y,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xm.jsx)("span",{children:"Next"}),(0,Xm.jsx)(Jp,{className:"w-4 h-4"})]})]})]})]})}),(0,Xm.jsx)("section",{id:"services",className:"py-20 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-16",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Medical Services"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From online consultations to complete treatment organization in Germany"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Xm.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-6",children:(0,Xm.jsx)(Hp,{className:"w-6 h-6 text-blue-600"})}),(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Online Medical Consultations"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Connect with German doctors via secure video calls, receive expert medical opinions and diagnostic reviews from the comfort of your home."}),(0,Xm.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Secure video consultations"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Second medical opinions"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Diagnostic reviews"})]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-6",children:(0,Xm.jsx)(Zp,{className:"w-6 h-6 text-green-600"})}),(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Complete Treatment Organization"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Need to travel to Germany for treatment? We handle everything - from visa support to hospital appointments and interpretation services."}),(0,Xm.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Visa support & documentation"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Hospital appointments"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Interpretation & transfers"})]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-6",children:(0,Xm.jsx)(eh,{className:"w-6 h-6 text-purple-600"})}),(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Worldwide Access"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Serving patients globally with focus on Middle East, CIS countries, and Africa. Multiple language support and cultural understanding."}),(0,Xm.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Multi-language support"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Cultural understanding"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"Global patient support"})]})]})]})]})]})}),(0,Xm.jsx)("section",{className:"py-20 bg-white",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-16",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Medical Specializations"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600",children:"Covering all major medical disciplines with German healthcare excellence"})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[{name:"Oncology",icon:"\ud83c\udf97\ufe0f",color:"bg-red-100 text-red-600"},{name:"Cardiology",icon:"\u2764\ufe0f",color:"bg-pink-100 text-pink-600"},{name:"Orthopedics",icon:"\ud83e\uddb4",color:"bg-blue-100 text-blue-600"},{name:"Neurology",icon:"\ud83e\udde0",color:"bg-purple-100 text-purple-600"},{name:"Gastroenterology",icon:"\ud83e\udec1",color:"bg-green-100 text-green-600"},{name:"Dermatology",icon:"\ud83e\uddf4",color:"bg-yellow-100 text-yellow-600"}].map((e,t)=>(0,Xm.jsxs)("div",{className:"bg-white p-6 rounded-xl text-center hover:shadow-lg transition-shadow cursor-pointer border border-gray-100",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 rounded-full ".concat(e.color," flex items-center justify-center mx-auto mb-4 text-2xl"),children:e.icon}),(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name})]},t))})]})}),(0,Xm.jsx)("section",{id:"process",className:"py-20 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-16",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600",children:"Simple steps to access German medical expertise"})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Register & Upload",description:"Create your account and securely upload your medical records",icon:(0,Xm.jsx)(gp,{className:"w-8 h-8"}),color:"from-blue-500 to-blue-600"},{step:"02",title:"Doctor Assignment",description:"Our system matches you with the right German specialist",icon:(0,Xm.jsx)(Sp,{className:"w-8 h-8"}),color:"from-green-500 to-green-600"},{step:"03",title:"Schedule Consultation",description:"Book a convenient time for your video consultation",icon:(0,Xm.jsx)(bp,{className:"w-8 h-8"}),color:"from-purple-500 to-purple-600"},{step:"04",title:"Get Treatment Plan",description:"Receive expert medical opinion and treatment recommendations",icon:(0,Xm.jsx)(Pp,{className:"w-8 h-8"}),color:"from-red-500 to-red-600"}].map((e,t)=>(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r ".concat(e.color," rounded-2xl flex items-center justify-center text-white mx-auto mb-6 shadow-lg"),children:e.icon}),(0,Xm.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,Xm.jsxs)("div",{className:"text-sm font-bold text-gray-400 mb-2",children:["STEP ",e.step]}),(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),(0,Xm.jsx)("p",{className:"text-gray-600",children:e.description})]})]},t))})]})}),(0,Xm.jsx)("section",{id:"pricing",className:"py-20 bg-white",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-16",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Transparent Pricing"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600",children:"Clear, upfront pricing with no hidden fees"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Xm.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-6",children:[(0,Xm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Online Consultation"}),(0,Xm.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"\u20ac150"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Per consultation"})]}),(0,Xm.jsxs)("ul",{className:"space-y-4 mb-8",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"30-minute video consultation"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Medical record review"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Written medical report"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Treatment recommendations"})]})]}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"w-full border-2 border-primary-500 text-primary-600 py-3 rounded-lg font-semibold hover:bg-primary-50 transition-colors",children:"Book Consultation"})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-br from-primary-500 to-green-600 text-white rounded-2xl p-8 transform scale-105 shadow-2xl",children:[(0,Xm.jsxs)("div",{className:"text-center mb-6",children:[(0,Xm.jsx)("div",{className:"bg-white/20 backdrop-blur rounded-lg px-3 py-1 inline-block mb-4",children:(0,Xm.jsx)("span",{className:"text-sm font-semibold",children:"Most Popular"})}),(0,Xm.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Second Opinion Package"}),(0,Xm.jsx)("div",{className:"text-4xl font-bold mb-2",children:"\u20ac250"}),(0,Xm.jsx)("p",{className:"text-white/80",children:"Comprehensive review"})]}),(0,Xm.jsxs)("ul",{className:"space-y-4 mb-8",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-300"}),(0,Xm.jsx)("span",{children:"60-minute consultation"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-300"}),(0,Xm.jsx)("span",{children:"Detailed case analysis"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-300"}),(0,Xm.jsx)("span",{children:"Multiple specialist opinions"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-300"}),(0,Xm.jsx)("span",{children:"Follow-up consultation"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-300"}),(0,Xm.jsx)("span",{children:"Treatment plan options"})]})]}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"w-full bg-white text-primary-600 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Get Started"})]}),(0,Xm.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-6",children:[(0,Xm.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Treatment Organization"}),(0,Xm.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"\u20ac500"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Plus consultation fee"})]}),(0,Xm.jsxs)("ul",{className:"space-y-4 mb-8",children:[(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Visa application support"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Hospital appointments"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Medical interpretation"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Airport transfers"})]}),(0,Xm.jsxs)("li",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{children:"Accommodation assistance"})]})]}),(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"w-full border-2 border-primary-500 text-primary-600 py-3 rounded-lg font-semibold hover:bg-primary-50 transition-colors",children:"Learn More"})]})]}),(0,Xm.jsxs)("div",{className:"text-center mt-12",children:[(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"All payments are processed securely via Stripe or PayPal"}),(0,Xm.jsxs)("div",{className:"flex justify-center space-x-8 opacity-60",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)($m,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{className:"text-sm",children:"GDPR Compliant"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Ym,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Secure Payments"})]})]})]})]})}),(0,Xm.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"text-center mb-16",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"What Our Patients Say"}),(0,Xm.jsx)("p",{className:"text-xl text-gray-600",children:"Real experiences from patients worldwide"})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah Al-Mahmoud",location:"Dubai, UAE",rating:5,comment:"The consultation with Dr. Mueller was exceptional. His expertise in cardiology helped me understand my condition better and provided peace of mind.",speciality:"Cardiology"},{name:"Ahmed Hassan",location:"Cairo, Egypt",rating:5,comment:"MediLink24 made it possible for me to get a second opinion from German oncologists. The entire process was smooth and professional.",speciality:"Oncology"},{name:"Maria Petrova",location:"Sofia, Bulgaria",rating:5,comment:"Excellent service! They helped organize my treatment in Munich, including visa support and interpretation. Highly recommended.",speciality:"Treatment Organization"}].map((e,t)=>(0,Xm.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[(0,Xm.jsx)("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(e.rating)].map((e,t)=>(0,Xm.jsx)(Ip,{className:"w-5 h-5 text-yellow-400 fill-current"},t))}),(0,Xm.jsxs)("p",{className:"text-gray-700 mb-6 italic",children:['"',e.comment,'"']}),(0,Xm.jsx)("div",{className:"border-t pt-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.location})]}),(0,Xm.jsx)("div",{className:"text-right",children:(0,Xm.jsx)("p",{className:"text-sm text-primary-600 font-medium",children:e.speciality})})]})})]},t))})]})}),(0,Xm.jsx)("section",{className:"py-20 bg-primary-600",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Xm.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Ready to Connect with German Medical Experts?"}),(0,Xm.jsx)("p",{className:"text-xl text-green-100 mb-8 max-w-3xl mx-auto",children:"Choose your preferred way to explore our network of verified German doctors"}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Xm.jsx)("button",{onClick:()=>e("/register"),className:"bg-white text-primary-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors",children:"Start Your Consultation"}),(0,Xm.jsx)("button",{onClick:()=>c("grid"),className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white/10 transition-colors",children:"Browse All Doctors"})]})]})}),(0,Xm.jsx)("footer",{className:"bg-gray-900 text-white py-16",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(Op,{className:"w-5 h-5 text-white"})}),(0,Xm.jsx)("h3",{className:"text-xl font-bold",children:"MediLink24 Germany"})]}),(0,Xm.jsx)("p",{className:"text-gray-400 mb-6",children:"Connecting patients worldwide with German medical excellence. Your bridge to world-class healthcare."})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-lg font-semibold mb-6",children:"Services"}),(0,Xm.jsxs)("ul",{className:"space-y-3 text-gray-400",children:[(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Online Consultations"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Second Opinions"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Treatment Organization"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Diagnostic Reviews"})})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-lg font-semibold mb-6",children:"Support"}),(0,Xm.jsxs)("ul",{className:"space-y-3 text-gray-400",children:[(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact Us"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),(0,Xm.jsx)("li",{children:(0,Xm.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-lg font-semibold mb-6",children:"Contact"}),(0,Xm.jsxs)("div",{className:"space-y-3 text-gray-400",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Fp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Berlin, Germany"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Wp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"+49 (0) 30 12345678"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Km,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"contact@MediLink24.de"})]})]})]})]}),(0,Xm.jsx)("div",{className:"border-t border-gray-800 mt-12 pt-8",children:(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Xm.jsx)("p",{className:"text-gray-400",children:"\xa9 2024 MediLink24 Germany. All rights reserved."}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,Xm.jsx)($m,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm",children:"German Law & EU GDPR"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,Xm.jsx)(th,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Multi-language Support"})]})]})]})})]})}),a&&(0,Xm.jsx)(j,{doctor:a,onClose:()=>n(null)})]})},nh=()=>(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow p-8",children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),(0,Xm.jsxs)("p",{className:"text-gray-600 mb-4",children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Xm.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,Xm.jsx)("p",{children:"This is a development version of the Medical Consultation System."}),(0,Xm.jsx)("p",{children:"We collect and use your email and profile information solely for authentication purposes."}),(0,Xm.jsx)("p",{children:"Your data is stored securely and is not shared with third parties."})]})]})}),sh=()=>(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow p-8",children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Terms of Service"}),(0,Xm.jsxs)("p",{className:"text-gray-600 mb-4",children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Xm.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,Xm.jsx)("p",{children:"This is a development version of the Medical Consultation System."}),(0,Xm.jsx)("p",{children:"By using this application, you agree to use it for testing purposes only."})]})]})}),ih=["_f"],oh=["name"],lh=["_f"],ch=["ref","message","type"],dh=["formControl"];var uh=e=>"checkbox"===e.type,mh=e=>e instanceof Date,ph=e=>null==e;const hh=e=>"object"===typeof e;var xh=e=>!ph(e)&&!Array.isArray(e)&&hh(e)&&!mh(e),fh=e=>xh(e)&&e.target?uh(e.target)?e.target.checked:e.target.value:e,yh=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),gh="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function vh(e){let t;const r=Array.isArray(e),a="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(gh&&(e instanceof Blob||a)||!r&&!xh(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return xh(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=vh(e[r]));else t=e}return t}var bh=e=>/^\w*$/.test(e),jh=e=>void 0===e,wh=e=>Array.isArray(e)?e.filter(Boolean):[],Nh=e=>wh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ch=(e,t,r)=>{if(!t||!xh(e))return r;const a=(bh(t)?[t]:Nh(t)).reduce((e,t)=>ph(e)?e:e[t],e);return jh(a)||a===e?jh(e[t])?r:e[t]:a},Sh=e=>"boolean"===typeof e,Ah=(e,t,r)=>{let a=-1;const n=bh(t)?[t]:Nh(t),s=n.length,i=s-1;for(;++a<s;){const t=n[a];let s=r;if(a!==i){const r=e[t];s=xh(r)||Array.isArray(r)?r:isNaN(+n[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const kh="blur",Eh="focusout",Ph="onBlur",Oh="onChange",Th="onSubmit",Dh="onTouched",Rh="all",_h="max",Mh="min",Ih="maxLength",Lh="minLength",Fh="pattern",qh="required",zh="validate",Uh=s.createContext(null);Uh.displayName="HookFormContext";var Bh=function(e,t,r){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const n=s;return t._proxyFormState[n]!==Rh&&(t._proxyFormState[n]=!a||Rh),r&&(r[n]=!0),e[n]}});return n};const Vh="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;var Hh=e=>"string"===typeof e,Wh=(e,t,r,a,n)=>Hh(e)?(a&&t.watch.add(e),Ch(r,e,n)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),Ch(r,e))):(a&&(t.watchAll=!0),r),Gh=e=>ph(e)||!hh(e);function Yh(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(Gh(e)||Gh(t))return e===t;if(mh(e)&&mh(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of a){const a=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(mh(a)&&mh(e)||xh(a)&&xh(e)||Array.isArray(a)&&Array.isArray(e)?!Yh(a,e,r):a!==e)return!1}}return!0}var Kh=(e,t,r,a,n)=>t?(0,ot.A)((0,ot.A)({},r[e]),{},{types:(0,ot.A)((0,ot.A)({},r[e]&&r[e].types?r[e].types:{}),{},{[a]:n||!0})}):{},$h=e=>Array.isArray(e)?e:[e],Qh=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Xh=e=>xh(e)&&!Object.keys(e).length,Jh=e=>"file"===e.type,Zh=e=>"function"===typeof e,ex=e=>{if(!gh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tx=e=>"select-multiple"===e.type,rx=e=>"radio"===e.type,ax=e=>ex(e)&&e.isConnected;function nx(e,t){const r=Array.isArray(t)?t:bh(t)?[t]:Nh(t),a=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=jh(e)?a++:e[t[a++]];return e}(e,r),n=r.length-1,s=r[n];return a&&delete a[s],0!==n&&(xh(a)&&Xh(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!jh(e[t]))return!1;return!0}(a))&&nx(e,r.slice(0,-1)),e}var sx=e=>{for(const t in e)if(Zh(e[t]))return!0;return!1};function ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(xh(e)||r)for(const a in e)Array.isArray(e[a])||xh(e[a])&&!sx(e[a])?(t[a]=Array.isArray(e[a])?[]:{},ix(e[a],t[a])):ph(e[a])||(t[a]=!0);return t}function ox(e,t,r){const a=Array.isArray(e);if(xh(e)||a)for(const n in e)Array.isArray(e[n])||xh(e[n])&&!sx(e[n])?jh(t)||Gh(r[n])?r[n]=Array.isArray(e[n])?ix(e[n],[]):(0,ot.A)({},ix(e[n])):ox(e[n],ph(t)?{}:t[n],r[n]):r[n]=!Yh(e[n],t[n]);return r}var lx=(e,t)=>ox(e,t,ix(t));const cx={value:!1,isValid:!1},dx={value:!0,isValid:!0};var ux=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jh(e[0].attributes.value)?jh(e[0].value)||""===e[0].value?dx:{value:e[0].value,isValid:!0}:dx:cx}return cx},mx=(e,t)=>{let{valueAsNumber:r,valueAsDate:a,setValueAs:n}=t;return jh(e)?e:r?""===e?NaN:e?+e:e:a&&Hh(e)?new Date(e):n?n(e):e};const px={isValid:!1,value:null};var hx=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,px):px;function xx(e){const t=e.ref;return Jh(t)?t.files:rx(t)?hx(e.refs).value:tx(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):uh(t)?ux(e.refs).value:mx(jh(t.value)?e.ref.value:t.value,e)}var fx=e=>e instanceof RegExp,yx=e=>jh(e)?e:fx(e)?e.source:xh(e)?fx(e.value)?e.value.source:e.value:e,gx=e=>({isOnSubmit:!e||e===Th,isOnBlur:e===Ph,isOnChange:e===Oh,isOnAll:e===Rh,isOnTouch:e===Dh});const vx="AsyncFunction";var bx=e=>!!e&&!!e.validate&&!!(Zh(e.validate)&&e.validate.constructor.name===vx||xh(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===vx)),jx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const wx=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const r=Ch(e,n);if(r){const{_f:e}=r,s=(0,it.A)(r,ih);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(wx(s,t))break}else if(xh(s)&&wx(s,t))break}}};function Nx(e,t,r){const a=Ch(e,r);if(a||bh(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),s=Ch(t,a),i=Ch(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:"".concat(a,".root"),error:i.root};n.pop()}return{name:r}}var Cx=(e,t,r)=>{const a=$h(Ch(e,r));return Ah(a,"root",t[r]),Ah(e,r,a),e},Sx=e=>Hh(e);function Ax(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Sx(e)||Array.isArray(e)&&e.every(Sx)||Sh(e)&&!e)return{type:r,message:Sx(e)?e:"",ref:t}}var kx=e=>xh(e)&&!fx(e)?e:{value:e,message:""},Ex=async(e,t,r,a,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:m,pattern:p,validate:h,name:x,valueAsNumber:f,mount:y}=e._f,g=Ch(r,x);if(!y||t.has(x))return{};const v=o?o[0]:i,b=e=>{n&&v.reportValidity&&(v.setCustomValidity(Sh(e)?"":e||""),v.reportValidity())},j={},w=rx(i),N=uh(i),C=w||N,S=(f||Jh(i))&&jh(i.value)&&jh(g)||ex(i)&&""===i.value||""===g||Array.isArray(g)&&!g.length,A=Kh.bind(null,x,a,j),k=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ih,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh;const s=e?t:r;j[x]=(0,ot.A)({type:e?a:n,message:s,ref:i},A(e?a:n,s))};if(s?!Array.isArray(g)||!g.length:l&&(!C&&(S||ph(g))||Sh(g)&&!g||N&&!ux(o).isValid||w&&!hx(o).isValid)){const{value:e,message:t}=Sx(l)?{value:!!l,message:l}:kx(l);if(e&&(j[x]=(0,ot.A)({type:qh,message:t,ref:v},A(qh,t)),!a))return b(t),j}if(!S&&(!ph(u)||!ph(m))){let e,t;const r=kx(m),n=kx(u);if(ph(g)||isNaN(g)){const a=i.valueAsDate||new Date(g),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;Hh(r.value)&&g&&(e=o?s(g)>s(r.value):l?g>r.value:a>new Date(r.value)),Hh(n.value)&&g&&(t=o?s(g)<s(n.value):l?g<n.value:a<new Date(n.value))}else{const a=i.valueAsNumber||(g?+g:g);ph(r.value)||(e=a>r.value),ph(n.value)||(t=a<n.value)}if((e||t)&&(k(!!e,r.message,n.message,_h,Mh),!a))return b(j[x].message),j}if((c||d)&&!S&&(Hh(g)||s&&Array.isArray(g))){const e=kx(c),t=kx(d),r=!ph(e.value)&&g.length>+e.value,n=!ph(t.value)&&g.length<+t.value;if((r||n)&&(k(r,e.message,t.message),!a))return b(j[x].message),j}if(p&&!S&&Hh(g)){const{value:e,message:t}=kx(p);if(fx(e)&&!g.match(e)&&(j[x]=(0,ot.A)({type:Fh,message:t,ref:i},A(Fh,t)),!a))return b(t),j}if(h)if(Zh(h)){const e=Ax(await h(g,r),v);if(e&&(j[x]=(0,ot.A)((0,ot.A)({},e),A(zh,e.message)),!a))return b(e.message),j}else if(xh(h)){let e={};for(const t in h){if(!Xh(e)&&!a)break;const n=Ax(await h[t](g,r),v,t);n&&(e=(0,ot.A)((0,ot.A)({},n),A(t,n.message)),b(n.message),a&&(j[x]=e))}if(!Xh(e)&&(j[x]=(0,ot.A)({ref:v},e),!a))return j}return b(!0),j};const Px={mode:Th,reValidateMode:Oh,shouldFocusError:!0};function Ox(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,ot.A)((0,ot.A)({},Px),t),a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zh(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=(xh(r.defaultValues)||xh(r.values))&&vh(r.defaultValues||r.values)||{},i=r.shouldUnregister?{}:vh(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=(0,ot.A)({},d);const m={array:Qh(),state:Qh()},p=r.criteriaMode===Rh,h=async e=>{if(!r.disabled&&(d.isValid||u.isValid||e)){const e=r.resolver?Xh((await v()).errors):await b(n,!0);e!==a.isValid&&m.state.next({isValid:e})}},x=(e,t)=>{!r.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?Ah(a.validatingFields,e,t):nx(a.validatingFields,e))}),m.state.next({validatingFields:a.validatingFields,isValidating:!Xh(a.validatingFields)}))},f=(e,t,r,a)=>{const l=Ch(n,e);if(l){const n=Ch(i,e,jh(r)?Ch(s,e):r);jh(n)||a&&a.defaultChecked||t?Ah(i,e,t?n:xx(l._f)):N(e,n),o.mount&&h()}},y=(e,t,n,i,o)=>{let l=!1,c=!1;const p={name:e};if(!r.disabled){if(!n||i){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=p.isDirty=j(),l=c!==p.isDirty);const r=Yh(Ch(s,e),t);c=!!Ch(a.dirtyFields,e),r?nx(a.dirtyFields,e):Ah(a.dirtyFields,e,!0),p.dirtyFields=a.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!r}if(n){const t=Ch(a.touchedFields,e);t||(Ah(a.touchedFields,e,n),p.touchedFields=a.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==n)}l&&o&&m.state.next(p)}return l?p:{}},g=(t,n,s,i)=>{const o=Ch(a.errors,t),l=(d.isValid||u.isValid)&&Sh(n)&&a.isValid!==n;var p;if(r.delayError&&s?(p=()=>((e,t)=>{Ah(a.errors,e,t),m.state.next({errors:a.errors})})(t,s),e=e=>{clearTimeout(c),c=setTimeout(p,e)},e(r.delayError)):(clearTimeout(c),e=null,s?Ah(a.errors,t,s):nx(a.errors,t)),(s?!Yh(o,s):o)||!Xh(i)||l){const e=(0,ot.A)((0,ot.A)((0,ot.A)({},i),l&&Sh(n)?{isValid:n}:{}),{},{errors:a.errors,name:t});a=(0,ot.A)((0,ot.A)({},a),e),m.state.next(e)}},v=async e=>{x(e,!0);const t=await r.resolver(i,r.context,((e,t,r,a)=>{const n={};for(const s of e){const e=Ch(t,s);e&&Ah(n,s,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||l.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return x(e),t},b=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const o=e[s];if(o){const{_f:e}=o,c=(0,it.A)(o,lh);if(e){const c=l.array.has(e.name),u=o._f&&bx(o._f);u&&d.validatingFields&&x([s],!0);const m=await Ex(o,l.disabled,i,p,r.shouldUseNativeValidation&&!t,c);if(u&&d.validatingFields&&x([s]),m[e.name]&&(n.valid=!1,t))break;!t&&(Ch(m,e.name)?c?Cx(a.errors,m,e.name):Ah(a.errors,e.name,m[e.name]):nx(a.errors,e.name))}!Xh(c)&&await b(c,t,n)}}return n.valid},j=(e,t)=>!r.disabled&&(e&&t&&Ah(i,e,t),!Yh(P(),s)),w=(e,t,r)=>Wh(e,l,(0,ot.A)({},o.mount?i:jh(t)?s:Hh(e)?{[e]:t}:t),r,t),N=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Ch(n,e);let s=t;if(a){const r=a._f;r&&(!r.disabled&&Ah(i,e,mx(t,r)),s=ex(r.ref)&&ph(t)?"":t,tx(r.ref)?[...r.ref.options].forEach(e=>e.selected=s.includes(e.value)):r.refs?uh(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):r.refs.forEach(e=>e.checked=e.value===s):Jh(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||m.state.next({name:e,values:vh(i)})))}(r.shouldDirty||r.shouldTouch)&&y(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&E(e)},C=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,o=Ch(n,i);(l.array.has(e)||xh(s)||o&&!o._f)&&!mh(s)?C(i,s,r):N(i,s,r)}},S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=Ch(n,e),p=l.array.has(e),h=vh(t);Ah(i,e,h),p?(m.array.next({name:e,values:vh(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&r.shouldDirty&&m.state.next({name:e,dirtyFields:lx(s,i),isDirty:j(e,h)})):!c||c._f||ph(h)?N(e,h,r):C(e,h,r),jx(e,l)&&m.state.next((0,ot.A)((0,ot.A)({},a),{},{name:e})),m.state.next({name:o.mount?e:void 0,values:vh(i)})},A=async t=>{o.mount=!0;const s=t.target;let c=s.name,f=!0;const j=Ch(n,c),w=e=>{f=Number.isNaN(e)||mh(e)&&isNaN(e.getTime())||Yh(e,Ch(i,c,e))},N=gx(r.mode),C=gx(r.reValidateMode);if(j){let o,A;const k=s.type?xx(j._f):fh(t),P=t.type===kh||t.type===Eh,O=!((S=j._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!r.resolver&&!Ch(a.errors,c)&&!j._f.deps||((e,t,r,a,n)=>!n.isOnAll&&(!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:!(r?a.isOnChange:n.isOnChange)||e))(P,Ch(a.touchedFields,c),a.isSubmitted,C,N),T=jx(c,l,P);Ah(i,c,k),P?s&&s.readOnly||(j._f.onBlur&&j._f.onBlur(t),e&&e(0)):j._f.onChange&&j._f.onChange(t);const D=y(c,k,P),R=!Xh(D)||T;if(!P&&m.state.next({name:c,type:t.type,values:vh(i)}),O)return(d.isValid||u.isValid)&&("onBlur"===r.mode?P&&h():P||h()),R&&m.state.next((0,ot.A)({name:c},T?{}:D));if(!P&&T&&m.state.next((0,ot.A)({},a)),r.resolver){const{errors:e}=await v([c]);if(w(k),f){const t=Nx(a.errors,n,c),r=Nx(e,n,t.name||c);o=r.error,c=r.name,A=Xh(e)}}else x([c],!0),o=(await Ex(j,l.disabled,i,p,r.shouldUseNativeValidation))[c],x([c]),w(k),f&&(o?A=!1:(d.isValid||u.isValid)&&(A=await b(n,!0)));f&&(j._f.deps&&E(j._f.deps),g(c,A,o,D))}var S},k=(e,t)=>{if(Ch(a.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let t,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=$h(e);if(r.resolver){const r=await(async e=>{const{errors:t}=await v(e);if(e)for(const r of e){const e=Ch(t,r);e?Ah(a.errors,r,e):nx(a.errors,r)}else a.errors=t;return t})(jh(e)?e:o);t=Xh(r),s=e?!o.some(e=>Ch(r,e)):t}else e?(s=(await Promise.all(o.map(async e=>{const t=Ch(n,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||a.isValid)&&h()):s=t=await b(n);return m.state.next((0,ot.A)((0,ot.A)((0,ot.A)({},!Hh(e)||(d.isValid||u.isValid)&&t!==a.isValid?{}:{name:e}),r.resolver||!e?{isValid:t}:{}),{},{errors:a.errors})),i.shouldFocus&&!s&&wx(n,k,e?o:l.mount),s},P=e=>{const t=(0,ot.A)({},o.mount?i:s);return jh(e)?t:Hh(e)?Ch(t,e):e.map(e=>Ch(t,e))},O=(e,t)=>({invalid:!!Ch((t||a).errors,e),isDirty:!!Ch((t||a).dirtyFields,e),error:Ch((t||a).errors,e),isValidating:!!Ch(a.validatingFields,e),isTouched:!!Ch((t||a).touchedFields,e)}),T=(e,t,r)=>{const s=(Ch(n,e,{_f:{}})._f||{}).ref,i=Ch(a.errors,e)||{},{ref:o,message:l,type:c}=i,d=(0,it.A)(i,ch);Ah(a.errors,e,(0,ot.A)((0,ot.A)((0,ot.A)({},d),t),{},{ref:s})),m.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},D=e=>m.state.subscribe({next:t=>{var r,n,o;r=e.name,n=t.name,o=e.exact,r&&n&&r!==n&&!$h(r).some(e=>e&&(o?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,r,a)=>{r(e);const{name:n}=e,s=(0,it.A)(e,oh);return Xh(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!a||Rh))})(t,e.formState||d,z,e.reRenderRoot)||e.callback((0,ot.A)((0,ot.A)((0,ot.A)({values:(0,ot.A)({},i)},a),t),{},{defaultValues:s}))}}).unsubscribe,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?$h(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(nx(n,o),nx(i,o)),!t.keepError&&nx(a.errors,o),!t.keepDirty&&nx(a.dirtyFields,o),!t.keepTouched&&nx(a.touchedFields,o),!t.keepIsValidating&&nx(a.validatingFields,o),!r.shouldUnregister&&!t.keepDefaultValue&&nx(s,o);m.state.next({values:vh(i)}),m.state.next((0,ot.A)((0,ot.A)({},a),t.keepDirty?{isDirty:j()}:{})),!t.keepIsValid&&h()},_=e=>{let{disabled:t,name:r}=e;(Sh(t)&&o.mount||t||l.disabled.has(r))&&(t?l.disabled.add(r):l.disabled.delete(r))},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Ch(n,e);const i=Sh(t.disabled)||Sh(r.disabled);return Ah(n,e,(0,ot.A)((0,ot.A)({},a||{}),{},{_f:(0,ot.A)((0,ot.A)({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),a?_({disabled:Sh(t.disabled)?t.disabled:r.disabled,name:e}):f(e,!0,t.value),(0,ot.A)((0,ot.A)((0,ot.A)({},i?{disabled:t.disabled||r.disabled}:{}),r.progressive?{required:!!t.required,min:yx(t.min),max:yx(t.max),minLength:yx(t.minLength),maxLength:yx(t.maxLength),pattern:yx(t.pattern)}:{}),{},{name:e,onChange:A,onBlur:A,ref:i=>{if(i){M(e,t),a=Ch(n,e);const r=jh(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=(e=>rx(e)||uh(e))(r),l=a._f.refs||[];if(o?l.find(e=>e===r):r===a._f.ref)return;Ah(n,e,{_f:(0,ot.A)((0,ot.A)({},a._f),o?{refs:[...l.filter(ax),r,...Array.isArray(Ch(s,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r})}),f(e,!1,void 0,r)}else a=Ch(n,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!yh(l.array,e)||!o.action)&&l.unMount.add(e)}})},I=()=>r.shouldFocusError&&wx(n,k,l.mount),L=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=vh(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await v();a.errors=e,c=vh(t)}else await b(n);if(l.disabled.size)for(const e of l.disabled)nx(c,e);if(nx(a.errors,"root"),Xh(a.errors)){m.state.next({errors:{}});try{await e(c,s)}catch(d){o=d}}else t&&await t((0,ot.A)({},a.errors),s),I(),setTimeout(I);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xh(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?vh(e):s,u=vh(c),p=Xh(e),h=p?s:u;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(lx(s,i))]);for(const t of Array.from(e))Ch(a.dirtyFields,t)?Ah(h,t,Ch(i,t)):S(t,Ch(h,t))}else{if(gh&&jh(e))for(const e of l.mount){const t=Ch(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ex(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)S(e,Ch(h,e));else n={}}i=r.shouldUnregister?t.keepDefaultValues?vh(s):{}:vh(h),m.array.next({values:(0,ot.A)({},h)}),m.state.next({values:(0,ot.A)({},h)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!p&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Yh(e,s))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&i?lx(s,i):a.dirtyFields:t.keepDefaultValues&&e?lx(s,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},q=(e,t)=>F(Zh(e)?e(i):e,t),z=e=>{a=(0,ot.A)((0,ot.A)({},a),e)},U={control:{register:M,unregister:R,getFieldState:O,handleSubmit:L,setError:T,_subscribe:D,_runSchema:v,_focusError:I,_getWatch:w,_getDirty:j,_setValid:h,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!r.disabled){if(o.action=!0,h&&Array.isArray(Ch(n,e))){const t=l(Ch(n,e),c.argA,c.argB);p&&Ah(n,e,t)}if(h&&Array.isArray(Ch(a.errors,e))){const t=l(Ch(a.errors,e),c.argA,c.argB);p&&Ah(a.errors,e,t),((e,t)=>{!wh(Ch(e,t)).length&&nx(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&h&&Array.isArray(Ch(a.touchedFields,e))){const t=l(Ch(a.touchedFields,e),c.argA,c.argB);p&&Ah(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=lx(s,i)),m.state.next({name:e,isDirty:j(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else Ah(i,e,t)},_setDisabledField:_,_setErrors:e=>{a.errors=e,m.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>wh(Ch(o.mount?i:s,e,r.shouldUnregister?Ch(s,e,[]):[])),_reset:F,_resetDefaultValues:()=>Zh(r.defaultValues)&&r.defaultValues().then(e=>{q(e,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=Ch(n,e);t&&(t._f.refs?t._f.refs.every(e=>!ax(e)):!ax(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{Sh(e)&&(m.state.next({disabled:e}),wx(n,(t,r)=>{const a=Ch(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return r},set _options(e){r=(0,ot.A)((0,ot.A)({},r),e)}},subscribe:e=>(o.mount=!0,u=(0,ot.A)((0,ot.A)({},u),e.formState),D((0,ot.A)((0,ot.A)({},e),{},{formState:u}))),trigger:E,register:M,handleSubmit:L,watch:(e,t)=>Zh(e)?m.state.subscribe({next:r=>"values"in r&&e(w(void 0,t),r)}):w(e,t,!0),setValue:S,getValues:P,reset:q,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ch(n,e)&&(jh(t.defaultValue)?S(e,vh(Ch(s,e))):(S(e,t.defaultValue),Ah(s,e,vh(t.defaultValue))),t.keepTouched||nx(a.touchedFields,e),t.keepDirty||(nx(a.dirtyFields,e),a.isDirty=t.defaultValue?j(e,vh(Ch(s,e))):j()),t.keepError||(nx(a.errors,e),d.isValid&&h()),m.state.next((0,ot.A)({},a)))},clearErrors:e=>{e&&$h(e).forEach(e=>nx(a.errors,e)),m.state.next({errors:e?a.errors:{}})},unregister:R,setError:T,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Ch(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Zh(e.select)&&e.select())}},getFieldState:O};return(0,ot.A)((0,ot.A)({},U),{},{formControl:U})}function Tx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.useRef(void 0),r=s.useRef(void 0),[a,n]=s.useState({isDirty:!1,isValidating:!1,isLoading:Zh(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zh(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=(0,ot.A)((0,ot.A)({},e.formControl),{},{formState:a}),e.defaultValues&&!Zh(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const r=Ox(e),{formControl:n}=r,s=(0,it.A)(r,dh);t.current=(0,ot.A)((0,ot.A)({},s),{},{formState:a})}const i=t.current.control;return i._options=e,Vh(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>n((0,ot.A)({},i._formState)),reRenderRoot:!0});return n(e=>(0,ot.A)((0,ot.A)({},e),{},{isReady:!0})),i._formState.isReady=!0,e},[i]),s.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),s.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),s.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),s.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),s.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==a.isDirty&&i._subjects.state.next({isDirty:e})}},[i,a.isDirty]),s.useEffect(()=>{e.values&&!Yh(e.values,r.current)?(i._reset(e.values,(0,ot.A)({keepFieldsRef:!0},i._options.resetOptions)),r.current=e.values,n(e=>(0,ot.A)({},e))):i._resetDefaultValues()},[i,e.values]),s.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next((0,ot.A)({},i._formState))),i._removeUnmounted()}),t.current.formState=Bh(a,i),t.current}const Dx=(e,t,r)=>{if(e&&"reportValidity"in e){const a=Ch(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Rx=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?Dx(a.ref,r,e):a&&a.refs&&a.refs.forEach(t=>Dx(t,r,e))}},_x=(e,t)=>{t.shouldUseNativeValidation&&Rx(e,t);const r={};for(const a in e){const n=Ch(t.fields,a),s=Object.assign(e[a]||{},{ref:n&&n.ref});if(Mx(t.names||Object.keys(e),a)){const e=Object.assign({},Ch(r,a));Ah(e,"root",s),Ah(r,a,e)}else Ah(r,a,s)}return r},Mx=(e,t)=>{const r=Ix(t);return e.some(e=>Ix(e).match("^".concat(r,"\\.\\d+")))};function Ix(e){return e.replace(/\]|\[/g,"")}function Lx(e,t,r){return void 0===r&&(r={}),function(a,n,s){try{return Promise.resolve(function(i,o){try{var l=(null!=t&&t.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:n}))).then(function(e){return s.shouldUseNativeValidation&&Rx({},s),{values:r.raw?Object.assign({},a):e,errors:{}}}))}catch(CY){return o(CY)}return l&&l.then?l.then(void 0,o):l}(0,function(e){if(!e.inner)throw e;return{values:{},errors:_x((t=e,r=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var a=e[t.path].types,n=a&&a[t.type];e[t.path]=Kh(t.path,r,e,t.type,n?[].concat(n,t.message):t.message)}return e},{})),s)};var t,r}))}catch(CY){return Promise.reject(CY)}}}var Fx=r(4575),qx=r(1517),zx=r(8704),Ux=r.n(zx);const Bx=Object.prototype.toString,Vx=Error.prototype.toString,Hx=RegExp.prototype.toString,Wx="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",Gx=/^Symbol\((.*)\)(.*)$/;function Yx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?'"'.concat(e,'"'):e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return Wx.call(e).replace(Gx,"Symbol($1)");const a=Bx.call(e).slice(8,-1);return"Date"===a?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===a||e instanceof Error?"["+Vx.call(e)+"]":"RegExp"===a?Hx.call(e):null}function Kx(e,t){let r=Yx(e,t);return null!==r?r:JSON.stringify(e,function(e,r){let a=Yx(this[e],t);return null!==a?a:r},2)}function $x(e){return null==e?[]:[].concat(e)}let Qx,Xx,Jx,Zx=/\$\{\s*(\w+)\s*\}/g;Qx=Symbol.toStringTag;class ef{constructor(e,t,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Qx]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=a,this.errors=[],this.inner=[],$x(e).forEach(e=>{if(tf.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0]}}Xx=Symbol.hasInstance,Jx=Symbol.toStringTag;class tf extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),"string"===typeof e?e.replace(Zx,(e,r)=>Kx(t[r])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,a,n){const s=new ef(e,t,r,a);if(n)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Jx]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,tf)}static[Xx](e){return ef[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let rf={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:r,value:a,originalValue:n}=e;const s=null!=n&&n!==a?" (cast from the value `".concat(Kx(n,!0),"`)."):".";return"mixed"!==r?"".concat(t," must be a `").concat(r,"` type, ")+"but the final value was: `".concat(Kx(a,!0),"`")+s:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(Kx(a,!0),"`")+s}},af={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},nf={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},of={isValue:"${path} field must be ${value}"},lf={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},cf={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},df={notType:e=>{const{path:t,value:r,spec:a}=e,n=a.types.length;if(Array.isArray(r)){if(r.length<n)return"".concat(t," tuple value has too few items, expected a length of ").concat(n," but got ").concat(r.length," for value: `").concat(Kx(r,!0),"`");if(r.length>n)return"".concat(t," tuple value has too many items, expected a length of ").concat(n," but got ").concat(r.length," for value: `").concat(Kx(r,!0),"`")}return tf.formatError(rf.notType,e)}};Object.assign(Object.create(null),{mixed:rf,string:af,number:nf,date:sf,object:lf,array:cf,boolean:of,tuple:df});const uf=e=>e&&e.__isYupSchema__;class mf{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:n}=t,s="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.every(e=>e===r)};return new mf(e,(e,t)=>{var r;let i=s(...e)?a:n;return null!=(r=null==i?void 0:i(t))?r:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),a=this.fn(r,e,t);if(void 0===a||a===e)return e;if(!uf(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const pf="$",hf=".";function xf(e,t){return new ff(e,t)}class ff{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pf,this.isValue=this.key[0]===hf,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?pf:this.isValue?hf:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,Fx.getter)(this.path,!0),this.map=t.map}getValue(e,t,r){let a=this.isContext?r:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(e){return e&&e.__isYupRef}}ff.prototype.__isYupRef=!0;const yf=e=>null==e;function gf(e){function t(t,r,a){let{value:n,path:s="",options:i,originalValue:o,schema:l}=t;const{name:c,test:d,params:u,message:m,skipAbsent:p}=e;let{parent:h,context:x,abortEarly:f=l.spec.abortEarly,disableStackTrace:y=l.spec.disableStackTrace}=i;const g={value:n,parent:h,context:x};function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=vf(Object.assign({value:n,originalValue:o,label:l.spec.label,path:e.path||s,spec:l.spec,disableStackTrace:e.disableStackTrace||y},u,e.params),g),r=new tf(tf.formatError(e.message||m,t),n,t.path,e.type||c,t.disableStackTrace);return r.params=t,r}const b=f?r:a;let j={path:s,parent:h,type:c,from:i.from,createError:v,resolve:e=>bf(e,g),options:i,originalValue:o,schema:l};const w=e=>{tf.isError(e)?b(e):e?a(null):b(v())},N=e=>{tf.isError(e)?b(e):r(e)};if(p&&yf(n))return w(!0);let C;try{var S;if(C=d.call(j,n,j),"function"===typeof(null==(S=C)?void 0:S.then)){if(i.sync)throw new Error('Validation test of type: "'.concat(j.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned");return Promise.resolve(C).then(w,N)}}catch(SY){return void N(SY)}w(C)}return t.OPTIONS=e,t}function vf(e,t){if(!e)return e;for(const r of Object.keys(e))e[r]=bf(e[r],t);return e}function bf(e,t){return ff.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function jf(e,t,r){let a,n,s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return t?((0,Fx.forEach)(t,(o,l,c)=>{let d=l?o.slice(1,o.length-1):o,u="tuple"===(e=e.resolve({context:i,parent:a,value:r})).type,m=c?parseInt(d,10):0;if(e.innerType||u){if(u&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(s,'" must contain an index to the tuple element, e.g. "').concat(s,'[0]"'));if(r&&m>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(o,", in the path: ").concat(t,". ")+"because there is no value at that index. ");a=r,r=r&&r[m],e=u?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(s,' which is a type: "').concat(e.type,'")'));a=r,r=r&&r[d],e=e.fields[d]}n=d,s=l?"["+o+"]":"."+o}),{schema:e,parent:a,parentPath:n}):{parent:a,parentPath:t,schema:e}}class wf extends Set{describe(){const e=[];for(const t of this.values())e.push(ff.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new wf(this.values())}merge(e,t){const r=this.clone();return e.forEach(e=>r.add(e)),t.forEach(e=>r.delete(e)),r}}function Nf(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(uf(e)||!e||"object"!==typeof e)return e;if(r.has(e))return r.get(e);if(e instanceof Date)t=new Date(e.getTime()),r.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),r.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),r.set(e,t);for(let a=0;a<e.length;a++)t[a]=Nf(e[a],r)}else if(e instanceof Map){t=new Map,r.set(e,t);for(const[a,n]of e.entries())t.set(a,Nf(n,r))}else if(e instanceof Set){t=new Set,r.set(e,t);for(const a of e)t.add(Nf(a,r))}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},r.set(e,t);for(const[a,n]of Object.entries(e))t[a]=Nf(n,r)}return t}function Cf(e){if(null==e||!e.length)return;const t=[];let r="",a=!1,n=!1;for(let s=0;s<e.length;s++){const i=e[s];"["!==i||n?"]"!==i||n?'"'!==i?"."!==i||a||n?r+=i:r&&(t.push(r),r=""):n=!n:(r&&(/^\d+$/.test(r)?t.push(r):t.push(r.replace(/^"|"$/g,"")),r=""),a=!1):(r&&(t.push(...r.split(".").filter(Boolean)),r=""),a=!0)}return r&&t.push(...r.split(".").filter(Boolean)),t}function Sf(e,t){var r;if((null==(r=e.inner)||!r.length)&&e.errors.length)return function(e,t){const r=t?"".concat(t,".").concat(e.path):e.path;return e.errors.map(e=>({message:e,path:Cf(r)}))}(e,t);const a=t?"".concat(t,".").concat(e.path):e.path;return e.inner.flatMap(e=>Sf(e,a))}class Af{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new wf,this._blacklist=new wf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(rf.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Nf(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));let t=this,r=e.clone();const a=Object.assign({},t.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((t,r)=>r.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,a,n;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(r=e.abortEarly)?r:this.spec.abortEarly,recursive:null!=(a=e.recursive)?a:this.spec.recursive,disableStackTrace:null!=(n=e.disableStackTrace)?n:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.resolve(Object.assign({value:e},t)),a="ignore-optionality"===t.assert,n=r._cast(e,t);if(!1!==t.assert&&!r.isType(n)){if(a&&yf(n))return n;let s=Kx(e),i=Kx(n);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(r.type,'". \n\n')+"attempted value: ".concat(s," \n")+(i!==s?"result of cast: ".concat(i):""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce((t,r)=>r.call(this,t,e,this),e);return void 0===r&&(r=this.getDefault(t)),r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,{path:n,originalValue:s=e,strict:i=this.spec.strict}=t,o=e;i||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:n,value:o,originalValue:s,options:t,tests:l},r,e=>{if(e.length)return a(e,o);this.runTests({path:n,value:o,originalValue:s,options:t,tests:this.tests},r,a)})}runTests(e,t,r){let a=!1,{tests:n,value:s,originalValue:i,path:o,options:l}=e,c=e=>{a||(a=!0,t(e,s))},d=e=>{a||(a=!0,r(e,s))},u=n.length,m=[];if(!u)return d([]);let p={value:s,originalValue:i,path:o,options:l,schema:this};for(let h=0;h<n.length;h++){(0,n[h])(p,c,function(e){e&&(Array.isArray(e)?m.push(...e):m.push(e)),--u<=0&&d(m)})}}asNestedTest(e){let{key:t,index:r,parent:a,parentPath:n,originalParent:s,options:i}=e;const o=null!=t?t:r;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const l="number"===typeof o;let c=a[o];const d=Object.assign({},i,{strict:!0,parent:a,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?"".concat(n||"","[").concat(l?o:'"'.concat(o,'"'),"]"):(n?"".concat(n,"."):"")+t});return(e,t,r)=>this.resolve(d)._validate(c,d,t,r)}validate(e,t){var r;let a=this.resolve(Object.assign({},t,{value:e})),n=null!=(r=null==t?void 0:t.disableStackTrace)?r:a.spec.disableStackTrace;return new Promise((r,s)=>a._validate(e,t,(e,t)=>{tf.isError(e)&&(e.value=t),s(e)},(e,t)=>{e.length?s(new tf(e,t,void 0,void 0,n)):r(t)}))}validateSync(e,t){var r;let a,n=this.resolve(Object.assign({},t,{value:e})),s=null!=(r=null==t?void 0:t.disableStackTrace)?r:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw tf.isError(e)&&(e.value=t),e},(t,r)=>{if(t.length)throw new tf(t,e,void 0,void 0,s);a=r}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(tf.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(SY){if(tf.isError(SY))return!1;throw SY}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):Nf(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=gf({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=gf({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),r}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=rf.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),r=gf(e),a=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(a)return!1;if(t.OPTIONS.test===r.OPTIONS.test)return!1}return!0}),t.tests.push(r),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let r=this.clone(),a=$x(e).map(e=>new ff(e));return a.forEach(e=>{e.isSibling&&r.deps.push(e.key)}),r.conditions.push("function"===typeof t?new mf(a,t):mf.fromOptions(a,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=gf({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rf.oneOf,r=this.clone();return e.forEach(e=>{r._whitelist.add(e),r._blacklist.delete(e)}),r.internalTests.whiteList=gf({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rf.notOneOf,r=this.clone();return e.forEach(e=>{r._blacklist.add(e),r._whitelist.delete(e)}),r.internalTests.blacklist=gf({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:n,nullable:s}=t.spec,i={meta:a,label:r,optional:n,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,r)=>r.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const r=t.OPTIONS.params&&e?vf(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:r}})};return i}get"~standard"(){const e=this,t={version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(SY){if(SY instanceof tf)return{issues:Sf(SY)};throw SY}}};return t}}Af.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Af.prototype["".concat(r,"At")]=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:n,parentPath:s,schema:i}=jf(this,e,t,a.context);return i[r](n&&n[s],Object.assign({},a,{parent:n,path:e}))};for(const r of["equals","is"])Af.prototype[r]=Af.prototype.oneOf;for(const r of["not","nope"])Af.prototype[r]=Af.prototype.notOneOf;const kf=()=>!0;class Ef extends Af{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:kf},e))}}function Pf(){return new Of}Ef.prototype;class Of extends Af{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>yf(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>yf(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Pf.prototype=Of.prototype;const Tf=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Df(e){var t,r;const a=Tf.exec(e);return a?{year:Rf(a[1]),month:Rf(a[2],1)-1,day:Rf(a[3],1),hour:Rf(a[4]),minute:Rf(a[5]),second:Rf(a[6]),millisecond:a[7]?Rf(a[7].substring(0,3)):0,precision:null!=(t=null==(r=a[7])?void 0:r.length)?t:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:Rf(a[10]),minuteOffset:Rf(a[11])}:null}function Rf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let _f=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mf=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,If=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Lf=new RegExp("".concat("^\\d{4}-\\d{2}-\\d{2}","T").concat("\\d{2}:\\d{2}:\\d{2}","(\\.\\d+)?").concat("(([+-]\\d{2}(:?\\d{2})?)|Z)","$")),Ff=e=>yf(e)||e===e.trim(),qf={}.toString();function zf(){return new Uf}class Uf extends Af{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e))return e;if(Array.isArray(e))return e;const a=null!=e&&e.toString?e.toString():e;return a===qf?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||rf.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let r,a,n=!1;return t&&("object"===typeof t?({excludeEmptyString:n=!1,message:r,name:a}=t):r=t),this.test({name:a||"matches",message:r||af.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&n||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.email;return this.matches(_f,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.url;return this.matches(Mf,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.uuid;return this.matches(If,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,r,a="";return e&&("object"===typeof e?({message:a="",allowOffset:t=!1,precision:r}=e):a=e),this.matches(Lf,{name:"datetime",message:a||af.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||af.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const r=Df(e);return!!r&&!!r.z}}).test({name:"datetime_precision",message:a||af.datetime_precision,params:{precision:r},skipAbsent:!0,test:e=>{if(!e||void 0==r)return!0;const t=Df(e);return!!t&&t.precision===r}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:Ff})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.lowercase;return this.transform(e=>yf(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>yf(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af.uppercase;return this.transform(e=>yf(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>yf(e)||e===e.toUpperCase()})}}zf.prototype=Uf.prototype;function Bf(){return new Vf}class Vf extends Af{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let a=e;if("string"===typeof a){if(a=a.replace(/\s/g,""),""===a)return NaN;a=+a}return r.isType(a)||null===a?a:parseFloat(a)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nf.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nf.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nf.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nf.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>yf(e)?e:0|e)}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(t=>yf(t)?t:Math[e](t))}}Bf.prototype=Vf.prototype;let Hf=new Date("");function Wf(){return new Gf}class Gf extends Af{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){const t=Df(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(r=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}(e),isNaN(e)?Gf.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(ff.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));r=a}return r}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sf.min,r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(r)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sf.max,r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(r)}})}}function Yf(e,t){let r=1/0;return e.some((e,a)=>{var n;if(null!=(n=t.path)&&n.includes(e))return r=a,!0}),r}function Kf(e){return(t,r)=>Yf(e,t)-Yf(e,r)}Gf.INVALID_DATE=Hf,Wf.prototype=Gf.prototype,Wf.INVALID_DATE=Hf;const $f=(e,t,r)=>{if("string"!==typeof e)return e;let a=e;try{a=JSON.parse(e)}catch(SY){}return r.isType(a)?a:e};function Qf(e){if("fields"in e){const t={};for(const[r,a]of Object.entries(e.fields))t[r]=Qf(a);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=Qf(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Qf)}):"optional"in e?e.optional():e}let Xf=e=>"[object Object]"===Object.prototype.toString.call(e);function Jf(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===r.indexOf(e))}const Zf=Kf([]);function ey(e){return new ty(e)}class ty extends Af{constructor(e){super({type:"object",check:e=>Xf(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=Zf,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;let a=super._cast(e,t);if(void 0===a)return this.getDefault(t);if(!this._typeCheck(a))return a;let n=this.fields,s=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,i=[].concat(this._nodes,Object.keys(a).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const d of i){let e=n[d],r=d in a;if(e){let r,n=a[d];l.path=(t.path?"".concat(t.path,"."):"")+d,e=e.resolve({value:n,context:t.context,parent:o});let s=e instanceof Af?e.spec:void 0,i=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||d in a;continue}r=t.__validating&&i?a[d]:e.cast(a[d],l),void 0!==r&&(o[d]=r)}else r&&!s&&(o[d]=a[d]);r===d in o&&o[d]===a[d]||(c=!0)}return c?o:a}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,{from:n=[],originalValue:s=e,recursive:i=this.spec.recursive}=t;t.from=[{schema:this,value:s},...n],t.__validating=!0,t.originalValue=s,super._validate(e,t,r,(e,n)=>{if(!i||!Xf(n))return void a(e,n);s=s||n;let o=[];for(let r of this._nodes){let e=this.fields[r];e&&!ff.isRef(e)&&o.push(e.asNestedTest({options:t,key:r,parent:n,parentPath:t.path,originalParent:s}))}this.runTests({tests:o,value:n,originalValue:s,options:t},r,t=>{a(t.sort(this._sortErrors).concat(e),n)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[a,n]of Object.entries(this.fields)){const e=r[a];r[a]=void 0===e?n:e}return t.withMutation(t=>t.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var a;const n=this.fields[r];let s=e;null!=(a=s)&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),t[r]=n&&"getDefault"in n?n.getDefault(s):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],a=new Set,n=new Set(t.map(e=>{let[t,r]=e;return"".concat(t,"-").concat(r)}));function s(e,t){let s=(0,Fx.split)(e)[0];a.add(s),n.has("".concat(t,"-").concat(s))||r.push([t,s])}for(const i of Object.keys(e)){let t=e[i];a.add(i),ff.isRef(t)&&t.isSibling?s(t.path,i):uf(t)&&"deps"in t&&t.deps.forEach(e=>s(e,i))}return Ux().array(Array.from(a),r).reverse()}(e,t),r._sortErrors=Kf(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(r=>{let a=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Qf(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(t=>{let[r,a]=t;return e.includes(r)&&e.includes(a)}))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let a=(0,Fx.getter)(e,!0);return this.transform(n=>{if(!n)return n;let s=n;return((e,t)=>{const r=[...(0,Fx.normalizePath)(t)];if(1===r.length)return r[0]in e;let a=r.pop(),n=(0,Fx.getter)((0,Fx.join)(r),!0)(e);return!(!n||!(a in n))})(n,e)&&(s=Object.assign({},n),r||delete s[e],s[t]=a(n)),s})}json(){return this.transform($f)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||lf.exact,test(e){if(null==e)return!0;const t=Jf(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lf.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=Jf(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lf.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const a of Object.keys(t))r[e(a)]=t[a];return r})}camelCase(){return this.transformKeys(qx.camelCase)}snakeCase(){return this.transformKeys(qx.snakeCase)}constantCase(){return this.transformKeys(e=>(0,qx.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[n,s]of Object.entries(t.fields)){var a;let t=e;null!=(a=t)&&a.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[n]})),r.fields[n]=s.describe(t)}return r}}function ry(e){return new ay(e)}ey.prototype=ty.prototype;class ay extends Af{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let a=!1;const n=r.map((e,r)=>{const n=this.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(r,"]")}));return n!==e&&(a=!0),n});return a?n:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;var n;let s=this.innerType,i=null!=(n=t.recursive)?n:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,r,(n,o)=>{var l;if(!i||!s||!this._typeCheck(o))return void a(n,o);let c=new Array(o.length);for(let r=0;r<o.length;r++){var d;c[r]=s.asNestedTest({options:t,index:r,parent:o,parentPath:t.path,originalParent:null!=(d=t.originalValue)?d:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},r,e=>a(e.concat(n),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform($f)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!uf(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Kx(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cf.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||cf.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||cf.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,r,a)=>!e(t,r,a):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var a;let n=e;null!=(a=n)&&a.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[0]})),r.innerType=t.innerType.describe(n)}return r}}ry.prototype=ay.prototype;class ny extends Af{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(df.notType)})}_cast(e,t){const{types:r}=this.spec,a=super._cast(e,t);if(!this._typeCheck(a))return a;let n=!1;const s=r.map((e,r)=>{const s=e.cast(a[r],Object.assign({},t,{path:"".concat(t.path||"","[").concat(r,"]")}));return s!==a[r]&&(n=!0),s});return n?s:a}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=this.spec.types;super._validate(e,t,r,(s,i)=>{var o;if(!this._typeCheck(i))return void a(s,i);let l=[];for(let[r,a]of n.entries()){var c;l[r]=a.asNestedTest({options:t,index:r,parent:i,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:i,tests:l,originalValue:null!=(o=t.originalValue)?o:e,options:t},r,e=>a(e.concat(s),i))})}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);return r.innerType=t.spec.types.map((t,r)=>{var a;let n=e;return null!=(a=n)&&a.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[r]})),t.describe(n)}),r}}ny.prototype;const sy=zm("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),iy=zm("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oy=zm("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ly=["label","type","placeholder","error","helperText","icon","rightIcon","disabled","required","className","containerClassName","rows","showPasswordToggle"],cy=(0,s.forwardRef)((e,t)=>{let{label:r,type:a="text",placeholder:n="",error:i,helperText:o,icon:l,rightIcon:c,disabled:d=!1,required:u=!1,className:m="",containerClassName:p="",rows:h=4,showPasswordToggle:x=!0}=e,f=(0,it.A)(e,ly);const[y,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),j="password"===a,w=j&&y?"text":a,N="\n    w-full px-4 py-3 rounded-lg border transition-all duration-200\n    focus:outline-none focus:ring-2 \n    disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500\n    ".concat(l?"pl-11":"","\n    ").concat(c||j?"pr-11":"","\n    ").concat(i?"border-red-300 focus:border-red-500 focus:ring-red-200":v?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400 focus:border-blue-500 focus:ring-blue-200","\n    ").concat(m,"\n  "),C=()=>b(!0),S=()=>b(!1);return(0,Xm.jsxs)("div",{className:"w-full ".concat(p),children:[r&&(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r,u&&(0,Xm.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Xm.jsxs)("div",{className:"relative",children:[l&&(0,Xm.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:l}),"textarea"===a?(0,Xm.jsx)("textarea",(0,ot.A)({ref:t,placeholder:n,disabled:d,required:u,rows:h,onFocus:C,onBlur:S,className:"".concat(N," resize-none")},f)):(0,Xm.jsx)("input",(0,ot.A)({ref:t,type:w,placeholder:n,disabled:d,required:u,onFocus:C,onBlur:S,className:N},f)),j&&x?(0,Xm.jsx)("button",{type:"button",onClick:()=>g(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:y?(0,Xm.jsx)(sy,{className:"w-5 h-5"}):(0,Xm.jsx)(iy,{className:"w-5 h-5"})}):c?(0,Xm.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:c}):null]}),i&&(0,Xm.jsxs)("div",{className:"mt-2 flex items-start text-sm text-red-600",children:[(0,Xm.jsx)(oy,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{children:i})]}),o&&!i&&(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:o})]})});cy.displayName="Input";const dy=cy,uy=zm("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),my=e=>{let{isOpen:t,onClose:r,onRoleSelect:a,loading:n=!1}=e;const[i,o]=(0,s.useState)("PATIENT"),l=[{value:"PATIENT",label:"Patient",icon:(0,Xm.jsx)(uy,{className:"w-12 h-12"}),description:"I want to consult with doctors",color:"blue"},{value:"DOCTOR",label:"Doctor",icon:(0,Xm.jsx)(Op,{className:"w-12 h-12"}),description:"I want to provide medical consultations",color:"green"},{value:"ADMIN",label:"Administrator",icon:(0,Xm.jsx)($m,{className:"w-12 h-12"}),description:"I want to manage the system",color:"purple"}];return t?(0,Xm.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),(0,Xm.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,Xm.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 transform transition-all",children:[(0,Xm.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})}),(0,Xm.jsxs)("div",{className:"text-center mb-6",children:[(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Your Role"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Choose how you want to use the Medical Consultation System"})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:l.map(e=>(0,Xm.jsxs)("button",{onClick:()=>o(e.value),className:"\n                  p-6 rounded-xl border-2 transition-all duration-200\n                  ".concat(i===e.value?"border-".concat(e.color,"-500 bg-").concat(e.color,"-50 shadow-md"):"border-gray-200 hover:border-gray-300 hover:shadow-sm","\n                "),children:[(0,Xm.jsxs)("div",{className:"\n                  flex flex-col items-center text-center space-y-3\n                  ".concat(i===e.value?"text-".concat(e.color,"-600"):"text-gray-600","\n                "),children:[e.icon,(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]}),i===e.value&&(0,Xm.jsx)("div",{className:"mt-3 flex justify-center",children:(0,Xm.jsx)("div",{className:"w-2 h-2 rounded-full bg-".concat(e.color,"-500")})})]},e.value))}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Xm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("strong",{children:"Note:"})," Your role determines your access and features in the system.","DOCTOR"===i&&" Doctors require admin verification before accessing all features.","ADMIN"===i&&" Admin access requires special permissions."]})}),(0,Xm.jsxs)("div",{className:"flex space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,onClick:r,disabled:n,children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",fullWidth:!0,onClick:()=>{a&&a(i)},loading:n,disabled:n||!i,children:n?"Signing in...":"Continue with Google"})]})]})})]}):null},py=zm("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),hy=zm("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),xy=ey({email:zf().email("Invalid email format").required("Email is required"),password:zf().min(6,"Password must be at least 6 characters").required("Password is required")}),fy=e=>{let{onCredentialReceived:t,onError:r}=e;const a="599044889227-mmr204c794307k86fsi5o1i67eg4v340.apps.googleusercontent.com";console.log("Google Client ID:",a),s.useEffect(()=>{var e,t;if(null!==(e=window.google)&&void 0!==e&&null!==(t=e.accounts)&&void 0!==t&&t.id)return void n();const a=document.createElement("script");return a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.onload=()=>{console.log("Google Identity Services script loaded"),n()},a.onerror=()=>{console.error("Failed to load Google Identity Services script"),r(new Error("Failed to load Google Sign-In"))},document.body.appendChild(a),()=>{const e=document.querySelector('script[src="https://accounts.google.com/gsi/client"]');e&&document.body.removeChild(e)}},[a]);const n=()=>{try{window.google.accounts.id.initialize({client_id:a,callback:i,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",width:"100%",text:"signin_with",shape:"rectangular",logo_alignment:"left"}),console.log("Google Sign-In initialized successfully")}catch(e){console.error("Error initializing Google Sign-In:",e),r(e)}},i=e=>{console.log("Google credential received"),e.credential?t(e.credential):r(new Error("No credential received from Google"))};return null},yy=()=>{var e,t;const r=te(),{login:a,googleLogin:n}=Jd(),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null),{register:h,handleSubmit:x,formState:{errors:f},setError:y}=Tx({resolver:Lx(xy)});return(0,Xm.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"w-24 h-20 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-24 h-24 object-contain"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your Medical Consultation account"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-8 space-y-6",children:[(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsx)("div",{id:"google-signin-button",className:"w-full"}),(0,Xm.jsx)(fy,{onCredentialReceived:e=>{p(e),u(!0)},onError:e=>{console.error("Google Sign-In error:",e),Ft.error("Google Sign-In failed. Please try again or use email login."),y("root",{type:"manual",message:"Google Sign-In failed. Please try again."})}}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Xm.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Xm.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Xm.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with email"})})]})]}),(0,Xm.jsxs)("form",{onSubmit:x(async e=>{o(!0);try{const t=await a(e);Ft.success("Login successful! Redirecting...");const n=t.role;let s="/app";switch(n){case"PATIENT":s="/app/patient/dashboard";break;case"DOCTOR":s="/app/doctor/dashboard";break;case"ADMIN":s="/app/admin/dashboard";break;default:s="/app"}r(s)}catch(s){var t,n;console.error("Login error:",s);const e=(null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||s.message||"Login failed. Please check your credentials.";Ft.error(e),y("root",{type:"manual",message:e})}finally{o(!1)}}),className:"space-y-5",children:[(0,Xm.jsx)(dy,(0,ot.A)({label:"Email Address",type:"email",placeholder:"Enter your email",icon:(0,Xm.jsx)(py,{className:"w-5 h-5"}),error:null===(e=f.email)||void 0===e?void 0:e.message},h("email"))),(0,Xm.jsx)(dy,(0,ot.A)({label:"Password",type:"password",placeholder:"Enter your password",icon:(0,Xm.jsx)(hy,{className:"w-5 h-5"}),error:null===(t=f.password)||void 0===t?void 0:t.message},h("password"))),(0,Xm.jsx)("div",{className:"flex items-center justify-between",children:(0,Xm.jsx)("div",{className:"text-sm",children:(0,Xm.jsx)(_e,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Forgot your password?"})})}),(0,Xm.jsx)(Zm,{type:"submit",fullWidth:!0,loading:i,disabled:i||l,children:i?"Signing in...":"Sign In"})]}),(0,Xm.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,Xm.jsx)(_e,{to:"/register",className:"font-semibold text-primary-600 hover:text-primary-500 transition-colors",children:"Sign up now"})]})})]})]}),(0,Xm.jsx)(my,{isOpen:d,onClose:()=>{u(!1),p(null)},onRoleSelect:async e=>{if(m){c(!0);try{await n({idToken:m,role:e});Ft.success("Google Sign-In successful! Redirecting..."),u(!1);let t="/app";switch(e){case"PATIENT":t="/app/patient/dashboard";break;case"DOCTOR":t="/app/doctor/dashboard";break;case"ADMIN":t="/app/admin/dashboard";break;default:t="/app"}r(t)}catch(t){console.error("Google Sign-In error:",t);const e=(null===t||void 0===t?void 0:t.message)||"Google Sign-In failed. Please try again.";Ft.error(e),y("root",{type:"manual",message:"Google Sign-In failed. Please try again."}),u(!1)}finally{c(!1),p(null)}}},loading:l})]})},gy=zm("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),vy=ey({firstName:zf().required("First name is required"),lastName:zf().required("Last name is required"),email:zf().email("Invalid email").required("Email is required"),phoneNumber:zf().nullable(),password:zf().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:zf().oneOf([xf("password")],"Passwords must match").required("Please confirm your password"),role:zf().required("Please select your role"),terms:Pf().oneOf([!0],"You must accept the terms and conditions")}),by=()=>{const[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),n=te(),{register:i,isLoading:o}=Jd(),{register:l,handleSubmit:c,formState:{errors:d,isSubmitting:u},setError:m}=Tx({resolver:Lx(vy)});return(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"w-24 h-20 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-24 h-24 object-contain"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create your account"}),(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Join our medical consultation platform"})]}),(0,Xm.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:c(async e=>{try{const t={email:e.email,password:e.password,role:e.role,fullName:"".concat(e.firstName," ").concat(e.lastName),phoneNumber:e.phoneNumber||null};await i(t),n("/login")}catch(t){m("root",{message:t.message})}}),children:[d.root&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:d.root.message})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("firstName")),{},{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.firstName?"border-red-300":"border-gray-300"),placeholder:"John"})),d.firstName&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.firstName.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("lastName")),{},{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.lastName?"border-red-300":"border-gray-300"),placeholder:"Doe"})),d.lastName&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.lastName.message})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(py,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("email")),{},{type:"email",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.email?"border-red-300":"border-gray-300"),placeholder:"Enter your email"}))]}),d.email&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.email.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",(0,Xm.jsx)("span",{className:"text-gray-400 text-sm",children:"(Optional)"})]}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(gy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("phoneNumber")),{},{type:"tel",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.phoneNumber?"border-red-300":"border-gray-300"),placeholder:"Enter your phone number"}))]}),d.phoneNumber&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.phoneNumber.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},l("role")),{},{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.role?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"",children:"Select your role"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patient"}),(0,Xm.jsx)("option",{value:"DOCTOR",children:"Doctor"})]})),d.role&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.role.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("password")),{},{type:e?"text":"password",className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.password?"border-red-300":"border-gray-300"),placeholder:"Create a password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),d.password&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.password.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("confirmPassword")),{},{type:r?"text":"password",className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(d.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm your password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),d.confirmPassword&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d.confirmPassword.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},l("terms")),{},{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})),(0,Xm.jsxs)("label",{className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,Xm.jsx)(_e,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Terms and Conditions"})," ","and"," ",(0,Xm.jsx)(_e,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),d.terms&&(0,Xm.jsx)("p",{className:"text-sm text-red-600",children:d.terms.message}),(0,Xm.jsx)(Zm,{type:"submit",fullWidth:!0,loading:u||o,children:"Create Account"}),(0,Xm.jsx)("div",{className:"text-center",children:(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,Xm.jsx)(_e,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})})]})]})})},jy=zm("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),wy=ey({identifier:zf().required("Email or phone number is required").test("valid-identifier","Please enter a valid email or phone number",e=>{if(!e)return!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||/^[\d\s\-\+\(\)]+$/.test(e)&&e.replace(/\D/g,"").length>=10})}),Ny=()=>{const e=te(),[t,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),{register:i,handleSubmit:o,formState:{errors:l,isSubmitting:c},setError:d,watch:u}=Tx({resolver:Lx(wy)}),m=u("identifier"),p=m&&m.includes("@");return a?(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center mb-4",children:(0,Xm.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Up,{className:"w-8 h-8 text-white"})})}),(0,Xm.jsxs)("h2",{className:"text-3xl font-bold text-gray-900",children:["Check Your ",p?"Email":"Phone"]}),(0,Xm.jsxs)("p",{className:"mt-4 text-gray-600",children:["We've sent a verification code to ",(0,Xm.jsx)("strong",{children:m})]}),(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"The code will expire in 10 minutes."}),(0,Xm.jsx)("div",{className:"mt-6",children:(0,Xm.jsx)(Zm,{onClick:()=>e("/verify-reset-code",{state:{identifier:m}}),fullWidth:!0,children:"Enter Verification Code"})})]})})}):(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"w-24 h-20 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-24 h-24 object-contain"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password"}),(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address or phone number and we'll send you a verification code to reset your password"})]}),(0,Xm.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:o(async t=>{r(!0);try{const r=await Xd.requestPasswordReset(t.identifier);n(!0),Ft.success(r.message||"Verification code sent successfully!"),setTimeout(()=>{e("/verify-reset-code",{state:{identifier:t.identifier}})},2e3)}catch(l){var a,s,i,o;d("root",{message:(null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||l.message||"Failed to send verification code"}),Ft.error((null===(i=l.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Failed to send verification code")}finally{r(!1)}}),children:[l.root&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:l.root.message})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address or Phone Number"}),(0,Xm.jsxs)("div",{className:"relative",children:[m&&m.includes("@")?(0,Xm.jsx)(py,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}):(0,Xm.jsx)(gy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},i("identifier")),{},{type:"text",className:"w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(l.identifier?"border-red-300":"border-gray-300"),placeholder:"email@example.com or +1234567890"}))]}),l.identifier&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:l.identifier.message}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"You can use either your registered email or phone number"})]}),(0,Xm.jsx)(Zm,{type:"submit",fullWidth:!0,loading:c||t,children:"Send Verification Code"}),(0,Xm.jsx)("div",{className:"text-center",children:(0,Xm.jsxs)(_e,{to:"/login",className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-500",children:[(0,Xm.jsx)(jy,{className:"w-4 h-4 mr-1"}),"Back to Sign In"]})})]})]})})},Cy=ey({password:zf().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:zf().oneOf([xf("password")],"Passwords must match").required("Please confirm your password")}),Sy=()=>{const[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),[n]=Le(),i=n.get("token"),{resetPassword:o,isLoading:l}=Jd(),{register:c,handleSubmit:d,formState:{errors:u,isSubmitting:m},setError:p}=Tx({resolver:Lx(Cy)});return(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"w-24 h-20 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-24 h-24 object-contain"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),(0,Xm.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),(0,Xm.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:d(async e=>{try{await o(i,e.password)}catch(t){p("root",{message:t.message})}}),children:[u.root&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:u.root.message})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},c("password")),{},{type:e?"text":"password",className:"w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(u.password?"border-red-300":"border-gray-300"),placeholder:"Enter new password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),u.password&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u.password.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},c("confirmPassword")),{},{type:r?"text":"password",className:"w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(u.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm new password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),u.confirmPassword&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u.confirmPassword.message})]}),(0,Xm.jsx)(Zm,{type:"submit",fullWidth:!0,loading:m||l,children:"Reset Password"}),(0,Xm.jsx)("div",{className:"text-center",children:(0,Xm.jsx)(_e,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500",children:"Back to Sign In"})})]})]})})},Ay=ey({code:zf().required("Verification code is required").matches(/^\d{6}$/,"Verification code must be 6 digits"),newPassword:zf().min(8,"Password must be at least 8 characters").required("New password is required").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain uppercase, lowercase, number and special character"),confirmPassword:zf().oneOf([xf("newPassword")],"Passwords must match").required("Please confirm your password")}),ky=()=>{var e;const t=te(),r=Z(),[a,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(600),h=null===(e=r.state)||void 0===e?void 0:e.identifier,{register:x,handleSubmit:f,formState:{errors:y,isSubmitting:g},setError:v}=Tx({resolver:Lx(Ay)});(0,s.useEffect)(()=>{h||t("/forgot-password")},[h,t]),(0,s.useEffect)(()=>{if(m<=0)return;const e=setInterval(()=>{p(e=>e-1)},1e3);return()=>clearInterval(e)},[m]);return d?(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center mb-4",children:(0,Xm.jsx)("div",{className:"w-24 h-20 rounded-2xl flex items-center justify-center mb-2",children:(0,Xm.jsx)("img",{src:Dp,alt:"Custom icon",className:"w-24 h-24 object-contain"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Password Reset Successful!"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Your password has been successfully reset. You can now login with your new password."}),(0,Xm.jsx)("div",{className:"mt-6",children:(0,Xm.jsx)(Zm,{onClick:()=>t("/login"),fullWidth:!0,children:"Go to Login"})})]})})}):(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mb-4",children:(0,Xm.jsx)($m,{className:"w-8 h-8 text-white"})})}),(0,Xm.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Code"}),(0,Xm.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Enter the 6-digit code sent to ",(0,Xm.jsx)("strong",{children:h})]}),m>0?(0,Xm.jsxs)("p",{className:"mt-1 text-sm text-primary-600 font-semibold",children:["Code expires in: ",(e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))})(m)]}):(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600 font-semibold",children:"Code expired! Please request a new one."})]}),(0,Xm.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f(async e=>{n(!0);try{await Xd.verifyResetCode({identifier:h,code:e.code,newPassword:e.newPassword}),u(!0),Ft.success("Password reset successful!"),setTimeout(()=>{t("/login")},3e3)}catch(o){var r,a,s,i;v("root",{message:(null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||o.message||"Verification failed"}),Ft.error((null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Verification failed")}finally{n(!1)}}),children:[y.root&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:y.root.message})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},x("code")),{},{type:"text",maxLength:"6",className:"w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 text-center text-2xl tracking-widest font-bold ".concat(y.code?"border-red-300":"border-gray-300"),placeholder:"000000"}))]}),y.code&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:y.code.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},x("newPassword")),{},{type:i?"text":"password",className:"w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(y.newPassword?"border-red-300":"border-gray-300"),placeholder:"Enter new password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),y.newPassword&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:y.newPassword.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},x("confirmPassword")),{},{type:l?"text":"password",className:"w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(y.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm new password"})),(0,Xm.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l?(0,Xm.jsx)(sy,{className:"w-5 h-5 text-gray-400"}):(0,Xm.jsx)(iy,{className:"w-5 h-5 text-gray-400"})})]}),y.confirmPassword&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:y.confirmPassword.message})]}),(0,Xm.jsx)(Zm,{type:"submit",fullWidth:!0,loading:g||a,disabled:m<=0,children:"Reset Password"}),(0,Xm.jsxs)("div",{className:"text-center space-y-2",children:[(0,Xm.jsx)("button",{type:"button",onClick:async()=>{try{await Xd.requestPasswordReset(h),Ft.success("New verification code sent!"),p(600)}catch(e){Ft.error("Failed to resend code. Please try again.")}},className:"text-sm text-primary-600 hover:text-primary-500",children:"Didn't receive the code? Resend"}),(0,Xm.jsx)("div",{children:(0,Xm.jsxs)(_e,{to:"/forgot-password",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-500",children:[(0,Xm.jsx)(jy,{className:"w-4 h-4 mr-1"}),"Back to Forgot Password"]})})]})]})]})})},Ey=zm("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Py=["children","className","title","subtitle","action","header","footer","padding","shadow","hover","bordered"],Oy=["title","value","icon","change","changeType"],Ty=["type","title","message","onClose"],Dy=e=>{let{children:t,className:r="",title:a,subtitle:n,action:s,header:i,footer:o,padding:l=!0,shadow:c=!0,hover:d=!1,bordered:u=!0}=e,m=(0,it.A)(e,Py);const p="\n    bg-white rounded-lg\n    ".concat(c?"shadow-soft":"","\n    ").concat(u?"border border-gray-200":"","\n    ").concat(d?"hover:shadow-lg transition-shadow duration-200":"","\n    ").concat(r,"\n  ").trim(),h=a||n||s||i;return(0,Xm.jsxs)("div",(0,ot.A)((0,ot.A)({className:p},m),{},{children:[h&&(0,Xm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:i||(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[a&&(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 leading-6",children:a}),n&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:n})]}),s&&(0,Xm.jsx)("div",{className:"flex-shrink-0 ml-4",children:s})]})}),(0,Xm.jsx)("div",{className:l?"p-6":"",children:t}),o&&(0,Xm.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:o})]}))},Ry=e=>{let{title:t,value:r,icon:a,change:n,changeType:s}=e,i=(0,it.A)(e,Oy);return(0,Xm.jsx)(Dy,(0,ot.A)((0,ot.A)({hover:!0,className:"cursor-pointer"},i),{},{children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[a&&(0,Xm.jsx)("div",{className:"flex-shrink-0",children:(0,Xm.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,Xm.jsx)("div",{className:"w-6 h-6 text-primary-600",children:a})})}),(0,Xm.jsxs)("div",{className:a?"ml-4":"",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r}),n&&(0,Xm.jsx)("div",{className:"flex items-center mt-1",children:(0,Xm.jsx)("span",{className:"text-sm font-medium ".concat("increase"===s?"text-green-600":"decrease"===s?"text-red-600":"text-gray-600"),children:n})})]})]})}))},_y=e=>{let{type:t="info",title:r,message:a,onClose:n}=e,s=(0,it.A)(e,Ty);return(0,Xm.jsx)(Dy,(0,ot.A)((0,ot.A)({className:"".concat({info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"}[t]," border-l-4"),bordered:!1,shadow:!1},s),{},{children:(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[r&&(0,Xm.jsx)("h4",{className:"font-medium mb-1",children:r}),a&&(0,Xm.jsx)("p",{className:"text-sm",children:a})]}),n&&(0,Xm.jsxs)("button",{onClick:n,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600",children:[(0,Xm.jsx)("span",{className:"sr-only",children:"Close"}),(0,Xm.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Xm.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}))},My=Dy,Iy=()=>{const[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null),n=tt();return{loading:e,error:r,execute:(0,s.useCallback)(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{showSuccessToast:s=!1,showErrorToast:i=!0,successMessage:o="Operation completed successfully",loadingState:l=!0}=r;try{l&&t(!0),a(null);const r=await e();return s&&n(qi({type:"success",title:"Success",message:o,duration:3e3})),r}catch(SY){const t=SY.message||"An error occurred";throw a(t),i&&n(qi({type:"error",title:"Error",message:t,duration:5e3})),SY}finally{l&&t(!1)}},[n]),clearError:(0,s.useCallback)(()=>{a(null)},[])}},Ly=()=>{console.log("Dashboard rendering");const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)({stats:{totalCases:0,activeCases:0,completedCases:0,upcomingAppointments:0},recentCases:[],upcomingAppointments:[],recentNotifications:[]}),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{l(),c()},[]);const l=async()=>{try{const r=await t(()=>dp.getDashboardData(e.id));n(r)}catch(r){console.error("Failed to load dashboard data:",r)}},c=async()=>{try{const e=await t(()=>dp.getSubscriptionStatus());o(e)}catch(e){console.error("Failed to load subscription status:",e)}},d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r&&!a.stats.totalCases?(0,Xm.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-2xl font-bold",children:[(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})(),", ",null===e||void 0===e?void 0:e.fullName,"!"]}),(0,Xm.jsx)("p",{className:"text-primary-100 mt-1",children:"Here's an overview of your medical consultations"})]}),(0,Xm.jsx)("div",{className:"hidden md:block",children:(0,Xm.jsx)(Pp,{className:"w-16 h-16 text-primary-200"})})]}),(0,Xm.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[(0,Xm.jsx)(_e,{to:"/app/patient/cases",children:(0,Xm.jsxs)(Zm,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-primary-600",children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"Submit New Case"]})}),(0,Xm.jsx)(_e,{to:"/app/patient/appointments",children:(0,Xm.jsxs)(Zm,{variant:"ghost",className:"text-white hover:bg-primary-400",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 mr-2"}),"View Appointments"]})})]})]}),i&&"ACTIVE"!==i.status&&(0,Xm.jsx)(_y,{type:"warning",title:"Subscription Required",message:"Your subscription is inactive. Please renew to continue accessing medical consultations.",children:(0,Xm.jsx)("div",{className:"mt-4",children:(0,Xm.jsx)(_e,{to:"/app/patient/subscription",children:(0,Xm.jsx)(Zm,{variant:"warning",children:"Manage Subscription"})})})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Cases",value:a.stats.totalCases,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Active Cases",value:a.stats.activeCases,icon:(0,Xm.jsx)(Ey,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Completed Cases",value:a.stats.completedCases,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Upcoming Appointments",value:a.stats.upcomingAppointments,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Recent Cases",action:(0,Xm.jsx)(_e,{to:"/app/patient/cases",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:a.recentCases.length>0?a.recentCases.slice(0,3).map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.caseTitle}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[(0,Xm.jsx)("span",{children:e.requiredSpecialization}),(0,Xm.jsx)(ip,{priority:e.urgencyLevel,size:"sm"}),(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsx)("span",{children:d(e.createdAt)})]}),e.assignedDoctor&&(0,Xm.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{children:["Dr. ",e.assignedDoctor.name]}),(0,Xm.jsxs)("div",{className:"flex items-center ml-2",children:[(0,Xm.jsx)(Ip,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,Xm.jsx)("span",{className:"ml-1",children:e.assignedDoctor.rating})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(sp,{status:e.status,size:"sm"}),(0,Xm.jsx)(_e,{to:"/app/patient/cases/".concat(e.id),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View"})})]})]},e.id)):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"No cases submitted yet"}),(0,Xm.jsx)(_e,{to:"/app/patient/cases",children:(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),children:"Submit Your First Case"})})]})})}),(0,Xm.jsx)(My,{title:"Upcoming Appointments",action:(0,Xm.jsx)(_e,{to:"/app/patient/appointments",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:a.upcomingAppointments.length>0?a.upcomingAppointments.slice(0,2).map(e=>{return(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:"VIDEO"===e.consultationType?(0,Xm.jsx)(Hp,{className:"w-5 h-5 text-blue-600"}):(0,Xm.jsx)(gy,{className:"w-5 h-5 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.doctor.fullName}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:d(e.scheduledTime)}),(0,Xm.jsxs)("span",{children:["at ",(t=e.scheduledTime,new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))]})]}),(0,Xm.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-500",children:[(0,Xm.jsxs)("span",{children:[e.duration," minutes"]}),(0,Xm.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Xm.jsx)(sp,{status:e.status,size:"xs"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:["CONFIRMED"===e.status&&(0,Xm.jsx)(Xm.Fragment,{children:(0,Xm.jsx)(Zm,{size:"sm",children:"Join"})}),("PENDING"===e.status||"SCHEDULED"===e.status)&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"Decline"}),(0,Xm.jsx)(Zm,{size:"sm",children:"Accept"})]})]})]},e.id);var t}):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(bp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No upcoming appointments"})]})})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsx)(My,{title:"Recent Notifications",action:(0,Xm.jsx)(_e,{to:"/app/patient/notifications",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-3",children:a.recentNotifications.length>0?a.recentNotifications.slice(0,4).map(e=>(0,Xm.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.isRead?"bg-gray-50":"bg-blue-50 border-l-4 border-l-blue-500"),children:[(0,Xm.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:e.title}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.message}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500 mt-1 block",children:d(e.createdAt)})]},e.id)):(0,Xm.jsx)("div",{className:"text-center py-6",children:(0,Xm.jsx)("p",{className:"text-gray-600 text-sm",children:"No recent notifications"})})})}),(0,Xm.jsx)(My,{title:"Quick Actions",children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsx)(_e,{to:"/app/patient/cases",className:"block",children:(0,Xm.jsxs)("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg mr-3",children:(0,Xm.jsx)(Np,{className:"w-4 h-4 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:"Submit New Case"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:"Get medical consultation"})]})]})}),(0,Xm.jsx)(_e,{to:"/app/patient/profile",className:"block",children:(0,Xm.jsxs)("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:(0,Xm.jsx)(gp,{className:"w-4 h-4 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:"Update Profile"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:"Manage medical history"})]})]})}),(0,Xm.jsx)(_e,{to:"/app/patient/payments",className:"block",children:(0,Xm.jsxs)("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:(0,Xm.jsx)(Cp,{className:"w-4 h-4 text-green-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:"Billing & Payments"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:"View payment history"})]})]})}),(0,Xm.jsx)(_e,{to:"/app/patient/complaints",className:"block",children:(0,Xm.jsxs)("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg mr-3",children:(0,Xm.jsx)(wp,{className:"w-4 h-4 text-orange-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:"Support & Help"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:"Submit complaints"})]})]})})]})}),(0,Xm.jsx)(My,{title:"Subscription Status",children:i?(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Plan"}),(0,Xm.jsx)(lp,{variant:"success",children:i.plan})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,Xm.jsx)(sp,{status:i.status,size:"sm"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Expires"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:d(i.expiry)})]}),(0,Xm.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,Xm.jsx)(_e,{to:"/app/patient/subscription",className:"block",children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",fullWidth:!0,children:"Manage Subscription"})})})]}):(0,Xm.jsxs)("div",{className:"text-center py-6",children:[(0,Xm.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"No active subscription"}),(0,Xm.jsx)(_e,{to:"/app/patient/subscription",children:(0,Xm.jsx)(Zm,{size:"sm",children:"Choose Plan"})})]})})]}),(0,Xm.jsx)(My,{title:"Health Tips & Reminders",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Stay Hydrated"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-800",children:"Drink at least 8 glasses of water daily for optimal health."})]}),(0,Xm.jsxs)("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Regular Exercise"}),(0,Xm.jsx)("p",{className:"text-sm text-green-800",children:"Aim for 30 minutes of moderate exercise most days of the week."})]}),(0,Xm.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-purple-900 mb-2",children:"Quality Sleep"}),(0,Xm.jsx)("p",{className:"text-sm text-purple-800",children:"Get 7-9 hours of quality sleep each night for better health."})]})]})})]})},Fy=zm("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),qy=zm("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),zy=zm("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Uy=zm("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),By=zm("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vy=zm("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Hy=zm("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Wy=["isOpen","onClose","title","children","footer","size","closeOnOverlayClick","closeOnEscape","showCloseButton","className"],Gy=e=>{let{isOpen:t,onClose:r,title:a,children:n,footer:i,size:o="md",closeOnOverlayClick:l=!0,closeOnEscape:c=!0,showCloseButton:d=!0,className:u=""}=e,m=(0,it.A)(e,Wy);if((0,s.useEffect)(()=>{if(!c)return;const e=e=>{"Escape"===e.key&&t&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,r,c]),(0,s.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;return(0,Xm.jsxs)("div",(0,ot.A)((0,ot.A)({className:"fixed inset-0 z-50 overflow-y-auto"},m),{},{children:[(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e=>{l&&e.target===e.currentTarget&&r()}}),(0,Xm.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Xm.jsxs)("div",{className:"\n            relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-[95vw] max-h-[95vh]"}[o]," bg-white rounded-lg shadow-xl \n            transform transition-all max-h-[90vh] overflow-hidden ").concat(u,"\n          "),children:[(a||d)&&(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a&&(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),d&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:r,icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),className:"text-gray-400 hover:text-gray-600"})]}),(0,Xm.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n}),i&&(0,Xm.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:i})]})})]}))},Yy=e=>{let{isOpen:t,onClose:r,onConfirm:a,title:n="Confirm Action",message:s="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:o="Cancel",confirmVariant:l="primary",isLoading:c=!1}=e;return(0,Xm.jsx)(Gy,{isOpen:t,onClose:r,title:n,size:"sm",footer:(0,Xm.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:r,disabled:c,children:o}),(0,Xm.jsx)(Zm,{variant:l,onClick:async()=>{await a(),r()},loading:c,disabled:c,children:i})]}),children:(0,Xm.jsx)("p",{className:"text-gray-600",children:s})})},Ky=e=>{let{isOpen:t,onClose:r,onSubmit:a,title:n,children:s,submitText:i="Submit",cancelText:o="Cancel",isLoading:l=!1,submitDisabled:c=!1,size:d="md"}=e;return(0,Xm.jsx)(Gy,{isOpen:t,onClose:r,title:n,size:d,footer:(0,Xm.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:r,disabled:l,children:o}),(0,Xm.jsx)(Zm,{type:"submit",form:"modal-form",loading:l,disabled:l||c,children:i})]}),children:(0,Xm.jsx)("form",{id:"modal-form",onSubmit:e=>{e.preventDefault(),a(e)},children:s})})},$y=Gy,Qy={success:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ft.success(e,(0,ot.A)({position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},t))},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ft.error(e,(0,ot.A)({position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},t))},warning:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ft.warning(e,(0,ot.A)({position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},t))},info:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ft.info(e,(0,ot.A)({position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},t))},subscriptionError:(e,t)=>{Ft.error((0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-semibold mb-1",children:e}),(0,Xm.jsx)("button",{onClick:()=>{t("/app/patient/subscription"),Ft.dismiss()},className:"text-sm underline hover:no-underline",children:"Go to Subscription \u2192"})]}),{position:"top-center",autoClose:7e3,closeOnClick:!1})}},Xy=Qy,Jy=e=>{let{isOpen:t,onClose:r,onSubmit:a,doctorName:n,loading:i=!1}=e;const[o,l]=(0,s.useState)(0),[c,d]=(0,s.useState)(0),u=()=>{l(0),d(0),r()};return(0,Xm.jsx)($y,{isOpen:t,onClose:u,size:"md",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Rate Your Consultation"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["How was your experience with Dr. ",n,"?"]})]}),(0,Xm.jsx)("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:i,children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("form",{onSubmit:e=>{e.preventDefault(),0!==o?a(o):alert("Please select a rating")},className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-100",children:[(0,Xm.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-4 text-center",children:"Select Your Rating"}),(0,Xm.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,Xm.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,Xm.jsx)("button",{type:"button",onClick:()=>l(e),onMouseEnter:()=>d(e),onMouseLeave:()=>d(0),disabled:i,className:"transition-all duration-150 transform hover:scale-110 ".concat(i?"cursor-not-allowed opacity-50":"cursor-pointer"),children:(0,Xm.jsx)(Ip,{className:"w-12 h-12 ".concat(e<=(c||o)?"fill-yellow-400 text-yellow-400":"text-gray-300")})},e))}),o>0&&(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[o,"/5"]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[5===o&&"\u2b50 Excellent!",4===o&&"\ud83d\ude0a Very Good",3===o&&"\ud83d\ude42 Good",2===o&&"\ud83d\ude10 Fair",1===o&&"\ud83d\ude1e Poor"]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex space-x-3",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:u,disabled:i,className:"flex-1",children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",disabled:i||0===o,className:"flex-1",children:i?"Submitting...":"Submit Rating"})]})]})]})})},Zy=zm("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eg=zm("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),tg=zm("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),rg=e=>{let{isOpen:t,onClose:r,currentStatus:a="SUBMITTED"}=e;const[n,i]=(0,s.useState)({}),o=[{status:"SUBMITTED",label:"Case Submitted",icon:(0,Xm.jsx)(gp,{className:"w-5 h-5"}),description:"Your case has been successfully submitted to our system and is awaiting review by our medical team.",color:"blue"},{status:"PENDING",label:"Pending Review",icon:(0,Xm.jsx)(Qp,{className:"w-5 h-5"}),description:"Your case is in the queue and will be assigned to a qualified doctor based on your requirements.",color:"yellow"},{status:"ASSIGNED",label:"Doctor Assigned",icon:(0,Xm.jsx)(Sp,{className:"w-5 h-5"}),description:"A qualified doctor has been assigned to review your case based on specialization match.",color:"indigo"},{status:"ACCEPTED",label:"Case Accepted",icon:(0,Xm.jsx)(Up,{className:"w-5 h-5"}),description:"The assigned doctor has reviewed and accepted your case. They will propose consultation times.",color:"purple"},{status:"SCHEDULED",label:"Appointment Scheduled",icon:(0,Xm.jsx)(bp,{className:"w-5 h-5"}),description:"An appointment time has been proposed. Please review and confirm the schedule.",color:"cyan"},{status:"PAYMENT_PENDING",label:"Awaiting Payment",icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),description:"Schedule confirmed. Please complete the consultation fee payment to activate your appointment.",color:"orange"},{status:"IN_PROGRESS",label:"Consultation Active",icon:(0,Xm.jsx)(Ey,{className:"w-5 h-5"}),description:"Your consultation is confirmed and ready. Join at the scheduled time for your appointment.",color:"blue"},{status:"CONSULTATION_COMPLETE",label:"Consultation Complete",icon:(0,Xm.jsx)(Up,{className:"w-5 h-5"}),description:"Your consultation has been successfully completed. You will receive your report soon.",color:"green"},{status:"CLOSED",label:"Case Closed",icon:(0,Xm.jsx)(Zy,{className:"w-5 h-5"}),description:"Your case has been finalized. All reports and documentation are available in your account.",color:"gray"}],l={status:"REJECTED",label:"Case Rejected",icon:(0,Xm.jsx)(eg,{className:"w-5 h-5"}),description:"The case was not accepted. You may submit a new case or contact support for assistance.",color:"red"},c=(e,t,r,a)=>{if(r)return{bg:"bg-green-100",border:"border-green-500",text:"text-green-700",iconBg:"bg-green-500",iconText:"text-white",line:"bg-green-500"};if(t){const t={blue:{bg:"bg-blue-100",border:"border-blue-500",text:"text-blue-700",iconBg:"bg-blue-500"},yellow:{bg:"bg-yellow-100",border:"border-yellow-500",text:"text-yellow-700",iconBg:"bg-yellow-500"},indigo:{bg:"bg-indigo-100",border:"border-indigo-500",text:"text-indigo-700",iconBg:"bg-indigo-500"},purple:{bg:"bg-purple-100",border:"border-purple-500",text:"text-purple-700",iconBg:"bg-purple-500"},cyan:{bg:"bg-cyan-100",border:"border-cyan-500",text:"text-cyan-700",iconBg:"bg-cyan-500"},orange:{bg:"bg-orange-100",border:"border-orange-500",text:"text-orange-700",iconBg:"bg-orange-500"},green:{bg:"bg-green-100",border:"border-green-500",text:"text-green-700",iconBg:"bg-green-500"},gray:{bg:"bg-gray-100",border:"border-gray-500",text:"text-gray-700",iconBg:"bg-gray-500"},red:{bg:"bg-red-100",border:"border-red-500",text:"text-red-700",iconBg:"bg-red-500"}};return(0,ot.A)((0,ot.A)({},t[e.color]),{},{iconText:"text-white",line:"bg-gray-300"})}return{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-500",iconBg:"bg-gray-300",iconText:"text-gray-600",line:"bg-gray-300"}},d="REJECTED"===a?-1:(u=a,o.findIndex(e=>e.status===u));var u;const m="REJECTED"===a,p=m?[...o.map(e=>(0,ot.A)((0,ot.A)({},e),{},{isDisabled:!0})),l]:o;return t?(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[85vh] overflow-hidden",children:[(0,Xm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Case Status Timeline"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:"Track your case through each stage"})]}),(0,Xm.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-200 rounded",children:(0,Xm.jsx)(Tp,{className:"w-5 h-5"})})]})}),(0,Xm.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-80px)]",children:[(0,Xm.jsx)("div",{className:"relative",children:p.map((e,t)=>{const r=!m&&t<d,a=!m&&t===d,s="REJECTED"===e.status,o=e.isDisabled,u=s?c(l,!0,!1):c(e,a,r),h=n[e.status]||a||s;return(0,Xm.jsx)("div",{className:"relative",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[(0,Xm.jsx)("div",{className:"\n                        relative w-12 h-12 rounded-full flex items-center justify-center\n                        border-2 transition-all duration-200\n                        ".concat(u.iconBg," ").concat(u.border," ").concat(u.iconText,"\n                        ").concat(a?"ring-4 ring-opacity-20 ring-offset-2 shadow-lg scale-110":"","\n                        ").concat(a?u.border.replace("border","ring"):"","\n                      "),children:r&&!o?(0,Xm.jsx)(Zy,{className:"w-5 h-5"}):e.icon}),t<p.length-1&&(0,Xm.jsx)("div",{className:"w-0.5 h-20 mt-2 ".concat(r?"bg-green-500":"bg-gray-300")})]}),(0,Xm.jsxs)("div",{className:"flex-1 pb-8",children:[(0,Xm.jsxs)("div",{className:"\n                          flex items-center justify-between p-3 rounded-lg cursor-pointer\n                          transition-all duration-200 hover:bg-opacity-50\n                          ".concat(a?u.bg+" "+u.border+" border":"","\n                          ").concat(a||o?"":"hover:bg-gray-50","\n                          ").concat(o&&!s?"opacity-50":"","\n                        "),onClick:()=>(e=>{i(t=>(0,ot.A)((0,ot.A)({},t),{},{[e]:!t[e]}))})(e.status),children:[(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)("div",{children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium ".concat(u.text),children:e.label}),a&&(0,Xm.jsx)("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full font-medium animate-pulse",children:"You are here"}),s&&(0,Xm.jsx)("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs rounded-full font-medium",children:"Current Status"})]})})}),(0,Xm.jsx)("button",{className:"p-1 rounded transition-transform duration-200 ".concat(u.text),children:h?(0,Xm.jsx)(tg,{className:"w-4 h-4"}):(0,Xm.jsx)(Hm,{className:"w-4 h-4"})})]}),h&&(0,Xm.jsx)("div",{className:"\n                          mt-2 ml-3 p-3 text-xs rounded-lg transition-all duration-200\n                          ".concat(a||s?u.bg+" "+u.text:"text-gray-600","\n                        "),children:e.description})]})]})},e.status)})}),(0,Xm.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(oy,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"text-xs text-blue-800",children:[(0,Xm.jsx)("p",{className:"font-medium mb-1",children:"Important Information:"}),(0,Xm.jsxs)("ul",{className:"space-y-0.5 text-blue-700",children:[(0,Xm.jsx)("li",{children:"\u2022 Each stage is completed automatically as requirements are met"}),(0,Xm.jsx)("li",{children:"\u2022 Payment must be completed to proceed with consultation"}),(0,Xm.jsx)("li",{children:"\u2022 You will receive notifications at each stage"})]})]})]})})]})]})}):null},ag=()=>{var e;const t=te(),{user:r}=Jd(),{execute:a,loading:n}=Iy(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(null),[f,y]=(0,s.useState)(""),[g,v]=(0,s.useState)("all"),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)("cards"),[C,S]=(0,s.useState)("createdAt"),[A,k]=(0,s.useState)("desc"),[E,P]=(0,s.useState)(null),[O,T]=(0,s.useState)(!1),[D,R]=(0,s.useState)(null),[_,M]=(0,s.useState)(!1),[I,L]=(0,s.useState)(!1),[F,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{U()},[]),(0,s.useEffect)(()=>{z(),W()},[i,f,g,b,C,A]),(0,s.useEffect)(()=>{const e=e=>{E&&!e.target.closest(".action-menu")&&P(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[E]);const z=async()=>{try{const e=await a(()=>dp.getSubscriptionStatus());c(e)}catch(e){console.error("Failed to load subscription status:",e)}},U=async()=>{try{const e=await a(()=>dp.getCases());o(e||[])}catch(e){console.error("Failed to load cases:",e)}},B=()=>{null!==l&&void 0!==l&&l.isActive?t("/app/patient/cases/create"):Xy.warning("Active subscription required to create cases",{position:"top-center",autoClose:5e3,onClick:()=>t("/app/patient/subscription")})},V=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),H=e=>{C===e?k("asc"===A?"desc":"asc"):(S(e),k("desc"))},W=()=>{let e=[...i];f&&(e=e.filter(e=>{var t,r,a;return(null===(t=e.caseTitle)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))||(null===(a=e.id)||void 0===a?void 0:a.toString().includes(f))})),"all"!==g&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===g.toLowerCase()})),"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.urgencyLevel)||void 0===t?void 0:t.toLowerCase())===b.toLowerCase()})),e.sort((e,t)=>{var r,a;let n=0;switch(C){case"createdAt":default:n=new Date(e.createdAt)-new Date(t.createdAt);break;case"caseTitle":n=(e.caseTitle||"").localeCompare(t.caseTitle||"");break;case"status":n=(e.status||"").localeCompare(t.status||"");break;case"urgencyLevel":const s={critical:4,high:3,medium:2,low:1};n=(s[null===(r=e.urgencyLevel)||void 0===r?void 0:r.toLowerCase()]||0)-(s[null===(a=t.urgencyLevel)||void 0===a?void 0:a.toLowerCase()]||0);break;case"requiredSpecialization":n=(e.requiredSpecialization||"").localeCompare(t.requiredSpecialization||"")}return"asc"===A?n:-n}),u(e)},G=e=>{window.open(e,"_blank")},Y={totalCases:i.length,activeCases:i.filter(e=>["ASSIGNED","ACCEPTED","SCHEDULED","IN_PROGRESS"].includes(e.status)).length,completedCases:i.filter(e=>["COMPLETED","CLOSED"].includes(e.status)).length,upcomingAppointments:0},K=e=>{let{field:t}=e;return C!==t?(0,Xm.jsx)(Fy,{className:"w-4 h-4 text-gray-400"}):"asc"===A?(0,Xm.jsx)(qy,{className:"w-4 h-4 text-primary-600"}):(0,Xm.jsx)(zy,{className:"w-4 h-4 text-primary-600"})},$=e=>(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(_e,{to:"/app/patient/cases/".concat(e.id),children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View"})}),["SUBMITTED","PENDING"].includes(e.status)&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>t("/patient/cases/".concat(e.id,"/edit")),children:"Edit"}),"CONSULTATION_COMPLETE"===e.status&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Ip,{className:"w-4 h-4"}),onClick:()=>X(e),children:"Rate"}),"CLOSED"===e.status&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>G(e.medicalReportFileLink),children:"View Report"}),["SUBMITTED","REJECTED","PENDING"].includes(e.status)&&(0,Xm.jsx)(Zm,{variant:"error",size:"sm",icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>{x(e),p(!0)},children:"Delete"})]}),Q=e=>{const r=E===e.id;return(0,Xm.jsxs)("div",{className:"relative action-menu",children:[(0,Xm.jsx)("button",{onClick:()=>P(r?null:e.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Xm.jsx)(Vy,{className:"w-5 h-5 text-gray-600"})}),r&&(0,Xm.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[(0,Xm.jsxs)(_e,{to:"/app/patient/cases/".concat(e.id),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>P(null),children:[(0,Xm.jsx)(iy,{className:"w-4 h-4 mr-3"}),"View Details"]}),["SUBMITTED","PENDING"].includes(e.status)&&(0,Xm.jsxs)("button",{onClick:()=>{t("/patient/cases/".concat(e.id,"/edit")),P(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)(Uy,{className:"w-4 h-4 mr-3"}),"Edit Case"]}),"CLOSED"===e.status&&(0,Xm.jsxs)("button",{onClick:()=>{G(e.medicalReportFileLink),P(null)},className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4 mr-3"}),"View Report"]}),"CONSULTATION_COMPLETE"===e.status&&(0,Xm.jsxs)("button",{onClick:()=>X(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 mr-3"}),"Rate"]}),["SUBMITTED","REJECTED","PENDING"].includes(e.status)&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Xm.jsxs)("button",{onClick:()=>{x(e),p(!0),P(null)},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Xm.jsx)(By,{className:"w-4 h-4 mr-3"}),"Delete Case"]})]})]})]})},X=e=>{R(e),T(!0)};return(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Medical Cases"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Submit and manage your medical consultation cases"})]}),(0,Xm.jsx)("div",{className:"flex items-center gap-3 mt-4 lg:mt-0",children:null!==l&&void 0!==l&&l.isActive?(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:B,children:"Create New Case"}):(0,Xm.jsxs)("div",{className:"flex items-center gap-2 bg-orange-50 border border-orange-200 px-4 py-2 rounded-lg",children:[(0,Xm.jsx)(hy,{className:"w-4 h-4 text-orange-600"}),(0,Xm.jsx)("span",{className:"text-sm text-orange-800 font-medium",children:"Subscription Required"}),(0,Xm.jsx)(Zm,{size:"sm",variant:"warning",onClick:()=>t("/app/patient/subscription"),children:"Subscribe Now"})]})})]}),!(null!==l&&void 0!==l&&l.isActive)&&(0,Xm.jsx)(My,{className:"bg-orange-50 border-orange-200",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-orange-600 mr-3 mt-0.5 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-orange-900 mb-1",children:"Active Subscription Required"}),(0,Xm.jsx)("p",{className:"text-sm text-orange-800 mb-3",children:"To submit new medical cases and consult with doctors, you need an active subscription."}),(0,Xm.jsx)(Zm,{size:"sm",variant:"warning",onClick:()=>t("/app/patient/subscription"),children:"View Subscription Plans"})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Cases",value:Y.totalCases,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Active Cases",value:Y.activeCases,icon:(0,Xm.jsx)(Ey,{className:"w-6 h-6"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Completed Cases",value:Y.completedCases,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Upcoming Appointments",value:Y.upcomingAppointments,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),changeType:"neutral"})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"space-y-4",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search cases...",value:f,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"submitted",children:"Submitted"}),(0,Xm.jsx)("option",{value:"pending",children:"Pending"}),(0,Xm.jsx)("option",{value:"assigned",children:"Assigned"}),(0,Xm.jsx)("option",{value:"accepted",children:"Accepted"}),(0,Xm.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Xm.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Xm.jsx)("option",{value:"completed",children:"Completed"}),(0,Xm.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Xm.jsx)("option",{value:"closed",children:"Closed"})]}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Urgency"}),(0,Xm.jsx)("option",{value:"low",children:"Low"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-gray-100 rounded-lg",children:[(0,Xm.jsx)("button",{onClick:()=>N("cards"),className:"p-2 rounded transition-colors ".concat("cards"===w?"bg-white shadow-sm text-primary-600":"text-gray-600 hover:text-gray-900"),children:(0,Xm.jsx)(Yp,{className:"w-5 h-5"})}),(0,Xm.jsx)("button",{onClick:()=>N("table"),className:"p-2 rounded transition-colors ".concat("table"===w?"bg-white shadow-sm text-primary-600":"text-gray-600 hover:text-gray-900"),children:(0,Xm.jsx)(Gp,{className:"w-5 h-5"})})]})]})]})})}),"cards"===w&&(0,Xm.jsx)(Xm.Fragment,{children:n?(0,Xm.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):0===i.length?(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No cases yet"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:null!==l&&void 0!==l&&l.isActive?"Start by creating your first medical case":"Subscribe to create and manage your medical cases"}),null!==l&&void 0!==l&&l.isActive?(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:B,children:"Create Your First Case"}):(0,Xm.jsx)(Zm,{variant:"warning",onClick:()=>t("/app/patient/subscription"),children:"View Subscription Plans"})]}):(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"space-y-4",children:0===d.length?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cases found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):d.map(e=>(0,Xm.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.caseTitle}),(0,Xm.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.description})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 ml-4 animate-pulse",children:[(0,Xm.jsx)(sp,{status:e.status,onClick:()=>{return t=e.status,q(t),void L(!0);var t}}),(0,Xm.jsx)(ip,{priority:e.urgencyLevel})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.requiredSpecialization})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:V(e.createdAt)})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["ID: ",e.id]})]})]}),e.assignedDoctor&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:["Assigned to: Dr. ",e.assignedDoctor.name]})]})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:$(e)})]})},e.id))})})}),"table"===w&&(0,Xm.jsx)(Xm.Fragment,{children:n?(0,Xm.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):0===i.length?(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No cases yet"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:null!==l&&void 0!==l&&l.isActive?"Start by creating your first medical case":"Subscribe to create and manage your medical cases"}),null!==l&&void 0!==l&&l.isActive?(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:B,children:"Create Your First Case"}):(0,Xm.jsx)(Zm,{variant:"warning",onClick:()=>t("/app/patient/subscription"),children:"View Subscription Plans"})]}):0===d.length?(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cases found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):(0,Xm.jsxs)(My,{className:"overflow-hidden",children:[(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"w-full",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsxs)("button",{onClick:()=>H("caseTitle"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-primary-600",children:[(0,Xm.jsx)("span",{children:"Case Title"}),(0,Xm.jsx)(K,{field:"caseTitle"})]})}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsxs)("button",{onClick:()=>H("requiredSpecialization"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-primary-600",children:[(0,Xm.jsx)("span",{children:"Specialization"}),(0,Xm.jsx)(K,{field:"requiredSpecialization"})]})}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsxs)("button",{onClick:()=>H("status"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-primary-600",children:[(0,Xm.jsx)("span",{children:"Status"}),(0,Xm.jsx)(K,{field:"status"})]})}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsxs)("button",{onClick:()=>H("urgencyLevel"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-primary-600",children:[(0,Xm.jsx)("span",{children:"Urgency"}),(0,Xm.jsx)(K,{field:"urgencyLevel"})]})}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsxs)("button",{onClick:()=>H("createdAt"),className:"flex items-center space-x-1 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-primary-600",children:[(0,Xm.jsx)("span",{children:"Created Date"}),(0,Xm.jsx)(K,{field:"createdAt"})]})}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-center w-20",children:(0,Xm.jsx)("span",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"max-w-xs",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.caseTitle}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:["ID: ",e.id]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 mr-2 text-gray-400"}),e.requiredSpecialization]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(sp,{status:e.status})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(ip,{priority:e.urgencyLevel})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 mr-2 text-gray-400"}),V(e.createdAt)]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 w-20",children:(0,Xm.jsx)("div",{className:"flex justify-center",children:Q(e)})})]},e.id))})]})}),(0,Xm.jsx)("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:(0,Xm.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,Xm.jsx)("span",{className:"font-medium",children:d.length})," of"," ",(0,Xm.jsx)("span",{className:"font-medium",children:i.length})," cases"]})})]})}),(0,Xm.jsx)(Yy,{isOpen:m,onClose:()=>{p(!1),x(null)},onConfirm:async()=>{if(h)try{await a(()=>dp.deleteCase(h.id)),o(e=>e.filter(e=>e.id!==h.id)),p(!1),x(null)}catch(e){console.error("Failed to delete case:",e)}},title:"Delete Case",message:'Are you sure you want to delete "'.concat(null===h||void 0===h?void 0:h.caseTitle,'"? This action cannot be undone.'),confirmText:"Delete Case",type:"error",isLoading:n}),O&&D&&(0,Xm.jsx)(Jy,{isOpen:O,onClose:()=>{T(!1),R(null)},onSubmit:async e=>{var t;if(null!==D&&void 0!==D&&null!==(t=D.assignedDoctor)&&void 0!==t&&t.id){M(!0);try{await dp.rateDoctor(D.assignedDoctor.id,{caseId:D.id,rating:e}),Xy.success("Rating submitted successfully!","success"),T(!1),R(null),"function"===typeof U&&U()}catch(n){var r,a;console.error("Error submitting rating:",n),Xy.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to submit rating","error")}finally{M(!1)}}else Xy.error("Doctor information not available","error")},doctorName:(null===(e=D.assignedDoctor)||void 0===e?void 0:e.name)||"Doctor",loading:_}),(0,Xm.jsx)(rg,{isOpen:I,onClose:()=>L(!1),currentStatus:F})]})},ng=zm("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),sg=zm("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ig=zm("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),og={getMedicalConfigurations:async e=>await td("/config-service/api/configuration/".concat(e)),getMedicalConfigurationsWithFilters:async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return await td("/config-service/api/configuration/".concat(e,"?").concat(t))},getAllDiseases:async()=>await td("/config-service/api/configuration/diseases"),getDiseasesByCategory:async e=>await td("/config-service/api/configuration/diseases/".concat(e,"/active")),getDiseaseByCode:async e=>await td("/config-service/api/configuration/diseases/code/".concat(e)),searchDiseases:async e=>await td("/config-service/api/configuration/diseases/search?q=".concat(encodeURIComponent(e))),getSpecializationsForDisease:async e=>await td("/config-service/api/configuration/diseases/".concat(e,"/specializations")),getAllSymptoms:async()=>await td("/config-service/api/configuration/symptoms"),getSymptomsByBodySystem:async e=>await td("/config-service/api/configuration/symptoms/system/".concat(e)),searchSymptoms:async e=>await td("/config-service/api/configuration/symptoms/search?q=".concat(encodeURIComponent(e))),getRelatedDiseasesForSymptoms:async e=>{const t=e.map(e=>"symptoms=".concat(e)).join("&");return await td("/config-service/api/configuration/symptoms/related-diseases?".concat(t))},getSymptomsByDisease:async e=>await td("/config-service/api/configuration/diseases/".concat(e,"/symptoms")),getAllMedications:async()=>await td("/config-service/api/configuration/medications"),getMedicationsByCategory:async e=>await td("/config-service/api/configuration/medications/category/".concat(e)),getMedicationByCode:async e=>await td("/config-service/api/configuration/medications/code/".concat(e)),searchMedications:async e=>await td("/config-service/api/configuration/medications/search?q=".concat(encodeURIComponent(e))),getMedicationInteractions:async e=>{const t=e.map(e=>"medications=".concat(e)).join("&");return await td("/config-service/api/configuration/medications/interactions?".concat(t))},getMedicationsForDisease:async e=>await td("/config-service/api/configuration/diseases/".concat(e,"/medications")),getAllSpecializations:async()=>await td("/config-service/api/configuration/specializations"),getSubspecializations:async e=>await td("/config-service/api/configuration/specializations/".concat(e,"/subspecializations")),getSpecializationsByLevel:async e=>await td("/config-service/api/configuration/specializations/level/".concat(e)),searchSpecializations:async e=>await td("/config-service/api/configuration/specializations/search?q=".concat(encodeURIComponent(e))),getAllCaseTypes:async()=>await td("/config-service/api/configuration/case-types"),getAllCountries:async()=>await td("/config-service/api/configuration/COUNTRY"),getStatesByCountry:async e=>await td("/config-service/api/configuration/countries/".concat(e,"/states")),getAllLanguages:async()=>await td("/config-service/api/configuration/languages"),getUrgencyLevels:async()=>await td("/config-service/api/configuration/urgency-levels"),getComplexityLevels:async()=>await td("/config-service/api/configuration/complexity-levels"),globalSearch:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new URLSearchParams({q:e});return t.length>0&&t.forEach(e=>r.append("types",e)),await td("/config-service/api/configuration/search?".concat(r))},getSuggestions:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return await td("/config-service/api/configuration/".concat(e,"/suggestions?q=").concat(encodeURIComponent(t),"&limit=").concat(r))},getAutocomplete:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return await td("/config-service/api/configuration/".concat(e,"/autocomplete?q=").concat(encodeURIComponent(t),"&limit=").concat(r))},validateMedicalCode:async(e,t)=>await td("/config-service/api/configuration/".concat(e,"/validate/").concat(t)),validateMultipleCodes:async(e,t)=>await rd("/config-service/api/configuration/".concat(e,"/validate"),{codes:t}),checkCodeExists:async(e,t)=>await td("/config-service/api/configuration/".concat(e,"/exists/").concat(t)),getParentConfigurations:async(e,t)=>await td("/config-service/api/configuration/".concat(e,"/parent/").concat(t)),getChildConfigurations:async(e,t)=>await td("/config-service/api/configuration/".concat(e,"/children/").concat(t)),getConfigurationHierarchy:async e=>await td("/config-service/api/configuration/".concat(e,"/hierarchy")),getRelatedConfigurations:async(e,t,r)=>await td("/config-service/api/configuration/".concat(e,"/").concat(t,"/related/").concat(r)),getDiseaseSymptomRelationships:async e=>await td("/config-service/api/configuration/relationships/disease-symptoms/".concat(e)),getDiseaseSpecializationRelationships:async e=>await td("/config-service/api/configuration/relationships/disease-specializations/".concat(e)),findCompatibleSpecializations:async e=>{const t=e.map(e=>"symptoms=".concat(e)).join("&");return await td("/config-service/api/configuration/match/specializations?".concat(t))},getRecommendedSpecializations:async e=>await rd("/config-service/api/configuration/match/recommend-specializations",e),findDoctorsByMedicalCriteria:async e=>await rd("/config-service/api/configuration/match/doctors",e),getMultipleConfigurations:async e=>await rd("/config-service/api/configuration/bulk/get",{requests:e}),batchValidateConfigurations:async e=>await rd("/config-service/api/configuration/bulk/validate",{validations:e}),getConfigurationMetadata:async e=>await td("/config-service/api/configuration/".concat(e,"/metadata")),getLastUpdated:async e=>await td("/config-service/api/configuration/".concat(e,"/last-updated")),refreshCache:async e=>await rd("/config-service/api/configuration/".concat(e,"/refresh-cache")),getConfigurationStats:async()=>await td("/config-service/api/configuration/stats"),createConfiguration:async(e,t)=>await rd("/config-service/api/configuration/".concat(e),t),updateConfiguration:async(e,t,r)=>await ad("/config-service/api/configuration/".concat(e,"/").concat(t),r),deleteConfiguration:async(e,t)=>await nd("/config-service/api/configuration/".concat(e,"/").concat(t)),toggleConfigurationStatus:async(e,t)=>await rd("/config-service/api/configuration/".concat(e,"/").concat(t,"/toggle-status")),bulkUpdateConfigurations:async(e,t)=>await rd("/config-service/api/configuration/".concat(e,"/bulk-update"),{updates:t}),importConfigurations:async(e,t)=>{const r=new FormData;return r.append("file",t),await sd("/config-service/api/configuration/".concat(e,"/import"),r)},exportConfigurations:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URLSearchParams((0,ot.A)({format:t},r));return await id("/config-service/api/configuration/".concat(e,"/export?").concat(a),"".concat(e,"_export.").concat(t))},_fallbackGetDiseases:async()=>await td("/admin-service/api/admin/config/diseases"),_fallbackGetMedications:async()=>await td("/admin-service/api/admin/config/medications"),_fallbackGetSymptoms:async()=>await td("/admin-service/api/admin/config/symptoms"),_fallbackGetSpecializations:async()=>await td("/admin-service/api/admin/config/specializations"),getDiseases:async()=>{try{return await og.getAllDiseases()}catch(e){return console.warn("Common service unavailable, falling back to admin service for diseases"),await og._fallbackGetDiseases()}},getMedications:async()=>{try{return await og.getAllMedications()}catch(e){return console.warn("Common service unavailable, falling back to admin service for medications"),await og._fallbackGetMedications()}},getSymptoms:async()=>{try{return await og.getAllSymptoms()}catch(e){return console.warn("Common service unavailable, falling back to admin service for symptoms"),await og._fallbackGetSymptoms()}},getSpecializations:async()=>{try{return await og.getAllSpecializations()}catch(e){return console.warn("Common service unavailable, falling back to admin service for specializations"),await og._fallbackGetSpecializations()}}},lg=og,cg=zm("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),dg=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ug=e=>{if(!e)return"N/A";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},mg=()=>{var e,t;const{caseId:r}=ae(),a=te(),{user:n}=Jd(),{execute:i,loading:o}=Iy(),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)(0),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)("overview"),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)(!1),[E,P]=(0,s.useState)([]),[O,T]=(0,s.useState)([]),[D,R]=(0,s.useState)(""),[_,M]=(0,s.useState)([]),[I,L]=(0,s.useState)(!1),F={"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"image/bmp":[".bmp"],"image/webp":[".webp"]};(0,s.useEffect)(()=>{r&&(q(),z())},[r]);const q=async()=>{try{const e=await i(()=>dp.getCaseById(r));c(e),M(e.currentMedicationCodes||[])}catch(e){console.error("Failed to load case details:",e)}},z=async()=>{try{const e=await i(()=>lg.getMedicalConfigurations("medications")),t=[...new Set((e||[]).map(e=>e.category).filter(Boolean))].sort();P(t)}catch(e){console.error("Failed to load medication categories:",e)}},U=e=>{R(e),e?(async e=>{try{const t=await i(()=>lg.getMedicationsByCategory(e));T(t||[])}catch(t){console.error("Failed to load medications for category:",e,t),T([])}})(e):T([])},B=()=>{k(!0),M(l.currentMedicationCodes||[])};return o&&!l?(0,Xm.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Xm.jsx)("div",{className:"text-center py-12",children:(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading case details..."})})}):l?(0,Xm.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[(0,Xm.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>a(-1),children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Case #",l.id]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Created on ",dg(l.createdAt)]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-500",children:"Current Status:"}),(0,Xm.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full font-medium",children:l.status})]}),(0,Xm.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-800 transition-colors",children:[(0,Xm.jsx)(cg,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Where am I in the process?"})]})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(ip,{priority:l.urgencyLevel})})]})}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:iy},{id:"medical",name:"Medical Details",icon:Op},{id:"documents",name:"Documents",icon:gp},{id:"timeline",name:"Timeline",icon:Qp}].map(e=>{const t=e.icon;return(0,Xm.jsxs)("button",{onClick:()=>v(e.id),className:"".concat(g===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,Xm.jsx)(t,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.name})]},e.id)})})}),(0,Xm.jsxs)("div",{className:"p-6",children:["overview"===g&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xm.jsx)(My,{title:"Case Overview",children:(0,Xm.jsx)("div",{className:"space-y-4",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l.caseTitle}),(0,Xm.jsx)("p",{className:"text-gray-700",children:l.description})]})})}),(0,Xm.jsxs)(My,{title:"Medical Summary",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Primary Disease"]}),(0,Xm.jsx)(lp,{variant:"error",children:l.primaryDiseaseCode||"Not specified"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 mr-2"}),"Specialization Required"]}),(0,Xm.jsx)(lp,{variant:"primary",children:l.requiredSpecialization||"Not specified"})]})]}),l.secondaryDiseaseCodes&&l.secondaryDiseaseCodes.length>0&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Secondary Diseases"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:l.secondaryDiseaseCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"warning",children:e},t))})]}),l.secondarySpecializations&&l.secondarySpecializations.length>0&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Specializations"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:l.secondarySpecializations.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t))})]})]})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Xm.jsx)(My,{title:"Case Information",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Case ID"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["#",l.id]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,Xm.jsx)(sp,{status:l.status})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Urgency"}),(0,Xm.jsx)(ip,{priority:l.urgencyLevel})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:dg(l.createdAt)})]}),l.acceptedAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Accepted"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:dg(l.acceptedAt)})]}),l.scheduledAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Scheduled"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:dg(l.scheduledAt)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Status"}),(0,Xm.jsx)(lp,{variant:"COMPLETED"===l.paymentStatus?"success":"warning",children:l.paymentStatus})]}),l.consultationFee&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Fee"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["$",l.consultationFee]})]})]})}),(0,Xm.jsx)(My,{title:"Actions",children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),fullWidth:!0,disabled:!["SUBMITTED","PENDING"].includes(l.status),onClick:()=>a("/app/patient/cases/".concat(r,"/edit")),children:"Edit Case"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(ng,{className:"w-4 h-4"}),fullWidth:!0,disabled:["CLOSED","CONSULTATION_COMPLETE"].includes(l.status),onClick:()=>u(!0),children:"Add Documents"}),(0,Xm.jsxs)(Zm,{variant:"outline",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),fullWidth:!0,onClick:()=>v("documents"),children:["View Documents (",(null===(e=l.documents)||void 0===e?void 0:e.length)||0,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),fullWidth:!0,disabled:!["CLOSED"].includes(l.status),onClick:()=>{return e=l.medicalReportFileLink,void window.open(e,"_blank");var e},children:"View Medical Report"}),"CONSULTATION_COMPLETE"===l.status&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",icon:(0,Xm.jsx)(Ip,{className:"w-4 h-4"}),onClick:()=>j(!0),children:"Rate Doctor"})]})})]})]}),"medical"===g&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Diseases & Conditions",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Disease"}),(0,Xm.jsx)(lp,{variant:"error",size:"lg",children:l.primaryDiseaseCode})]}),l.secondaryDiseaseCodes&&l.secondaryDiseaseCodes.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Secondary Diseases"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:l.secondaryDiseaseCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"warning",children:e},t))})]})]})}),(0,Xm.jsx)(My,{title:"Symptoms",children:(0,Xm.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:l.symptomCodes&&l.symptomCodes.length>0?l.symptomCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t)):(0,Xm.jsx)("p",{className:"text-gray-500 col-span-full",children:"No symptoms recorded"})})}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Current Medications"}),A?(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),onClick:()=>{k(!1),M(l.currentMedicationCodes||[]),R(""),T([])},disabled:I,children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),onClick:async()=>{L(!0);try{const e={caseTitle:l.caseTitle,description:l.description,primaryDiseaseCode:l.primaryDiseaseCode,secondaryDiseaseCodes:l.secondaryDiseaseCodes||[],symptomCodes:l.symptomCodes||[],currentMedicationCodes:_,requiredSpecialization:l.requiredSpecialization,secondarySpecializations:l.secondarySpecializations||[],urgencyLevel:l.urgencyLevel,complexity:l.complexity};await i(()=>dp.updateCase(r,e)),c(e=>(0,ot.A)((0,ot.A)({},e),{},{currentMedicationCodes:_})),k(!1),R(""),T([]),alert("Medications updated successfully!")}catch(e){console.error("Failed to update medications:",e),alert("Failed to update medications. Please try again.")}finally{L(!1)}},loading:I,disabled:I,children:"Save"})]}):(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:B,disabled:!["SUBMITTED","PENDING"].includes(l.status),children:"Edit Medications"})]}),A?(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Category"}),(0,Xm.jsxs)("select",{value:D,onChange:e=>U(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select medication category"}),E.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Medications (max 15)"}),(0,Xm.jsx)("select",{multiple:!0,value:_,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=15&&M(t)},disabled:!D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[120px] ".concat(D?"":"bg-gray-100 cursor-not-allowed"),children:O.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.atcCode,children:[e.name," - ",e.genericName," (",e.atcCode,")"]},e.atcCode))}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:D?"Hold Ctrl/Cmd to select multiple. Selected: ".concat(_.length,"/15"):"Select a category first to see medications"})]})]}),_.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["Selected Medications (",_.length,")"]}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map((e,t)=>(0,Xm.jsxs)(lp,{variant:"success",children:[e,(0,Xm.jsx)("button",{onClick:()=>{M(t=>t.filter(t=>t!==e))},className:"ml-2 text-green-700 hover:text-green-900",children:(0,Xm.jsx)(Tp,{className:"w-3 h-3"})})]},t))})]})]}):(0,Xm.jsx)("div",{className:"space-y-2",children:l.currentMedicationCodes&&l.currentMedicationCodes.length>0?l.currentMedicationCodes.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[(0,Xm.jsx)(ig,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsx)(lp,{variant:"success",children:e})]},t)):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(ig,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500 mb-4",children:"No current medications recorded"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:B,disabled:!["SUBMITTED","PENDING"].includes(l.status),children:"Add Medications"})]})})]}),(0,Xm.jsx)(My,{title:"Required Specializations",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Specialization"}),(0,Xm.jsx)(lp,{variant:"primary",size:"lg",children:l.requiredSpecialization})]}),l.secondarySpecializations&&l.secondarySpecializations.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Specializations"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:l.secondarySpecializations.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t))})]})]})})]}),"documents"===g&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Case Documents (",(null===(t=l.documents)||void 0===t?void 0:t.length)||0,")"]}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>u(!0),children:"Add Documents"})]}),l.documents&&l.documents.length>0?(0,Xm.jsx)("div",{className:"grid grid-cols-1 gap-4",children:l.documents.map(e=>(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0",children:(0,Xm.jsx)(gp,{className:"w-8 h-8 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.fileName}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Xm.jsxs)("p",{children:["Type: ",e.documentType]}),(0,Xm.jsxs)("p",{children:["Size: ",ug(e.originalFileSize)]}),(0,Xm.jsxs)("p",{children:["Uploaded: ",dg(e.createdAt)]}),(0,Xm.jsxs)("p",{children:["Format: ",e.mimeType]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[e.isEncrypted&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:"Encrypted"}),e.isCompressed&&(0,Xm.jsx)(lp,{variant:"info",size:"sm",children:"Compressed"})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{await dp.viewCaseDocument(r,e.id)}catch(t){console.error("Failed to view document:",t),alert("Failed to view document. Please try again.")}})(e),children:"View"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{await dp.downloadCaseDocument(r,e.id,e.fileName)}catch(t){console.error("Failed to download document:",t),alert("Failed to download document. Please try again.")}})(e),children:"Download"})]})]})},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Documents"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"No documents have been uploaded for this case yet."}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>u(!0),children:"Add First Document"})]})]}),"timeline"===g&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)(My,{title:"Case Timeline",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Created"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:dg(l.createdAt)})]})]}),l.acceptedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Accepted"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:dg(l.acceptedAt)})]})]}),l.scheduledAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Consultation Scheduled"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:dg(l.scheduledAt)})]})]}),l.paymentCompletedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Payment Completed"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:dg(l.paymentCompletedAt)})]})]}),l.closedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-gray-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Closed"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:dg(l.closedAt)})]})]}),l.rejectionReason&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-red-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-red-600",children:"Case Rejected"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Reason: ",l.rejectionReason]})]})]})]})})})]})]}),(0,Xm.jsx)($y,{isOpen:d,onClose:()=>{u(!1),p([])},title:"Add Documents",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Files"}),(0,Xm.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.gif,.bmp,.webp",onChange:e=>{const t=Array.from(e.target.files),r=[];t.forEach(e=>{if(e.size>10485760)return void alert("File ".concat(e.name," exceeds 10MB limit"));Object.keys(F).includes(e.type)?r.push(e):alert("File ".concat(e.name," has invalid type. Only PDF and images are allowed."))}),p(r)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max 10MB per file. Supported formats: PDF, JPG, PNG, GIF, BMP, WebP"})]}),m.length>0&&(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900",children:["Selected Files (",m.length,")"]}),m.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[ug(e.size)," \u2022 ",e.type]})]})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>{p(e=>e.filter((e,r)=>r!==t))},children:"Remove"})]},t))]}),f&&(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,Xm.jsx)("span",{children:"Uploading..."}),(0,Xm.jsxs)("span",{children:[h,"%"]})]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Xm.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(h,"%")}})})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{u(!1),p([])},disabled:f,children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",onClick:async()=>{if(0!==m.length){y(!0),x(0);try{await i(()=>dp.updateCaseAttachments(r,m,e=>{x(Math.round(100*e.loaded/e.total))})),await q(),p([]),u(!1),alert("Documents uploaded successfully!")}catch(e){console.error("Failed to upload documents:",e),alert("Failed to upload documents. Please try again.")}finally{y(!1),x(0)}}},disabled:0===m.length||f,loading:f,icon:(0,Xm.jsx)(ng,{className:"w-4 h-4"}),children:"Upload Documents"})]})]})}),b&&(0,Xm.jsx)(Jy,{isOpen:b,onClose:()=>j(!1),onSubmit:async e=>{var t;if(null!==(t=l.doctorId)&&void 0!==t&&t.id){N(!0);try{await dp.rateDoctor(l.doctorId.id,{caseId:l.id,rating:e}),Ft.success("Rating submitted successfully!","success"),j(!1),"function"===typeof q&&q()}catch(n){var r,a;console.error("Error submitting rating:",n),Ft.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to submit rating","error")}finally{N(!1)}}else Ft.error("Doctor information not available","error")},doctorName:l.assignedDoctor.name,loading:w}),(0,Xm.jsx)(rg,{isOpen:C,onClose:()=>S(!1),currentStatus:l.status})]}):(0,Xm.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(wp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Case Not Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested case could not be found."}),(0,Xm.jsx)(Zm,{onClick:()=>a(-1),icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),children:"Go Back"})]})})},pg=zm("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),hg=zm("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),xg=ey({reason:zf().required("Reason is required"),preferredDates:ry().min(1,"At least one preferred date is required"),additionalNotes:zf()}),fg=()=>{var e,t;te();const{user:r}=Jd(),{execute:a,loading:n}=Iy(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)("all"),[C,S]=(0,s.useState)(null),[A,k]=(0,s.useState)([]),[E,P]=(0,s.useState)(""),[O,T]=(0,s.useState)([]),[D,R]=(0,s.useState)("list"),[_,M]=(0,s.useState)(new Date),[I,L]=(0,s.useState)("scheduled"),[F,q]=(0,s.useState)([""]),[z,U]=(0,s.useState)([]),[B,V]=(0,s.useState)(!1),H=Tx({resolver:Lx(xg),defaultValues:{reason:"",preferredDates:[""],additionalNotes:""}});(0,s.useEffect)(()=>{W(),G(),Y()},[]),(0,s.useEffect)(()=>{K()},[i,g,b,w]);const W=async()=>{try{const e=await a(()=>dp.getAppointments());o(e||[]);const t=new Date,r=(null===e||void 0===e?void 0:e.filter(e=>{var r;return new Date(e.scheduledTime)>t&&["scheduled","confirmed","payment_pending"].includes(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())}).slice(0,3))||[];T(r)}catch(e){console.error("Failed to load appointments:",e)}},G=async()=>{try{const e=await a(()=>lg.getMedicalConfigurations("PAYMENTMETHOD"));k(e||[])}catch(e){console.error("Failed to load payment methods:",e)}},Y=async()=>{try{const e=await a(()=>dp.getPendingRescheduleRequests());U(e||[])}catch(e){console.error("Failed to load reschedule requests:",e)}},K=()=>{let e=[...i];if(g&&(e=e.filter(e=>{var t,r,a,n;return(null===(t=e.doctor)||void 0===t||null===(r=t.fullName)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))||(null===(a=e.caseId)||void 0===a?void 0:a.toString().includes(g))||(null===(n=e.status)||void 0===n?void 0:n.toLowerCase().includes(g.toLowerCase()))})),"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===b})),"all"!==w){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.filter(e=>{const t=new Date(e.scheduledTime),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(w){case"today":return a.getTime()===r.getTime();case"tomorrow":const e=new Date(r);return e.setDate(e.getDate()+1),a.getTime()===e.getTime();case"week":const t=new Date(r);return t.setDate(t.getDate()+7),a>=r&&a<=t;case"month":const n=new Date(r);return n.setDate(n.getDate()+30),a>=r&&a<=n;case"past":return a<r;default:return!0}})}e.sort((e,t)=>new Date(t.scheduledTime)-new Date(e.scheduledTime)),c(e)},$=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Q=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"video":default:return(0,Xm.jsx)(Hp,{className:"w-4 h-4"});case"phone":return(0,Xm.jsx)(gy,{className:"w-4 h-4"});case"whatsapp":return(0,Xm.jsx)(Km,{className:"w-4 h-4"})}},J=e=>{var t;const r=new Date,a=new Date(e.scheduledTime)-r;return"confirmed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())&&a<=9e5&&a>=-18e5},Z=e=>{M(t=>{const r=new Date(t);return r.setDate(t.getDate()+7*e),r})},ee=e=>(console.log("Called for appointment: "+e),console.log("Result: "+z.some(t=>t.appointmentId===e)),z.some(t=>t.appointmentId===e)),re=(()=>{const e=i.length,t=i.filter(e=>{var t;return new Date(e.scheduledTime)>new Date&&!["cancelled","completed"].includes(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length,r=i.filter(e=>{var t;return"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length,a=i.filter(e=>{var t;return"cancelled"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length;return{total:e,upcoming:t,completed:r,cancelled:a}})(),ae=[{id:"scheduled",label:"Scheduled / Rescheduled",statuses:["scheduled","rescheduled"]},{id:"confirmed",label:"Confirmed",statuses:["confirmed","payment_pending","in_progress"]},{id:"completed",label:"Completed",statuses:["completed"]},{id:"cancelled",label:"Cancelled / No Show",statuses:["cancelled","no_show"]}],ne=(()=>{const e=ae.find(e=>e.id===I);return e?l.filter(t=>{var r;return e.statuses.includes(null===(r=t.status)||void 0===r?void 0:r.toLowerCase())}):l})(),se=()=>{const e=(e=>{const t=[],r=new Date(e),a=r.getDay();r.setDate(r.getDate()-a);for(let n=0;n<7;n++){const e=new Date(r);e.setDate(r.getDate()+n),t.push(e)}return t})(_),t=(new Date).toDateString();return(0,Xm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>Z(-1),icon:(0,Xm.jsx)(Xp,{className:"w-4 h-4"})}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:_.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>Z(1),icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-7 gap-2",children:e.map((e,r)=>{const a=(e=>{const t=e.toDateString();return l.filter(e=>new Date(e.scheduledTime).toDateString()===t)})(e),n=e.toDateString()===t;return(0,Xm.jsxs)("div",{className:"text-center p-2 rounded-lg border transition-colors ".concat(n?"bg-blue-50 border-blue-200":a.length>0?"bg-primary-50 border-primary-200":"border-gray-100 hover:bg-gray-50"),children:[(0,Xm.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r]}),(0,Xm.jsx)("div",{className:"text-lg font-medium mb-1 ".concat(n?"text-blue-600":"text-gray-900"),children:e.getDate()}),(0,Xm.jsxs)("div",{className:"flex justify-center space-x-1",children:[a.slice(0,3).map((e,t)=>{var r,a,n;return(0,Xm.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("completed"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())?"bg-green-500":"cancelled"===(null===(a=e.status)||void 0===a?void 0:a.toLowerCase())?"bg-red-500":"bg-primary-500"),title:"".concat(null===(n=e.doctor)||void 0===n?void 0:n.fullName," - ").concat($(e.scheduledTime))},t)}),a.length>3&&(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["+",a.length-3]})]})]},r)})}),l.filter(t=>{const r=new Date(t.scheduledTime);return e.some(e=>e.toDateString()===r.toDateString())}).length>0&&(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"This Week's Appointments"}),(0,Xm.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:l.filter(t=>{const r=new Date(t.scheduledTime);return e.some(e=>e.toDateString()===r.toDateString())}).map(e=>{var t,r;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("div",{className:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center",children:X(e.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Dr. ",null===(t=e.doctor)||void 0===t?void 0:t.fullName]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:Q(e.scheduledTime)})]})]}),"SCHEDULED"===(null===(r=e.status)||void 0===r?void 0:r.toUpperCase())&&ee(e.id)&&(0,Xm.jsxs)(lp,{variant:"purple",size:"sm",className:"bg-purple-100 text-purple-800",children:[(0,Xm.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Reschedule Request"]}),(0,Xm.jsx)(sp,{status:e.status,size:"xs"})]},e.id)})})]})]})};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Appointments"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View and manage your scheduled consultations"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:W,children:"Refresh"}),(0,Xm.jsx)(_e,{to:"/app/patient/cases",children:(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),children:"Schedule New"})})]})]})})})}),(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(Ry,{title:"Total Appointments",value:re.total,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-blue-50 to-blue-100"}),(0,Xm.jsx)(Ry,{title:"Upcoming",value:re.upcoming,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-green-50 to-green-100"}),(0,Xm.jsx)(Ry,{title:"Completed",value:re.completed,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-purple-50 to-purple-100"}),(0,Xm.jsx)(Ry,{title:"Cancelled",value:re.cancelled,icon:(0,Xm.jsx)(eg,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-red-50 to-red-100"})]}),O.length>0&&(0,Xm.jsx)(_y,{type:"info",title:"Upcoming Appointments",message:"You have ".concat(O.length," upcoming appointments in the next few days."),className:"mb-6",children:(0,Xm.jsx)("div",{className:"mt-4 space-y-2",children:O.map(e=>{var t;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded border",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:X(e.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["Doctor: ",null===(t=e.doctor)||void 0===t?void 0:t.fullName]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:Q(e.scheduledTime)})]})]}),(0,Xm.jsx)(sp,{status:e.status,size:"sm"})]},e.id)})})}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search appointments...",value:g,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),z.length>0&&(0,Xm.jsxs)(Zm,{variant:"outline",className:"relative",onClick:()=>V(!0),children:[(0,Xm.jsx)(Vm,{className:"w-5 h-5 mr-2"}),"Reschedule Requests",(0,Xm.jsx)(lp,{variant:"danger",size:"sm",className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:z.length})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)($p,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Xm.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Xm.jsx)("option",{value:"payment_pending",children:"Payment Pending"}),(0,Xm.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Xm.jsx)("option",{value:"completed",children:"Completed"}),(0,Xm.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Xm.jsx)("option",{value:"rescheduled",children:"Rescheduled"})]}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"all",children:"All Dates"}),(0,Xm.jsx)("option",{value:"today",children:"Today"}),(0,Xm.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),(0,Xm.jsx)("option",{value:"week",children:"Next 7 Days"}),(0,Xm.jsx)("option",{value:"month",children:"Next 30 Days"}),(0,Xm.jsx)("option",{value:"past",children:"Past Appointments"})]}),(0,Xm.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Xm.jsx)(Zm,{variant:"list"===D?"primary":"ghost",size:"sm",onClick:()=>R("list"),icon:(0,Xm.jsx)(Yp,{className:"w-4 h-4"}),className:"text-xs",children:"List"}),(0,Xm.jsx)(Zm,{variant:"calendar"===D?"primary":"ghost",size:"sm",onClick:()=>R("calendar"),icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),className:"text-xs",children:"Week"})]}),(g||"all"!==b||"all"!==w)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{v(""),j("all"),N("all")},children:"Clear"})]})]})})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"p-6",children:n?(0,Xm.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):l.length>0?"calendar"===D?(0,Xm.jsx)(se,{}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:ae.map(e=>{const t=(e=>{const t=ae.find(t=>t.id===e);return t?l.filter(e=>{var r;return t.statuses.includes(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())}).length:0})(e.id),r=I===e.id;return(0,Xm.jsxs)("button",{onClick:()=>L(e.id),className:"\n                              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2\n                              ".concat(r?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                            "),children:[(0,Xm.jsx)("span",{children:e.label}),(0,Xm.jsx)("span",{className:"\n                                inline-flex items-center justify-center px-2 py-0.5 rounded-full text-xs font-medium\n                                ".concat(r?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600","\n                              "),children:t})]},e.id)})})}),ne.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:ne.map(e=>{var t,r,a,n,s,i,o,l,c,d,m,h,x,f;return(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow duration-200",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:X(e.consultationType)}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Doctor: ",null===(t=e.doctor)||void 0===t?void 0:t.fullName]}),(0,Xm.jsx)(sp,{status:e.status}),"SCHEDULED"===(null===(r=e.status)||void 0===r?void 0:r.toUpperCase())&&ee(e.id)&&(0,Xm.jsxs)(lp,{variant:"purple",size:"sm",className:"bg-purple-100 text-purple-800",children:[(0,Xm.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Reschedule Request"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(bp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:(f=e.scheduledTime,new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]}),(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Qp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:$(e.scheduledTime)})]}),(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Ip,{className:"w-3 h-3 text-yellow-400"}),(0,Xm.jsx)("span",{children:(null===(a=e.doctor)||void 0===a?void 0:a.rating)||"N/A"})]})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Cp,{className:"w-4 h-4 text-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm font-bold text-primary-600 bg-primary-50 px-2 py-1 rounded",children:e.consultationFee||(null===(n=e.doctor)||void 0===n?void 0:n.caseRate)||"N/A"}),(0,Xm.jsx)(gp,{className:"w-4 h-4 text-primary-500 ml-2"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:["Case #",e.caseId]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-green-500"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:[e.duration||30," minutes"]})]})]}),C===e.id&&(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Doctor Information"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Specialization:"})," ",(null===(s=e.doctor)||void 0===s?void 0:s.primarySpecialization)||(null===(i=e.doctor)||void 0===i?void 0:i.specialization)||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Experience:"})," ",(null===(o=e.doctor)||void 0===o?void 0:o.yearsOfExperience)||(null===(l=e.doctor)||void 0===l?void 0:l.experience)||"N/A"," years"]}),(null===(c=e.doctor)||void 0===c?void 0:c.languages)&&e.doctor.languages.length>0&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Languages:"})," ",Array.isArray(e.doctor.languages)?e.doctor.languages.map(e=>({EN:"English",ES:"Spanish",FR:"French",DE:"German",AR:"Arabic",ZH:"Chinese"}[e]||e)).join(", "):e.doctor.languages]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:["Type: ",e.consultationType]}),(0,Xm.jsxs)("p",{children:["Created: ",Q(e.createdAt)]}),e.rescheduleCount>0&&(0,Xm.jsxs)("p",{children:["Rescheduled: ",e.rescheduleCount," times"]})]})]})]}),e.notes&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.notes})]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[J(e)&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(hg,{className:"w-4 h-4"}),onClick:()=>window.open(e.meetingLink,"_blank"),className:"animate-pulse",children:"Join Now"}),("scheduled"===(null===(d=e.status)||void 0===d?void 0:d.toLowerCase())||"rescheduled"===(null===(m=e.status)||void 0===m?void 0:m.toLowerCase()))&&(0,Xm.jsx)("div",{className:"flex space-x-2",children:(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Ym,{className:"w-4 h-4"}),onClick:()=>(async e=>{u(e),y(!0)})(e),children:"Pay & Accept"})}),"payment_pending"===(null===(h=e.status)||void 0===h?void 0:h.toLowerCase())&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Ym,{className:"w-4 h-4"}),onClick:()=>{u(e),y(!0)},children:"Pay Now"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[["scheduled"].includes(null===(x=e.status)||void 0===x?void 0:x.toLowerCase())&&!ee(e.id)&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>{u(e),p(!0)},children:"Reschedule"}),(0,Xm.jsx)(_e,{to:"/app/patient/cases/".concat(e.caseId),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View Case"})}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:C===e.id?(0,Xm.jsx)(tg,{className:"w-4 h-4"}):(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),onClick:()=>S(C===e.id?null:e.id),children:C===e.id?"Less":"More"})]})]})]})})},e.id)})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments in this category"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["There are no ",null===(e=ae.find(e=>e.id===I))||void 0===e?void 0:e.label.toLowerCase()," appointments."]})]})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:g||"all"!==b||"all"!==w?"No appointments found":"No appointments yet"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:g||"all"!==b||"all"!==w?"Try adjusting your search or filters":"Schedule your first consultation by submitting a case"}),!(g||"all"!==b||"all"!==w)&&(0,Xm.jsx)(_e,{to:"/app/patient/cases",children:(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),children:"Schedule Your First Appointment"})})]})})})]}),(0,Xm.jsx)(Ky,{isOpen:m,onClose:()=>{p(!1),u(null),q([""]),H.reset()},title:"Request Appointment Reschedule",onSubmit:H.handleSubmit(async e=>{try{const t={reason:e.reason,preferredTimes:e.preferredDates.filter(e=>""!==e),additionalNotes:e.additionalNotes||"",appointmentId:d.id};await a(()=>dp.requestReschedule(d.caseId,t)),await W(),await Y(),p(!1),u(null),H.reset()}catch(t){console.error("Failed to request reschedule:",t)}}),loading:n,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rescheduling *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},H.register("reason")),{},{rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Please provide a reason for rescheduling..."})),H.formState.errors.reason&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:H.formState.errors.reason.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date/Time Options *"}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[null===(t=H.watch("preferredDates"))||void 0===t?void 0:t.map((e,t)=>{var r;return(0,Xm.jsxs)("div",{className:"flex gap-2",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"datetime-local"},H.register("preferredDates.".concat(t),{required:0===t&&"At least one date is required"})),{},{min:(new Date).toISOString().slice(0,16),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),(null===(r=H.watch("preferredDates"))||void 0===r?void 0:r.length)>1&&(0,Xm.jsx)(Zm,{type:"button",variant:"danger",size:"sm",onClick:()=>{const e=H.getValues("preferredDates")||[];H.setValue("preferredDates",e.filter((e,r)=>r!==t))},children:(0,Xm.jsx)(Tp,{className:"w-4 h-4"})})]},t)}),H.formState.errors.preferredDates&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:H.formState.errors.preferredDates.message})]}),(H.watch("preferredDates")||[]).length<5&&(0,Xm.jsxs)(Zm,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=H.getValues("preferredDates")||[];H.setValue("preferredDates",[...e,""])},className:"mt-2",children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-1"}),"Add Another Time Option"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},H.register("additionalNotes")),{},{rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Any additional information..."}))]})]})}),(0,Xm.jsx)($y,{isOpen:B,onClose:()=>V(!1),title:"Pending Reschedule Requests",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[0===z.length?(0,Xm.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No pending reschedule requests"}):z.filter(e=>"PENDING"===e.status).map(e=>{const t=e.preferredTimes?e.preferredTimes.split(",").map(e=>e.trim()):[];return(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("h4",{className:"font-semibold",children:["Reschedule Request for Appointment #",e.appointmentId]}),(0,Xm.jsx)(sp,{status:e.status,className:"bg-yellow-100 text-yellow-800"})]}),(0,Xm.jsxs)("div",{className:"text-sm space-y-1 text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Case ID:"})," ",e.caseId]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Requested By:"})," ",e.requestedBy]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Request Date:"})," ",Q(e.createdAt)]}),e.reason&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Reason:"})," ",e.reason]})]}),t.length>0&&(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"Your Preferred Times:"}),(0,Xm.jsx)("ul",{className:"space-y-1",children:t.map((e,t)=>(0,Xm.jsxs)("li",{className:"text-blue-700 text-sm",children:["\u2022 ",Q(e)]},t))})]}),(0,Xm.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,Xm.jsxs)("p",{className:"text-gray-600 text-sm",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Status:"})," Awaiting doctor's response"]})})]})},e.id)}),z.length>0&&0===z.filter(e=>"PENDING"===e.status).length&&(0,Xm.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No pending reschedule requests"})]})}),h&&(0,Xm.jsx)(Yy,{title:"Decline Appointment",message:"Are you sure you want to decline this appointment? This action cannot be undone.",isOpen:h,onClose:()=>{x(!1),u(null)},onConfirm:async()=>{try{await a(()=>dp.declineAppointment(d.id)),await W(),x(!1),u(null)}catch(e){console.error("Failed to decline appointment:",e)}},confirmText:"Yes, Decline",cancelText:"Cancel",loading:n,type:"danger"}),f&&d&&(0,Xm.jsx)(Ky,{title:"Complete Payment",isOpen:f,onClose:()=>{y(!1),u(null),P("")},onSubmit:async()=>{if(d&&E)try{await a(()=>{var e,t;return dp.payConsultationFee({patientId:r.id,doctorId:(null===(e=d.doctor)||void 0===e?void 0:e.id)||d.doctor.userId,caseId:d.caseId,paymentType:"CONSULTATION",amount:d.consultationFee||(null===(t=d.doctor)||void 0===t?void 0:t.caseRate),paymentMethod:E})}),await W(),y(!1),u(null),P(""),alert("Payment processed successfully! Appointment confirmed.")}catch(e){console.error("Failed to process payment and accept appointment:",e),alert("Payment failed. Please try again.")}},loading:n,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Summary"}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Consultation Fee:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["$",d.consultationFee]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),(0,Xm.jsxs)("select",{value:E,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select payment method"}),A.map(e=>(0,Xm.jsx)("option",{value:e.name,children:e.name},e.code))]}),!E&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Please select a payment method"})]})]})})]})},yg=zm("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),gg=zm("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),vg=zm("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),bg=zm("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),jg=zm("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),wg=zm("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Ng=zm("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Cg=zm("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Sg=zm("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ag=ey({rating:Bf().required("Rating is required").min(1).max(5),feedback:zf().required("Feedback is required"),recommendation:Pf()}),kg=()=>{var e,t,r,a,n,i,o,l,c,d,u,m,p,h,x,f,y,g,v,b,j,w,N,C,S,A,k;const{appointmentId:E}=ae(),P=te(),{user:O}=Jd(),{execute:T,loading:D}=Iy(),[R,_]=(0,s.useState)(null),[M,I]=(0,s.useState)(null),[L,F]=(0,s.useState)(!1),[q,z]=(0,s.useState)(!1),[U,B]=(0,s.useState)(!1),[V,H]=(0,s.useState)(!1),[W,G]=(0,s.useState)("overview"),[Y,K]=(0,s.useState)(!1),[$,Q]=(0,s.useState)(new Date),X=Tx({resolver:Lx(Ag),defaultValues:{rating:5,feedback:"",recommendation:!0}});(0,s.useEffect)(()=>{const e=setInterval(()=>{Q(new Date)},6e4);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{E&&J()},[E]);const J=async()=>{try{const e=await T(()=>dp.getAppointmentById(E));if(_(e),e.consultationReportId){const t=await T(()=>dp.getConsultationReportById(e.consultationReportId));I(t)}}catch(e){console.error("Failed to load appointment details:",e)}},Z=async()=>{K(!0);try{await T(()=>dp.joinAppointment(E)),R.meetingLink&&window.open(R.meetingLink,"_blank")}catch(e){console.error("Failed to join meeting:",e)}finally{K(!1)}},ee=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),re=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),ne=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),se=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"video":default:return(0,Xm.jsx)(Hp,{className:"w-5 h-5"});case"phone":return(0,Xm.jsx)(gy,{className:"w-5 h-5"});case"whatsapp":return(0,Xm.jsx)(Km,{className:"w-5 h-5"})}},ie=()=>{var e;if(!R)return!1;const t=new Date(R.scheduledTime)-$;return"confirmed"===(null===(e=R.status)||void 0===e?void 0:e.toLowerCase())&&t<=9e5&&t>=-18e5},oe=()=>{if(!R)return"";const e=new Date(R.scheduledTime)-$;if(e<=0)return"Started";const t=Math.floor(e/864e5),r=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4);return t>0?"".concat(t,"d ").concat(r,"h"):r>0?"".concat(r,"h ").concat(a,"m"):"".concat(a,"m")},le=[{id:"overview",label:"Overview",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"})},{id:"case",label:"Case Details",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"})},{id:"doctor",label:"Doctor Info",icon:(0,Xm.jsx)(Wm,{className:"w-4 h-4"})},{id:"report",label:"Report",icon:(0,Xm.jsx)(yg,{className:"w-4 h-4"})},{id:"history",label:"History",icon:(0,Xm.jsx)(Ey,{className:"w-4 h-4"})}];return D&&!R?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):R?(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>P(-1),children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointment Details"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[ee(R.scheduledTime)," at ",re(R.scheduledTime)]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(sp,{status:R.status}),ie()&&(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(hg,{className:"w-4 h-4"}),onClick:Z,loading:Y,className:"animate-pulse",children:"Join Now"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:J,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(gg,{className:"w-4 h-4"}),onClick:()=>{navigator.clipboard.writeText(window.location.href)},children:"Share"})]})]})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2",children:["completed"!==(null===(e=R.status)||void 0===e?void 0:e.toLowerCase())&&(0,Xm.jsx)(My,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:se(R.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900",children:ie()?"Ready to Join":"Starts in ".concat(oe())}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[R.consultationType," consultation with Dr. ",null===(t=R.doctor)||void 0===t?void 0:t.name]})]})]}),(0,Xm.jsx)("div",{className:"flex space-x-3",children:ie()?(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(hg,{className:"w-4 h-4"}),onClick:Z,loading:Y,children:"Join Consultation"}):"confirmed"===(null===(r=R.status)||void 0===r?void 0:r.toLowerCase())?(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:oe()}),(0,Xm.jsx)("div",{className:"text-xs text-gray-600",children:"remaining"})]}):(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Vm,{className:"w-4 h-4"}),children:"Set Reminder"})})]})})}),(0,Xm.jsxs)(My,{className:"mb-6",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"flex space-x-8 px-6",children:le.map(e=>(0,Xm.jsxs)("button",{onClick:()=>G(e.id),className:"flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ".concat(W===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})}),(0,Xm.jsxs)("div",{className:"p-6",children:["overview"===W&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-500"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Date & Time"}),(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:ee(R.scheduledTime)}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[re(R.scheduledTime)," (",R.duration||30," min)"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-green-500"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Consultation Fee"}),(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["$",R.consultationFee]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Payment ",(null===(a=R.paymentStatus)||void 0===a?void 0:a.toLowerCase())||"completed"]})]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[se(R.consultationType),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Consultation Type"}),(0,Xm.jsxs)("p",{className:"font-medium text-gray-900 capitalize",children:[R.consultationType," Call"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 text-purple-500"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Related Case"}),(0,Xm.jsxs)(_e,{to:"/patient/cases/".concat(R.caseId),className:"font-medium text-primary-600 hover:text-primary-700",children:["Case #",R.caseId]})]})]})]})]}),R.notes&&(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Notes"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:R.notes})]}),R.rescheduleCount>0&&(0,Xm.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-yellow-600"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium text-yellow-800",children:["This appointment has been rescheduled ",R.rescheduleCount," time(s)"]})]}),R.rescheduleReason&&(0,Xm.jsxs)("p",{className:"text-sm text-yellow-700 mt-2",children:["Reason: ",R.rescheduleReason]})]})]}),"case"===W&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Case Information"}),(0,Xm.jsx)(_e,{to:"/patient/cases/".concat(R.caseId),children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(vg,{className:"w-4 h-4"}),children:"View Full Case"})})]}),R.case&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Case Title"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:R.case.title})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:R.case.description})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Disease"}),(0,Xm.jsx)(lp,{variant:"error",children:R.case.primaryDiseaseCode})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Urgency Level"}),(0,Xm.jsx)(ip,{priority:R.case.urgencyLevel})]})]}),(null===(n=R.case.symptoms)||void 0===n?void 0:n.length)>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Symptoms"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:R.case.symptoms.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",size:"sm",children:e},t))})]})]})]}),"doctor"===W&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-8 h-8 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Dr. ",null===(i=R.doctor)||void 0===i?void 0:i.name]}),(0,Xm.jsx)("p",{className:"text-gray-600",children:null===(o=R.doctor)||void 0===o?void 0:o.specialization}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:[(null===(l=R.doctor)||void 0===l?void 0:l.rating)||"N/A"," (",(null===(c=R.doctor)||void 0===c?void 0:c.reviewCount)||0," reviews)"]})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Experience"}),(0,Xm.jsxs)("p",{className:"text-gray-700",children:[null===(d=R.doctor)||void 0===d?void 0:d.experience," years"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"License Number"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:null===(u=R.doctor)||void 0===u?void 0:u.licenseNumber})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Hospital Affiliation"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:(null===(m=R.doctor)||void 0===m?void 0:m.hospital)||"Not specified"})]})]}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Languages"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===(p=R.doctor)||void 0===p||null===(h=p.languages)||void 0===h?void 0:h.map((e,t)=>(0,Xm.jsx)(lp,{variant:"outline",size:"sm",children:e},t)))||(0,Xm.jsx)("span",{className:"text-gray-600",children:"Not specified"})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Consultations Completed"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:(null===(x=R.doctor)||void 0===x?void 0:x.consultationCount)||0})]})]})]}),(null===(f=R.doctor)||void 0===f?void 0:f.professionalSummary)&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Professional Summary"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:R.doctor.professionalSummary})]})]}),"report"===W&&(0,Xm.jsx)("div",{className:"space-y-6",children:M?(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Consultation Report"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>dp.downloadConsultationReport(M.id,"consultation-report.pdf"),children:"Download"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(bg,{className:"w-4 h-4"}),onClick:()=>window.print(),children:"Print"})]})]}),(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 print:shadow-none",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"border-b pb-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Diagnosis"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:M.diagnosis})]}),(0,Xm.jsxs)("div",{className:"border-b pb-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Recommendations"}),(0,Xm.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:M.recommendations})]}),M.prescriptions&&(0,Xm.jsxs)("div",{className:"border-b pb-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Prescriptions"}),(0,Xm.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:M.prescriptions})]}),(0,Xm.jsxs)("div",{className:"border-b pb-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Follow-up Instructions"}),(0,Xm.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:M.followUpInstructions})]}),M.doctorNotes&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Doctor's Notes"}),(0,Xm.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap",children:M.doctorNotes})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{children:["Report generated on ",ne(M.createdAt)]}),(0,Xm.jsxs)("span",{children:["Dr. ",null===(y=R.doctor)||void 0===y?void 0:y.name]})]})]})}),M.requiresFollowUp&&(0,Xm.jsx)(_y,{type:"info",title:"Follow-up Required",message:"Your doctor has recommended a follow-up appointment.",children:(0,Xm.jsx)("div",{className:"mt-4",children:(0,Xm.jsx)(Zm,{size:"sm",children:"Schedule Follow-up"})})})]}):"completed"===(null===(g=R.status)||void 0===g?void 0:g.toLowerCase())?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(yg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Report Not Available"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"The consultation report has not been generated yet."})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(yg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Report Pending"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"The consultation report will be available after your appointment is completed."})]})}),"history"===W&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Appointment Timeline"}),(0,Xm.jsx)("div",{className:"space-y-4",children:(null===(v=R.timeline)||void 0===v?void 0:v.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0",children:(0,Xm.jsxs)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:["created"===e.type&&(0,Xm.jsx)(Np,{className:"w-4 h-4 text-primary-600"}),"scheduled"===e.type&&(0,Xm.jsx)(bp,{className:"w-4 h-4 text-primary-600"}),"confirmed"===e.type&&(0,Xm.jsx)(Up,{className:"w-4 h-4 text-primary-600"}),"started"===e.type&&(0,Xm.jsx)(hg,{className:"w-4 h-4 text-primary-600"}),"completed"===e.type&&(0,Xm.jsx)(Up,{className:"w-4 h-4 text-primary-600"}),"rescheduled"===e.type&&(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-primary-600"})]})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:ne(e.timestamp)})]})]},t)))||(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(Ey,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No timeline events available"})]})})]})]})]})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Xm.jsx)(My,{title:"Appointment Status",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:se(R.consultationType)}),(0,Xm.jsx)(sp,{status:R.status,size:"lg",className:"mb-4"}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:["Scheduled: ",ne(R.scheduledTime)]}),R.completedAt&&(0,Xm.jsxs)("p",{children:["Completed: ",ne(R.completedAt)]}),(0,Xm.jsxs)("p",{children:["Duration: ",R.duration||30," minutes"]})]})]}),R.meetingLink&&ie()&&(0,Xm.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Meeting Details"}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,Xm.jsxs)("p",{children:["Meeting ID: ",R.meetingId]}),R.meetingPassword&&(0,Xm.jsxs)("p",{children:["Password: ",R.meetingPassword]})]}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full mt-3",onClick:Z,loading:Y,children:"Join Meeting"})]})]})}),(0,Xm.jsx)(My,{title:"Doctor Information",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-6 h-6 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["Dr. ",null===(b=R.doctor)||void 0===b?void 0:b.name]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:null===(j=R.doctor)||void 0===j?void 0:j.specialization})]})]}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Experience"}),(0,Xm.jsxs)("span",{className:"text-gray-900",children:[null===(w=R.doctor)||void 0===w?void 0:w.experience," years"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Rating"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Ip,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,Xm.jsx)("span",{className:"text-gray-900",children:(null===(N=R.doctor)||void 0===N?void 0:N.rating)||"N/A"})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Consultations"}),(0,Xm.jsx)("span",{className:"text-gray-900",children:(null===(C=R.doctor)||void 0===C?void 0:C.consultationCount)||0})]})]}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(jg,{className:"w-4 h-4"}),className:"w-full",children:"Send Message"})})]})}),(0,Xm.jsx)(My,{title:"Payment Details",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Consultation Fee"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["$",R.consultationFee]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Platform Fee"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"$5.00"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between border-t pt-3",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Total Paid"}),(0,Xm.jsxs)("span",{className:"font-bold text-gray-900",children:["$",(parseFloat(R.consultationFee)+5).toFixed(2)]})]})]}),(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-500"}),(0,Xm.jsx)("span",{className:"text-sm text-green-800",children:"Payment Confirmed"})]}),R.paidAt&&(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Paid on ",ne(R.paidAt)]})]}),(0,Xm.jsx)("div",{className:"mt-4",children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),className:"w-full",children:"Download Receipt"})})]})}),(0,Xm.jsx)(My,{title:"Actions",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-3",children:["completed"===(null===(S=R.status)||void 0===S?void 0:S.toLowerCase())&&!R.feedback&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(wg,{className:"w-4 h-4"}),className:"w-full",onClick:()=>F(!0),children:"Rate Consultation"}),["scheduled","confirmed"].includes(null===(A=R.status)||void 0===A?void 0:A.toLowerCase())&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),className:"w-full",onClick:()=>B(!0),children:"Request Reschedule"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Ng,{className:"w-4 h-4"}),className:"w-full",onClick:()=>z(!0),children:"Report Issue"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Cg,{className:"w-4 h-4"}),className:"w-full",onClick:()=>{navigator.clipboard.writeText(window.location.href)},children:"Copy Link"}),M&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),className:"w-full",onClick:()=>dp.downloadConsultationReport(M.id,"report.pdf"),children:"Download Report"})]})}),"completed"===(null===(k=R.status)||void 0===k?void 0:k.toLowerCase())&&(null===M||void 0===M?void 0:M.requiresFollowUp)&&(0,Xm.jsx)(My,{title:"Next Steps",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Xm.jsx)(Sg,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Follow-up Recommended"})]}),(0,Xm.jsx)("p",{className:"text-sm text-blue-800 mb-3",children:"Your doctor has recommended a follow-up appointment."}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",children:"Schedule Follow-up"})]})})}),(0,Xm.jsx)(My,{title:"Need Help?",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Having technical issues or questions about your consultation?"}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Km,{className:"w-4 h-4"}),className:"w-full",children:"Contact Support"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),className:"w-full",children:"View FAQ"})]})]})})})]})]})}),(0,Xm.jsx)(Ky,{isOpen:L,onClose:()=>{F(!1),X.reset()},onSubmit:X.handleSubmit(async e=>{try{await T(()=>dp.submitAppointmentFeedback(E,e)),F(!1),await J()}catch(t){console.error("Failed to submit feedback:",t)}}),title:"Rate Your Consultation",submitText:"Submit Feedback",isLoading:D,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How would you rate this consultation?"}),(0,Xm.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,Xm.jsx)("button",{type:"button",onClick:()=>X.setValue("rating",e),className:"w-8 h-8 ".concat(X.watch("rating")>=e?"text-yellow-400 fill-current":"text-gray-300"),children:(0,Xm.jsx)(Ip,{className:"w-full h-full"})},e))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Feedback"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},X.register("feedback")),{},{rows:4,placeholder:"Please share your experience...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),X.formState.errors.feedback&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.formState.errors.feedback.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},X.register("recommendation")),{},{className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{className:"text-sm text-gray-700",children:"I would recommend this doctor to others"})]})]})}),(0,Xm.jsx)(Ky,{isOpen:q,onClose:()=>z(!1),onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{await T(()=>dp.createComplaint((0,ot.A)((0,ot.A)({},e),{},{appointmentId:E,doctorId:R.doctor.id}))),z(!1)}catch(t){console.error("Failed to submit complaint:",t)}})({type:t.get("type"),description:t.get("description"),priority:t.get("priority")})},title:"Report an Issue",submitText:"Submit Report",isLoading:D,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Type"}),(0,Xm.jsxs)("select",{name:"type",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select issue type"}),(0,Xm.jsx)("option",{value:"technical",children:"Technical Issue"}),(0,Xm.jsx)("option",{value:"quality",children:"Service Quality"}),(0,Xm.jsx)("option",{value:"billing",children:"Billing Issue"}),(0,Xm.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,Xm.jsxs)("select",{name:"priority",defaultValue:"medium",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"low",children:"Low"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Xm.jsx)("textarea",{name:"description",required:!0,rows:4,placeholder:"Please describe the issue in detail...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})})]}):(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(wp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Appointment Not Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested appointment could not be found."}),(0,Xm.jsx)(Zm,{onClick:()=>P(-1),icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),children:"Go Back"})]})})},Eg=zm("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pg=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({total:0,unread:0}),[d,u]=(0,s.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,appointmentReminders:!0,caseUpdates:!0,paymentNotifications:!0,systemNotifications:!0}),[m,p]=(0,s.useState)(10),[h,x]=(0,s.useState)(""),[f,y]=(0,s.useState)("all"),[g,v]=(0,s.useState)("all"),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)("all"),[E,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{O(),T()},[]),(0,s.useEffect)(()=>{D(),p(10)},[a,h,f,g,b,A]);const O=async()=>{try{const r=await t(()=>dp.getNotifications(e.id));n(r||[]);const a=r||[],s={total:a.length,unread:a.filter(e=>!1===e.isRead).length};c(s||{})}catch(r){console.error("Failed to load notifications:",r)}},T=async()=>{try{const e=await t(()=>dp.getNotificationSettings());u(e||d)}catch(e){console.error("Failed to load notification settings:",e)}},D=()=>{let e=a;if(h&&(e=e.filter(e=>{var t,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))})),"all"!==f&&(e=e.filter(e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===f})),"all"!==g){const t="read"===g;e=e.filter(e=>e.isRead===t)}"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())===b})),o(e)},R=async(e,r)=>{try{await t(()=>dp.markNotificationAsRead(e,r)),n(t=>t.map(t=>e.includes(t.id)?(0,ot.A)((0,ot.A)({},t),{},{isRead:!0}):t)),O()}catch(a){console.error("Failed to mark notifications as read:",a)}},_=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-500"});case"case":return(0,Xm.jsx)(Km,{className:"w-5 h-5 text-green-500"});case"payment":return(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-purple-500"});case"doctor":return(0,Xm.jsx)(Sp,{className:"w-5 h-5 text-indigo-500"});case"system":return(0,Xm.jsx)(Gm,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-gray-500"})}},M=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return"bg-blue-100 text-blue-800";case"case":return"bg-green-100 text-green-800";case"payment":return"bg-purple-100 text-purple-800";case"doctor":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return(0,Xm.jsx)(Eg,{className:"w-4 h-4"});case"high":return(0,Xm.jsx)(wp,{className:"w-4 h-4"});case"medium":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Sg,{className:"w-4 h-4"})}},L=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},F=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==(new Date).getFullYear()?"numeric":void 0})},q=i.slice(0,m),z=m<i.length;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your notifications and preferences"})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"}),onClick:()=>S(!0),children:"Settings"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Notifications",value:l.total,icon:(0,Xm.jsx)(Vm,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Unread",value:l.unread,change:"".concat(l.unread," unread"),icon:(0,Xm.jsx)(py,{className:"w-6 h-6"})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search notifications...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,Xm.jsxs)(Zm,{className:"".concat(E?"bg-amber-500 hover:bg-amber-600 text-white shadow-md":"bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200"),onClick:()=>{P(!E),E?j("all"):(j("critical"),y("all"),v("all"),x(""))},children:[(0,Xm.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Important (",i.filter(e=>{var t,r;return"critical"===(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())||"high"===(null===(r=e.priority)||void 0===r?void 0:r.toLowerCase())}).length,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>N(!w),children:"Filters"}),l.unread>0&&(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{try{await t(()=>dp.markAllNotificationsAsRead(e.id)),n(e=>e.map(e=>(0,ot.A)((0,ot.A)({},e),{},{isRead:!0}))),O()}catch(r){console.error("Failed to mark all notifications as read:",r)}},children:"Mark All as Read"})]}),w&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,Xm.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),(0,Xm.jsx)("option",{value:"appointment",children:"Appointment"}),(0,Xm.jsx)("option",{value:"case",children:"Case"}),(0,Xm.jsx)("option",{value:"payment",children:"Payment"}),(0,Xm.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Xm.jsx)("option",{value:"system",children:"System"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"unread",children:"Unread"}),(0,Xm.jsx)("option",{value:"read",children:"Read"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"low",children:"Low"})]})]})]})]})}),(0,Xm.jsx)(My,{title:"Notifications (".concat(q.length,"/").concat(i.length,")"),children:(0,Xm.jsx)("div",{className:"space-y-3",children:q.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[q.map(e=>(0,Xm.jsx)("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md ".concat(e.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 hover:border-blue-300"),children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.isRead?"bg-gray-100":"bg-blue-100"),children:_(e.type)}),(0,Xm.jsx)("div",{className:"flex-1 min-w-0",children:(0,Xm.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,Xm.jsx)(lp,{className:M(e.type),children:e.type}),e.priority&&(0,Xm.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ".concat(L(e.priority)),children:[I(e.priority),(0,Xm.jsx)("span",{children:e.priority})]})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700 mt-2 break-words whitespace-pre-wrap overflow-hidden",children:e.message}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[(0,Xm.jsx)("span",{children:F(e.createdAt)}),!e.isRead&&(0,Xm.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-medium",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Unread"]})]})]})})}),(0,Xm.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2",children:!e.isRead&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:t=>{t.stopPropagation(),R([e.id],[e.receiverId])},title:"Mark as read"})})]})},e.id)),z&&(0,Xm.jsx)("div",{className:"pt-4 flex justify-center",children:(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>{p(e=>e+10)},icon:(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),children:["Load More (",i.length-m," remaining)"]})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Vm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:h||"all"!==f||"all"!==g||"all"!==b?"Try adjusting your search or filters":"You don't have any notifications yet"})]})})}),(0,Xm.jsx)($y,{isOpen:C,onClose:()=>S(!1),title:"Notification Settings",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Customize how you receive notifications about your medical consultations and appointments."}),(0,Xm.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in your browser"},{key:"appointmentReminders",label:"Appointment Reminders",description:"Get reminders about upcoming appointments"},{key:"caseUpdates",label:"Case Updates",description:"Receive updates on your medical cases"},{key:"paymentNotifications",label:"Payment Notifications",description:"Get notified about payment status"}].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:d[e.key],onChange:t=>u((0,ot.A)((0,ot.A)({},d),{},{[e.key]:t.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},e.key))}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:()=>(async e=>{try{await t(()=>dp.updateNotificationSettings(e)),u(e),S(!1)}catch(r){console.error("Failed to update notification settings:",r)}})(d),loading:r,children:"Save Settings"})]})]})})]})},Og=zm("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Tg=zm("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Dg=zm("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Rg=zm("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),_g={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Mg(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ig={date:Mg({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Mg({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Mg({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Lg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Fg(e){return(t,r)=>{let a;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=null!==r&&void 0!==r&&r.width?String(r.width):t;a=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;a=e.values[n]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}const qg={ordinalNumber:(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Fg({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Fg({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fg({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Fg({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Fg({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function zg(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const i=s[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}const Ug={ordinalNumber:(Bg={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(Bg.matchPattern);if(!r)return null;const a=r[0],n=e.match(Bg.parsePattern);if(!n)return null;let s=Bg.valueCallback?Bg.valueCallback(n[0]):n[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(a.length)}}),era:zg({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:zg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:zg({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:zg({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:zg({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Bg;const Vg={code:"en-US",formatDistance:(e,t,r)=>{let a;const n=_g[e];return a="string"===typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:Ig,formatRelative:(e,t,r,a)=>Lg[e],localize:qg,match:Ug,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Hg={};function Wg(){return Hg}Math.pow(10,8);const Gg=6048e5,Yg=43200;function Kg(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function $g(e){const t=Kg(e);return t.setHours(0,0,0,0),t}function Qg(e){const t=Kg(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xg(e,t){const r=$g(e),a=$g(t),n=+r-Qg(r),s=+a-Qg(a);return Math.round((n-s)/864e5)}function Jg(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zg(e){const t=Kg(e),r=Jg(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ev(e){const t=Kg(e);return Xg(t,Zg(t))+1}function tv(e,t){var r,a,n,s,i,o;const l=Wg(),c=null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:l.weekStartsOn)&&void 0!==a?a:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:0,d=Kg(e),u=d.getDay(),m=(u<c?7:0)+u-c;return d.setDate(d.getDate()-m),d.setHours(0,0,0,0),d}function rv(e){return tv(e,{weekStartsOn:1})}function av(e){const t=Kg(e),r=t.getFullYear(),a=Jg(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=rv(a),s=Jg(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=rv(s);return t.getTime()>=n.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function nv(e){const t=av(e),r=Jg(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),rv(r)}function sv(e){const t=Kg(e),r=+rv(t)-+nv(t);return Math.round(r/Gg)+1}function iv(e,t){var r,a,n,s,i,o;const l=Kg(e),c=l.getFullYear(),d=Wg(),u=null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:d.firstWeekContainsDate)&&void 0!==a?a:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,m=Jg(e,0);m.setFullYear(c+1,0,u),m.setHours(0,0,0,0);const p=tv(m,t),h=Jg(e,0);h.setFullYear(c,0,u),h.setHours(0,0,0,0);const x=tv(h,t);return l.getTime()>=p.getTime()?c+1:l.getTime()>=x.getTime()?c:c-1}function ov(e,t){var r,a,n,s,i,o;const l=Wg(),c=null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:l.firstWeekContainsDate)&&void 0!==a?a:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,d=iv(e,t),u=Jg(e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return tv(u,t)}function lv(e,t){const r=Kg(e),a=+tv(r,t)-+ov(r,t);return Math.round(a/Gg)+1}function cv(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const dv={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return cv("yy"===t?a%100:a,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):cv(r+1,2)},d:(e,t)=>cv(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>cv(e.getHours()%12||12,t.length),H:(e,t)=>cv(e.getHours(),t.length),m:(e,t)=>cv(e.getMinutes(),t.length),s:(e,t)=>cv(e.getSeconds(),t.length),S(e,t){const r=t.length,a=e.getMilliseconds();return cv(Math.trunc(a*Math.pow(10,r-3)),t.length)}},uv="midnight",mv="noon",pv="morning",hv="afternoon",xv="evening",fv="night",yv={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return r.ordinalNumber(a,{unit:"year"})}return dv.y(e,t)},Y:function(e,t,r,a){const n=iv(e,a),s=n>0?n:1-n;if("YY"===t){return cv(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):cv(s,t.length)},R:function(e,t){return cv(av(e),t.length)},u:function(e,t){return cv(e.getFullYear(),t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return cv(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return cv(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return dv.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return cv(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=lv(e,a);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):cv(n,t.length)},I:function(e,t,r){const a=sv(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):cv(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):dv.d(e,t)},D:function(e,t,r){const a=ev(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):cv(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return cv(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return cv(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return cv(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(n=12===a?mv:0===a?uv:a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(n=a>=17?xv:a>=12?hv:a>=4?pv:fv,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return dv.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):dv.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):cv(a,t.length)},k:function(e,t,r){let a=e.getHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):cv(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):dv.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):dv.s(e,t)},S:function(e,t){return dv.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return vv(a);case"XXXX":case"XX":return bv(a);default:return bv(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return vv(a);case"xxxx":case"xx":return bv(a);default:return bv(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gv(a,":");default:return"GMT"+bv(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gv(a,":");default:return"GMT"+bv(a,":")}},t:function(e,t,r){return cv(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,r){return cv(e.getTime(),t.length)}};function gv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return 0===s?r+String(n):r+String(n)+t+cv(s,2)}function vv(e,t){if(e%60===0){return(e>0?"-":"+")+cv(Math.abs(e)/60,2)}return bv(e,t)}function bv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",a=Math.abs(e);return r+cv(Math.trunc(a/60),2)+t+cv(a%60,2)}const jv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},wv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Nv={p:wv,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return jv(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",jv(a,t)).replace("{{time}}",wv(n,t))}},Cv=/^D+$/,Sv=/^Y+$/,Av=["D","DD","YY","YYYY"];function kv(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Ev(e){if(!kv(e)&&"number"!==typeof e)return!1;const t=Kg(e);return!isNaN(Number(t))}const Pv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ov=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tv=/^'([^]*?)'?$/,Dv=/''/g,Rv=/[a-zA-Z]/;function _v(e,t,r){var a,n,s,i,o,l,c,d,u,m,p,h,x,f;const y=Wg(),g=null!==(a=null!==(n=null===r||void 0===r?void 0:r.locale)&&void 0!==n?n:y.locale)&&void 0!==a?a:Vg,v=null!==(s=null!==(i=null!==(o=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:y.firstWeekContainsDate)&&void 0!==i?i:null===(d=y.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,b=null!==(u=null!==(m=null!==(p=null!==(h=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==h?h:null===r||void 0===r||null===(x=r.locale)||void 0===x||null===(x=x.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==p?p:y.weekStartsOn)&&void 0!==m?m:null===(f=y.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==u?u:0,j=Kg(e);if(!Ev(j))throw new RangeError("Invalid time value");let w=t.match(Ov).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Nv[t])(e,g.formatLong)}return e}).join("").match(Pv).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Mv(e)};if(yv[t])return{isToken:!0,value:e};if(t.match(Rv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});g.localize.preprocessor&&(w=g.localize.preprocessor(j,w));const N={firstWeekContainsDate:v,weekStartsOn:b,locale:g};return w.map(a=>{if(!a.isToken)return a.value;const n=a.value;(null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return Sv.test(e)}(n))&&(null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return Cv.test(e)}(n))||function(e,t,r){const a=function(e,t,r){const a="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(a," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,r);if(console.warn(a),Av.includes(e))throw new RangeError(a)}(n,t,String(e));return(0,yv[n[0]])(j,n,g.localize,N)}).join("")}function Mv(e){const t=e.match(Tv);return t?t[1].replace(Dv,"'"):e}const Iv=e=>{var t;let{attachment:r,isOwn:a}=e;const n=null===(t=r.fileType)||void 0===t?void 0:t.startsWith("image/");return(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded ".concat(a?"bg-primary-600":"bg-gray-50"),children:[n?(0,Xm.jsx)(Rg,{className:"w-4 h-4 ".concat(a?"text-primary-100":"text-gray-600")}):(0,Xm.jsx)(gp,{className:"w-4 h-4 ".concat(a?"text-primary-100":"text-gray-600")}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-xs truncate ".concat(a?"text-primary-50":"text-gray-700"),children:r.fileName}),(0,Xm.jsx)("p",{className:"text-xs ".concat(a?"text-primary-200":"text-gray-500"),children:(e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,t)).toFixed(1)," ").concat(["B","KB","MB","GB"][t])})(r.fileSize)})]}),(0,Xm.jsx)("button",{onClick:()=>{console.log("Download:",r.fileName)},className:"p-1 rounded hover:bg-opacity-80 transition-colors ".concat(a?"hover:bg-primary-700":"hover:bg-gray-200"),children:(0,Xm.jsx)(Hy,{className:"w-4 h-4 ".concat(a?"text-primary-100":"text-gray-600")})})]})},Lv=e=>{var t;let{message:r,isOwn:a,showAvatar:n}=e;return(0,Xm.jsx)("div",{className:"flex ".concat(a?"justify-end":"justify-start"),children:(0,Xm.jsxs)("div",{className:"flex items-end space-x-2 max-w-lg ".concat(a?"flex-row-reverse space-x-reverse":""),children:[n&&(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(a?"bg-primary-500":"bg-gray-300"),children:(0,Xm.jsx)("span",{className:"text-xs font-medium text-white",children:null===(t=r.senderName)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),!n&&(0,Xm.jsx)("div",{className:"w-8"}),(0,Xm.jsxs)("div",{className:"flex flex-col ".concat(a?"items-end":"items-start"),children:[!a&&n&&(0,Xm.jsx)("span",{className:"text-xs text-gray-600 mb-1 px-1",children:r.senderName}),(0,Xm.jsxs)("div",{className:"px-4 py-2 rounded-2xl ".concat(a?"bg-primary-500 text-white rounded-br-sm":"bg-white border border-gray-200 text-gray-900 rounded-bl-sm"),children:[(0,Xm.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:r.content}),r.attachments&&r.attachments.length>0&&(0,Xm.jsx)("div",{className:"mt-2 space-y-2",children:r.attachments.map(e=>(0,Xm.jsx)(Iv,{attachment:e,isOwn:a},e.id))}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 mt-1 ".concat(a?"justify-end":"justify-start"),children:[(0,Xm.jsx)("span",{className:"text-xs ".concat(a?"text-primary-100":"text-gray-500"),children:(e=>{try{return _v(new Date(e),"HH:mm")}catch(t){return""}})(r.createdAt)}),a&&(0,Xm.jsx)("span",{children:r.isRead?(0,Xm.jsx)(Dg,{className:"w-3 h-3 ".concat(a?"text-primary-100":"text-gray-500")}):(0,Xm.jsx)(Zy,{className:"w-3 h-3 ".concat(a?"text-primary-100":"text-gray-500")})})]})]})]})]})})},Fv=zm("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),qv=zm("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),zv=e=>{let{onSend:t,onTypingStart:r,onTypingStop:a,disabled:n=!1}=e;const[i,o]=(0,s.useState)(""),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),h=(0,s.useRef)(null),x=(0,s.useRef)(null),f=(0,s.useRef)(null);(0,s.useEffect)(()=>{h.current&&(h.current.style.height="auto",h.current.style.height="".concat(h.current.scrollHeight,"px"))},[i]);const y=async e=>{e.preventDefault();const r=i.trim();if((r||0!==l.length)&&!m&&!n){p(!0);try{await t(r,l),o(""),c([]),a&&a(),h.current&&(h.current.style.height="auto")}catch(s){console.error("Failed to send message:",s)}finally{p(!1)}}};return(0,Xm.jsx)("div",{className:"border-t border-gray-200 bg-white p-4",children:(0,Xm.jsxs)("form",{onSubmit:y,className:"max-w-4xl mx-auto",children:[l.length>0&&(0,Xm.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:l.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-2 max-w-xs",children:[(0,Xm.jsx)(Fv,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700 truncate flex-1",children:e.name}),(0,Xm.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void c(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-400 hover:text-red-500 transition-colors flex-shrink-0",children:(0,Xm.jsx)(Tp,{className:"w-4 h-4"})})]},e.id))}),(0,Xm.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,Xm.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},disabled:n||d,className:"p-2 text-gray-500 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,Xm.jsx)(Og,{className:"w-5 h-5 animate-spin"}):(0,Xm.jsx)(Fv,{className:"w-5 h-5"})}),(0,Xm.jsx)("input",{ref:x,type:"file",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files||[]);if(0!==t.length){u(!0);try{const e=t.map((e,t)=>({id:Date.now()+t,name:e.name,size:e.size,type:e.type,file:e}));c(t=>[...t,...e])}catch(r){console.error("File upload failed:",r)}finally{u(!1),x.current&&(x.current.value="")}}},className:"hidden",accept:"image/*,.pdf,.doc,.docx"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsx)("textarea",{ref:h,value:i,onChange:e=>{const t=e.target.value;o(t),t.trim()?(r&&r(),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{a&&a()},2e3)):a&&a()},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y(e))},placeholder:"Type your message...",disabled:n||m,rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed",style:{maxHeight:"150px"}})}),(0,Xm.jsx)(Zm,{type:"submit",disabled:!i.trim()&&0===l.length||n||m,className:"px-4 py-3",children:m?(0,Xm.jsx)(Og,{className:"w-5 h-5 animate-spin"}):(0,Xm.jsx)(qv,{className:"w-5 h-5"})})]}),n&&(0,Xm.jsx)("p",{className:"text-sm text-red-500 mt-2",children:"Connection lost. Trying to reconnect..."})]})})},Uv=e=>{let{userName:t}=e;return(0,Xm.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)("span",{className:"text-xs font-medium text-white",children:null===t||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 px-4 py-3 rounded-2xl rounded-bl-sm",children:(0,Xm.jsxs)("div",{className:"flex space-x-1",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})},Bv={getConversations:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return await td("/messaging-service/api/messages/conversations?".concat(e))},getConversationById:async e=>await td("/messaging-service/api/messages/conversations/".concat(e)),getConversationByCase:async e=>await td("/messaging-service/api/messages/conversations/case/".concat(e)),createConversation:async e=>await rd("/messaging-service/api/messages/conversations",e),updateConversationStatus:async(e,t)=>await ad("/messaging-service/api/messages/conversations/".concat(e,"/status?status=").concat(t)),archiveConversation:async e=>await rd("/messaging-service/api/messages/conversations/".concat(e,"/archive")),searchConversations:async e=>await td("/messaging-service/api/messages/conversations/search?query=".concat(encodeURIComponent(e))),getMessages:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{page:r=0,size:a=50}=t;return await td("/messaging-service/api/messages/conversation/".concat(e,"?page=").concat(r,"&size=").concat(a))},sendMessage:async e=>await rd("/messaging-service/api/messages/send",e),markMessageAsRead:async(e,t,r)=>await ad("/messaging-service/api/messages/".concat(e,"/read?userId=").concat(t,"&userRole=").concat(r)),markConversationAsRead:async(e,t,r)=>await ad("/messaging-service/api/messages/conversations/".concat(e,"/mark-read?userId=").concat(t,"&userRole=").concat(r)),deleteMessage:async(e,t,r)=>await nd("/messaging-service/api/messages/".concat(e,"?userId=").concat(t,"&userRole=").concat(r)),searchMessages:async(e,t,r,a)=>await td("/messaging-service/api/messages/search?conversationId=".concat(e,"&query=").concat(encodeURIComponent(t),"&userId=").concat(r,"&userRole=").concat(a)),getUnreadCount:async()=>await td("/messaging-service/api/messages/unread-count"),uploadAttachment:async(e,t)=>{const r=new FormData;return r.append("file",e),await sd("/messaging-service/api/messages/attachments/upload",r,{onUploadProgress:t})},downloadAttachment:async(e,t)=>await id("/messaging-service/api/messages/attachments/".concat(e,"/download"),t)},Vv=e=>{let{conversation:t,onNewMessage:r,onConversationUpdate:a}=e;const{user:n}=Jd(),{execute:i,loading:o}=Iy(),l=(0,s.useRef)(null),c=(0,s.useRef)(null),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(null),{isConnected:g,onNewMessage:v,onMessageRead:b,sendTypingStart:j,sendTypingStop:w,onTyping:N}=(e=>{const{user:t,token:r}=Jd(),a=(0,s.useRef)(null),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(new Set),[c,d]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{if(!e||!t||!r)return;const n=jm("http://172.16.1.122:8095",{auth:{token:r},transports:["websocket","polling"]});return a.current=n,n.on("connect",()=>{console.log("WebSocket connected"),i(!0),n.emit("join_conversation",{conversationId:e,userId:t.id})}),n.on("disconnect",()=>{console.log("WebSocket disconnected"),i(!1)}),n.on("connect_error",e=>{console.error("WebSocket connection error:",e),i(!1)}),()=>{n&&(n.emit("leave_conversation",{conversationId:e,userId:t.id}),n.disconnect())}},[e,t,r]);const u=(0,s.useCallback)(e=>{if(a.current)return a.current.on("new_message",e),()=>{var t;null===(t=a.current)||void 0===t||t.off("new_message",e)}},[]),m=(0,s.useCallback)(e=>{if(a.current)return a.current.on("message_read",e),()=>{var t;null===(t=a.current)||void 0===t||t.off("message_read",e)}},[]),p=(0,s.useCallback)(e=>{if(a.current)return a.current.on("message_deleted",e),()=>{var t;null===(t=a.current)||void 0===t||t.off("message_deleted",e)}},[]),h=(0,s.useCallback)(()=>{a.current&&n&&a.current.emit("typing_start",{conversationId:e,userId:null===t||void 0===t?void 0:t.id,userName:null===t||void 0===t?void 0:t.name})},[e,t,n]),x=(0,s.useCallback)(()=>{a.current&&n&&a.current.emit("typing_stop",{conversationId:e,userId:null===t||void 0===t?void 0:t.id})},[e,t,n]),f=(0,s.useCallback)(e=>{if(a.current)return a.current.on("user_typing_start",r=>{r.userId!==(null===t||void 0===t?void 0:t.id)&&(d(e=>new Set([...e,r.userId])),e((0,ot.A)((0,ot.A)({},r),{},{isTyping:!0})))}),a.current.on("user_typing_stop",r=>{r.userId!==(null===t||void 0===t?void 0:t.id)&&(d(e=>{const t=new Set(e);return t.delete(r.userId),t}),e((0,ot.A)((0,ot.A)({},r),{},{isTyping:!1})))}),()=>{var e,t;null===(e=a.current)||void 0===e||e.off("user_typing_start"),null===(t=a.current)||void 0===t||t.off("user_typing_stop")}},[t]),y=(0,s.useCallback)(e=>{if(a.current)return a.current.on("user_online",t=>{l(e=>new Set([...e,t.userId])),e((0,ot.A)((0,ot.A)({},t),{},{isOnline:!0}))}),a.current.on("user_offline",t=>{l(e=>{const r=new Set(e);return r.delete(t.userId),r}),e((0,ot.A)((0,ot.A)({},t),{},{isOnline:!1}))}),()=>{var e,t;null===(e=a.current)||void 0===e||e.off("user_online"),null===(t=a.current)||void 0===t||t.off("user_offline")}},[]),g=(0,s.useCallback)(e=>{a.current&&n&&a.current.emit("update_online_status",{userId:null===t||void 0===t?void 0:t.id,isOnline:e})},[t,n]);return{isConnected:n,socket:a.current,onNewMessage:u,onMessageRead:m,onMessageDeleted:p,sendTypingStart:h,sendTypingStop:x,onTyping:f,onOnlineStatus:y,updateOnlineStatus:g,onlineUsers:Array.from(o),typingUsers:Array.from(c)}})(null===t||void 0===t?void 0:t.id);(0,s.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&!t.isNew?C():u([])},[null===t||void 0===t?void 0:t.id]),(0,s.useEffect)(()=>{if(null===t||void 0===t||!t.id||t.isNew)return;const e=v(e=>{u(t=>[...t,e]),S(),r&&r(e)}),a=b(e=>{u(t=>t.map(t=>t.id===e.messageId?(0,ot.A)((0,ot.A)({},t),{},{isRead:!0,readAt:e.readAt}):t))}),n=N(e=>{e.isTyping?(y(e.userName),setTimeout(()=>y(null),3e3)):y(null)});return()=>{e&&e(),a&&a(),n&&n()}},[null===t||void 0===t?void 0:t.id,v,b,N]),(0,s.useEffect)(()=>{S()},[d]);const C=async()=>{p(!0);try{const e=await i(()=>Bv.getMessages(t.id,{page:0,size:100}));u((e||[]).reverse()),S()}catch(e){console.error("Failed to load messages:",e)}finally{p(!1)}},S=()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return t?(0,Xm.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,Xm.jsxs)("div",{className:"border-b bg-white px-6 py-4 flex items-center justify-between shadow-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:t.otherUserName}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsxs)(lp,{variant:"outline",className:"text-xs",children:["Case #",t.caseId]}),t.isNew&&(0,Xm.jsx)(lp,{variant:"info",className:"text-xs",children:"New Conversation"}),g&&!t.isNew&&(0,Xm.jsx)("span",{className:"text-xs text-green-600",children:"\u25cf Connected"})]})]})]}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("button",{onClick:()=>x(!h),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Xm.jsx)(Vy,{className:"w-5 h-5 text-gray-600"})}),h&&(0,Xm.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,Xm.jsxs)("button",{onClick:async()=>{if(!t.isNew&&t.id)try{await i(()=>Bv.archiveConversation(t.id)),a&&a(),x(!1)}catch(e){console.error("Failed to archive conversation:",e)}else alert("Cannot archive a conversation that hasn't started yet")},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",disabled:t.isNew,children:[(0,Xm.jsx)(Tg,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Archive Conversation"})]}),(0,Xm.jsxs)("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[(0,Xm.jsx)(Sg,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Case Details"})]})]})]})]}),(0,Xm.jsx)("div",{ref:c,className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:m?(0,Xm.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Xm.jsx)(Og,{className:"w-8 h-8 animate-spin text-primary-500"})}):d.length>0?(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.map((e,t)=>{const r=0===t||d[t-1].senderId!==e.senderId;return(0,Xm.jsx)(Lv,{message:e,isOwn:e.senderId===n.id,showAvatar:r},e.id)}),f&&(0,Xm.jsx)(Uv,{userName:f}),(0,Xm.jsx)("div",{ref:l})]}):(0,Xm.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Xm.jsx)(Wm,{className:"w-8 h-8 text-gray-400"})}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-2",children:"No messages yet"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Start the conversation by sending a message below"})]})}),(0,Xm.jsx)(zv,{onSend:async(e,n)=>{try{const s={receiverId:t.otherUserId,caseId:t.caseId,content:e,patientName:t.patientName,doctorName:t.doctorName,messageType:n&&n.length>0?"FILE":"TEXT",attachmentIds:(null===n||void 0===n?void 0:n.map(e=>e.id))||[]};console.log("caseId: "+t.caseId),console.log("receiverId: "+t.otherUserId),console.log("patientName: "+t.patientName),console.log("doctorName: "+t.doctorName);const o=await i(()=>Bv.sendMessage(s));u(e=>[...e,o]),S(),t.isNew&&a&&a(),r&&r(o)}catch(s){throw console.error("Failed to send message:",s),s}},onTypingStart:t.isNew?null:j,onTypingStop:t.isNew?null:w,disabled:!1})]}):null},Hv=zm("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Wv(e){return Jg(e,Date.now())}function Gv(e,t){const r=Kg(e),a=Kg(t),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}function Yv(e,t){const r=Kg(e),a=Kg(t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function Kv(e){const t=Kg(e);return t.setHours(23,59,59,999),t}function $v(e){const t=Kg(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qv(e){const t=Kg(e);return+Kv(t)===+$v(t)}function Xv(e,t){const r=Kg(e),a=Kg(t),n=Gv(r,a),s=Math.abs(Yv(r,a));let i;if(s<1)i=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*s);let t=Gv(r,a)===-n;Qv(Kg(e))&&1===s&&1===Gv(e,a)&&(t=!1),i=n*(s-Number(t))}return 0===i?0:i}function Jv(e,t){return+Kg(e)-+Kg(t)}function Zv(e,t,r){const a=Jv(e,t)/1e3;return(n=null===r||void 0===r?void 0:r.roundingMethod,e=>{const t=(n?Math[n]:Math.trunc)(e);return 0===t?0:t})(a);var n}function eb(e,t,r){var a,n;const s=Wg(),i=null!==(a=null!==(n=null===r||void 0===r?void 0:r.locale)&&void 0!==n?n:s.locale)&&void 0!==a?a:Vg,o=Gv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:null===r||void 0===r?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Kg(t),d=Kg(e)):(c=Kg(e),d=Kg(t));const u=Zv(d,c),m=(Qg(d)-Qg(c))/1e3,p=Math.round((u-m)/60);let h;if(p<2)return null!==r&&void 0!==r&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):0===p?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",p,l);if(p<45)return i.formatDistance("xMinutes",p,l);if(p<90)return i.formatDistance("aboutXHours",1,l);if(p<1440){const e=Math.round(p/60);return i.formatDistance("aboutXHours",e,l)}if(p<2520)return i.formatDistance("xDays",1,l);if(p<Yg){const e=Math.round(p/1440);return i.formatDistance("xDays",e,l)}if(p<86400)return h=Math.round(p/Yg),i.formatDistance("aboutXMonths",h,l);if(h=Xv(d,c),h<12){const e=Math.round(p/Yg);return i.formatDistance("xMonths",e,l)}{const e=h%12,t=Math.trunc(h/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}function tb(e,t){return eb(e,Wv(e),t)}const rb=e=>{let{conversation:t,isSelected:r,onClick:a}=e;return(0,Xm.jsxs)("div",{onClick:a,className:"p-4 border-b cursor-pointer transition-colors ".concat(r?"bg-primary-50 border-l-4 border-l-primary-500":"hover:bg-gray-50 border-l-4 border-l-transparent"),children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,Xm.jsx)("h3",{className:"font-semibold truncate ".concat(r?"text-primary-900":"text-gray-900"),children:t.otherUserName||t.title||"Unknown"}),t.isOnline&&(0,Xm.jsx)(Hv,{className:"w-2 h-2 fill-green-500 text-green-500 flex-shrink-0"})]}),(0,Xm.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1 flex-shrink-0 ml-2",children:[(0,Xm.jsx)(Qp,{className:"w-3 h-3"}),(e=>{if(!e)return"";try{return tb(new Date(e),{addSuffix:!0})}catch(t){return""}})(t.lastMessageAt)]})]}),(0,Xm.jsx)("p",{className:"text-sm truncate mb-2 ".concat(t.unreadCount>0?"font-medium text-gray-900":"text-gray-600"),children:t.lastMessagePreview||"No messages yet"}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)(lp,{variant:"outline",className:"text-xs",children:["Case #",t.caseId]}),t.unreadCount>0&&(0,Xm.jsx)(lp,{variant:"danger",className:"px-2 py-0.5 text-xs",children:t.unreadCount})]})]})},ab=e=>{let{conversations:t,selectedId:r,onSelect:a,searchQuery:n,onSearchChange:i,filterStatus:o,onFilterChange:l,unreadCount:c}=e;s.useEffect(()=>{console.log("ConversationList received conversations:",t),console.log("Conversations is array?",Array.isArray(t)),console.log("Conversations length:",null===t||void 0===t?void 0:t.length)},[t]);return(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("div",{className:"p-4 border-b",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Messages"}),c>0&&(0,Xm.jsx)(lp,{variant:"danger",className:"px-2 py-1",children:c})]}),(0,Xm.jsxs)("div",{className:"relative mb-3",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search conversations...",value:n,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsx)("div",{className:"flex gap-2",children:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}].map(e=>(0,Xm.jsx)("button",{onClick:()=>l(e.value),className:"flex-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ".concat(o===e.value?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})]}),(0,Xm.jsx)("div",{className:"flex-1 overflow-y-auto",children:t&&t.length>0?(0,Xm.jsx)(Xm.Fragment,{children:t.map((e,t)=>(0,Xm.jsx)(rb,{conversation:e,isSelected:e.id===r,onClick:()=>a(e)},e.id||t))}):(0,Xm.jsx)("div",{className:"p-8 text-center",children:(0,Xm.jsx)("p",{className:"text-gray-500",children:null===t||void 0===t?"Loading...":"No conversations found"})})})]})},nb=()=>{te();const e=Z(),{user:t}=Jd(),[r,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)("all"),[u,m]=(0,s.useState)(0),[p,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var t;null!==(t=e.state)&&void 0!==t&&t.caseId&&f(e.state.caseId)},[e.state]),(0,s.useEffect)(()=>{x(),y()},[c]);const x=async()=>{h(!0);try{const e={};"all"!==c&&(e.status=c.toUpperCase());const t=await Bv.getConversations(e);console.log("Conversations loaded:",t),console.log("Is array?",Array.isArray(t)),console.log("Length:",null===t||void 0===t?void 0:t.length),Array.isArray(t)?a(t):(console.error("Data is not an array:",t),a([]))}catch(e){console.error("Failed to load conversations:",e),a([])}finally{h(!1)}},f=async r=>{try{const e=await Bv.getConversationByCase(r);console.log("Conversation by case loaded:",e),i(e)}catch(c){var a,n,s,o,l;console.error("Conversation not found for case:",r,c);const d={id:null,caseId:r,title:"Case #".concat(r),patientName:(null===(a=e.state)||void 0===a?void 0:a.patientName)||"Patient",doctorName:(null===t||void 0===t?void 0:t.fullName)||"Doctor",otherUserId:(null===(n=e.state)||void 0===n?void 0:n.patientId)||(null===(s=e.state)||void 0===s?void 0:s.doctorId),isNew:!0,unreadCount:0,totalMessagesCount:0};console.log("patientName:"+(null===(o=e.state)||void 0===o?void 0:o.patientName)||0),console.log("patientId:"+(null===(l=e.state)||void 0===l?void 0:l.patientId)||0),i(d)}},y=async()=>{try{const e=await Bv.getUnreadCount();console.log("Unread count loaded:",e),m((null===e||void 0===e?void 0:e.totalUnread)||0)}catch(e){console.error("Failed to load unread count:",e),m(0)}};return(0,s.useEffect)(()=>{console.log("Conversations state updated:",r)},[r]),(0,s.useEffect)(()=>{console.log("Selected conversation updated:",n)},[n]),p&&0===r.length?(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-64px)]",children:(0,Xm.jsx)(Og,{className:"w-8 h-8 animate-spin text-primary-500"})}):(0,Xm.jsxs)("div",{className:"flex h-[calc(100vh-64px)] bg-gray-50",children:[(0,Xm.jsx)("div",{className:"w-80 border-r bg-white flex flex-col shadow-sm",children:(0,Xm.jsx)(ab,{conversations:r,selectedId:null===n||void 0===n?void 0:n.id,onSelect:e=>{console.log("Conversation selected:",e),i(e),e.unreadCount>0&&e.id&&Bv.markConversationAsRead(e.id,t.id,t.role).then(()=>{a(t=>t.map(t=>t.id===e.id?(0,ot.A)((0,ot.A)({},t),{},{unreadCount:0}):t)),y()}).catch(console.error)},searchQuery:o,onSearchChange:async e=>{if(l(e),e.trim())try{const t=await Bv.searchConversations(e);console.log("Search results:",t),Array.isArray(t)?a(t):a([])}catch(t){console.error("Search failed:",t),a([])}else x()},filterStatus:c,onFilterChange:d,unreadCount:u})}),(0,Xm.jsx)("div",{className:"flex-1 flex flex-col",children:n?(0,Xm.jsx)(Vv,{conversation:n,onNewMessage:e=>{console.log("New message received:",e),x(),a(t=>t.map(t=>t.id===e.conversationId?(0,ot.A)((0,ot.A)({},t),{},{lastMessagePreview:e.content,lastMessageAt:e.createdAt,unreadCount:t.id===(null===n||void 0===n?void 0:n.id)?0:t.unreadCount+1}):t).sort((e,t)=>new Date(t.lastMessageAt||0)-new Date(e.lastMessageAt||0))),y()},onConversationUpdate:x}):(0,Xm.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Xm.jsx)(Km,{className:"w-10 h-10 text-gray-400"})}),(0,Xm.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No conversation selected"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"Select a conversation from the list to start messaging"})]})})]})},sb=()=>(0,Xm.jsx)(nb,{}),ib=zm("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),ob=ey({cardholderName:zf().required("Cardholder name is required"),cardNumber:zf().required("Card number is required").min(16,"Invalid card number"),expiryMonth:zf().required("Expiry month is required"),expiryYear:zf().required("Expiry year is required"),cvv:zf().required("CVV is required").min(3,"Invalid CVV"),isDefault:Pf()}),lb=()=>{const e=te(),{user:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)({}),[p,h]=(0,s.useState)("overview");Tx({resolver:Lx(ob),defaultValues:{cardholderName:"",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",isDefault:!1}});(0,s.useEffect)(()=>{x(),f()},[]);const x=async()=>{try{const e=await r(()=>lg.getMedicalConfigurations("PAYMENTMETHOD"));i(e||[])}catch(e){console.error("Failed to load payment methods:",e)}},f=async()=>{try{const e=await r(()=>dp.getPaymentHistory());l(e||[])}catch(e){console.error("Failed to load transactions:",e)}},y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),v=e=>{if(!e)return"Card";const t=e.toString().replace(/\s+/g,"");return/^4/.test(t)?"Visa":/^5[1-5]/.test(t)?"Mastercard":/^3[47]/.test(t)?"American Express":/^6/.test(t)?"Discover":"Card"},b=[{id:"overview",label:"Overview",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"})},{id:"methods",label:"Payment Methods",icon:(0,Xm.jsx)(Ym,{className:"w-4 h-4"})},{id:"history",label:"Transaction History",icon:(0,Xm.jsx)(ib,{className:"w-4 h-4"})}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments & Billing"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your payment methods and view transaction history"})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:()=>{x(),f()},children:"Refresh"})})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)(My,{className:"mb-6",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"flex space-x-8 px-6",children:b.map(e=>(0,Xm.jsxs)("button",{onClick:()=>h(e.id),className:"flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ".concat(p===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})}),(0,Xm.jsxs)("div",{className:"p-6",children:["overview"===p&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Payment Methods",value:n.length,icon:(0,Xm.jsx)(Ym,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-blue-50 to-blue-100"}),(0,Xm.jsx)(Ry,{title:"Total Transactions",value:o.length,icon:(0,Xm.jsx)(ib,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-green-50 to-green-100"}),(0,Xm.jsx)(Ry,{title:"Total Payments",value:g(o.filter(e=>"completed"===e.status.toLowerCase()).reduce((e,t)=>e+(t.amount||0),0)),icon:(0,Xm.jsx)(Cp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-purple-50 to-purple-100"})]}),(0,Xm.jsx)(My,{title:"Recent Transactions",action:(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",onClick:()=>e("/app/patient/payment-history"),children:"View All"}),children:(0,Xm.jsx)("div",{className:"p-6",children:o.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:o.slice(0,5).map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-gray-500"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.description}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:y(e.date)})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:g(e.amount)}),(0,Xm.jsx)(lp,{variant:"completed"===e.status?"success":"warning",size:"sm",children:e.status})]})]},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(ib,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No transactions yet"})]})})})]}),"methods"===p&&(0,Xm.jsx)("div",{className:"space-y-6",children:n.length>0?(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(e=>(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Ym,{className:"w-6 h-6 text-gray-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900",children:v(e.cardNumber||e.number)}),e.isDefault&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:"Default"})]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ",(e.cardNumber||e.number||"****").toString().slice(-4)]})]})]})}),(0,Xm.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Cardholder"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:e.cardholderName||e.holderName||e.name||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Expires"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:[e.expiryMonth||e.expMonth||"**","/",e.expiryYear||e.expYear||"****"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"CVV"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:u[e.id]&&(e.cvv||e.cvc)||"\u2022\u2022\u2022"}),(0,Xm.jsx)("button",{onClick:()=>m((0,ot.A)((0,ot.A)({},u),{},{[e.id]:!u[e.id]})),className:"text-gray-400 hover:text-gray-600",children:u[e.id]?(0,Xm.jsx)(sy,{className:"w-4 h-4"}):(0,Xm.jsx)(iy,{className:"w-4 h-4"})})]})]})]}),(0,Xm.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[!e.isDefault&&(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{await r(()=>dp.setDefaultPaymentMethod(e)),i(n.map(t=>(0,ot.A)((0,ot.A)({},t),{},{isDefault:t.id===e})))}catch(t){console.error("Failed to set default payment method:",t)}})(e.id),children:"Set as Default"}),(0,Xm.jsx)("div",{className:"flex space-x-2 ml-auto",children:(0,Xm.jsx)("button",{onClick:()=>(async e=>{try{await r(()=>dp.deletePaymentMethod(e)),i(n.filter(t=>t.id!==e))}catch(t){console.error("Failed to delete payment method:",t)}})(e.id),className:"p-2 text-gray-400 hover:text-red-600",disabled:e.isDefault,children:(0,Xm.jsx)(By,{className:"w-4 h-4"})})})]})})]})},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Ym,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Methods"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Add a payment method to make payments for consultations."})]})}),"history"===p&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)(My,{title:"All Transactions",action:(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>{if(0===o.length)return void alert("No transactions to export");const e=[["Transaction ID","Date","Description","Amount","Status","Payment Method","Transaction Type","Reference ID","Platform Fee","Doctor ID","Case ID","Currency","Processing Fee","Net Amount"].join(","),...o.map(e=>[e.id||"",e.date?y(e.date):"",'"'.concat(e.description||"",'"'),e.amount||0,e.status||"",e.paymentMethod||"",e.type||e.transactionType||"",e.referenceId||e.transactionId||"",e.platformFee||0,e.doctorId||"",e.caseId||"",e.currency||"USD",e.processingFee||0,e.netAmount||e.amount-(e.platformFee||0)-(e.processingFee||0)].join(","))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(t);r.setAttribute("href",a),r.setAttribute("download","payment-history-".concat((new Date).toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},disabled:0===o.length,children:"Export CSV"}),children:(0,Xm.jsx)("div",{className:"p-6",children:o.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-gray-500"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.description}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2 text-sm text-gray-600",children:[(0,Xm.jsxs)("div",{className:"space-y-1",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Date:"})," ",y(e.date)]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"ID:"})," ",e.id]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Reference:"})," ",e.referenceId||e.transactionId||"N/A"]})]}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Type:"})," ",e.type||e.transactionType||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Payment Method:"})," ",e.paymentMethod||"Credit Card"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Currency:"})," ",e.currency||"USD"]})]}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[e.doctorId&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Doctor ID:"})," ",e.doctorId]}),e.caseId&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Case ID:"})," ",e.caseId]}),e.platformFee&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Platform Fee:"})," ",g(e.platformFee)]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(lp,{variant:"completed"===e.status?"success":"pending"===e.status?"warning":"failed"===e.status?"error":"default",children:e.status}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:g(e.amount)}),e.netAmount&&e.netAmount!==e.amount&&(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:["Net: ",g(e.netAmount)]})]})]})]},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(ib,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No transactions found"})]})})})})]})]})})]})},cb=()=>(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment History"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Payment history will be implemented here."})]}),db=zm("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ub=ey().shape({fullName:zf().required("Full name is required"),dateOfBirth:Wf().required("Date of birth is required"),gender:zf().required("Gender is required"),phoneNumber:zf().required("Phone number is required"),email:zf().email("Invalid email").required("Email is required"),address:zf(),city:zf(),country:zf(),postalCode:zf()}),mb=ey().shape({bloodGroup:zf(),allergies:zf(),chronicConditions:zf(),medicalHistory:zf()}),pb=(ey().shape({emergencyContactName:zf().required("Contact name is required"),emergencyContactPhone:zf().required("Contact phone is required")}),()=>{const{user:e,updateUser:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)("personal"),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)({}),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[y,g]=(0,s.useState)([]),v=Tx({resolver:Lx(ub)}),b=Tx({resolver:Lx(mb)});Tx({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});(0,s.useEffect)(()=>{j(),w()},[]),(0,s.useEffect)(()=>{o&&(v.reset({fullName:o.fullName||"",dateOfBirth:o.dateOfBirth||"",gender:o.gender||"",phoneNumber:o.phoneNumber||"",email:o.email||"",address:o.address||"",city:o.city||"",country:o.country||"",postalCode:o.postalCode||""}),b.reset({bloodGroup:o.bloodGroup||"",allergies:o.allergies||"",chronicConditions:o.chronicConditions||"",medicalHistory:o.medicalHistory||"",emergencyContactName:o.emergencyContactName||"",emergencyContactPhone:o.emergencyContactPhone||""}))},[o,v,b]);const j=async()=>{try{const e=await r(()=>dp.getProfile());l(e)}catch(e){console.error("Failed to load profile:",e)}},w=async()=>{try{const e=await r(()=>lg.getAllCountries());g(e||[])}catch(e){console.error("Failed to load countries:",e)}},N=()=>{if(!o)return 0;const e=["fullName","dateOfBirth","gender","phoneNumber","address","bloodGroup","emergencyContactName"],t=e.filter(e=>o[e]);return Math.round(t.length/e.length*100)},C=[{id:"personal",label:"Personal Info",icon:(0,Xm.jsx)(Wm,{className:"w-4 h-4"})},{id:"medical",label:"Medical History",icon:(0,Xm.jsx)(Pp,{className:"w-4 h-4"})},{id:"emergency",label:"Emergency Contacts",icon:(0,Xm.jsx)(gy,{className:"w-4 h-4"})}];return a&&!o?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden",children:null!==o&&void 0!==o&&o.avatar?(0,Xm.jsx)("img",{src:o.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):(0,Xm.jsx)(Wm,{className:"w-10 h-10 text-primary-600"})}),(0,Xm.jsx)("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-lg cursor-pointer hover:bg-gray-50",children:(0,Xm.jsx)(db,{className:"w-4 h-4 text-gray-600"})}),(0,Xm.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.files[0]&&(async e=>{try{const a=await r(()=>dp.uploadAvatar(e));l((0,ot.A)((0,ot.A)({},o),{},{avatar:a.avatarUrl})),t({avatar:a.avatarUrl})}catch(a){console.error("Failed to upload avatar:",a)}})(e.target.files[0])}})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===o||void 0===o?void 0:o.fullName}),(0,Xm.jsx)("p",{className:"text-gray-600",children:null===o||void 0===o?void 0:o.email})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Profile Completion"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-primary-600",children:[N(),"%"]})]}),(0,Xm.jsxs)("div",{className:"relative w-24 h-24",children:[(0,Xm.jsxs)("svg",{className:"transform -rotate-90 w-24 h-24",children:[(0,Xm.jsx)("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-gray-200"}),(0,Xm.jsx)("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:"".concat(2*Math.PI*40),strokeDashoffset:"".concat(2*Math.PI*40*(1-N()/100)),className:"text-primary-500 transition-all duration-500"})]}),(0,Xm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Xm.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[N(),"%"]})})]})]})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsx)(My,{className:"sticky top-4",children:(0,Xm.jsx)("nav",{className:"space-y-1 p-4",children:C.map(e=>(0,Xm.jsxs)("button",{onClick:()=>i(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(n===e.id?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})})}),(0,Xm.jsxs)("div",{className:"lg:col-span-3",children:["personal"===n&&(0,Xm.jsx)(My,{title:"Personal Information",children:(0,Xm.jsx)("form",{onSubmit:v.handleSubmit(async e=>{try{const t=await r(()=>dp.updateProfile(e));l(t),d((0,ot.A)((0,ot.A)({},c),{},{personal:!1}))}catch(t){console.error("Failed to update profile:",t)}}),children:(0,Xm.jsxs)("div",{className:"space-y-6 p-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},v.register("fullName")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),v.formState.errors.fullName&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.formState.errors.fullName.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"date"},v.register("dateOfBirth")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},v.register("gender")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select Gender"}),(0,Xm.jsx)("option",{value:"MALE",children:"Male"}),(0,Xm.jsx)("option",{value:"FEMALE",children:"Female"}),(0,Xm.jsx)("option",{value:"OTHER",children:"Other"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},v.register("phoneNumber")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"email"},v.register("email")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},v.register("address")),{},{disabled:!c.personal,placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},v.register("city")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},v.register("country")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select Country"}),y.map(e=>(0,Xm.jsx)("option",{value:e.name,children:e.name},e.code))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},v.register("postalCode")),{},{disabled:!c.personal,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]})]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:c.personal?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),onClick:()=>{d((0,ot.A)((0,ot.A)({},c),{},{personal:!1})),v.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:a,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>d((0,ot.A)((0,ot.A)({},c),{},{personal:!0})),children:"Edit Information"})})]})})}),"medical"===n&&(0,Xm.jsx)(My,{title:"Medical History",children:(0,Xm.jsx)("form",{onSubmit:b.handleSubmit(async e=>{try{const t=await r(()=>dp.updateProfile(e));l(t),d((0,ot.A)((0,ot.A)({},c),{},{medical:!1}))}catch(t){console.error("Failed to update medical history:",t)}}),children:(0,Xm.jsxs)("div",{className:"space-y-6 p-6",children:[(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},b.register("bloodGroup")),{},{disabled:!c.medical,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select Blood Group"}),(0,Xm.jsx)("option",{value:"A+",children:"A+"}),(0,Xm.jsx)("option",{value:"A-",children:"A-"}),(0,Xm.jsx)("option",{value:"B+",children:"B+"}),(0,Xm.jsx)("option",{value:"B-",children:"B-"}),(0,Xm.jsx)("option",{value:"AB+",children:"AB+"}),(0,Xm.jsx)("option",{value:"AB-",children:"AB-"}),(0,Xm.jsx)("option",{value:"O+",children:"O+"}),(0,Xm.jsx)("option",{value:"O-",children:"O-"})]}))]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},b.register("allergies")),{},{disabled:!c.medical,rows:3,placeholder:"List any known allergies (medications, food, environmental, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chronic Conditions"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},b.register("chronicConditions")),{},{disabled:!c.medical,rows:3,placeholder:"List any ongoing medical conditions (diabetes, hypertension, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},b.register("medicalHistory")),{},{disabled:!c.medical,rows:5,placeholder:"Provide details about past surgeries, hospitalizations, family history, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:c.medical?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),onClick:()=>{d((0,ot.A)((0,ot.A)({},c),{},{medical:!1})),b.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:a,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>d((0,ot.A)((0,ot.A)({},c),{},{medical:!0})),children:"Edit Medical History"})})]})})}),"emergency"===n&&(0,Xm.jsx)(My,{title:"Emergency Contact Information",children:(0,Xm.jsx)("form",{onSubmit:b.handleSubmit(async e=>{try{const t=await r(()=>dp.updateProfile(e));l(t),d((0,ot.A)((0,ot.A)({},c),{},{emergency:!1}))}catch(t){console.error("Failed to update emergency contact:",t)}}),children:(0,Xm.jsxs)("div",{className:"space-y-6 p-6",children:[(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Emergency Contact Information"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-700",children:"This information will be used to contact someone in case of a medical emergency. Please ensure the details are accurate and up to date."})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},b.register("emergencyContactName")),{},{disabled:!c.emergency,placeholder:"Full name of emergency contact",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),b.formState.errors.emergencyContactName&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.formState.errors.emergencyContactName.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},b.register("emergencyContactPhone")),{},{disabled:!c.emergency,placeholder:"Phone number with country code",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),b.formState.errors.emergencyContactPhone&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.formState.errors.emergencyContactPhone.message})]})]}),(null===o||void 0===o?void 0:o.emergencyContactName)&&!c.emergency&&(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,Xm.jsx)("div",{className:"flex items-center justify-between",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"bg-green-100 rounded-full p-2",children:(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:o.emergencyContactName}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:o.emergencyContactPhone})]})]})})}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:c.emergency?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),onClick:()=>{d((0,ot.A)((0,ot.A)({},c),{},{emergency:!1})),b.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:a,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>d((0,ot.A)((0,ot.A)({},c),{},{emergency:!0})),children:null!==o&&void 0!==o&&o.emergencyContactName?"Update Contact":"Add Contact"})})]})})})]})]})}),p&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto",children:[(0,Xm.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold",children:"Image Preview"}),(0,Xm.jsx)("button",{onClick:()=>{h(!1),f(null)},className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsx)("img",{src:x,alt:"Preview",className:"w-full h-auto"})})]})})]})}),hb=ey({complaintType:zf().required("Complaint type is required"),description:zf().required("Description is required").min(20,"Description must be at least 20 characters"),priority:zf().required("Priority is required"),doctorId:zf().nullable(),caseId:zf().nullable()}),xb=()=>{var e;const t=te(),{user:r}=Jd(),{execute:a,loading:n}=Iy(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)({}),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(null),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)("all"),[C,S]=(0,s.useState)("all"),[A,k]=(0,s.useState)("created_desc"),[E,P]=(0,s.useState)([]),[O,T]=(0,s.useState)([]),D=Tx({resolver:Lx(hb),defaultValues:{complaintType:"",description:"",priority:"MEDIUM",doctorId:"",caseId:""}});(0,s.useEffect)(()=>{R(),_(),M()},[]),(0,s.useEffect)(()=>{I()},[i,g,b,w,C,A]);const R=async()=>{try{const e=await a(()=>dp.getComplaints());o(e||[]);const t=e||[],r={total:t.length,open:t.filter(e=>"OPEN"===e.status).length,inProgress:t.filter(e=>"IN_PROGRESS"===e.status).length,resolved:t.filter(e=>"RESOLVED"===e.status).length};u(r)}catch(e){console.error("Failed to load complaints:",e)}},_=async()=>{try{const e=await a(()=>dp.getCases());P(e||[])}catch(e){console.error("Failed to load cases:",e)}},M=async()=>{try{const e=await a(()=>dp.getDoctors());T(e||[])}catch(e){console.error("Failed to load doctors:",e)}},I=()=>{let e=[...i];g&&(e=e.filter(e=>{var t;return e.description.toLowerCase().includes(g.toLowerCase())||(null===(t=e.complaintId)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))})),"all"!==b&&(e=e.filter(e=>e.status===b.toUpperCase())),"all"!==w&&(e=e.filter(e=>e.complaintType===w.toUpperCase())),"all"!==C&&(e=e.filter(e=>e.priority===C.toUpperCase())),e.sort((e,t)=>{switch(A){case"created_desc":return new Date(t.createdAt)-new Date(e.createdAt);case"created_asc":return new Date(e.createdAt)-new Date(t.createdAt);case"updated_desc":return new Date(t.updatedAt)-new Date(e.updatedAt);case"priority_high":const r={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};return r[t.priority]-r[e.priority];case"status":return e.status.localeCompare(t.status);default:return 0}}),c(e)},L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=e=>{switch(e){case"OPEN":return(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-500"});case"IN_PROGRESS":return(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-500"});case"RESOLVED":return(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"});case"CLOSED":return(0,Xm.jsx)(eg,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(jg,{className:"w-5 h-5 text-gray-400"})}},q=e=>{switch(e){case"CRITICAL":return"bg-red-600 text-white border-red-600";case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=e=>{switch(e){case"SYSTEM":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});case"PAYMENT":return(0,Xm.jsx)(gp,{className:"w-4 h-4"});case"SERVICE":return(0,Xm.jsx)(Wm,{className:"w-4 h-4"});case"DOCTOR":return(0,Xm.jsx)(Ip,{className:"w-4 h-4"});default:return(0,Xm.jsx)(jg,{className:"w-4 h-4"})}},U=[{value:"DOCTOR",label:"Doctor Related"},{value:"SYSTEM",label:"System/Technical Issue"},{value:"PAYMENT",label:"Payment Issue"},{value:"SERVICE",label:"Service Quality"},{value:"OTHER",label:"Other"}],B=[{value:"LOW",label:"Low"},{value:"MEDIUM",label:"Medium"},{value:"HIGH",label:"High"},{value:"CRITICAL",label:"Critical"}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(wp,{className:"w-8 h-8 text-orange-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Complaints"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Track and manage your submitted complaints"})]})]}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:()=>p(!0),disabled:n,children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"New Complaint"]})]})})})}),(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(Ry,{title:"Total Complaints",value:d.total||0,icon:(0,Xm.jsx)(jg,{className:"w-6 h-6 text-blue-600"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Open",value:d.open||0,icon:(0,Xm.jsx)(wp,{className:"w-6 h-6 text-orange-600"}),color:"orange"}),(0,Xm.jsx)(Ry,{title:"In Progress",value:d.inProgress||0,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6 text-blue-600"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Resolved",value:d.resolved||0,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6 text-green-600"}),color:"green"})]}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Xm.jsx)("div",{children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search complaints...",value:g,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})}),(0,Xm.jsx)("select",{value:b,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),U.map(e=>(0,Xm.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),B.map(e=>(0,Xm.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),(0,Xm.jsx)("select",{value:A,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[{value:"created_desc",label:"Newest First"},{value:"created_asc",label:"Oldest First"},{value:"updated_desc",label:"Recently Updated"},{value:"priority_high",label:"Priority (High to Low)"},{value:"status",label:"Status"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]})})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"p-6",children:l.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:l.map(e=>{var t,r;return(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[z(e.complaintType),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:(null===(t=U.find(t=>t.value===e.complaintType))||void 0===t?void 0:t.label)||e.complaintType}),(0,Xm.jsx)(lp,{className:q(e.priority),children:e.priority})]}),(0,Xm.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.description}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:L(e.createdAt)})]}),e.caseId&&(0,Xm.jsxs)("span",{children:["Case #",e.caseId]}),e.doctorId&&(0,Xm.jsxs)("span",{children:["Doctor# ",(null===(r=O.find(t=>t.id===e.doctorId))||void 0===r?void 0:r.doctorId)||"Unknown"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 ml-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[F(e.status),(0,Xm.jsx)(sp,{status:e.status.toLowerCase(),children:e.status.replace("_"," ")})]}),(0,Xm.jsxs)(Zm,{size:"sm",variant:"outline",onClick:()=>(e=>{x(e),y(!0)})(e),children:[(0,Xm.jsx)(iy,{className:"w-4 h-4 mr-1"}),"View"]})]})]})},e.id)})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(wp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Complaints Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:0===i.length?"You haven't submitted any complaints yet":"No complaints match your current filters"}),0===i.length&&(0,Xm.jsxs)(Zm,{variant:"primary",onClick:()=>p(!0),children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"Submit Your First Complaint"]})]})})})]}),m&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Submit New Complaint"}),(0,Xm.jsx)("button",{onClick:()=>{p(!1),D.reset()},className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("form",{onSubmit:D.handleSubmit(async e=>{try{const t={patientId:r.id,complaintType:e.complaintType,description:e.description,priority:e.priority,doctorId:e.doctorId||null,caseId:e.caseId||null},n=await a(()=>dp.createComplaint(t));o([n,...i]),p(!1),D.reset(),alert("Complaint submitted successfully! You will receive updates via email.")}catch(t){console.error("Failed to create complaint:",t),alert("Failed to submit complaint. Please try again.")}}),className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Type *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},D.register("complaintType")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select complaint type"}),U.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]})),D.formState.errors.complaintType&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:D.formState.errors.complaintType.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),(0,Xm.jsx)("select",(0,ot.A)((0,ot.A)({},D.register("priority")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:B.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})),D.formState.errors.priority&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:D.formState.errors.priority.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Case (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},D.register("caseId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select a case (if applicable)"}),E.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:["Case #",e.id," - ",e.diagnosis||"General"]},e.id))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Doctor (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},D.register("doctorId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select a doctor (if applicable)"}),O.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:["Dr. ",e.firstName," ",e.lastName," - ",e.specialization]},e.id))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},D.register("description")),{},{rows:6,placeholder:"Please provide detailed information about your complaint...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),D.formState.errors.description&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:D.formState.errors.description.message})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{p(!1),D.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",disabled:n,children:n?"Submitting...":"Submit Complaint"})]})]})]})}),f&&h&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Complaint Details"}),(0,Xm.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(sp,{status:h.status.toLowerCase(),children:h.status.replace("_"," ")}),(0,Xm.jsx)(lp,{className:q(h.priority),children:h.priority})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Type"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:(null===(e=U.find(e=>e.value===h.complaintType))||void 0===e?void 0:e.label)||h.complaintType})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:h.description})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Submitted"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:L(h.createdAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Last Updated"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:L(h.updatedAt)})]})]}),h.adminResponse&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Admin Response"}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:h.adminResponse})})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>t("/app/patient/complaints/".concat(h.id)),children:[(0,Xm.jsx)(Km,{className:"w-4 h-4 mr-2"}),"View Details"]}),(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>y(!1),children:"Close"})]})]})]})})]})},fb=zm("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),yb=ey({message:zf().required("Message is required").min(1,"Message cannot be empty")}),gb=ey({rating:zf().required("Rating is required"),comment:zf().optional()}),vb=()=>{var e,t;const{id:r}=ae(),a=te(),{user:n}=Jd(),{execute:i,loading:o}=Iy(),l=(0,s.useRef)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)(null),[S,A]=(0,s.useState)(!1),k=Tx({resolver:Lx(yb),defaultValues:{message:""}}),E=Tx({resolver:Lx(gb),defaultValues:{rating:"",comment:""}});(0,s.useEffect)(()=>{T()},[u]);const P=async()=>{try{const e=await i(()=>dp.getComplaintById(r));d(e),C(e.assignedTo)}catch(e){console.error("Failed to load complaint details:",e),a("/patient/complaints")}},O=async e=>{try{const t={message:e.message,attachments:p,complaintId:r},a=await i(()=>dp.sendComplaintMessage(t));m(e=>[...e,a]),k.reset(),h([])}catch(t){console.error("Failed to send message:",t)}},T=()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},D=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},_=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=e=>/\.(jpg|jpeg|png|gif|webp)$/i.test(e);return c?(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>a("/patient/complaints"),children:"Back to Complaints"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"open":return(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-500"});case"in_progress":return(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-500"});case"resolved":return(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"});case"closed":return(0,Xm.jsx)(eg,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(Km,{className:"w-5 h-5 text-gray-400"})}})(c.status),(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:c.subject}),(0,Xm.jsx)(sp,{status:c.status}),(0,Xm.jsxs)(lp,{className:_(c.priority),children:[c.priority," Priority"]})]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Complaint #",c.complaintId," \u2022 Created ",D(c.createdAt)]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:["RESOLVED"===c.status&&!c.adminResponse&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Ip,{className:"w-4 h-4"}),onClick:()=>f(!0),children:"Rate Support"}),"CLOSED"!==c.status&&"RESOLVED"!==c.status&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Ng,{className:"w-4 h-4"}),onClick:()=>g(!0),children:"Escalate"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>dp.downloadComplaintSummary(r,"complaint-".concat(c.complaintId,".pdf")),children:"Download"})]})]})})})}),(0,Xm.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Xm.jsx)("div",{className:"w-80 bg-white border-r border-gray-200 overflow-y-auto",children:(0,Xm.jsxs)("div",{className:"p-6",children:[N&&(0,Xm.jsx)(My,{title:"Support Agent",className:"mb-6",children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-6 h-6 text-primary-600"})}),S&&(0,Xm.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:N.name}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:N.role}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(S?"bg-green-500":"bg-gray-400")}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:S?"Online":"Offline"})]})]})]}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",icon:(0,Xm.jsx)(gy,{className:"w-4 h-4"}),className:"w-full",children:"Call"}),(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",icon:(0,Xm.jsx)(py,{className:"w-4 h-4"}),className:"w-full",children:"Email"})]})})]})}),(0,Xm.jsx)(My,{title:"Complaint Details",className:"mb-6",children:(0,Xm.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Type"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:c.complaintType})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Priority"}),(0,Xm.jsx)(lp,{className:_(c.priority),size:"sm",children:c.priority})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,Xm.jsx)(sp,{status:c.status,size:"sm"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:D(c.createdAt)})]}),c.updatedAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:D(c.updatedAt)})]}),c.resolvedAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Resolved"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:D(c.resolvedAt)})]})]})}),(0,Xm.jsx)(My,{title:"Original Description",className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:c.description})})}),c.attachments&&c.attachments.length>0&&(0,Xm.jsx)(My,{title:"Original Attachments",className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-4 space-y-2",children:c.attachments.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[M(e.name)?(0,Xm.jsx)(Rg,{className:"w-4 h-4 text-gray-500"}):(0,Xm.jsx)(gp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:R(e.size)})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[M(e.name)&&(0,Xm.jsx)("button",{onClick:()=>b(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(iy,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>dp.downloadAttachment(e.id,e.name),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Hy,{className:"w-4 h-4"})})]})]},t))})}),"RESOLVED"===c.status&&c.adminResponse&&(0,Xm.jsx)(My,{title:"Resolution",className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:c.adminResponse}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Resolved by ",null===(e=c.assignedTo)||void 0===e?void 0:e.id," on ",D(c.resolvedAt)]})]})]})})}),c.feedback&&(0,Xm.jsx)(My,{title:"Your Feedback",className:"mb-6",children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:["positive"===c.feedback.rating?(0,Xm.jsx)(wg,{className:"w-4 h-4 text-green-500"}):(0,Xm.jsx)(fb,{className:"w-4 h-4 text-red-500"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["positive"===c.feedback.rating?"Positive":"Negative"," Feedback"]})]}),c.feedback.comment&&(0,Xm.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',c.feedback.comment,'"']}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Submitted ",D(c.feedback.createdAt)]})]})})]})}),(0,Xm.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Xm.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto",children:[u.length>0?(0,Xm.jsxs)("div",{className:"space-y-4",children:[u.map(e=>(0,Xm.jsx)("div",{className:"flex ".concat("patient"===e.sender.type?"justify-end":"justify-start"),children:(0,Xm.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-3 rounded-lg ".concat("patient"===e.sender.type?"bg-primary-500 text-white":"bg-white border border-gray-200 text-gray-900"),children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Xm.jsx)("span",{className:"text-xs font-medium",children:e.sender.name}),(0,Xm.jsx)("span",{className:"text-xs ".concat("patient"===e.sender.type?"text-primary-100":"text-gray-500"),children:D(e.createdAt)})]}),(0,Xm.jsx)("p",{className:"text-sm leading-relaxed",children:e.message}),e.attachments&&e.attachments.length>0&&(0,Xm.jsx)("div",{className:"mt-3 space-y-2",children:e.attachments.map((t,r)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded ".concat("patient"===e.sender.type?"bg-primary-400":"bg-gray-50"),children:[(0,Xm.jsx)(Fv,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{className:"text-xs truncate",children:t.name}),(0,Xm.jsx)("button",{onClick:()=>dp.downloadAttachment(t.id,t.name),className:"p-1 hover:bg-black hover:bg-opacity-10 rounded",children:(0,Xm.jsx)(Hy,{className:"w-3 h-3"})})]},r))}),"patient"===e.sender.type&&(0,Xm.jsxs)("div",{className:"flex items-center justify-end mt-2",children:["delivered"===e.status&&(0,Xm.jsx)(Up,{className:"w-3 h-3 text-primary-200"}),"read"===e.status&&(0,Xm.jsxs)("div",{className:"flex space-x-1",children:[(0,Xm.jsx)(Up,{className:"w-3 h-3 text-primary-200"}),(0,Xm.jsx)(Up,{className:"w-3 h-3 text-primary-200"})]})]})]})},e.id)),j&&(0,Xm.jsx)("div",{className:"flex justify-start",children:(0,Xm.jsx)("div",{className:"bg-gray-100 rounded-lg px-4 py-3",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsxs)("div",{className:"flex space-x-1",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:"Support is typing..."})]})})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Km,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-2",children:"No messages yet"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Start the conversation by sending a message below"})]}),(0,Xm.jsx)("div",{ref:l})]})}),"closed"!==c.status&&(0,Xm.jsx)("div",{className:"border-t border-gray-200 bg-white p-4",children:(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Xm.jsxs)("form",{onSubmit:k.handleSubmit(O),className:"space-y-4",children:[p.length>0&&(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-2",children:[M(e.name)?(0,Xm.jsx)(Rg,{className:"w-4 h-4 text-gray-500"}):(0,Xm.jsx)(gp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700 truncate max-w-32",children:e.name}),(0,Xm.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void h(p.filter(e=>e.id!==t));var t},className:"text-gray-400 hover:text-red-500",children:(0,Xm.jsx)(Tp,{className:"w-4 h-4"})})]},e.id))}),(0,Xm.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},k.register("message")),{},{placeholder:"Type your message...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k.handleSubmit(O)())}})),k.formState.errors.message&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.formState.errors.message.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(e=>({id:Date.now()+Math.random(),file:e,name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e)}));h([...p,...t])},className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt"}),(0,Xm.jsx)("label",{htmlFor:"file-upload",className:"p-3 text-gray-400 hover:text-gray-600 cursor-pointer",children:(0,Xm.jsx)(Fv,{className:"w-5 h-5"})}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",icon:(0,Xm.jsx)(qv,{className:"w-5 h-5"}),loading:o,disabled:!(null!==(t=k.watch("message"))&&void 0!==t&&t.trim())&&0===p.length,children:"Send"})]})]})]})})})]})]}),(0,Xm.jsx)(Ky,{show:x,onClose:()=>f(!1),title:"Rate Our Support",onSubmit:E.handleSubmit(async e=>{try{await i(()=>dp.submitComplaintFeedback(r,e)),f(!1),await P(),E.reset()}catch(t){console.error("Failed to submit feedback:",t)}}),loading:o,children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How would you rate our support? *"}),(0,Xm.jsxs)("div",{className:"flex space-x-4",children:[(0,Xm.jsxs)("button",{type:"button",onClick:()=>E.setValue("rating","positive"),className:"flex items-center space-x-2 px-4 py-3 border-2 rounded-lg transition-colors ".concat("positive"===E.watch("rating")?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-green-300"),children:[(0,Xm.jsx)(wg,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{children:"Helpful"})]}),(0,Xm.jsxs)("button",{type:"button",onClick:()=>E.setValue("rating","negative"),className:"flex items-center space-x-2 px-4 py-3 border-2 rounded-lg transition-colors ".concat("negative"===E.watch("rating")?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-red-300"),children:[(0,Xm.jsx)(fb,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{children:"Not Helpful"})]})]}),E.formState.errors.rating&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:E.formState.errors.rating.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},E.register("comment")),{},{rows:4,placeholder:"Tell us more about your experience...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}))]})]})}),(0,Xm.jsx)(Yy,{show:y,onClose:()=>g(!1),title:"Escalate Complaint",message:"Escalating this complaint will bring it to the attention of a supervisor. Are you sure you want to proceed?",confirmText:"Escalate Complaint",confirmVariant:"warning",onConfirm:()=>(async e=>{try{await i(()=>dp.escalateComplaint(r,{reason:e})),g(!1),await P()}catch(t){console.error("Failed to escalate complaint:",t)}})("User requested escalation"),loading:o,children:(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for escalation (Optional)"}),(0,Xm.jsx)("textarea",{rows:3,placeholder:"Please describe why you want to escalate this complaint...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})}),v&&(0,Xm.jsx)($y,{show:!!v,onClose:()=>b(null),title:"Attachment Preview",size:"lg",children:(0,Xm.jsxs)("div",{className:"text-center",children:[M(v.name)?(0,Xm.jsx)("img",{src:v.url,alt:v.name,className:"max-w-full max-h-96 mx-auto rounded-lg"}):(0,Xm.jsxs)("div",{className:"py-12",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Preview not available for this file type"})]}),(0,Xm.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:v.name}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:R(v.size)})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>dp.downloadAttachment(v.id,v.name),children:"Download"})]})})]})}),"closed"===c.status&&(0,Xm.jsx)("div",{className:"fixed bottom-4 right-4",children:(0,Xm.jsx)(My,{className:"w-80 shadow-lg",children:(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Need More Help?"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Your complaint has been closed, but we're still here to help."}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",icon:(0,Xm.jsx)(gy,{className:"w-4 h-4"}),onClick:()=>window.open("tel:+15551234567"),children:"Call"}),(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",icon:(0,Xm.jsx)(Km,{className:"w-4 h-4"}),onClick:()=>a("/patient/complaints"),children:"New Complaint"})]})]}),(0,Xm.jsx)("button",{onClick:()=>document.querySelector(".fixed.bottom-4").style.display="none",className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-4 h-4"})})]})})})})]}):(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(pg,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading complaint details..."})]})})},bb=zm("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),jb=zm("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),wb=zm("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Nb=zm("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Cb=ey({planType:zf().required("Plan selection is required"),amount:Bf().required("Amount is required").positive("Amount must be positive"),paymentMethod:zf().required("Payment method is required"),autoRenew:Pf()}),Sb=ey({type:zf().required("Payment method type is required"),cardNumber:zf().when("type",{is:"credit_card",then:zf().required("Card number is required").min(16,"Invalid card number"),otherwise:zf().notRequired()}),expiryMonth:zf().when("type",{is:"credit_card",then:zf().required("Expiry month is required"),otherwise:zf().notRequired()}),expiryYear:zf().when("type",{is:"credit_card",then:zf().required("Expiry year is required"),otherwise:zf().notRequired()}),cvv:zf().when("type",{is:"credit_card",then:zf().required("CVV is required").min(3,"Invalid CVV"),otherwise:zf().notRequired()}),nameOnCard:zf().when("type",{is:"credit_card",then:zf().required("Name on card is required"),otherwise:zf().notRequired()})}),Ab=()=>{te();const{user:e,updateUser:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)("monthly"),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1),[S,A]=(0,s.useState)(!1),[k,E]=(0,s.useState)("overview"),P=Tx({resolver:Lx(Cb),defaultValues:{planType:"",amount:0,paymentMethod:"",autoRenew:!0}});Tx({resolver:Lx(Sb),defaultValues:{type:"credit_card",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",nameOnCard:""}});(0,s.useEffect)(()=>{O(),T(),D(),R()},[]);const O=async()=>{try{const e=await r(()=>dp.getSubscriptionStatus());i(e)}catch(e){console.error("Failed to load subscription data:",e)}},T=async()=>{try{const e=await r(()=>lg.getMedicalConfigurations("PLAN"));l(e||[])}catch(e){console.error("Failed to load subscription plans:",e)}},D=async()=>{try{const e=await r(()=>lg.getMedicalConfigurations("PAYMENTMETHOD"));console.log("Loaded payment methods:",e),d(e||[])}catch(e){console.error("Failed to load payment methods:",e)}},R=async()=>{try{const e=await r(()=>dp.getSubscriptionHistory());m(e||[])}catch(e){console.error("Failed to load subscription history:",e)}},_=e=>{let t={};try{t="string"===typeof e.attributes?JSON.parse(e.attributes):e.attributes||{}}catch(r){console.error("Error parsing plan attributes:",r)}return t},M=e=>{const t=_(e);return(0,ot.A)((0,ot.A)((0,ot.A)({},e),t),{},{parsedAttributes:t})},I=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),L=e=>{const t=M(e),r="yearly"===x?t.yearlyPrice||0:t.monthlyPrice||0;return v&&v.percentage?r*(1-v.percentage/100):r},F=e=>{const t="yearly"===x?e.yearlyPrice||0:e.monthlyPrice||0;return Number(t).toFixed(0)},q=e=>e.monthlyPrice&&e.yearlyPrice?12*e.monthlyPrice-e.yearlyPrice:0,z=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"basic":default:return(0,Xm.jsx)($m,{className:"w-6 h-6"});case"premium":return(0,Xm.jsx)(Ip,{className:"w-6 h-6"});case"pro":return(0,Xm.jsx)(bb,{className:"w-6 h-6"})}},U=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"basic":return"from-blue-50 to-blue-100 border-blue-200";case"premium":return"from-purple-50 to-purple-100 border-purple-200";case"pro":return"from-gold-50 to-gold-100 border-gold-200";default:return"from-gray-50 to-gray-100 border-gray-200"}};return(0,Xm.jsxs)("div",{className:"space-y-8",children:[(0,Xm.jsx)("div",{className:"flex justify-between items-center",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Management"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your subscription plan and billing"})]})}),(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Xm.jsx)("button",{onClick:()=>E("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("overview"===k?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,Xm.jsx)("button",{onClick:()=>E("plans"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("plans"===k?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Subscription Plans"}),(0,Xm.jsx)("button",{onClick:()=>E("history"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("history"===k?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"History"})]})}),"overview"===k&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Current Plan",value:(null===n||void 0===n?void 0:n.planType)||"No Plan",icon:(0,Xm.jsx)(bb,{className:"w-6 h-6"}),color:"primary"}),(0,Xm.jsx)(Ry,{title:"Status",value:(null===n||void 0===n?void 0:n.status)||"Inactive",icon:"active"===(null===n||void 0===n?void 0:n.status)?(0,Xm.jsx)(Up,{className:"w-6 h-6"}):(0,Xm.jsx)(wp,{className:"w-6 h-6"}),color:"active"===(null===n||void 0===n?void 0:n.status)?"success":"warning"}),(0,Xm.jsx)(Ry,{title:"Days Until Renewal",value:(()=>{if(null===n||void 0===n||!n.expiryDate)return 0;const e=new Date(n.expiryDate)-new Date;return Math.max(0,Math.ceil(e/864e5))})(),icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),color:"info"})]}),n&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Subscription Details",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Plan Type"}),(0,Xm.jsx)("span",{className:"font-semibold",children:n.planType})]}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,Xm.jsx)(sp,{status:n.status})]}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Start Date"}),(0,Xm.jsx)("span",{children:I(n.startDate)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Expiry Date"}),(0,Xm.jsx)("span",{children:I(n.expiryDate)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Auto Renewal"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[n.autoRenew?(0,Xm.jsx)(jb,{className:"w-4 h-4 text-green-500"}):(0,Xm.jsx)(hy,{className:"w-4 h-4 text-red-500"}),(0,Xm.jsx)("span",{className:"font-medium",children:n.autoRenew?"Enabled":"Disabled"})]})]})]})}),(0,Xm.jsx)(My,{title:"Plan Features",children:(0,Xm.jsx)("div",{className:"p-6",children:n&&(0,Xm.jsx)("div",{className:"space-y-3",children:(()=>{const e=o.find(e=>{var t,r,a,s;return(null===(t=e.code)||void 0===t?void 0:t.toLowerCase())===(null===(r=n.planType)||void 0===r?void 0:r.toLowerCase())||(null===(a=e.type)||void 0===a?void 0:a.toLowerCase())===(null===(s=n.planType)||void 0===s?void 0:s.toLowerCase())});let t=null;if(null!==e&&void 0!==e&&e.attributes)try{t=("string"===typeof e.attributes?JSON.parse(e.attributes):e.attributes).features}catch(r){console.error("Error parsing plan attributes:",r)}return t||(t=n.features),t&&t.length>0?t.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:e})]},t)):(0,Xm.jsx)("div",{className:"space-y-3",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Standard features included"})]})})})()})})})]})]}),"plans"===k&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsxs)("div",{className:"bg-gray-100 p-1 rounded-lg",children:[(0,Xm.jsx)("button",{onClick:()=>f("monthly"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("monthly"===x?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"}),(0,Xm.jsxs)("button",{onClick:()=>f("yearly"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("yearly"===x?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["Yearly",(0,Xm.jsx)(lp,{variant:"success",size:"xs",className:"ml-2",children:"Save 20%"})]})]})}),(0,Xm.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)("input",{type:"text",placeholder:"Enter promo code",value:y,onChange:e=>g(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{try{const e=await r(()=>dp.validatePromoCode(y));b(e)}catch(e){console.error("Invalid promo code:",e),b(null)}},disabled:!y,children:"Apply"})]}),v&&(0,Xm.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-green-600",children:[(0,Xm.jsx)(wb,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{className:"text-sm",children:[v.percentage,"% discount applied!"]})]})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(e=>{var t,r,a,s;const i=_(e),o=(null===n||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.toLowerCase())===(null===(r=e.code)||void 0===r?void 0:r.toLowerCase());return(0,Xm.jsxs)("div",{className:"relative bg-white rounded-lg border-2 p-6 transition-all duration-200 hover:shadow-lg ".concat(i.popular?"border-primary-500 shadow-md":"border-gray-200 hover:border-primary-300"),children:[i.popular&&(0,Xm.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:(0,Xm.jsx)(lp,{variant:"primary",className:"px-2 py-1 text-xs",children:"Popular"})}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-gradient-to-br ".concat(U(e.code)," flex items-center justify-center"),children:z(e.code)}),(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),(0,Xm.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,Xm.jsxs)("div",{className:"mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-baseline justify-center",children:[(0,Xm.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["$",F(i)]}),(0,Xm.jsxs)("span",{className:"text-gray-600 ml-1 text-sm",children:["/","yearly"===x?"year":"month"]})]}),"yearly"===x&&i.yearlyDiscount&&(0,Xm.jsxs)("div",{className:"mt-1 text-green-600 text-xs",children:["Save $",q(i).toFixed(0)," annually"]})]}),(0,Xm.jsxs)("div",{className:"space-y-2 mb-6 text-left",children:[(null===(a=i.features)||void 0===a?void 0:a.slice(0,3).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),(0,Xm.jsx)("span",{className:"text-gray-700 text-sm",children:e})]},t)))||(0,Xm.jsx)("div",{className:"text-gray-500 text-sm",children:"Standard features"}),(null===(s=i.features)||void 0===s?void 0:s.length)>3&&(0,Xm.jsxs)("div",{className:"text-gray-500 text-xs",children:["+",i.features.length-3," more features"]})]}),(0,Xm.jsx)(Zm,{variant:i.popular?"primary":"outline",className:"w-full",onClick:()=>{console.log("Button clicked for plan:",e.name),console.log("Plan data:",e),console.log("Current subscription:",n);const t=M(e);console.log("Plan with attributes:",t),h(t),P.setValue("planType",e.code),P.setValue("amount",L(t)),"active"===(null===n||void 0===n?void 0:n.status.toLowerCase())?(console.log("Setting showUpgradeModal to true (upgrade)"),w(!0)):(console.log("Setting showUpgradeModal to true (subscribe)"),w(!0))},disabled:o,children:o?"Current Plan":"active"===(null===n||void 0===n?void 0:n.status)?"Upgrade Plan":"Choose Plan"})]})]},e.code)})})]}),"history"===k&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Subscription History",children:(0,Xm.jsx)("div",{className:"p-6",children:u&&u.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:u.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:e.planType}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:I(e.date)}),(0,Xm.jsx)("div",{className:"text-xs text-gray-500",children:e.status})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsxs)("div",{className:"font-semibold text-gray-900",children:["$",e.amount]}),e.invoiceId&&(0,Xm.jsx)(Zm,{size:"xs",variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-3 h-3"}),className:"mt-1",onClick:()=>dp.downloadInvoice(e.invoiceId,"invoice-".concat(e.invoiceId,".pdf")),children:"Invoice"})]})]},t))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Nb,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No subscription history yet"})]})})}),(0,Xm.jsx)(My,{title:"Usage Statistics",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"12"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Cases Submitted"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"8"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Consultations"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"24"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Documents Uploaded"})]})]})})})]}),(0,Xm.jsx)(Ky,{isOpen:j,onClose:()=>w(!1),title:"active"===(null===n||void 0===n?void 0:n.status)?"Upgrade Subscription":"Subscribe to Plan",onSubmit:P.handleSubmit(async e=>{try{const a={planType:p.code,amount:L(p),paymentMethod:e.paymentMethod,autoRenew:e.autoRenew||!1};console.log("Submitting subscription data:",a);const n=await r(()=>dp.createSubscription(a));i(n),w(!1),P.reset(),t({subscription:n}),alert("Subscription updated successfully!")}catch(a){console.error("Failed to update subscription:",a)}}),isLoading:a,children:p&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[z(p.type||p.code),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:p.name}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:p.description})]})]}),(0,Xm.jsxs)("div",{className:"mt-3 flex items-baseline",children:[(0,Xm.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",L(p).toFixed(2)]}),(0,Xm.jsxs)("span",{className:"text-gray-600 ml-1",children:["/","yearly"===x?"year":"month"]})]}),v&&(0,Xm.jsxs)("div",{className:"mt-2 text-green-600 text-sm",children:["Discount applied: ",v.percentage,"% off"]})]}),(0,Xm.jsx)("input",(0,ot.A)({type:"hidden"},P.register("planType"))),(0,Xm.jsx)("input",(0,ot.A)({type:"hidden"},P.register("amount"))),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Method ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P.register("paymentMethod")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select payment method"}),c.filter(e=>e.isActive).sort((e,t)=>(e.sortOrder||0)-(t.sortOrder||0)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]})),P.formState.errors.paymentMethod&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.paymentMethod.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},P.register("autoRenew")),{},{className:"h-4 w-4 text-primary-600 rounded"})),(0,Xm.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Enable auto-renewal"})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Order Summary"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-blue-700",children:"Plan:"}),(0,Xm.jsx)("span",{className:"text-blue-900 font-medium",children:p.name})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-blue-700",children:"Billing:"}),(0,Xm.jsx)("span",{className:"text-blue-900",children:"yearly"===x?"Yearly":"Monthly"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-blue-700",children:"Amount:"}),(0,Xm.jsxs)("span",{className:"text-blue-900 font-bold",children:["$",L(p).toFixed(2)]})]}),v&&(0,Xm.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,Xm.jsx)("span",{children:"Discount:"}),(0,Xm.jsxs)("span",{children:["-",v.percentage,"%"]})]})]})]})]})}),(0,Xm.jsx)(Yy,{isOpen:N,onClose:()=>C(!1),title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You'll lose access to all premium features at the end of your current billing period.",confirmText:"Cancel Subscription",onConfirm:()=>(async e=>{try{await r(()=>dp.cancelSubscription(e)),await O(),C(!1)}catch(t){console.error("Failed to cancel subscription:",t)}})("user_request"),confirmVariant:"danger"})]})},kb=zm("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Eb=zm("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Pb=zm("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Ob=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)("preferences"),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)({notifications:{email:!0,sms:!0,push:!0,appointments:!0,reports:!0,promotions:!1},privacy:{profileVisibility:"private",dataSharing:!1,medicalHistorySharing:!0},accessibility:{theme:"light",fontSize:"medium",language:"en"}}),d=Tx({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await t(()=>dp.getPreferences());e&&c(e)}catch(e){console.error("Failed to load preferences:",e)}},m=async(e,r)=>{try{const a=(0,ot.A)((0,ot.A)({},l),{},{[e]:(0,ot.A)((0,ot.A)({},l[e]),r)});await t(()=>dp.updatePreferences(a)),c(a)}catch(a){console.error("Failed to update preferences:",a)}},p=[{id:"preferences",label:"Preferences",icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:(0,Xm.jsx)(hy,{className:"w-4 h-4"})}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Gm,{className:"w-8 h-8 text-primary-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage your preferences and security settings"})]})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsx)(My,{className:"sticky top-4",children:(0,Xm.jsx)("nav",{className:"space-y-1 p-4",children:p.map(e=>(0,Xm.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(a===e.id?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-100"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})})}),(0,Xm.jsxs)("div",{className:"lg:col-span-3",children:["preferences"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Notification Preferences",children:(0,Xm.jsx)("div",{className:"p-6 space-y-6",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Email Notifications"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.email,onChange:e=>m("notifications",{email:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"SMS Notifications"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Receive text message alerts"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.sms,onChange:e=>m("notifications",{sms:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Push Notifications"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Receive browser notifications"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.push,onChange:e=>m("notifications",{push:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Appointment Reminders"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified about upcoming appointments"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.appointments,onChange:e=>m("notifications",{appointments:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Report Notifications"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified when reports are ready"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.reports,onChange:e=>m("notifications",{reports:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Promotional Emails"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Receive promotional offers and updates"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.notifications.promotions,onChange:e=>m("notifications",{promotions:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})})}),(0,Xm.jsx)(My,{title:"Display Preferences",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Theme"}),(0,Xm.jsxs)("div",{className:"flex space-x-4",children:[(0,Xm.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"radio",name:"theme",value:"light",checked:"light"===l.accessibility.theme,onChange:e=>m("accessibility",{theme:e.target.value}),className:"text-primary-600 focus:ring-primary-500"}),(0,Xm.jsx)(kb,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Light"})]}),(0,Xm.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"radio",name:"theme",value:"dark",checked:"dark"===l.accessibility.theme,onChange:e=>m("accessibility",{theme:e.target.value}),className:"text-primary-600 focus:ring-primary-500"}),(0,Xm.jsx)(Eb,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Dark"})]}),(0,Xm.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"radio",name:"theme",value:"system",checked:"system"===l.accessibility.theme,onChange:e=>m("accessibility",{theme:e.target.value}),className:"text-primary-600 focus:ring-primary-500"}),(0,Xm.jsx)(Pb,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"System"})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Font Size"}),(0,Xm.jsxs)("select",{value:l.accessibility.fontSize,onChange:e=>m("accessibility",{fontSize:e.target.value}),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"small",children:"Small"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"large",children:"Large"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Language"}),(0,Xm.jsxs)("select",{value:l.accessibility.language,onChange:e=>m("accessibility",{language:e.target.value}),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"en",children:"English"}),(0,Xm.jsx)("option",{value:"de",children:"German"}),(0,Xm.jsx)("option",{value:"fr",children:"French"}),(0,Xm.jsx)("option",{value:"es",children:"Spanish"})]})]})]})}),(0,Xm.jsx)(My,{title:"Privacy Settings",children:(0,Xm.jsx)("div",{className:"p-6 space-y-6",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Profile Visibility"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Control who can see your profile information"})]}),(0,Xm.jsxs)("select",{value:l.privacy.profileVisibility,onChange:e=>m("privacy",{profileVisibility:e.target.value}),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"private",children:"Private"}),(0,Xm.jsx)("option",{value:"doctors",children:"Doctors Only"}),(0,Xm.jsx)("option",{value:"public",children:"Public"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Data Sharing"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Share anonymized data for research"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.privacy.dataSharing,onChange:e=>m("privacy",{dataSharing:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Medical History Sharing"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow assigned doctors to view full medical history"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:l.privacy.medicalHistorySharing,onChange:e=>m("privacy",{medicalHistorySharing:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})})})]}),"security"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Password & Security",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(hy,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Password"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Last updated 3 months ago"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>o(!0),children:"Change Password"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)($m,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Login Activity"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor your account activity"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"View Activity"})]})]})}),(0,Xm.jsx)(My,{title:"Active Sessions",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Current Session"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Chrome on Windows \u2022 Last active now"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"IP: 192.168.1.100"})]})]}),(0,Xm.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Active"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Mobile App"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"iOS App \u2022 Last active 2 hours ago"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"IP: 192.168.1.105"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"Revoke"})]})]}),(0,Xm.jsx)("div",{className:"pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",children:"Sign Out All Other Sessions"})})]})}),(0,Xm.jsx)(My,{title:"Account Security",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Email Verification"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Your email address is verified"})]}),(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Phone Verification"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Your phone number is verified"})]}),(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Account Status"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Your account is active and secure"})]}),(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})]})}),(0,Xm.jsx)(My,{title:"Data Management",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Export Data"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Download a copy of your data"})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"Request Export"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Delete Account"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all data"})]}),(0,Xm.jsx)(Zm,{variant:"danger",size:"sm",children:"Delete Account"})]})]})})]})]})]})}),i&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),(0,Xm.jsxs)("form",{onSubmit:d.handleSubmit(async e=>{if(e.newPassword===e.confirmPassword)try{await t(()=>dp.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword})),o(!1),d.reset()}catch(r){console.error("Failed to change password:",r),d.setError("currentPassword",{type:"manual",message:"Current password is incorrect"})}else d.setError("confirmPassword",{type:"manual",message:"Passwords do not match"})}),className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},d.register("currentPassword",{required:"Current password is required"})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),d.formState.errors.currentPassword&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.formState.errors.currentPassword.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},d.register("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),d.formState.errors.newPassword&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.formState.errors.newPassword.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},d.register("confirmPassword",{required:"Please confirm your new password"})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),d.formState.errors.confirmPassword&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d.formState.errors.confirmPassword.message})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Password Requirements:"}),(0,Xm.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,Xm.jsx)("li",{children:"\u2022 At least 8 characters long"}),(0,Xm.jsx)("li",{children:"\u2022 Contains uppercase and lowercase letters"}),(0,Xm.jsx)("li",{children:"\u2022 Contains at least one number"}),(0,Xm.jsx)("li",{children:"\u2022 Contains at least one special character"})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{o(!1),d.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",disabled:r,children:"Change Password"})]})]})]})})]})},Tb=ey({caseTitle:zf().required("Case title is required").min(10,"Case title must be at least 10 characters").max(100,"Case title cannot exceed 100 characters"),description:zf().required("Case description is required").min(50,"Case description must be at least 50 characters").max(2e3,"Case description cannot exceed 2000 characters"),primaryDiseaseCode:zf().required("Primary disease is required"),secondaryDiseaseCodes:ry().max(5,"Maximum 5 secondary diseases allowed"),symptomCodes:ry().min(1,"At least one symptom is required").max(20,"Maximum 20 symptoms allowed"),currentMedicationCodes:ry().max(15,"Maximum 15 medications allowed"),requiredSpecialization:zf().required("Required specialization is required"),secondarySpecializations:ry().max(3,"Maximum 3 secondary specializations allowed"),urgencyLevel:zf().required("Urgency level is required"),complexity:zf().required("Case complexity is required")}),Db=()=>{var e,t,r,a;const{caseId:n}=ae(),i=te(),{user:o}=Jd(),{execute:l,loading:c}=Iy(),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)({diseases:[],symptoms:[],medications:[],specializations:[],subspecializations:[]}),[h,x]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[b,j]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[C,S]=(0,s.useState)(""),[A,k]=(0,s.useState)(""),[E,P]=(0,s.useState)(""),[O,T]=(0,s.useState)(!1),[D,R]=(0,s.useState)(!1),{register:_,handleSubmit:M,formState:{errors:I},watch:L,setValue:F,reset:q,trigger:z}=Tx({resolver:Lx(Tb),defaultValues:{caseTitle:"",description:"",primaryDiseaseCode:"",secondaryDiseaseCodes:[],symptomCodes:[],currentMedicationCodes:[],requiredSpecialization:"",secondarySpecializations:[],urgencyLevel:"MEDIUM",complexity:"MODERATE",requiresSecondOpinion:!0,minDoctorsRequired:2,maxDoctorsAllowed:3}}),U=L(),B=L("symptomCodes")||[],V=L("currentMedicationCodes")||[],H=L("secondaryDiseaseCodes")||[],W=L("secondarySpecializations")||[];(0,s.useEffect)(()=>{n&&(G(),Y())},[n]),(0,s.useEffect)(()=>{C&&K(C)},[C]),(0,s.useEffect)(()=>{if(null!==d&&void 0!==d&&d.primaryDiseaseCode&&m.diseases.length>0&&!C){const e=m.diseases.find(e=>e.icdCode===d.primaryDiseaseCode);null!==e&&void 0!==e&&e.category&&(S(e.category),K(e.category))}},[d,m.diseases,C]),(0,s.useEffect)(()=>{A&&$(A)},[A]),(0,s.useEffect)(()=>{E&&Q(E)},[E]),(0,s.useEffect)(()=>{if(d&&U){var e,t,r,a,n,s,i,o;const l=U.caseTitle!==d.caseTitle||U.description!==d.description||U.primaryDiseaseCode!==d.primaryDiseaseCode||JSON.stringify(null===(e=U.secondaryDiseaseCodes)||void 0===e?void 0:e.sort())!==JSON.stringify(null===(t=d.secondaryDiseaseCodes)||void 0===t?void 0:t.sort())||JSON.stringify(null===(r=U.symptomCodes)||void 0===r?void 0:r.sort())!==JSON.stringify(null===(a=d.symptomCodes)||void 0===a?void 0:a.sort())||JSON.stringify(null===(n=U.currentMedicationCodes)||void 0===n?void 0:n.sort())!==JSON.stringify(null===(s=d.currentMedicationCodes)||void 0===s?void 0:s.sort())||U.requiredSpecialization!==d.requiredSpecialization||JSON.stringify(null===(i=U.secondarySpecializations)||void 0===i?void 0:i.sort())!==JSON.stringify(null===(o=d.secondarySpecializations)||void 0===o?void 0:o.sort())||U.urgencyLevel!==d.urgencyLevel||U.complexity!==d.complexity;R(l)}},[U,d]);const G=async()=>{try{const e=await l(()=>dp.getCaseById(n));if(!["SUBMITTED","PENDING"].includes(e.status))return alert("This case cannot be edited in its current status."),void i("/app/patient/cases/".concat(n));if(u(e),q({caseTitle:e.caseTitle||"",description:e.description||"",primaryDiseaseCode:e.primaryDiseaseCode||"",secondaryDiseaseCodes:e.secondaryDiseaseCodes||[],symptomCodes:e.symptomCodes||[],currentMedicationCodes:e.currentMedicationCodes||[],requiredSpecialization:e.requiredSpecialization||"",secondarySpecializations:e.secondarySpecializations||[],urgencyLevel:e.urgencyLevel||"MEDIUM",complexity:e.complexity||"MODERATE"}),P(e.requiredSpecialization||""),e.primaryDiseaseCode&&m.diseases.length>0){const t=m.diseases.find(t=>t.icdCode===e.primaryDiseaseCode);t&&t.category&&S(t.category)}}catch(e){console.error("Failed to load case data:",e),alert("Failed to load case data. Please try again."),i("/app/patient/cases")}},Y=async()=>{try{const[e,t,r,a,n]=await Promise.all([l(()=>lg.getMedicalConfigurations("diseases")),l(()=>lg.getMedicalConfigurations("symptoms")),l(()=>lg.getMedicalConfigurations("medications")),l(()=>lg.getMedicalConfigurations("SPECIALIZATION")),l(()=>lg.getMedicalConfigurations("SUBSPECIALIZATION"))]);p({diseases:e||[],symptoms:t||[],medications:r||[],specializations:a||[],subspecializations:n||[]});const s=[...new Set((e||[]).map(e=>e.category).filter(Boolean))].sort();x(s);const i=[...new Set((r||[]).map(e=>e.category).filter(Boolean))].sort();v(i)}catch(e){console.error("Failed to load medical configurations:",e)}},K=async e=>{try{const t=await l(()=>lg.getDiseasesByCategory(e));y(t||[])}catch(t){console.error("Failed to load diseases for category:",e,t),y([])}},$=async e=>{try{const t=await l(()=>lg.getMedicationsByCategory(e));j(t||[])}catch(t){console.error("Failed to load medications for category:",e,t),j([])}},Q=async e=>{try{const t=m.subspecializations.filter(t=>t.parentCode===e);N(t)}catch(t){console.error("Failed to load subspecializations:",t),N([])}},X=()=>{D?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&i("/app/patient/cases/".concat(n)):i("/app/patient/cases/".concat(n))};return c||!d?(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsx)("div",{className:"text-center py-12",children:(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading case data..."})})}):(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:X,children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Case"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["Case #",d.id," - ",d.caseTitle]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(sp,{status:d.status}),D&&(0,Xm.jsx)(lp,{variant:"warning",size:"sm",children:"Unsaved Changes"})]})]}),(0,Xm.jsxs)("form",{onSubmit:M(async e=>{if(D){T(!0);try{const t={caseTitle:e.caseTitle,description:e.description,primaryDiseaseCode:e.primaryDiseaseCode,secondaryDiseaseCodes:e.secondaryDiseaseCodes||[],symptomCodes:e.symptomCodes||[],currentMedicationCodes:e.currentMedicationCodes||[],requiredSpecialization:e.requiredSpecialization,secondarySpecializations:e.secondarySpecializations||[],urgencyLevel:e.urgencyLevel,complexity:e.complexity};await l(()=>dp.updateCase(n,t)),alert("Case updated successfully!"),i("/app/patient/cases/".concat(n))}catch(t){console.error("Failed to update case:",t),alert("Failed to update case. Please try again.")}finally{T(!1)}}else alert("No changes have been made.")}),className:"space-y-8",children:[(0,Xm.jsxs)(My,{title:"Case Information",className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Title *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},_("caseTitle")),{},{placeholder:"Brief title describing your medical concern",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(I.caseTitle?"border-red-300":"border-gray-300")})),I.caseTitle&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.caseTitle.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(e=L("caseTitle"))||void 0===e?void 0:e.length)||0,"/100 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Description *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},_("description")),{},{rows:6,placeholder:"Please provide a detailed description of your symptoms, duration, and any relevant medical history...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 resize-none ".concat(I.description?"border-red-300":"border-gray-300")})),I.description&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.description.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(t=L("description"))||void 0===t?void 0:t.length)||0,"/2000 characters"]})]})]}),(0,Xm.jsxs)(My,{title:"Medical Information",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Disease Category * ",!C&&(null===d||void 0===d?void 0:d.primaryDiseaseCode)&&(0,Xm.jsx)("span",{className:"text-xs text-blue-600",children:"(Please select category to edit diseases)"})]}),(0,Xm.jsxs)("select",{value:C,onChange:e=>{return t=e.target.value,S(t),void(t!==C&&(F("primaryDiseaseCode",""),F("secondaryDiseaseCodes",[])));var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select disease category"}),h.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:!C&&null!==d&&void 0!==d&&d.primaryDiseaseCode?"Current disease: "+d.primaryDiseaseCode+" (select category to modify)":C?"Category selected - now choose diseases below":"Select a category first"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Disease/Condition *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},_("primaryDiseaseCode")),{},{disabled:!C,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(I.primaryDiseaseCode?"border-red-300":"border-gray-300"," ").concat(C?"":"bg-gray-100 cursor-not-allowed"),children:[(0,Xm.jsx)("option",{value:"",children:C?"Select primary disease":"Select category first"}),f.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.icdCode,children:[e.name," (",e.icdCode,")"]},e.icdCode))]})),I.primaryDiseaseCode&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.primaryDiseaseCode.message})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Diseases/Conditions (Optional, max 5)"}),(0,Xm.jsx)("select",{multiple:!0,value:H,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=5&&F("secondaryDiseaseCodes",t)},disabled:!C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[120px] ".concat(C?"":"bg-gray-100 cursor-not-allowed"),children:f.filter(e=>e.isActive&&e.icdCode!==L("primaryDiseaseCode")).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.icdCode,children:[e.name," (",e.icdCode,")"]},e.icdCode))}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Hold Ctrl/Cmd to select multiple. Selected: ",H.length,"/5"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Secondary Diseases/Conditions (Optional, max 5)",!(null!==d&&void 0!==d&&null!==(r=d.secondaryDiseaseCodes)&&void 0!==r&&r.length)&&(0,Xm.jsx)("span",{className:"text-xs text-green-600 ml-2",children:"(Add additional diseases if applicable)"})]}),(0,Xm.jsx)("select",{multiple:!0,value:H,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=5&&F("secondaryDiseaseCodes",t)},disabled:!C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[120px] ".concat(C?"":"bg-gray-100 cursor-not-allowed"),children:f.filter(e=>e.isActive&&e.icdCode!==L("primaryDiseaseCode")).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.icdCode,children:[e.name," (",e.icdCode,")"]},e.icdCode))}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Hold Ctrl/Cmd to select multiple. Selected: ",H.length,"/5",0===H.length&&(0,Xm.jsx)("span",{className:"text-green-600 ml-2",children:"- No secondary diseases currently selected"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Symptoms * (Select at least 1, max 20)",(!(null!==d&&void 0!==d&&null!==(a=d.symptomCodes)&&void 0!==a&&a.length)||0===d.symptomCodes.length)&&(0,Xm.jsx)("span",{className:"text-xs text-red-600 ml-2",children:"(Required - please select symptoms)"})]}),(0,Xm.jsx)("select",{multiple:!0,value:B,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=20&&(F("symptomCodes",t),z("symptomCodes"))},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[150px] ".concat(I.symptomCodes?"border-red-300":"border-gray-300"),children:m.symptoms.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))}),I.symptomCodes&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.symptomCodes.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Hold Ctrl/Cmd to select multiple. Selected: ",B.length,"/20",0===B.length&&(0,Xm.jsx)("span",{className:"text-red-600 ml-2",children:"- At least one symptom is required"})]})]})]}),(0,Xm.jsx)(My,{title:"Current Medications",className:"space-y-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Category"}),(0,Xm.jsxs)("select",{value:A,onChange:e=>{return t=e.target.value,k(t),void(t!==A&&F("currentMedicationCodes",[]));var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select medication category"}),g.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications (Optional, max 15)"}),(0,Xm.jsx)("select",{multiple:!0,value:V,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=15&&F("currentMedicationCodes",t)},disabled:!A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[120px] ".concat(A?"":"bg-gray-100 cursor-not-allowed"),children:b.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.atcCode,children:[e.name," - ",e.genericName," (",e.atcCode,")"]},e.atcCode))}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:A?"Hold Ctrl/Cmd to select multiple. Selected: ".concat(V.length,"/15"):"Select a category first to see medications"})]})]})}),(0,Xm.jsxs)(My,{title:"Specialization Requirements",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Specialization *"}),(0,Xm.jsxs)("select",{value:E,onChange:e=>{return t=e.target.value,P(t),F("requiredSpecialization",t),void F("subspecialization","");var t},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(I.requiredSpecialization?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"",children:"Select required specialization"}),m.specializations.filter(e=>e.isActive&&1===e.level).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}),I.requiredSpecialization&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.requiredSpecialization.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-specialization (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},_("subspecialization")),{},{disabled:!E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(E?"":"bg-gray-100 cursor-not-allowed"),children:[(0,Xm.jsx)("option",{value:"",children:E?"Select sub-specialization":"Select main specialization first"}),w.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Specializations (Optional, max 3)"}),(0,Xm.jsx)("select",{multiple:!0,value:W,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);t.length<=3&&F("secondarySpecializations",t)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 min-h-[100px]",children:m.specializations.filter(e=>e.isActive&&1===e.level&&e.code!==E).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Hold Ctrl/Cmd to select multiple. Selected: ",W.length,"/3"]})]})]}),(0,Xm.jsx)(My,{title:"Case Settings",className:"space-y-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},_("urgencyLevel")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(I.urgencyLevel?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"LOW",children:"Low - Not urgent, routine consultation"}),(0,Xm.jsx)("option",{value:"MEDIUM",children:"Medium - Standard priority"}),(0,Xm.jsx)("option",{value:"HIGH",children:"High - Requires prompt attention"}),(0,Xm.jsx)("option",{value:"CRITICAL",children:"Critical - Immediate attention needed"})]})),I.urgencyLevel&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.urgencyLevel.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Complexity *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},_("complexity")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(I.complexity?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"SIMPLE",children:"Simple - Straightforward diagnosis"}),(0,Xm.jsx)("option",{value:"MODERATE",children:"Moderate - Standard complexity"}),(0,Xm.jsx)("option",{value:"COMPLEX",children:"Complex - Multiple factors involved"}),(0,Xm.jsx)("option",{value:"CRITICAL",children:"Critical - High complexity case"})]})),I.complexity&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.complexity.message})]})]})}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-4 pb-8",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:X,disabled:O,className:"px-8 py-3",children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:O,disabled:Object.keys(I).length>0||!D||O,className:"px-8 py-3",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:O?"Saving Changes...":"Save Changes"})]})]})]})},Rb=zm("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),_b={"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"image/bmp":[".bmp"],"image/webp":[".webp"]},Mb=ey({caseTitle:zf().required("Case title is required").min(10,"Case title must be at least 10 characters").max(100,"Case title cannot exceed 100 characters"),description:zf().required("Case description is required").min(50,"Case description must be at least 50 characters").max(2e3,"Case description cannot exceed 2000 characters"),primaryDiseaseCode:zf().required("Primary disease is required"),secondaryDiseaseCodes:ry().max(5,"Maximum 5 secondary diseases allowed"),symptomCodes:ry().min(1,"At least one symptom is required").max(20,"Maximum 20 symptoms allowed"),currentMedicationCodes:ry().max(15,"Maximum 15 medications allowed"),requiredSpecialization:zf().required("Required specialization is required"),secondarySpecializations:ry().max(3,"Maximum 3 secondary specializations allowed"),urgencyLevel:zf().required("Urgency level is required"),complexity:zf().required("Case complexity is required")}),Ib=()=>{var e,t,r,a,n,i;const o=te(),{user:l}=Jd(),{execute:c,loading:d}=Iy(),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)("self"),[y,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(!0),[j,w]=(0,s.useState)({diseases:[],symptoms:[],medications:[],specializations:[],subspecializations:[]}),[N,C]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[k,E]=(0,s.useState)([]),[P,O]=(0,s.useState)([]),[T,D]=(0,s.useState)([]),[R,_]=(0,s.useState)(""),[M,I]=(0,s.useState)(""),[L,F]=(0,s.useState)(""),[q,z]=(0,s.useState)([]),[U,B]=(0,s.useState)([]),[V,H]=(0,s.useState)(!1),[W,G]=(0,s.useState)(!1),[Y,K]=(0,s.useState)(0),{register:$,handleSubmit:Q,formState:{errors:X},watch:J,setValue:Z,getValues:ee,trigger:re}=Tx({resolver:Lx(Mb),defaultValues:{caseTitle:"",description:"",primaryDiseaseCode:"",secondaryDiseaseCodes:[],symptomCodes:[],currentMedicationCodes:[],requiredSpecialization:"",subspecialization:"",secondarySpecializations:[],urgencyLevel:"MEDIUM",complexity:"MODERATE",requiresSecondOpinion:!0,minDoctorsRequired:2,maxDoctorsAllowed:3}}),ae=J("symptomCodes")||[],ne=J("currentMedicationCodes")||[],se=J("secondaryDiseaseCodes")||[],ie=J("secondarySpecializations")||[];(0,s.useEffect)(()=>{oe()},[]),(0,s.useEffect)(()=>{null!==y&&void 0!==y&&y.isActive&&ce()},[y]);const oe=async()=>{try{b(!0);const e=await c(()=>dp.getSubscriptionStatus());g(e),null!==e&&void 0!==e&&e.isActive||Ft.warning("Active subscription required to create a case",{position:"top-center",autoClose:5e3})}catch(e){console.error("Failed to check subscription status:",e),Ft.error("Unable to verify subscription status. Please try again.",{position:"top-center"}),g({isActive:!1})}finally{b(!1)}};(0,s.useEffect)(()=>{le()},[]);const le=async()=>{try{const e=await dp.getDependents();m(e||[])}catch(e){console.error("Error loading dependents:",e)}};(0,s.useEffect)(()=>{R&&de(R)},[R]),(0,s.useEffect)(()=>{M&&ue(M)},[M]),(0,s.useEffect)(()=>{L&&me(L)},[L]);const ce=async()=>{try{const[e,t,r,a,n]=await Promise.all([c(()=>lg.getMedicalConfigurations("diseases")),c(()=>lg.getMedicalConfigurations("symptoms")),c(()=>lg.getAllMedications()),c(()=>lg.getMedicalConfigurations("SPECIALIZATION")),c(()=>lg.getMedicalConfigurations("SUBSPECIALIZATION"))]);w({diseases:e||[],symptoms:t||[],medications:r||[],specializations:a||[],subspecializations:n||[]});const s=[...new Set((e||[]).map(e=>e.category).filter(Boolean))].sort();C(s);const i=[...new Set((r||[]).map(e=>e.category).filter(Boolean))].sort();E(i)}catch(e){console.error("Failed to load medical configurations:",e)}},de=async e=>{try{const t=await c(()=>lg.getDiseasesByCategory(e));A(t||[])}catch(t){console.error("Failed to load diseases for category:",e,t),A([])}},ue=async e=>{try{const t=j.medications.filter(t=>t.category===e&&!0===t.isActive);O(t||[])}catch(t){console.error("Failed to load medications for category:",e,t),O([])}},me=async e=>{try{const t=j.subspecializations.filter(t=>t.parentCode===e);D(t)}catch(t){console.error("Failed to load subspecializations:",t),D([])}},pe=e=>{const t=[];e.size>10485760&&t.push("File size exceeds 10MB limit (".concat((e.size/1024/1024).toFixed(2),"MB)"));return Object.keys(_b).includes(e.type)||Object.values(_b).flat().some(t=>e.name.toLowerCase().endsWith(t))||t.push("Only PDF and image files (JPG, PNG, GIF, BMP, WebP) are allowed"),t},he=e=>{const t=Array.from(e);if(q.length+t.length>5)return void B(["Maximum ".concat(5," files allowed.")]);B([]);const r=[];for(const a of t){const e=Date.now()+Math.random(),t=pe(a);if(t.length>0){B(e=>[...e,"".concat(a.name,": ").concat(t.join(", "))]);continue}const n={id:e,file:a,name:a.name,size:a.size,type:a.type,status:"ready"};r.push(n)}z(e=>[...e,...r])};return v?(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-96",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Verifying subscription status..."})]})}):null!==y&&void 0!==y&&y.isActive?(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Case"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Describe your medical concern to get matched with the right specialists"})]}),(0,Xm.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Zy,{className:"w-5 h-5 text-green-600 mr-3"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Active Subscription"}),(0,Xm.jsxs)("p",{className:"text-xs text-green-700",children:["Valid until ",new Date(y.expiryDate).toLocaleDateString(),"\u2022 ",y.planType," Plan"]})]})]})}),(0,Xm.jsxs)("form",{onSubmit:Q(async e=>{G(!0),K(0);try{const t={caseTitle:e.caseTitle,description:e.description,primaryDiseaseCode:e.primaryDiseaseCode,secondaryDiseaseCodes:e.secondaryDiseaseCodes||[],symptomCodes:e.symptomCodes||[],currentMedicationCodes:e.currentMedicationCodes||[],requiredSpecialization:e.requiredSpecialization,secondarySpecializations:e.secondarySpecializations||[],urgencyLevel:e.urgencyLevel,complexity:e.complexity,dependentId:"dependent"===x?p:null,requiresSecondOpinion:e.requiresSecondOpinion,minDoctorsRequired:e.minDoctorsRequired,maxDoctorsAllowed:e.maxDoctorsAllowed,files:q.map(e=>e.file)};console.log("dependentId = "+p);await c(()=>dp.createCase(t,e=>{const t=Math.round(100*e.loaded/e.total);K(t)}));Ft.success("Case created successfully!",{position:"top-right",autoClose:3e3}),setTimeout(()=>{o("/app/patient/cases")},1e3)}catch(a){var t,r;console.error("Failed to create case:",a),null!==(t=a.message)&&void 0!==t&&t.includes("subscription")||null!==(r=a.message)&&void 0!==r&&r.includes("Subscription")?Ft.error(a.message||"Active subscription required to create cases",{position:"top-center",autoClose:6e3,onClick:()=>o("/app/patient/subscription")}):Ft.error(a.message||"Failed to create case. Please try again.",{position:"top-right",autoClose:5e3})}finally{G(!1),K(0)}}),className:"space-y-8",children:[(0,Xm.jsxs)(My,{title:"Case Information",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Who is this case for?"]}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("label",{className:"\n                flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all\n                ".concat("self"===x?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300","\n              "),children:[(0,Xm.jsx)("input",{type:"radio",name:"caseFor",value:"self",checked:"self"===x,onChange:e=>{f(e.target.value),h(null)},className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),(0,Xm.jsxs)("div",{className:"ml-3 flex items-center",children:[(0,Xm.jsx)(Sp,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:"For Myself"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:"Submit a case for your own medical condition"})]})]})]}),(0,Xm.jsxs)("label",{className:"\n                flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all\n                ".concat("dependent"===x?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300","\n              "),children:[(0,Xm.jsx)("input",{type:"radio",name:"caseFor",value:"dependent",checked:"dependent"===x,onChange:e=>f(e.target.value),className:"w-4 h-4 text-primary-600 focus:ring-primary-500"}),(0,Xm.jsxs)("div",{className:"ml-3 flex items-center flex-1",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:"For Family Member"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:"Submit a case on behalf of a family member"})]})]})]}),"dependent"===x&&(0,Xm.jsx)("div",{className:"ml-8 mt-3 space-y-2",children:0===u.length?(0,Xm.jsx)("div",{className:"bg-primary-50 border-2 border-primary-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-primary-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-primary-900 mb-2",children:"No family members found"}),(0,Xm.jsx)("p",{className:"text-sm text-primary-700 mb-3",children:"You need to add family members first before submitting a case on their behalf"}),(0,Xm.jsx)(Zm,{className:"border-primary-200 rounded-lg",type:"button",size:"lg",onClick:()=>o("/app/patient/dependents"),icon:(0,Xm.jsx)(Rb,{className:"w-4 h-4"}),children:"Go to Family Members"})]})]})}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("select",{value:p||"",onChange:e=>h(e.target.value?Number(e.target.value):null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:"dependent"===x,children:[(0,Xm.jsx)("option",{value:"",children:"Select family member"}),u.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.fullName," (",e.relationship,")",e.age?" - ".concat(e.age," years"):""]},e.id))]}),p&&(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[(0,Xm.jsx)("strong",{children:"Note:"})," You will receive all notifications and handle all actions for this case. Only the consultation meeting will involve ",null===(e=u.find(e=>e.id===p))||void 0===e?void 0:e.fullName,"."]})]})})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Title *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},$("caseTitle")),{},{placeholder:"Brief title describing your medical concern",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(X.caseTitle?"border-red-300":"border-gray-300")})),X.caseTitle&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.caseTitle.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(t=J("caseTitle"))||void 0===t?void 0:t.length)||0,"/100 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Description *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},$("description")),{},{rows:6,placeholder:"Please provide a detailed description of your symptoms, duration, and any relevant medical history...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 resize-none ".concat(X.description?"border-red-300":"border-gray-300")})),X.description&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.description.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(r=J("description"))||void 0===r?void 0:r.length)||0,"/2000 characters"]})]})]}),(0,Xm.jsxs)(My,{title:"Medical Information",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disease Category *"}),(0,Xm.jsxs)("select",{value:R,onChange:e=>{return t=e.target.value,_(t),Z("primaryDiseaseCode",""),void Z("secondaryDiseaseCodes",[]);var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select disease category"}),N.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Disease/Condition *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("primaryDiseaseCode")),{},{disabled:!R,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(X.primaryDiseaseCode?"border-red-300":"border-gray-300"," ").concat(R?"":"bg-gray-100 cursor-not-allowed"),children:[(0,Xm.jsx)("option",{value:"",children:R?"Select primary disease":"Select category first"}),S.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.icdCode,children:[e.name," (",e.icdCode,")"]},e.icdCode))]})),X.primaryDiseaseCode&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.primaryDiseaseCode.message})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Diseases/Conditions (Optional, max 5)"}),(0,Xm.jsx)("div",{className:"w-full border rounded-lg p-4 max-h-[250px] overflow-y-auto ".concat(R?"border-gray-300":"bg-gray-100 border-gray-200"),children:R?(0,Xm.jsxs)("div",{className:"space-y-2",children:[S.filter(e=>e.isActive&&e.icdCode!==J("primaryDiseaseCode")).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.icdCode,checked:se.includes(e.icdCode),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r){if(!(se.length<5)||se.includes(t))return;a=[...se,t]}else a=se.filter(e=>e!==t);Z("secondaryDiseaseCodes",a)},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!se.includes(e.icdCode)&&se.length>=5}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.icdCode,")"]})]})]},e.icdCode)),0===S.filter(e=>e.isActive&&e.icdCode!==J("primaryDiseaseCode")).length&&R&&(0,Xm.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No secondary diseases available in this category"})]}):(0,Xm.jsx)("div",{className:"text-center py-6",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Please select a primary disease category first"})})}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",se.length,"/5"]}),se.length>0&&(0,Xm.jsx)("button",{type:"button",onClick:()=>{Z("secondaryDiseaseCodes",[])},className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Clear All"})]}),se.length>0&&(0,Xm.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Selected Secondary Diseases:"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-1",children:se.map(e=>{const t=S.find(t=>t.icdCode===e);return t?(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[t.name," (",t.icdCode,")",(0,Xm.jsx)("button",{type:"button",onClick:()=>{const t=se.filter(t=>t!==e);Z("secondaryDiseaseCodes",t)},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e):null})})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symptoms * (Select at least 1, max 20)"}),(0,Xm.jsxs)("div",{className:"w-full border rounded-lg p-4 max-h-[300px] overflow-y-auto ".concat(X.symptomCodes?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("div",{className:"space-y-2",children:j.symptoms.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.code,checked:ae.includes(e.code),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r){if(!(ae.length<20)||ae.includes(t))return;a=[...ae,t]}else a=ae.filter(e=>e!==t);Z("symptomCodes",a),re("symptomCodes")},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!ae.includes(e.code)&&ae.length>=20}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.bodySystem,")"]})]})]},e.code))}),0===j.symptoms.filter(e=>e.isActive).length&&(0,Xm.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No symptoms available"})]}),X.symptomCodes&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.symptomCodes.message}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",ae.length,"/20"]}),ae.length>0&&(0,Xm.jsx)("button",{type:"button",onClick:()=>{Z("symptomCodes",[]),re("symptomCodes")},className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Clear All"})]}),ae.length>0&&(0,Xm.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Selected Symptoms:"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-1",children:ae.map(e=>{const t=j.symptoms.find(t=>t.code===e);return t?(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary-100 text-primary-800",children:[t.name,(0,Xm.jsx)("button",{type:"button",onClick:()=>{const t=ae.filter(t=>t!==e);Z("symptomCodes",t),re("symptomCodes")},className:"ml-1 text-primary-600 hover:text-primary-800",children:"\xd7"})]},e):null})})]})]})]}),(0,Xm.jsx)(My,{title:"Current Medications",className:"space-y-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Category"}),(0,Xm.jsxs)("select",{value:M,onChange:e=>{return t=e.target.value,I(t),void Z("currentMedicationCodes",[]);var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select medication category"}),k.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications (Optional, max 15)"}),(0,Xm.jsx)("div",{className:"w-full border rounded-lg p-4 max-h-[300px] overflow-y-auto ".concat(M?"border-gray-300":"bg-gray-100 border-gray-200"),children:M?(0,Xm.jsxs)("div",{className:"space-y-2",children:[P.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.atcCode,checked:ne.includes(e.atcCode),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r){if(!(ne.length<15)||ne.includes(t))return;a=[...ne,t]}else a=ne.filter(e=>e!==t);Z("currentMedicationCodes",a)},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!ne.includes(e.atcCode)&&ne.length>=15}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("div",{className:"text-xs text-gray-600",children:e.genericName}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["(",e.atcCode,")"]})]})]},e.atcCode)),0===P.filter(e=>e.isActive).length&&M&&(0,Xm.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No medications available in this category"})]}):(0,Xm.jsx)("div",{className:"text-center py-6",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Please select a medication category first"})})}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:M?"Selected: ".concat(ne.length,"/15"):"Select a category first to see medications"}),ne.length>0&&(0,Xm.jsx)("button",{type:"button",onClick:()=>{Z("currentMedicationCodes",[])},className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Clear All"})]}),ne.length>0&&(0,Xm.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Selected Medications:"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-1",children:ne.map(e=>{const t=P.find(t=>t.atcCode===e);return t?(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[(0,Xm.jsxs)("div",{className:"text-left",children:[(0,Xm.jsx)("div",{className:"font-medium",children:t.name}),t.genericName&&t.genericName!==t.name&&(0,Xm.jsx)("div",{className:"text-xs opacity-75",children:t.genericName})]}),(0,Xm.jsx)("button",{type:"button",onClick:()=>{const t=ne.filter(t=>t!==e);Z("currentMedicationCodes",t)},className:"ml-2 text-green-600 hover:text-green-800 font-bold",children:"\xd7"})]},e):null})})]})]})]})}),(0,Xm.jsxs)(My,{title:"Specialization Requirements",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Specialization *"}),(0,Xm.jsxs)("select",{value:L,onChange:e=>{return t=e.target.value,F(t),Z("requiredSpecialization",t),void Z("subspecialization","");var t},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(X.requiredSpecialization?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"",children:"Select required specialization"}),j.specializations.filter(e=>e.isActive&&1===e.level).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}),X.requiredSpecialization&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.requiredSpecialization.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-specialization (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("subspecialization")),{},{disabled:!L,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(L?"":"bg-gray-100 cursor-not-allowed"),children:[(0,Xm.jsx)("option",{value:"",children:L?"Select sub-specialization":"Select main specialization first"}),T.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Specializations (Optional, max 3)"}),(0,Xm.jsx)("div",{className:"w-full border border-gray-300 rounded-lg p-4 max-h-[200px] overflow-y-auto",children:(0,Xm.jsxs)("div",{className:"space-y-2",children:[j.specializations.filter(e=>e.isActive&&1===e.level&&e.code!==L).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.code,checked:ie.includes(e.code),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r){if(!(ie.length<3)||ie.includes(t))return;a=[...ie,t]}else a=ie.filter(e=>e!==t);Z("secondarySpecializations",a)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!ie.includes(e.code)&&ie.length>=3}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900 flex-1",children:e.name})]},e.code)),0===j.specializations.filter(e=>e.isActive&&1===e.level&&e.code!==L).length&&(0,Xm.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:L?"No additional specializations available":"No specializations available"})]})}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",ie.length,"/3"]}),ie.length>0&&(0,Xm.jsx)("button",{type:"button",onClick:()=>{Z("secondarySpecializations",[])},className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Clear All"})]}),ie.length>0&&(0,Xm.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Selected Additional Specializations:"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-1",children:ie.map(e=>{const t=j.specializations.find(t=>t.code===e);return t?(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[t.name,(0,Xm.jsx)("button",{type:"button",onClick:()=>{const t=ie.filter(t=>t!==e);Z("secondarySpecializations",t)},className:"ml-1 text-purple-600 hover:text-purple-800",children:"\xd7"})]},e):null})})]})]})]}),(0,Xm.jsxs)(My,{title:"Case Settings",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("urgencyLevel")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(X.urgencyLevel?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"LOW",children:"Low - Not urgent, routine consultation"}),(0,Xm.jsx)("option",{value:"MEDIUM",children:"Medium - Standard priority"}),(0,Xm.jsx)("option",{value:"HIGH",children:"High - Requires prompt attention"}),(0,Xm.jsx)("option",{value:"CRITICAL",children:"Critical - Immediate attention needed"})]})),X.urgencyLevel&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.urgencyLevel.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Complexity *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("complexity")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(X.complexity?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"SIMPLE",children:"Simple - Straightforward diagnosis"}),(0,Xm.jsx)("option",{value:"MODERATE",children:"Moderate - Standard complexity"}),(0,Xm.jsx)("option",{value:"COMPLEX",children:"Complex - Multiple factors involved"}),(0,Xm.jsx)("option",{value:"CRITICAL",children:"Critical - High complexity case"})]})),X.complexity&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:X.complexity.message})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Second Opinion Required"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("requiresSecondOpinion")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:!0,children:"Yes - Require second opinion"}),(0,Xm.jsx)("option",{value:!1,children:"No - Single doctor consultation"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Doctors Required"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("minDoctorsRequired")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:1,children:"1 Doctor"}),(0,Xm.jsx)("option",{value:2,children:"2 Doctors"}),(0,Xm.jsx)("option",{value:3,children:"3 Doctors"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Doctors Allowed"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},$("maxDoctorsAllowed")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:2,children:"2 Doctors"}),(0,Xm.jsx)("option",{value:3,children:"3 Doctors"}),(0,Xm.jsx)("option",{value:4,children:"4 Doctors"}),(0,Xm.jsx)("option",{value:5,children:"5 Doctors"})]}))]})]})]}),(0,Xm.jsxs)(My,{title:"Supporting Documents",className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"Upload relevant medical documents, test results, or images (PDF, JPG, PNG, GIF, BMP, WebP - Max 10MB each, 5 files total)"}),(0,Xm.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(V?"border-primary-400 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),H(!0)},onDragLeave:()=>H(!1),onDrop:e=>{e.preventDefault(),H(!1),he(e.dataTransfer.files)},children:[(0,Xm.jsx)(ng,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop files here or click to upload"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop your files or click the button below"}),(0,Xm.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.gif,.bmp,.webp,.svg,.tiff,.tif",onChange:e=>he(e.target.files),className:"hidden",id:"file-upload"}),(0,Xm.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 cursor-pointer",children:[(0,Xm.jsx)(ng,{className:"w-4 h-4 mr-2"}),"Choose Files"]})]}),U.length>0&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-400 mt-0.5 mr-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Upload Errors:"}),(0,Xm.jsx)("ul",{className:"text-sm text-red-700 mt-1 space-y-1",children:U.map((e,t)=>(0,Xm.jsxs)("li",{children:["\u2022 ",e]},t))})]})]})}),q.length>0&&(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900",children:["Selected Files (",q.length,"/",5,")"]}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Xm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)(Zy,{className:"w-4 h-4 inline mr-1"}),"Files are ready for upload. They will be uploaded when you submit the case."]})}),q.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,Xm.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-600",children:[(e.size/1024/1024).toFixed(2)," MB \u2022 ",e.type]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Ready"}),(0,Xm.jsx)("button",{type:"button",onClick:()=>(e=>{const t=URL.createObjectURL(e.file);window.open(t,"_blank")})(e),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Preview file",children:(0,Xm.jsx)(iy,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void z(e=>e.filter(e=>e.id!==t));var t},className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Remove file",children:(0,Xm.jsx)(By,{className:"w-4 h-4"})})]})]},e.id))]})]}),W&&(0,Xm.jsx)(My,{title:"Uploading Case...",className:"space-y-4",children:(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,Xm.jsx)("span",{children:"Progress"}),(0,Xm.jsxs)("span",{children:[Y,"%"]})]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Xm.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Y,"%")}})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Please wait while we upload your files and create your case..."})]})}),(0,Xm.jsxs)(My,{title:"Case Summary",className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Case Details"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,Xm.jsxs)("li",{children:["\u2022 Title: ",J("caseTitle")||"Not specified"]}),(0,Xm.jsxs)("li",{children:["\u2022 Primary Disease: ",J("primaryDiseaseCode")?(null===(a=S.find(e=>e.icdCode===J("primaryDiseaseCode")))||void 0===a?void 0:a.name)||"Selected":"Not selected"]}),(0,Xm.jsxs)("li",{children:["\u2022 Symptoms: ",ae.length," selected"]}),(0,Xm.jsxs)("li",{children:["\u2022 Current Medications: ",ne.length," selected"]}),(0,Xm.jsxs)("li",{children:["\u2022 Attached Files: ",q.length," files ready"]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Requirements"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,Xm.jsxs)("li",{children:["\u2022 Specialization: ",J("requiredSpecialization")?(null===(n=j.specializations.find(e=>e.code===J("requiredSpecialization")))||void 0===n?void 0:n.name)||"Selected":"Not selected"]}),(0,Xm.jsxs)("li",{children:["\u2022 Sub-specialization: ",J("subspecialization")?(null===(i=T.find(e=>e.code===J("subspecialization")))||void 0===i?void 0:i.name)||"Selected":"None"]}),(0,Xm.jsxs)("li",{children:["\u2022 Urgency: ",J("urgencyLevel")]}),(0,Xm.jsxs)("li",{children:["\u2022 Complexity: ",J("complexity")]}),(0,Xm.jsxs)("li",{children:["\u2022 Second Opinion: ",J("requiresSecondOpinion")?"Yes":"No"]}),(0,Xm.jsxs)("li",{children:["\u2022 Min/Max Doctors: ",J("minDoctorsRequired"),"-",J("maxDoctorsAllowed")]})]})]})]})}),(0,Xm.jsxs)("div",{className:"mt-6 p-4 bg-white rounded-lg border",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Validation Status"}),(0,Xm.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.caseTitle?"text-red-600":"text-green-600"),children:[X.caseTitle?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Case Title"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.description?"text-red-600":"text-green-600"),children:[X.description?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Description"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.primaryDiseaseCode?"text-red-600":"text-green-600"),children:[X.primaryDiseaseCode?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Primary Disease"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.symptomCodes?"text-red-600":"text-green-600"),children:[X.symptomCodes?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Symptoms"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.requiredSpecialization?"text-red-600":"text-green-600"),children:[X.requiredSpecialization?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Specialization"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.urgencyLevel?"text-red-600":"text-green-600"),children:[X.urgencyLevel?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Urgency Level"]}),(0,Xm.jsxs)("div",{className:"flex items-center ".concat(X.complexity?"text-red-600":"text-green-600"),children:[X.complexity?(0,Xm.jsx)(Tp,{className:"w-4 h-4 mr-1"}):(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-1"}),"Complexity"]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-4 pb-8",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>o("/app/patient/cases"),className:"px-8 py-3",disabled:W,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:W,disabled:Object.keys(X).length>0||W,className:"px-8 py-3",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),children:W?"Creating Case...":"Create Case"})]})]})]}):(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsx)(My,{className:"text-center py-12",children:(0,Xm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mb-6",children:(0,Xm.jsx)(hy,{className:"w-10 h-10 text-orange-600"})}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Active Subscription Required"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6 max-w-md",children:"To create and submit medical cases, you need an active subscription. Subscribe now to get access to our network of qualified doctors and specialists."}),(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 max-w-md",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Subscription Benefits:"}),(0,Xm.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 text-left",children:[(0,Xm.jsxs)("li",{className:"flex items-start",children:[(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{children:"Submit unlimited medical cases"})]}),(0,Xm.jsxs)("li",{className:"flex items-start",children:[(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{children:"Get matched with qualified specialists"})]}),(0,Xm.jsxs)("li",{className:"flex items-start",children:[(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{children:"Access to video consultations"})]}),(0,Xm.jsxs)("li",{className:"flex items-start",children:[(0,Xm.jsx)(Zy,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,Xm.jsx)("span",{children:"Priority support and notifications"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Xm.jsx)(Zm,{onClick:()=>o("/app/patient/subscription"),variant:"primary",size:"lg",icon:(0,Xm.jsx)(Bp,{className:"w-5 h-5"}),children:"View Subscription Plans"}),(0,Xm.jsx)(Zm,{onClick:()=>o("/app/patient/dashboard"),variant:"outline",size:"lg",children:"Back to Dashboard"})]})]})})})},Lb=()=>{const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),{execute:c,loading:d}=Iy(),[u,m]=(0,s.useState)({fullName:"",relationship:"",dateOfBirth:"",gender:"",medicalHistory:"",bloodGroup:"",allergies:"",chronicConditions:"",phoneNumber:""});(0,s.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await c(()=>dp.getDependents());t(e||[])}catch(e){console.error("Error loading dependents:",e)}},h=()=>{m({fullName:"",relationship:"",dateOfBirth:"",gender:"",medicalHistory:"",bloodGroup:"",allergies:"",chronicConditions:"",phoneNumber:""}),l(null)},x=e=>{if(!e)return"N/A";const t=new Date,r=new Date(e);let a=t.getFullYear()-r.getFullYear();const n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,a};return(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Family Members"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage dependents for whom you can submit cases"})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>a(!0),children:"Add Family Member"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(e=>(0,Xm.jsx)(My,{className:"hover:shadow-lg transition-shadow",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(vp,{className:"w-6 h-6 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:e.fullName}),(0,Xm.jsx)("span",{className:"text-sm text-gray-500",children:e.relationship})]})]})}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Age:"}),(0,Xm.jsxs)("span",{className:"font-medium",children:[x(e.dateOfBirth)," years"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Gender:"}),(0,Xm.jsx)("span",{className:"font-medium",children:e.gender||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Blood Group:"}),(0,Xm.jsx)("span",{className:"font-medium",children:e.bloodGroup||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Cases:"}),(0,Xm.jsx)("span",{className:"font-medium",children:e.casesCount||0})]})]}),(0,Xm.jsxs)("div",{className:"flex space-x-2 mt-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",fullWidth:!0,icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>(e=>{l(e),m({fullName:e.fullName,relationship:e.relationship,dateOfBirth:e.dateOfBirth,gender:e.gender,medicalHistory:e.medicalHistory||"",bloodGroup:e.bloodGroup||"",allergies:e.allergies||"",chronicConditions:e.chronicConditions||"",phoneNumber:e.phoneNumber||""}),i(!0)})(e),children:"Edit"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",fullWidth:!0,icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this dependent?"))try{await c(()=>dp.deleteDependent(e)),p()}catch(t){console.error("Error deleting dependent:",t)}})(e.id),children:"Remove"})]})]})},e.id)),0===e.length&&(0,Xm.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Xm.jsx)(vp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No family members added yet"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Add family members to submit cases on their behalf"})]})]}),(r||n)&&(0,Xm.jsx)($y,{isOpen:r||n,onClose:()=>{a(!1),i(!1),h()},title:o?"Edit Family Member":"Add Family Member",children:(0,Xm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o?await c(()=>dp.updateDependent(o.id,u)):await c(()=>dp.createDependent(u)),p(),h(),a(!1),i(!1)}catch(t){console.error("Error saving dependent:",t)}},className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Xm.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.fullName,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{fullName:e.target.value})),placeholder:"Enter full name"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship *"}),(0,Xm.jsxs)("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.relationship,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{relationship:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"Select relationship"}),[{value:"SON",label:"Son"},{value:"DAUGHTER",label:"Daughter"},{value:"WIFE",label:"Wife"},{value:"HUSBAND",label:"Husband"},{value:"MOTHER",label:"Mother"},{value:"FATHER",label:"Father"},{value:"OTHER",label:"Other"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Xm.jsx)("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.dateOfBirth,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{dateOfBirth:e.target.value}))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,Xm.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.gender,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{gender:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"Select gender"}),(0,Xm.jsx)("option",{value:"MALE",children:"Male"}),(0,Xm.jsx)("option",{value:"FEMALE",children:"Female"}),(0,Xm.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Xm.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.phoneNumber,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{phoneNumber:e.target.value})),placeholder:"Optional"})]})]})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 mr-2"}),"Medical Information"]}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,Xm.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.bloodGroup,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{bloodGroup:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"Select blood group"}),(0,Xm.jsx)("option",{value:"A+",children:"A+"}),(0,Xm.jsx)("option",{value:"A-",children:"A-"}),(0,Xm.jsx)("option",{value:"B+",children:"B+"}),(0,Xm.jsx)("option",{value:"B-",children:"B-"}),(0,Xm.jsx)("option",{value:"AB+",children:"AB+"}),(0,Xm.jsx)("option",{value:"AB-",children:"AB-"}),(0,Xm.jsx)("option",{value:"O+",children:"O+"}),(0,Xm.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),(0,Xm.jsx)("textarea",{rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.allergies,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{allergies:e.target.value})),placeholder:"Food allergies, drug allergies, environmental allergies"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"List any known allergies"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chronic Conditions"}),(0,Xm.jsx)("textarea",{rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.chronicConditions,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{chronicConditions:e.target.value})),placeholder:"Diabetes, hypertension, asthma, etc."}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"List any ongoing medical conditions"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),(0,Xm.jsx)("textarea",{rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:u.medicalHistory,onChange:e=>m((0,ot.A)((0,ot.A)({},u),{},{medicalHistory:e.target.value})),placeholder:"Previous surgeries, major illnesses, etc."}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Include any past medical conditions or treatments"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex space-x-3 pt-4 sticky bottom-0 bg-white pb-2",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",fullWidth:!0,onClick:()=>{a(!1),i(!1),h()},children:"Cancel"}),(0,Xm.jsxs)(Zm,{type:"submit",fullWidth:!0,loading:d,children:[o?"Update":"Add"," Family Member"]})]})]})})]})},Fb=zm("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),qb={getAllCoupons:async()=>td("/patient-service/api/patients/coupons"),getAvailableCoupons:async()=>td("/patient-service/api/patients/coupons/available"),getCouponSummary:async()=>td("/patient-service/api/patients/coupons/summary"),getCouponByCode:async e=>td("/patient-service/api/patients/coupons/code/".concat(e)),validateCoupon:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=new URLSearchParams;return a.append("couponCode",e),a.append("caseId",t),r&&a.append("amount",r),rd("/patient-service/api/patients/coupons/validate?".concat(a))},payWithCoupon:async e=>rd("/payment-service/api/payments/coupon/process",e),getCouponForPayment:async e=>td("/payment-service/api/payments/coupon/".concat(e))},zb=e=>{let{status:t,available:r}=e;if(r)return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Xm.jsx)(Up,{className:"w-3 h-3 mr-1"}),"Available"]});const a={USED:{color:"bg-gray-100 text-gray-800",label:"Used",icon:Fb},EXPIRED:{color:"bg-red-100 text-red-800",label:"Expired",icon:Qp}}[t]||{color:"bg-gray-100 text-gray-800",label:t},n=a.icon||Fb;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(a.color),children:[(0,Xm.jsx)(n,{className:"w-3 h-3 mr-1"}),a.label]})},Ub=e=>{let{type:t,value:r,maxAmount:a,currency:n="USD"}=e;const s=(()=>{switch(t){case"PERCENTAGE":return{main:"".concat(r,"%"),sub:a?"Max ".concat(n," ").concat(a):"No limit",color:"from-purple-500 to-indigo-600"};case"FIXED_AMOUNT":return{main:"".concat(n," ").concat(r),sub:"Fixed discount",color:"from-green-500 to-teal-600"};case"FULL_COVERAGE":return{main:"100%",sub:"Full coverage",color:"from-amber-500 to-orange-600"};default:return{main:r,sub:"",color:"from-gray-500 to-gray-600"}}})();return(0,Xm.jsxs)("div",{className:"bg-gradient-to-r ".concat(s.color," text-white rounded-lg p-4 text-center"),children:[(0,Xm.jsx)("p",{className:"text-3xl font-bold",children:s.main}),(0,Xm.jsx)("p",{className:"text-sm opacity-90",children:s.sub})]})},Bb=e=>{let{coupon:t,onView:r,onCopy:a}=e;const n=t.available&&!t.used,s=t.expiringSoon||t.daysUntilExpiry<=7;return(0,Xm.jsxs)("div",{className:"bg-white rounded-xl border-2 overflow-hidden transition-all duration-200 hover:shadow-lg ".concat(n?"border-green-200 hover:border-green-300":"border-gray-200 opacity-75"),children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Ub,{type:t.discountType,value:t.discountValue,maxAmount:t.maxDiscountAmount,currency:t.currency}),s&&n&&(0,Xm.jsxs)("div",{className:"absolute top-2 right-2 bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center",children:[(0,Xm.jsx)(wp,{className:"w-3 h-3 mr-1"}),"Expires soon"]})]}),(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg px-3 py-2 flex-1 mr-2",children:[(0,Xm.jsx)(jp,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,Xm.jsx)("span",{className:"font-mono font-medium text-gray-900 text-sm",children:t.couponCode})]}),(0,Xm.jsx)("button",{onClick:()=>a(t.couponCode),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy code",children:(0,Xm.jsx)(Cg,{className:"w-5 h-5"})})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xm.jsx)(zb,{status:t.used?"USED":t.status,available:n}),t.daysUntilExpiry>0&&n&&(0,Xm.jsxs)("span",{className:"text-xs text-gray-500",children:[t.daysUntilExpiry," days left"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 mr-2"}),(0,Xm.jsx)("span",{children:t.used?"Used on ".concat(new Date(t.usedAt).toLocaleDateString()):"Expires ".concat(new Date(t.expiresAt).toLocaleDateString())})]}),(0,Xm.jsxs)("div",{className:"flex gap-2",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(t),children:[(0,Xm.jsx)(iy,{className:"w-4 h-4 mr-1"}),"Details"]}),n&&(0,Xm.jsxs)(Zm,{variant:"primary",size:"sm",className:"flex-1",onClick:()=>a(t.couponCode),children:[(0,Xm.jsx)(Cg,{className:"w-4 h-4 mr-1"}),"Copy Code"]})]})]})]})},Vb=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)("available"),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(null),[g,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b()},[]),(0,s.useEffect)(()=>{N()},[a,m,d]);const b=async()=>{v(!0);try{await Promise.all([j(),w()])}catch(e){console.error("Error loading data:",e),Ft.error("Failed to load coupon data")}finally{v(!1)}},j=async()=>{try{const e=await t(()=>qb.getAllCoupons());n((null===e||void 0===e?void 0:e.data)||[])}catch(e){console.error("Error loading coupons:",e)}},w=async()=>{try{const e=await t(()=>qb.getCouponSummary());c((null===e||void 0===e?void 0:e.data)||{})}catch(e){console.error("Error loading summary:",e)}},N=()=>{let e=[...a];if("available"===d?e=e.filter(e=>e.available&&!e.used):"used"===d&&(e=e.filter(e=>e.used)),m){const t=m.toLowerCase();e=e.filter(e=>{var r;return null===(r=e.couponCode)||void 0===r?void 0:r.toLowerCase().includes(t)})}o(e)},C=e=>{navigator.clipboard.writeText(e),Ft.success("Coupon code copied to clipboard!")},S=a.filter(e=>e.available&&!e.used).length,A=a.filter(e=>e.used).length;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Coupons"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View and manage your consultation discount coupons"})]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:b,disabled:g,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(g?"animate-spin":"")}),"Refresh"]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Available Coupons",value:(null===l||void 0===l?void 0:l.distributedCoupons)||S,icon:(0,Xm.jsx)(wb,{className:"w-5 h-5"}),iconColor:"bg-green-100 text-green-600"}),(0,Xm.jsx)(Ry,{title:"Used Coupons",value:(null===l||void 0===l?void 0:l.usedCoupons)||A,icon:(0,Xm.jsx)(Fb,{className:"w-5 h-5"}),iconColor:"bg-gray-100 text-gray-600"}),(0,Xm.jsx)(Ry,{title:"Total Savings",value:(k=(null===l||void 0===l?void 0:l.totalAvailableValue)||0,null===k||void 0===k?"$0.00":"$".concat(parseFloat(k).toFixed(2))),icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),iconColor:"bg-purple-100 text-purple-600"}),(0,Xm.jsx)(Ry,{title:"Expiring Soon",value:a.filter(e=>e.expiringSoon&&e.available).length,icon:(0,Xm.jsx)(wp,{className:"w-5 h-5"}),iconColor:"bg-yellow-100 text-yellow-600"})]}),S>0&&(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 border border-green-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wb,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"text-sm font-medium text-green-800",children:["You have ",S," coupon",S>1?"s":""," available!"]}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-green-700",children:"Use them when paying for consultations to save on your medical expenses."})]})]})}),(0,Xm.jsx)("div",{className:"flex items-center gap-4 border-b border-gray-200",children:[{id:"available",label:"Available",count:S},{id:"used",label:"Used",count:A},{id:"all",label:"All",count:a.length}].map(e=>(0,Xm.jsxs)("button",{onClick:()=>u(e.id),className:"pb-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat(d===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[e.label,(0,Xm.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs ".concat(d===e.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"),children:e.count})]},e.id))}),a.length>0&&(0,Xm.jsxs)("div",{className:"relative max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by coupon code...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r?(0,Xm.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Xm.jsx)(pg,{className:"w-8 h-8 animate-spin text-primary-500"})}):0===i.length?(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(jp,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"available"===d?"No Available Coupons":"used"===d?"No Used Coupons":"No Coupons Found"}),(0,Xm.jsx)("p",{className:"text-gray-500 max-w-sm mx-auto",children:"available"===d?"You don't have any coupons available right now. Your medical supervisor may assign coupons to you.":"used"===d?"You haven't used any coupons yet.":"No coupons match your search."})]})}):(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,Xm.jsx)(Bb,{coupon:e,onView:e=>{y(e),x(!0)},onCopy:C},e.id))}),(0,Xm.jsx)(My,{title:"How to Use Your Coupons",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)("span",{className:"text-primary-600 font-bold",children:"1"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Copy Coupon Code"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Click the copy button to copy your coupon code to clipboard."})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)("span",{className:"text-primary-600 font-bold",children:"2"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Go to Payment"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'When paying for a consultation, choose "Pay with Coupon" option.'})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)("span",{className:"text-primary-600 font-bold",children:"3"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Apply & Save"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Paste your code and the discount will be applied automatically."})]})]})]})}),(0,Xm.jsx)($y,{isOpen:h,onClose:()=>{x(!1),y(null)},title:"Coupon Details",size:"md",children:f&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(Ub,{type:f.discountType,value:f.discountValue,maxAmount:f.maxDiscountAmount,currency:f.currency}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(jp,{className:"w-5 h-5 text-gray-500 mr-3"}),(0,Xm.jsx)("span",{className:"font-mono font-bold text-lg text-gray-900",children:f.couponCode})]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:()=>C(f.couponCode),children:[(0,Xm.jsx)(Cg,{className:"w-4 h-4 mr-1"}),"Copy"]})]}),(0,Xm.jsx)("div",{className:"flex items-center justify-center",children:(0,Xm.jsx)(zb,{status:f.used?"USED":f.status,available:f.available&&!f.used})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Assigned Date"}),(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-1",children:f.assignedAt?new Date(f.assignedAt).toLocaleDateString():"N/A"})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Expiry Date"}),(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-1",children:new Date(f.expiresAt).toLocaleDateString()})]})]}),f.used&&f.usedAt&&(0,Xm.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-green-800",children:"Usage Information"}),(0,Xm.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:["Used on ",new Date(f.usedAt).toLocaleDateString(),f.usedForCaseId&&" for Case #".concat(f.usedForCaseId)]})]}),(0,Xm.jsx)("div",{className:"p-4 bg-purple-50 rounded-lg",children:(0,Xm.jsxs)("p",{className:"text-sm text-purple-800",children:[(0,Xm.jsx)(Sg,{className:"w-4 h-4 inline mr-1"}),"PERCENTAGE"===f.discountType&&"This coupon gives you ".concat(f.discountValue,"% off your consultation fee").concat(f.maxDiscountAmount?", up to a maximum of $".concat(f.maxDiscountAmount):"","."),"FIXED_AMOUNT"===f.discountType&&"This coupon gives you $".concat(f.discountValue," off your consultation fee."),"FULL_COVERAGE"===f.discountType&&"This coupon covers 100% of your consultation fee."]})}),(0,Xm.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{x(!1),y(null)},children:"Close"})})]})})]});var k},Hb=zm("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Wb=zm("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Gb=()=>{var e;te();const{user:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)({stats:{activeCases:0,todayAppointments:0,totalConsultations:0,avgRating:0,workloadPercentage:0,thisWeekEarnings:0,pendingReports:0,unreadNotifications:0},recentCases:[],upcomingAppointments:[],recentNotifications:[]}),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p();const e=setInterval(p,3e5);return()=>clearInterval(e)},[]);const p=async()=>{try{m(!0);const e=await r(()=>mp.getDashboardData());i(e)}catch(e){console.error("Failed to load dashboard data:",e)}finally{m(!1)}},h=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Not specified",x=e=>{switch(e){case"CASE_ASSIGNMENT":return(0,Xm.jsx)(gp,{className:"w-4 h-4"});case"APPOINTMENT_REMINDER":return(0,Xm.jsx)(bp,{className:"w-4 h-4"});case"PAYMENT_RECEIVED":return(0,Xm.jsx)(Cp,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Vm,{className:"w-4 h-4"})}},f=[{title:"View All Cases",description:"Manage your assigned cases",icon:(0,Xm.jsx)(Hb,{className:"w-5 h-5"}),href:"/app/doctor/cases",color:"blue"},{title:"Today's Schedule",description:"View today's appointments",icon:(0,Xm.jsx)(bp,{className:"w-5 h-5"}),href:"/app/doctor/appointments",color:"green"},{title:"Create Report",description:"Write consultation report",icon:(0,Xm.jsx)(gp,{className:"w-5 h-5"}),href:"/app/doctor/reports/create",color:"purple"},{title:"Earnings Overview",description:"Track your earnings",icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),href:"/app/doctor/earnings",color:"yellow"}];return(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, Dr. ",(e=>{if(!e)return"New Doctor";return e.toLowerCase().startsWith("dr. ")?e.substring(4):e})(null===t||void 0===t?void 0:t.fullName)]}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Here's your practice overview for today"})]}),(0,Xm.jsx)("div",{className:"mt-4 lg:mt-0 flex items-center space-x-4",children:(0,Xm.jsx)(Zm,{variant:"ghost",icon:u?(0,Xm.jsx)(pg,{className:"w-4 h-4 animate-spin"}):(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:p,disabled:u||a,children:"Refresh"})})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Practice Status"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your availability and workload"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Emergency Mode"}),(0,Xm.jsx)("button",{onClick:async()=>{try{await r(()=>mp.updateSettings({emergencyMode:!c})),d(!c)}catch(e){console.error("Failed to update emergency mode:",e)}},disabled:a,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ".concat(c?"bg-red-600":"bg-gray-200"),children:(0,Xm.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(c?"translate-x-6":"translate-x-1")})}),c&&(0,Xm.jsx)(lp,{variant:"error",size:"sm",icon:(0,Xm.jsx)(Wb,{className:"w-3 h-3"}),children:"Emergency"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Available"}),(0,Xm.jsx)("button",{onClick:async()=>{try{await r(()=>mp.updateAvailability({isAvailable:!o})),l(!o)}catch(e){console.error("Failed to update availability:",e)}},disabled:a,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ".concat(o?"bg-green-600":"bg-gray-200"),children:(0,Xm.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(o?"translate-x-6":"translate-x-1")})})]})]})]}),(0,Xm.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Current Workload"}),(0,Xm.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[n.stats.workloadPercentage,"%"]})]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Xm.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(n.stats.workloadPercentage>80?"bg-red-500":n.stats.workloadPercentage>60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(n.stats.workloadPercentage,"%")}})}),(0,Xm.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Xm.jsx)("span",{children:"0%"}),(0,Xm.jsx)("span",{children:"50%"}),(0,Xm.jsx)("span",{children:"100%"})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Active Cases",value:n.stats.activeCases,icon:(0,Xm.jsx)(Hb,{className:"w-6 h-6"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Today's Appointments",value:n.stats.todayAppointments,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Total Consultations",value:n.stats.totalConsultations,icon:(0,Xm.jsx)(vp,{className:"w-6 h-6"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Average Rating",value:n.stats.avgRating,icon:(0,Xm.jsx)(Ip,{className:"w-6 h-6"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Total Earnings",value:"".concat((null===(e=n.stats.totalEarnings)||void 0===e?void 0:e.toLocaleString())||"0"),icon:(0,Xm.jsx)(Cp,{className:"w-6 h-6"}),changeType:"increase"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Latest Active Cases",action:(0,Xm.jsx)(_e,{to:"/app/doctor/cases",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:n.recentCases.length>0?n.recentCases.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.patientName}),(0,Xm.jsx)(ip,{priority:e.urgencyLevel,size:"sm"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.caseTitle}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[(0,Xm.jsx)("span",{children:e.requiredSpecialization}),(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsx)("span",{children:h(e.submittedAt)}),e.nextAction&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsx)("span",{className:"text-blue-600 font-medium",children:e.nextAction})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(sp,{status:e.status,size:"sm"}),(0,Xm.jsx)(_e,{to:"/app/doctor/cases/".concat(e.id),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View"})})]})]},e.id)):(0,Xm.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xm.jsx)(Hb,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,Xm.jsx)("p",{children:"No active cases"})]})})}),(0,Xm.jsx)(My,{title:"Upcoming Appointments",action:(0,Xm.jsx)(_e,{to:"/app/doctor/appointments",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:n.upcomingAppointments.length>0?n.upcomingAppointments.map(e=>{return(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.patientName}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:["VIDEO_CONSULTATION"===e.consultationType?(0,Xm.jsx)(Hp,{className:"w-4 h-4"}):(0,Xm.jsx)(gy,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{className:"text-sm",children:[e.duration,"min"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:(t=e.scheduledTime,new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))}),(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsxs)("span",{children:["Case #",e.caseId]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(sp,{status:e.status,size:"sm"}),(0,Xm.jsx)(_e,{to:"/app/doctor/appointments/".concat(e.id),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View"})})]})]},e.id);var t}):(0,Xm.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xm.jsx)(bp,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,Xm.jsx)("p",{children:"No upcoming appointments"})]})})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Latest Notifications",action:(0,Xm.jsx)(_e,{to:"/app/doctor/notifications",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",children:"View All"})}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:n.recentNotifications.length>0?n.recentNotifications.map(e=>(0,Xm.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg transition-colors ".concat(e.isRead?"bg-gray-50":"bg-blue-50 border border-blue-200"),children:[(0,Xm.jsx)("div",{className:"p-2 rounded-full ".concat(e.isRead?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-600"),children:x(e.type)}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:h(e.createdAt)})]}),e.actionUrl&&(0,Xm.jsx)(_e,{to:e.actionUrl,children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})})})]},e.id)):(0,Xm.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xm.jsx)(Vm,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,Xm.jsx)("p",{children:"No new notifications"})]})})}),(0,Xm.jsx)(My,{title:"Quick Actions",children:(0,Xm.jsx)("div",{className:"grid grid-cols-2 gap-4",children:f.map((e,t)=>(0,Xm.jsx)(_e,{to:e.href,children:(0,Xm.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all cursor-pointer",children:[(0,Xm.jsx)("div",{className:"inline-flex p-2 rounded-lg mb-3 bg-".concat(e.color,"-100 text-").concat(e.color,"-600"),children:e.icon}),(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:e.title}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})},t))})})]})]})},Yb=zm("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Kb=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},$b=e=>{if(!e)return"Unknown";const t=new Date(e),r=new Date-t,a=Math.floor(r/36e5),n=Math.floor(a/24);if(n>0)return"".concat(n," day").concat(n>1?"s":"");if(a>0)return"".concat(a," hour").concat(a>1?"s":"");{const e=Math.floor(r/6e4);return"".concat(Math.max(1,e)," minute").concat(e>1?"s":"")}},Qb=e=>e||0===e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"$0.00",Xb=ey({reason:zf().required("Rejection reason is required").min(10,"Reason must be at least 10 characters").max(500,"Reason cannot exceed 500 characters")}),Jb=[{value:"newest",label:"Newest First",field:"submittedAt",order:"desc"},{value:"oldest",label:"Oldest First",field:"submittedAt",order:"asc"},{value:"priority",label:"Priority (High to Low)",field:"urgencyLevel",order:"desc"},{value:"fee",label:"Fee (High to Low)",field:"consultationFee",order:"desc"}],Zb=[{value:"all",label:"All Priorities"},{value:"CRITICAL",label:"Critical"},{value:"HIGH",label:"High"},{value:"MEDIUM",label:"Medium"},{value:"LOW",label:"Low"}],ej=[{value:"all",label:"All Specializations"},{value:"CARDIOLOGY",label:"Cardiology"},{value:"NEUROLOGY",label:"Neurology"},{value:"ONCOLOGY",label:"Oncology"},{value:"PEDIATRICS",label:"Pediatrics"},{value:"PSYCHIATRY",label:"Psychiatry"},{value:"GENERAL_MEDICINE",label:"General Medicine"}],tj=()=>{const e=te(),{user:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)({total:0,pending:0,critical:0,averageFee:0}),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(""),[j,w]=(0,s.useState)("newest"),[N,C]=(0,s.useState)("all"),[S,A]=(0,s.useState)("all"),[k,E]=(0,s.useState)(!1),{register:P,handleSubmit:O,formState:{errors:T},reset:D}=Tx({resolver:Lx(Xb)});(0,s.useEffect)(()=>{R()},[]),(0,s.useEffect)(()=>{M()},[n,v,j,N,S]);const R=async()=>{try{m(!0);const e=await r(()=>mp.getAssignedCases());i(e||[]),_(e||[])}catch(e){console.error("Failed to load assignments:",e),i([])}finally{m(!1)}},_=e=>{const t=e.length,r=e.filter(e=>"ASSIGNED"===e.status).length,a=e.filter(e=>"CRITICAL"===e.urgencyLevel||"HIGH"===e.urgencyLevel).length,n=e.reduce((e,t)=>e+(t.consultationFee||0),0);d({total:t,pending:r,critical:a,averageFee:t>0?n/t:0})},M=(0,s.useCallback)(()=>{let e=[...n];if(v.trim()){const t=v.toLowerCase();e=e.filter(e=>{var r,a,n,s;return(null===(r=e.caseTitle)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.patientName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(s=e.requiredSpecialization)||void 0===s?void 0:s.toLowerCase().includes(t))})}"all"!==N&&(e=e.filter(e=>e.urgencyLevel===N)),"all"!==S&&(e=e.filter(e=>e.requiredSpecialization===S));const t=Jb.find(e=>e.value===j);t&&e.sort((e,r)=>{const a=e[t.field],n=r[t.field];if("submittedAt"===t.field){const e=new Date(a),r=new Date(n);return"desc"===t.order?r-e:e-r}if("urgencyLevel"===t.field){const e={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};return"desc"===t.order?e[n]-e[a]:e[a]-e[n]}return"number"===typeof a&&"number"===typeof n?"desc"===t.order?n-a:a-n:0}),l(e)},[n,v,j,N,S]),I=e=>{switch(e){case"CARDIOLOGY":return(0,Xm.jsx)(Pp,{className:"w-4 h-4"});case"NEUROLOGY":return(0,Xm.jsx)(Yb,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Op,{className:"w-4 h-4"})}};return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"New Case Assignments"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Review and respond to new case assignments"})]}),(0,Xm.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(u?"animate-spin":"")}),onClick:R,disabled:u,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>E(!k),children:"Filters"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Assignments",value:c.total,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Pending Review",value:c.pending,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Critical Cases",value:c.critical,icon:(0,Xm.jsx)(wp,{className:"w-6 h-6"}),changeType:"decrease"}),(0,Xm.jsx)(Ry,{title:"Average Fee",value:Qb(c.averageFee),icon:(0,Xm.jsx)(Cp,{className:"w-6 h-6"}),changeType:"increase"})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by case title, patient name, or specialization...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:v,onChange:e=>b(e.target.value)})]}),k&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:j,onChange:e=>w(e.target.value),children:Jb.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:N,onChange:e=>C(e.target.value),children:Zb.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:S,onChange:e=>A(e.target.value),children:ej.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"space-y-4",children:a&&0===o.length?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(pg,{className:"w-8 h-8 mx-auto mb-4 text-gray-400 animate-spin"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"Loading assignments..."})]}):0===o.length?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-8 h-8 mx-auto mb-4 text-gray-400"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:v||"all"!==N||"all"!==S?"No assignments match your filters":"No new assignments available"}),(v||"all"!==N||"all"!==S)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>{b(""),C("all"),A("all")},children:"Clear Filters"})]}):(0,Xm.jsx)("div",{className:"space-y-4",children:o.map(t=>{var a;return(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.caseTitle}),(0,Xm.jsx)(ip,{priority:t.urgencyLevel}),t.consultationFee&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:Qb(t.consultationFee)})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:t.patientName})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[I(t.requiredSpecialization),(0,Xm.jsx)("span",{children:null===(a=t.requiredSpecialization)||void 0===a?void 0:a.replace("_"," ")})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:Kb(t.submittedAt)})]})]})]})}),(0,Xm.jsx)("div",{className:"mb-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 text-sm line-clamp-3",children:t.description})}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Xm.jsxs)("span",{children:["Assigned ",$b(t.submittedAt)," ago"]}),t.documentsCount>0&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsxs)("span",{children:[t.documentsCount," documents"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(_e,{to:"/app/doctor/cases/".concat(t.id),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View Details"})}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(eg,{className:"w-4 h-4"}),onClick:()=>(e=>{h(e),f(!0)})(t),disabled:y===t.id,children:"Reject"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:()=>(async t=>{try{g(t.id),await r(()=>mp.acceptCase(t.id)),i(e=>e.filter(e=>e.id!==t.id)),e("/app/doctor/cases/".concat(t.id),{state:{message:"Case accepted successfully!"}})}catch(a){console.error("Failed to accept assignment:",a)}finally{g(null)}})(t),loading:y===t.id,disabled:null!==y,children:"Accept Case"})]})]})]},t.id)})})})}),(0,Xm.jsx)(Ky,{isOpen:x,onClose:()=>{f(!1),h(null),D()},title:"Reject Case Assignment",subtitle:'Provide a reason for rejecting "'.concat(null===p||void 0===p?void 0:p.caseTitle,'"'),onSubmit:O(async e=>{try{g(p.id),await r(()=>mp.rejectCase(p.id,e.reason)),i(e=>e.filter(e=>e.id!==p.id)),f(!1),h(null),D()}catch(t){console.error("Failed to reject assignment:",t)}finally{g(null)}}),submitText:"Reject Assignment",submitVariant:"danger",loading:y===(null===p||void 0===p?void 0:p.id),children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rejection Reason ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},P("reason")),{},{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Please provide a detailed reason for rejecting this case assignment..."})),T.reason&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:T.reason.message})]}),(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Important:"}),(0,Xm.jsx)("p",{children:"Once rejected, this case will be reassigned to another doctor. This action cannot be undone."})]})]})})]})})]})},rj=zm("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]),aj=zm("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),nj=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},sj=e=>{if(!e)return"Unknown";const t=new Date(e),r=new Date-t,a=Math.floor(r/36e5),n=Math.floor(a/24);if(n>0)return"".concat(n," day").concat(n>1?"s":"");if(a>0)return"".concat(a," hour").concat(a>1?"s":"");{const e=Math.floor(r/6e4);return"".concat(Math.max(1,e)," minute").concat(e>1?"s":"")}},ij=e=>e||0===e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"$0.00",oj=ey({consultationFee:Bf().required("Consultation fee is required").min(100,"Minimum fee is $100.00").max(500,"Maximum fee is $500.00").typeError("Consultation fee must be a valid number")}),lj=[{value:"newest",label:"Newest First",field:"createdAt",order:"desc"},{value:"oldest",label:"Oldest First",field:"createdAt",order:"asc"},{value:"priority",label:"Priority (High to Low)",field:"urgencyLevel",order:"desc"},{value:"status",label:"Status",field:"status",order:"asc"},{value:"patient",label:"Patient Name",field:"patientName",order:"asc"}],cj=[{value:"all",label:"All Statuses"},{value:"ACCEPTED",label:"Accepted"},{value:"SCHEDULED",label:"Scheduled"},{value:"PAYMENT_PENDING",label:"Payment Pending"},{value:"IN_PROGRESS",label:"In Progress"},{value:"CONSULTATION_COMPLETE",label:"Consultation Complete"},{value:"CLOSED",label:"Closed"}],dj=[{value:"all",label:"All Priorities"},{value:"CRITICAL",label:"Critical"},{value:"HIGH",label:"High"},{value:"MEDIUM",label:"Medium"},{value:"LOW",label:"Low"}],uj=[{value:"all",label:"All Specializations"},{value:"CARDIOLOGY",label:"Cardiology"},{value:"NEUROLOGY",label:"Neurology"},{value:"ONCOLOGY",label:"Oncology"},{value:"PEDIATRICS",label:"Pediatrics"},{value:"PSYCHIATRY",label:"Psychiatry"},{value:"GENERAL_MEDICINE",label:"General Medicine"}],mj=()=>{const e=te(),{user:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)({total:0,accepted:0,scheduled:0,inProgress:0,pendingPayment:0,critical:0,totalEarnings:0}),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(""),[j,w]=(0,s.useState)("newest"),[N,C]=(0,s.useState)("all"),[S,A]=(0,s.useState)("all"),[k,E]=(0,s.useState)("all"),[P,O]=(0,s.useState)(!1),{register:T,handleSubmit:D,formState:{errors:R},reset:_,setValue:M}=Tx({resolver:Lx(oj)});(0,s.useEffect)(()=>{I()},[]),(0,s.useEffect)(()=>{F()},[n,v,j,N,S,k]);const I=async()=>{try{m(!0);const e=await r(()=>mp.getAllCasses());i(e||[]),L(e||[])}catch(e){console.error("Failed to load active cases:",e),i([])}finally{m(!1)}},L=e=>{const t=e.length,r=e.filter(e=>"ACCEPTED"===e.status).length,a=e.filter(e=>"SCHEDULED"===e.status).length,n=e.filter(e=>"IN_PROGRESS"===e.status).length,s=e.filter(e=>"PAYMENT_PENDING"===e.status).length,i=e.filter(e=>"CRITICAL"===e.urgencyLevel).length,o=e.reduce((e,t)=>e+(t.consultationFee||0),0);d({total:t,accepted:r,scheduled:a,inProgress:n,pendingPayment:s,critical:i,totalEarnings:o})},F=(0,s.useCallback)(()=>{let e=[...n];if(v.trim()){const t=v.toLowerCase();e=e.filter(e=>{var r,a,n,s;return(null===(r=e.caseTitle)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.patientName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(s=e.requiredSpecialization)||void 0===s?void 0:s.toLowerCase().includes(t))})}"all"!==N&&(e=e.filter(e=>e.status===N)),"all"!==S&&(e=e.filter(e=>e.urgencyLevel===S)),"all"!==k&&(e=e.filter(e=>e.requiredSpecialization===k));const t=lj.find(e=>e.value===j);t&&e.sort((e,r)=>{const a=e[t.field],n=r[t.field];if("createdAt"===t.field){const e=new Date(a),r=new Date(n);return"desc"===t.order?r-e:e-r}if("urgencyLevel"===t.field){const e={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};return"desc"===t.order?e[n]-e[a]:e[a]-e[n]}return"string"===typeof a&&"string"===typeof n?"desc"===t.order?n.localeCompare(a):a.localeCompare(n):"number"===typeof a&&"number"===typeof n?"desc"===t.order?n-a:a-n:0}),l(e)},[n,v,j,N,S,k]),q=e=>{h(e),M("consultationFee",e.consultationFee||""),f(!0)},z=t=>{if(!t.consultationFee||t.consultationFee<=0)return alert("Please set the consultation fee before scheduling an appointment."),void q(t);e("/app/doctor/schedule",{state:{caseId:t.id,patientId:t.patientId,caseTitle:t.caseTitle,consultationFee:t.consultationFee}})},U=e=>{switch(e){case"ACCEPTED":return"text-blue-600 bg-blue-100";case"SCHEDULED":return"text-purple-600 bg-purple-100";case"PAYMENT_PENDING":return"text-yellow-600 bg-yellow-100";case"IN_PROGRESS":return"text-green-600 bg-green-100";case"CONSULTATION_COMPLETE":return"text-teal-600 bg-teal-100";default:return"text-gray-600 bg-gray-100"}},B=e=>{switch(e){case"CARDIOLOGY":return(0,Xm.jsx)(Pp,{className:"w-4 h-4"});case"NEUROLOGY":return(0,Xm.jsx)(Yb,{className:"w-4 h-4"});case"ONCOLOGY":return(0,Xm.jsx)(Ey,{className:"w-4 h-4"});case"PEDIATRICS":return(0,Xm.jsx)(vp,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Op,{className:"w-4 h-4"})}},V=t=>{const a=[{label:"View Details",icon:iy,variant:"ghost",onClick:()=>e("/app/doctor/cases/".concat(t.id))}];switch(t.status){case"ACCEPTED":t.consultationFee&&t.consultationFee>0?a.push({label:"Schedule Appointment",icon:bp,variant:"primary",onClick:()=>z(t),requiresFee:!1}):a.push({label:"Update Fees",icon:Cp,variant:"primary",onClick:()=>q(t)},{label:"Schedule Appointment",icon:bp,variant:"outline",onClick:()=>z(t),requiresFee:!0,disabled:!0});break;case"SCHEDULED":case"PAYMENT_PENDING":default:break;case"IN_PROGRESS":a.push({label:"Message Patient",icon:Km,variant:"outline",onClick:()=>(async t=>{e("/app/doctor/communication",{state:{patientId:null,patientName:"Loading...",caseId:t.id}});try{const a=await r(()=>mp.getCustomPatientInfo(t.id));console.log("patientName:",a.fullName),console.log("patientId:",a.userId),e("/app/doctor/communication",{state:{patientId:a.userId,patientName:a.fullName,caseId:t.id},replace:!0})}catch(a){console.error("Error fetching patient data:",a)}})(t)});break;case"CONSULTATION_COMPLETE":a.push({label:"Prepare Report",icon:rj,variant:"primary",onClick:()=>{e("/app/doctor/reports")}});break;case"CLOSED":a.push({label:"View Report",icon:aj,variant:"outline",onClick:()=>(e=>{if(e.medicalReportFileLink){const t=e.medicalReportFileLink.replace("/api/files/reports/","/api/files/reports/serve/");window.open(t,"_blank")}})(t)})}return a};return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Active Cases"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your active patient cases and consultations"})]}),(0,Xm.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(u?"animate-spin":"")}),onClick:I,disabled:u,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>O(!P),children:"Filters"}),(0,Xm.jsx)(_e,{to:"/app/doctor/assignments",children:(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),children:"New Assignments"})})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Cases",value:c.total,icon:(0,Xm.jsx)(gp,{className:"w-5 h-5"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Accepted",value:c.accepted,icon:(0,Xm.jsx)(Up,{className:"w-5 h-5"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Scheduled",value:c.scheduled,icon:(0,Xm.jsx)(bp,{className:"w-5 h-5"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"In Progress",value:c.inProgress,icon:(0,Xm.jsx)(Qp,{className:"w-5 h-5"}),changeType:"increase"}),(0,Xm.jsx)(Ry,{title:"Payment Pending",value:c.pendingPayment,icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),changeType:"neutral"}),(0,Xm.jsx)(Ry,{title:"Total Earnings",value:ij(c.totalEarnings),icon:(0,Xm.jsx)(Kp,{className:"w-5 h-5"}),changeType:"increase"})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by case title, patient name, or specialization...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:v,onChange:e=>b(e.target.value)})]}),P&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:j,onChange:e=>w(e.target.value),children:lj.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:N,onChange:e=>C(e.target.value),children:cj.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:S,onChange:e=>A(e.target.value),children:dj.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),(0,Xm.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:k,onChange:e=>E(e.target.value),children:uj.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"space-y-4",children:a&&0===o.length?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(pg,{className:"w-8 h-8 mx-auto mb-4 text-gray-400 animate-spin"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"Loading active cases..."})]}):0===o.length?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-8 h-8 mx-auto mb-4 text-gray-400"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:v||"all"!==N||"all"!==S||"all"!==k?"No cases match your filters":"No active cases found"}),(v||"all"!==N||"all"!==S||"all"!==k)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>{b(""),C("all"),A("all"),E("all")},children:"Clear Filters"})]}):(0,Xm.jsx)("div",{className:"space-y-4",children:o.filter(e=>"ASSIGNED"!==e.status).map(e=>{var t,r;const a=V(e);return(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.caseTitle}),(0,Xm.jsx)(lp,{variant:"outline",className:U(e.status),children:null===(t=e.status)||void 0===t?void 0:t.replace("_"," ")}),(0,Xm.jsx)(ip,{priority:e.urgencyLevel}),e.consultationFee&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:ij(e.consultationFee)}),!e.consultationFee&&"ACCEPTED"===e.status&&(0,Xm.jsx)(lp,{variant:"warning",size:"sm",children:"Fee Not Set"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.patientName})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[B(e.requiredSpecialization),(0,Xm.jsx)("span",{children:null===(r=e.requiredSpecialization)||void 0===r?void 0:r.replace("_"," ")})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["Assigned ",sj(e.firstAssignedAt)," ago"]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,Xm.jsxs)("span",{children:["Case #",e.id]}),e.firstAssignedAt&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsxs)("span",{children:["First Assigned: ",nj(e.firstAssignedAt)]})]}),e.documentsCount>0&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsxs)("span",{children:[e.documentsCount," documents"]})]})]})]})}),(0,Xm.jsx)("div",{className:"mb-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2",children:e.description})}),"ACCEPTED"===e.status&&(!e.consultationFee||e.consultationFee<=0)&&(0,Xm.jsx)("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Consultation Fee Required"}),(0,Xm.jsx)("p",{children:"Please set the consultation fee before scheduling an appointment."})]})]})}),(0,Xm.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-100",children:(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:a.map((t,r)=>{const a=t.icon;return(0,Xm.jsx)(Zm,{variant:t.variant,size:"sm",icon:(0,Xm.jsx)(a,{className:"w-4 h-4"}),onClick:t.onClick,disabled:y===e.id||t.disabled||t.requiresFee&&(!e.consultationFee||e.consultationFee<=0),children:t.label},r)})})})]},e.id)})})})}),(0,Xm.jsx)(Ky,{isOpen:x,onClose:()=>{f(!1),h(null),_()},title:"Update Consultation Fee",subtitle:'Set consultation fee for "'.concat(null===p||void 0===p?void 0:p.caseTitle,'"'),onSubmit:D(async e=>{try{g(p.id),await r(()=>mp.setCaseFee(p.id,e.consultationFee)),f(!1),h(null),_(),await I(),console.log("Consultation fee updated successfully")}catch(t){console.error("Failed to update case fee:",t),alert("Failed to update consultation fee. Please try again.")}finally{g(null)}}),submitText:"Update Fee",submitVariant:"primary",loading:y===(null===p||void 0===p?void 0:p.id),children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Consultation Fee (USD) ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number",step:"0.01",min:"100",max:"500"},T("consultationFee")),{},{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter consultation fee (100.00 - 500.00)"}))]}),R.consultationFee&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:R.consultationFee.message})]}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Fee Guidelines:"}),(0,Xm.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1",children:[(0,Xm.jsx)("li",{children:"Minimum consultation fee: $100.00"}),(0,Xm.jsx)("li",{children:"Maximum consultation fee: $500.00"}),(0,Xm.jsx)("li",{children:"Fee is required before scheduling appointments"}),(0,Xm.jsx)("li",{children:"Patient will be notified of the fee amount"}),(0,Xm.jsx)("li",{children:"Fee can be updated if case status is ACCEPTED"})]})]})]})})]})})]})},pj=zm("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),hj=zm("FileType",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),xj=zm("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),fj=e=>{let{isOpen:t,onClose:r,title:a,children:n,closeOnOverlayClick:i=!0,closeOnEscape:o=!0,showCloseButton:l=!0}=e;if((0,s.useEffect)(()=>{if(!o)return;const e=e=>{"Escape"===e.key&&t&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,r,o]),(0,s.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;return(0,Xm.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e=>{i&&e.target===e.currentTarget&&r()}}),(0,Xm.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Xm.jsxs)("div",{className:"relative w-full max-w-[95vw] bg-white rounded-lg shadow-xl transform transition-all",style:{height:"90vh"},children:[(a||l)&&(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a&&(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),l&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:r,icon:(0,Xm.jsx)(Tp,{className:"w-4 h-4"}),className:"text-gray-400 hover:text-gray-600"})]}),(0,Xm.jsx)("div",{className:"overflow-y-auto",style:{height:"calc(90vh - 80px)"},children:n})]})})]})},yj=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},gj=e=>e||0===e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"$0.00",vj=e=>{if(!e)return"0 KB";const t=e;if(t<1024)return"".concat(t.toFixed(2)," KB");return"".concat((t/1024).toFixed(2)," MB")},bj=()=>{var e,t;const{caseId:r}=ae(),a=te(),{user:n}=Jd(),{execute:i,loading:o}=Iy(),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)([]),[f,y]=(0,s.useState)(0),[g,v]=(0,s.useState)(!1),[b,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)("overview"),[E,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&O()},[r]),(0,s.useEffect)(()=>()=>{b&&URL.revokeObjectURL(b)},[b]);const O=async()=>{try{P(!0);const t=await i(()=>mp.getAllCasses()),a=null===t||void 0===t?void 0:t.find(e=>e.id===parseInt(r));if(!a)return console.error("Case not found in active cases"),c(null),void P(!1);c(a);try{const e=await i(()=>mp.getCustomPatientInfo(r)),t=null!=a.dependentId&&a.dependentId>0;p(t),u(e),console.log("Is dependent case:",t)}catch(e){console.error("Failed to load patient info:",e)}try{const e=await i(()=>dp.getCaseAttachments(r));e&&e.documents?x(e.documents||[]):Array.isArray(e)?x(e):x([])}catch(e){console.error("Failed to load attachments:",e),x([])}}catch(e){console.error("Failed to load case data:",e),c(null)}finally{P(!1)}},T=e=>{if(!e)return"N/A";const t=new Date,r=new Date(e);let a=t.getFullYear()-r.getFullYear();const n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,a},D=async(e,t)=>{y(t),N(e),v(!0),S(!0),b&&(URL.revokeObjectURL(b),j(null));try{console.log("Fetching document:",e.id);const t=JSON.parse(localStorage.getItem("user")||"{}"),a=localStorage.getItem("accessToken");if(!t.id||!a)return alert("Authentication required"),S(!1),void v(!1);const n=await fetch("http://172.16.1.122:8080/patient-service/api/files/".concat(r,"/").concat(e.id),{method:"GET",headers:{Authorization:"Bearer ".concat(a),"X-User-Id":t.id,Accept:"*/*"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const s=await n.blob();if(0===s.size)return console.error("Received empty blob"),alert("Received empty file from server"),void S(!1);const i=window.URL.createObjectURL(s);j(i),S(!1)}catch(a){console.error("Failed to load document:",a),alert("Failed to load document preview"),S(!1),v(!1)}},R=async e=>{try{console.log("Downloading document:",e.id);const t=JSON.parse(localStorage.getItem("user")||"{}"),a=localStorage.getItem("accessToken");if(!t.id||!a)return void alert("Authentication required");const n=await fetch("http://172.16.1.122:8080/patient-service/api/files/".concat(r,"/").concat(e.id),{method:"GET",headers:{Authorization:"Bearer ".concat(a),"X-User-Id":t.id,Accept:"*/*"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const s=await n.blob();if(0===s.size)return void alert("Received empty file from server");const i=window.URL.createObjectURL(s),o=e.createElement("a");o.href=i,o.download=e.fileName||"document_".concat(e.id),e.body.appendChild(o),o.click(),e.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(t){console.error("Failed to download document:",t),alert("Failed to download document")}},_=e=>e?e.startsWith("image/")?(0,Xm.jsx)(Rg,{className:"w-5 h-5 text-blue-500"}):e.includes("pdf")?(0,Xm.jsx)(hj,{className:"w-5 h-5 text-red-500"}):(0,Xm.jsx)(pj,{className:"w-5 h-5 text-gray-500"}):(0,Xm.jsx)(pj,{className:"w-5 h-5 text-gray-500"}),M=e=>{if(!e)return(0,Xm.jsx)(Op,{className:"w-5 h-5 text-blue-500"});switch(e.toUpperCase()){case"CARDIOLOGY":return(0,Xm.jsx)(Pp,{className:"w-5 h-5 text-red-500"});case"NEUROLOGY":return(0,Xm.jsx)(Yb,{className:"w-5 h-5 text-purple-500"});case"ONCOLOGY":return(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-orange-500"});default:return(0,Xm.jsx)(Op,{className:"w-5 h-5 text-blue-500"})}},I=()=>l&&l.consultationFee&&l.consultationFee>0;return o&&!l?(0,Xm.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading case details..."})]})}):l||o?(0,Xm.jsxs)("div",{className:"space-y-6 p-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/cases"),children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:l.caseTitle}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Case ID: #",l.id]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(E?"animate-spin":"")}),onClick:O,disabled:E,children:"Refresh"}),(0,Xm.jsx)(sp,{status:l.status}),(0,Xm.jsx)(ip,{priority:l.urgencyLevel}),l.consultationFee&&(0,Xm.jsx)(lp,{variant:"success",children:gj(l.consultationFee)})]})]}),(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8",children:["overview","medical","patient","documents"].map(e=>(0,Xm.jsx)("button",{onClick:()=>k(e),className:"py-4 px-1 border-b-2 font-medium text-sm capitalize transition-colors ".concat(A===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e},e))})}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow",children:["overview"===A&&(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xm.jsx)(My,{title:"Case Information",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:l.description})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),(0,Xm.jsx)(sp,{status:l.status})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Urgency"}),(0,Xm.jsx)(ip,{priority:l.urgencyLevel})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Submitted"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:yj(l.submittedAt)})]}),l.firstAssignedAt&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Assigned"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:yj(l.firstAssignedAt)})]}),l.consultationFee&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Consultation Fee"}),(0,Xm.jsx)("p",{className:"text-green-600 font-semibold",children:gj(l.consultationFee)})]}),l.feeSetAt&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Fee Set At"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:yj(l.feeSetAt)})]})]})]})}),(0,Xm.jsx)(My,{title:"Medical Summary",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[M(l.requiredSpecialization),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Required Specialization"})]}),(0,Xm.jsx)("p",{className:"text-gray-700 ml-7",children:null===(e=l.requiredSpecialization)||void 0===e?void 0:e.replace("_"," ")})]}),l.primaryDiseaseCode&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Primary Condition"}),(0,Xm.jsx)(lp,{variant:"info",size:"lg",children:l.primaryDiseaseCode})]}),l.symptomCodes&&l.symptomCodes.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Symptoms"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(l.symptomCodes).map((e,t)=>(0,Xm.jsxs)(lp,{variant:"outline",size:"sm",children:[(0,Xm.jsx)(Ey,{className:"w-3 h-3 mr-1"}),e]},t))})]}),l.currentMedicationCodes&&l.currentMedicationCodes.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Current Medications"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(l.currentMedicationCodes).map((e,t)=>(0,Xm.jsxs)(lp,{variant:"warning",size:"sm",children:[(0,Xm.jsx)(ig,{className:"w-3 h-3 mr-1"}),e]},t))})]})]})})]}),(0,Xm.jsxs)("div",{className:"space-y-6",children:[d&&(0,Xm.jsxs)(My,{title:m?"Family Member Profile":"Patient Profile",children:[m&&(0,Xm.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"This case is for a family member"})]})}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:m?(0,Xm.jsx)(vp,{className:"w-8 h-8 text-blue-600"}):(0,Xm.jsx)(Wm,{className:"w-8 h-8 text-blue-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d.fullName}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[d.gender," \u2022 ",T(d.dateOfBirth)," years"]}),d.bloodGroup&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,Xm.jsx)(xj,{className:"w-3 h-3 text-red-500"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-600",children:d.bloodGroup})]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-3 text-sm border-t border-gray-100 pt-4",children:[d.phoneNumber&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,Xm.jsx)(gy,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:d.phoneNumber})]}),d.email&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,Xm.jsx)(py,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"truncate",children:d.email})]}),d.city&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,Xm.jsx)(Fp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[d.city,", ",d.country]})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>k("patient"),children:"View Full Profile"})]}),(0,Xm.jsx)(My,{title:"Attachments (".concat(h.length,")"),children:h.length>0?(0,Xm.jsxs)("div",{className:"space-y-2",children:[h.slice(0,3).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>D(e,t),children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,Xm.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:_(e.mimeType)}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:vj(e.fileSizeKB)})]})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:r=>{r.stopPropagation(),D(e,t)}})]},e.id)),h.length>3&&(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>k("documents"),children:["View All (",h.length,")"]})]}):(0,Xm.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No attachments"})}),(0,Xm.jsx)(My,{title:"Quick Actions",children:(0,Xm.jsxs)("div",{className:"space-y-2",children:["ACCEPTED"===l.status&&(0,Xm.jsxs)(Xm.Fragment,{children:[(!l.consultationFee||0===l.consultationFee)&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",icon:(0,Xm.jsx)(Cp,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/cases/".concat(r,"/update-fees")),children:"Update Case Fees"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",className:"w-full",icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/schedule",{state:{caseId:l.id}}),disabled:!I(),title:I()?"":"Set case fees first to schedule appointment",children:"Schedule Appointment"}),!I()&&(0,Xm.jsx)("div",{className:"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(oy,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsx)("p",{className:"text-xs text-amber-800",children:"Set consultation fees before scheduling an appointment"})]})})]}),"SCHEDULED"===l.status&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/schedule",{state:{caseId:l.id,reschedule:!0}}),children:"Re-Schedule"}),"PAYMENT_PENDING"===l.status&&(0,Xm.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(Sg,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-800",children:"Waiting for payment confirmation from patient"})]})}),"IN_PROGRESS"===l.status&&(0,Xm.jsx)(Xm.Fragment,{children:d&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",className:"w-full",icon:(0,Xm.jsx)(Km,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/communication",{state:{patientId:d.userId,patientName:d.fullName,caseId:l.id}}),children:"Send Message to Patient"})}),"CONSULTATION_COMPLETE"===l.status&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>a("/app/doctor/reports"),children:"Prepare Report"}),"CLOSED"===l.status&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>(e=>{if(e.medicalReportFileLink){const t=e.medicalReportFileLink.replace("/api/files/reports/","/api/files/reports/serve/");window.open(t,"_blank")}})(l),children:"View Case Report"})]})})]})]})}),"medical"===A&&(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Primary Diagnosis",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[l.primaryDiseaseCode?(0,Xm.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xm.jsx)(lp,{variant:"info",size:"lg",children:l.primaryDiseaseCode})}):(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"No primary diagnosis recorded"}),l.secondaryDiseaseCodes&&l.secondaryDiseaseCodes.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Secondary Conditions"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(l.secondaryDiseaseCodes).map((e,t)=>(0,Xm.jsx)(lp,{variant:"outline",children:e},t))})]})]})}),(0,Xm.jsx)(My,{title:"Symptoms",children:(0,Xm.jsx)("div",{className:"space-y-3",children:l.symptomCodes&&l.symptomCodes.length>0?Array.from(l.symptomCodes).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-gray-900",children:e})]},t)):(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"No symptoms recorded"})})}),(0,Xm.jsx)(My,{title:"Current Medications",children:(0,Xm.jsx)("div",{className:"space-y-3",children:l.currentMedicationCodes&&l.currentMedicationCodes.length>0?Array.from(l.currentMedicationCodes).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg",children:[(0,Xm.jsx)(ig,{className:"w-5 h-5 text-yellow-600"}),(0,Xm.jsx)("span",{className:"text-gray-900",children:e})]},t)):(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"No current medications"})})}),(0,Xm.jsx)(My,{title:"Required Specializations",children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[M(l.requiredSpecialization),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Primary"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=l.requiredSpecialization)||void 0===t?void 0:t.replace("_"," ")})]})]}),l.secondarySpecializations&&l.secondarySpecializations.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Secondary"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(l.secondarySpecializations).map((e,t)=>(0,Xm.jsx)(lp,{variant:"outline",children:e.replace("_"," ")},t))})]})]})})]})}),"patient"===A&&d&&(0,Xm.jsxs)("div",{className:"p-6",children:[m&&(0,Xm.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(vp,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Family Member Information"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-700",children:"This case was submitted for a family member. The information below belongs to the family member, not the account holder."})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xm.jsx)(My,{title:m?"Family Member Information":"Patient Information",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:d.fullName})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:yj(d.dateOfBirth)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Age"}),(0,Xm.jsxs)("p",{className:"text-gray-900",children:[T(d.dateOfBirth)," years"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gender"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:d.gender})]}),d.bloodGroup&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Blood Group"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(xj,{className:"w-4 h-4 text-red-500"}),(0,Xm.jsx)("span",{className:"text-gray-900 font-medium",children:d.bloodGroup})]})]})]})}),(0,Xm.jsx)(My,{title:"Contact Information",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[d.phoneNumber&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(gy,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:d.phoneNumber})]})]}),d.email&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(py,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:d.email})]})]}),d.address&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(yp,{className:"w-5 h-5 text-gray-400 mt-1"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,Xm.jsxs)("p",{className:"text-gray-900",children:[d.address,(0,Xm.jsx)("br",{}),d.city,", ",d.postalCode,(0,Xm.jsx)("br",{}),d.country]})]})]})]})}),d.medicalHistory&&(0,Xm.jsx)(My,{title:"Medical History",children:(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:d.medicalHistory})})]}),(0,Xm.jsxs)("div",{className:"space-y-6",children:[d.allergies&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-red-600 mb-3 flex items-center",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 mr-2"}),"Allergies"]}),(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap text-sm leading-relaxed",children:d.allergies})]}),d.chronicConditions&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-orange-600 mb-3 flex items-center",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 mr-2"}),"Chronic Conditions"]}),(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap text-sm leading-relaxed",children:d.chronicConditions})]}),(d.emergencyContactName||d.emergencyContactPhone)&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 mr-2"}),"Emergency Contact"]}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[d.emergencyContactName&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-gray-500",children:"Name"}),(0,Xm.jsx)("p",{className:"text-gray-900 font-medium",children:d.emergencyContactName})]}),d.emergencyContactPhone&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-gray-500",children:"Phone"}),(0,Xm.jsx)("p",{className:"text-gray-900 font-medium",children:d.emergencyContactPhone})]})]})]})]})]})]}),"documents"===A&&(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsx)(My,{title:"Case Attachments (".concat(h.length,")"),children:h.length>0?(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Document Viewer"}),(0,Xm.jsx)("p",{className:"mt-1",children:"Click on any document to view it. Use the Previous and Next buttons to navigate between documents."})]})]})}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((e,t)=>(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg hover:border-blue-300 transition-all cursor-pointer group",onClick:()=>D(e,t),children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3 mb-3",children:[(0,Xm.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg group-hover:from-blue-100 group-hover:to-blue-200 transition-colors",children:_(e.mimeType)}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:e.fileName}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:vj(e.fileSizeKB)}),e.uploadedAt&&(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:yj(e.uploadedAt)})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 pt-3 border-t border-gray-100",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:r=>{r.stopPropagation(),D(e,t)},className:"flex-1",children:"View"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:t=>{t.stopPropagation(),R(e)},className:"flex-1",children:"Download"})]})]},e.id))}),h.length>1&&(0,Xm.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Navigation Tip"}),(0,Xm.jsx)("p",{className:"mt-1",children:"Use Previous/Next buttons in the viewer to browse through documents"})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-2",children:(0,Xm.jsxs)(lp,{variant:"info",children:[h.length," Documents"]})})]})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500 text-lg mb-2",children:"No documents attached"}),(0,Xm.jsx)("p",{className:"text-gray-400 text-sm",children:"This case doesn't have any attached documents yet."})]})})})]}),(0,Xm.jsx)(fj,{isOpen:g,onClose:()=>{v(!1),b&&URL.revokeObjectURL(b),j(null),N(null)},title:"Document Viewer",children:(0,Xm.jsx)("div",{className:"h-full flex flex-col p-3",children:C?(0,Xm.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading document..."})]})}):w&&b?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"bg-white rounded shadow-sm p-2 mb-2",style:{flexShrink:0},children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("div",{className:"p-1 bg-blue-50 rounded",children:_(w.mimeType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:w.fileName}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:[vj(w.fileSizeKB)," \u2022 ",w.mimeType]})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-3 h-3"}),onClick:()=>R(w),children:"Download"})]})}),(0,Xm.jsx)("div",{style:{flex:1,backgroundColor:"#f3f4f6",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",minHeight:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"8px"},children:w.mimeType.startsWith("image/")?(0,Xm.jsx)("img",{src:b,alt:w.fileName,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain",display:"block"}}):"application/pdf"===w.mimeType?(0,Xm.jsx)("iframe",{src:b,className:"w-full h-full",title:w.fileName,style:{border:"none"}}):(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"Preview not available for this file type"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["File type: ",w.mimeType]}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>R(w),children:"Download File"})]})}),h.length>1&&(0,Xm.jsx)("div",{className:"bg-white rounded shadow-sm p-2 mt-2",style:{flexShrink:0},children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Xp,{className:"w-4 h-4"}),onClick:()=>{if(f>0){const e=f-1;D(h[e],e)}},disabled:0===f,children:"Previous"}),(0,Xm.jsx)("div",{className:"text-center",children:(0,Xm.jsxs)("p",{className:"text-xs font-medium text-gray-700",children:["Document ",f+1," of ",h.length]})}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"}),onClick:()=>{if(f<h.length-1){const e=f+1;D(h[e],e)}},disabled:f===h.length-1,children:"Next"})]})})]}):null})})]}):(0,Xm.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"Case not found"}),(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>a("/app/doctor/cases"),children:"Back to Cases"})]})})},jj=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},wj=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Nj=e=>{if(!e)return"N/A";return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},Cj=ey({scheduledTime:Wf().required("New date/time is required").min(new Date,"Date must be in the future"),reason:zf().required("Reason is required").min(10,"Please provide detailed reason")}),Sj=ey({reason:zf().required("Cancellation reason is required").min(10,"Please provide detailed reason")}),Aj=ey({proposedTime:Wf().required("Proposed date/time is required").min(new Date,"Date must be in the future"),reason:zf().required("Reason is required")}),kj={VIDEO_CONSULTATION:"Video Call",PHONE_CALL:"Phone Call",ZOOM:"Zoom",WHATSAPP:"WhatsApp"},Ej="list",Pj="calendar",Oj=()=>{var e,t;const r=te(),{user:a}=Jd(),{execute:n,loading:i}=Iy(),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(Ej),[x,f]=(0,s.useState)(new Date),[y,g]=(0,s.useState)("scheduled"),[v,b]=(0,s.useState)([]),[j,w]=(0,s.useState)(null),[N,C]=(0,s.useState)(!1),[S,A]=(0,s.useState)(!1),[k,E]=(0,s.useState)(!1),[P,O]=(0,s.useState)(!1),[T,D]=(0,s.useState)(!1),[R,_]=(0,s.useState)(""),[M,I]=(0,s.useState)("all"),[L,F]=(0,s.useState)("all"),[q,z]=(0,s.useState)("all"),[U,B]=(0,s.useState)(!1),[V,H]=(0,s.useState)({total:0,today:0,upcoming:0,completed:0,cancelled:0}),W=(Tx({resolver:Lx(Cj)}),Tx({resolver:Lx(Aj)})),G=Tx({resolver:Lx(Sj)});(0,s.useEffect)(()=>{Y()},[]),(0,s.useEffect)(()=>{o.length>0&&$()},[o]),(0,s.useEffect)(()=>{K()},[o,R,M,L,q]),(0,s.useEffect)(()=>{Q()},[o]);const Y=async()=>{try{const e=await n(()=>mp.getAppointments());console.log("appointment size: "+e.length),l(e||[])}catch(e){console.error("Failed to load appointments:",e)}},K=()=>{let e=[...o];if(R&&(e=e.filter(e=>{var t,r,a;return(null===(t=e.doctor)||void 0===t||null===(r=t.fullName)||void 0===r?void 0:r.toLowerCase().includes(R.toLowerCase()))||(null===(a=e.caseId)||void 0===a?void 0:a.toString().includes(R))})),"all"!==M&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===M.toLowerCase()})),"all"!==L){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(r);a.setDate(a.getDate()+1);const n=new Date(r);n.setDate(n.getDate()+7),e=e.filter(e=>{const t=new Date(e.scheduledTime);switch(L){case"today":return t>=r&&t<a;case"tomorrow":return t>=a&&t<new Date(a.getTime()+864e5);case"week":return t>=r&&t<n;case"past":return t<r;default:return!0}})}"all"!==q&&(e=e.filter(e=>{var t;return(null===(t=e.consultationType)||void 0===t?void 0:t.toLowerCase())===q.toLowerCase()})),d(e)},$=async()=>{try{const t=[];for(const r of o)if(r.caseId)try{const e=await n(()=>dp.getRescheduleRequests(r.caseId));if(e&&e.length>0){const a=e.filter(e=>{var t;return"PENDING"===(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())});a.forEach(e=>{var t;e.appointmentId=r.id,e.patientName=(null===(t=r.patient)||void 0===t?void 0:t.fullName)||"Patient",e.currentScheduledTime=r.scheduledTime}),t.push(...a)}t=e}catch(e){}b(t)}catch(e){console.error("Failed to load reschedule requests:",e)}},Q=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t);r.setDate(r.getDate()+1),H({total:o.length,today:o.filter(e=>{const a=new Date(e.scheduledTime);return a>=t&&a<r}).length,upcoming:o.filter(t=>{var r;return new Date(t.scheduledTime)>e&&!["cancelled","completed","no_show"].includes(null===(r=t.status)||void 0===r?void 0:r.toLowerCase())}).length,completed:o.filter(e=>{var t;return"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length,cancelled:o.filter(e=>{var t;return"cancelled"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length})},X=e=>{e.meetingLink&&window.open(e.meetingLink,"_blank")},J=e=>{r("/app/doctor/cases/".concat(e))},Z=e=>{r("/app/doctor/reports",{state:{appointmentId:e.id}})},ee=e=>v.some(t=>{var r;return t.appointmentId===e&&"pending"===(null===(r=t.status)||void 0===r?void 0:r.toLowerCase())}),re=[{id:"scheduled",label:"Scheduled / Rescheduled",statuses:["scheduled","rescheduled"]},{id:"confirmed",label:"Confirmed",statuses:["confirmed","payment_pending","in_progress"]},{id:"completed",label:"Completed",statuses:["completed"]},{id:"cancelled",label:"Cancelled / No Show",statuses:["cancelled","no_show"]}],ae=(()=>{const e=re.find(e=>e.id===y);return e?c.filter(t=>{var r;return e.statuses.includes(null===(r=t.status)||void 0===r?void 0:r.toLowerCase())}):c})(),ne=e=>{f(t=>{const r=new Date(t);return r.setMonth(t.getMonth()+e),r})},se=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return t.includes("video")||t.includes("zoom")?(0,Xm.jsx)(Hp,{className:"w-4 h-4"}):t.includes("phone")||t.includes("call")?(0,Xm.jsx)(gy,{className:"w-4 h-4"}):t.includes("whatsapp")?(0,Xm.jsx)(Km,{className:"w-4 h-4"}):(0,Xm.jsx)(Hp,{className:"w-4 h-4"})},ie=e=>null!==e.caseId&&void 0!==e.caseId,oe=e=>{var t;const r=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return["scheduled","rescheduled","confirmed"].includes(r)},le=e=>{var t;const r=null===(t=e.status)||void 0===t?void 0:t.toLowerCase(),a=(new Date(e.scheduledTime)-new Date)/6e4;return"confirmed"===r&&a<=15&&a>=-30&&e.meetingLink},ce=e=>{var t;return"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())};return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Appointments"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage and track your scheduled consultations"})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(i?"animate-spin":"")}),onClick:Y,disabled:i,children:"Refresh"})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Appointments",value:V.total,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Today's Appointments",value:V.today,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),variant:"primary"}),(0,Xm.jsx)(Ry,{title:"Upcoming",value:V.upcoming,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),variant:"success"}),(0,Xm.jsx)(Ry,{title:"Completed",value:V.completed,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Cancelled",value:V.cancelled,icon:(0,Xm.jsx)(eg,{className:"w-6 h-6"}),variant:"danger"})]}),v.length>0&&v.filter(e=>{var t;return"pending"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length>0&&(0,Xm.jsx)(My,{className:"bg-purple-50 border-purple-200",children:(0,Xm.jsx)("div",{className:"flex items-center justify-between",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-purple-600 mr-3"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"text-purple-800 font-medium",children:["You have ",v.length," pending reschedule request",v.length>1?"s":""]}),(0,Xm.jsx)("p",{className:"text-purple-600 text-sm",children:"Click on appointment cards to review requests"})]})]})})}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Xm.jsx)("div",{className:"flex-1 max-w-md",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by patient name or case...",value:R,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:U?"primary":"ghost",size:"sm",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>B(!U),children:"Filters"}),(0,Xm.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,Xm.jsx)("button",{onClick:()=>h(Ej),className:"px-3 py-1 rounded ".concat(p===Ej?"bg-white shadow-sm text-blue-600":"text-gray-600"),children:"List"}),(0,Xm.jsx)("button",{onClick:()=>h(Pj),className:"px-3 py-1 rounded ".concat(p===Pj?"bg-white shadow-sm text-blue-600":"text-gray-600"),children:"Calendar"})]})]})]}),U&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Xm.jsxs)("select",{value:M,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Xm.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Xm.jsx)("option",{value:"completed",children:"Completed"}),(0,Xm.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Xm.jsx)("option",{value:"rescheduled",children:"Rescheduled"}),(0,Xm.jsx)("option",{value:"no_show",children:"No Show"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,Xm.jsxs)("select",{value:L,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Dates"}),(0,Xm.jsx)("option",{value:"today",children:"Today"}),(0,Xm.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),(0,Xm.jsx)("option",{value:"week",children:"This Week"}),(0,Xm.jsx)("option",{value:"past",children:"Past"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consultation Type"}),(0,Xm.jsxs)("select",{value:q,onChange:e=>z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),(0,Xm.jsx)("option",{value:"video_consultation",children:"Video Call"}),(0,Xm.jsx)("option",{value:"zoom",children:"Zoom"}),(0,Xm.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,Xm.jsx)("option",{value:"phone_call",children:"Phone Call"})]})]})]})]}),p===Ej?(()=>{var e;return 0===c.length?(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Appointments Found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No appointments match your current filters."})]})}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:re.map(e=>{const t=(e=>{const t=re.find(t=>t.id===e);return t?c.filter(e=>{var r;return t.statuses.includes(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())}).length:0})(e.id),r=y===e.id;return(0,Xm.jsxs)("button",{onClick:()=>g(e.id),className:"\n                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2\n                  ".concat(r?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:[(0,Xm.jsx)("span",{children:e.label}),(0,Xm.jsx)("span",{className:"\n                    inline-flex items-center justify-center px-2 py-0.5 rounded-full text-xs font-medium\n                    ".concat(r?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600","\n                  "),children:t})]},e.id)})})}),ae.length>0?(0,Xm.jsx)("div",{className:"space-y-3",children:ae.map(e=>{var t,r;return(0,Xm.jsx)(My,{className:"hover:shadow-lg transition-all duration-200 border-l-4 border-gray-200",children:(0,Xm.jsx)("div",{className:"p-5",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between",children:(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.patientName||"Patient Name N/A"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Xm.jsx)(sp,{status:e.status}),e.rescheduleCount>0&&(0,Xm.jsxs)(lp,{variant:"warning",size:"sm",children:["Rescheduled count: ",e.rescheduleCount]}),ee(e.id)&&(0,Xm.jsxs)(lp,{variant:"purple",size:"sm",className:"bg-purple-100 text-purple-800",children:[(0,Xm.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Reschedule Request"]})]})]})]})})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(bp,{className:"w-4 h-4 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Date"}),(0,Xm.jsx)("p",{className:"text-sm font-medium",children:wj(e.scheduledTime)})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-purple-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Time"}),(0,Xm.jsx)("p",{className:"text-sm font-medium",children:Nj(e.scheduledTime)})]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-lg flex items-center justify-center",children:se(e.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Type"}),(0,Xm.jsx)("p",{className:"text-sm font-medium",children:kj[e.consultationType]||e.consultationType})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-orange-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Duration"}),(0,Xm.jsxs)("p",{className:"text-sm font-medium",children:[e.duration||30," minutes"]})]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[e.caseId&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-indigo-50 rounded-lg flex items-center justify-center",children:(0,Xm.jsx)(gp,{className:"w-4 h-4 text-indigo-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Case ID"}),(0,Xm.jsxs)("p",{className:"text-sm font-medium",children:["#",e.caseId]})]})]}),e.rescheduleReason&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-yellow-50 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)(wp,{className:"w-4 h-4 text-yellow-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Reschedule Reason"}),(0,Xm.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:e.rescheduleReason})]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col space-y-2 ml-6",children:["confirmed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())&&(0,Xm.jsxs)("div",{className:"space-y-2",children:[le(e)&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Hp,{className:"w-4 h-4"}),onClick:()=>X(e),className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Join Now"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:()=>{m(e),D(!0)},className:"w-full border-green-600 text-green-600 hover:bg-green-50",children:"Mark Complete"})]}),"completed"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())&&ce(e)&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>Z(e),className:"w-full",children:"View Report"}),ee(e.id)&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Vm,{className:"w-4 h-4"}),onClick:()=>{const t=(r=e.id,v.filter(e=>e.appointmentId===r));var r;t.length>0&&(w(t[0]),m(e),C(!0))},className:"w-full border-purple-600 text-purple-600 hover:bg-purple-50",children:"View Request"}),(0,Xm.jsxs)("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>{m(e),O(!0)},className:"w-full justify-start",children:"View Details"}),ie(e)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>J(e.caseId),className:"w-full justify-start",children:"View Case"}),oe(e)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",icon:(0,Xm.jsx)(eg,{className:"w-4 h-4"}),onClick:()=>{m(e),E(!0)},children:"Cancel Appointment"})]})]})]})})},e.id)})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments in this category"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["There are no ",null===(e=re.find(e=>e.id===y))||void 0===e?void 0:e.label.toLowerCase()," appointments."]})]})]})})():(()=>{const e=(e=>{const t=e.getFullYear(),r=e.getMonth(),a=new Date(t,r,1),n=new Date(t,r+1,0),s=a.getDay(),i=7*Math.ceil((s+n.getDate())/7),o=[],l=new Date(a);l.setDate(l.getDate()-s);for(let c=0;c<i;c++){const e=new Date(l);e.setDate(l.getDate()+c),o.push(e)}return o})(x),t=new Date;return t.setHours(0,0,0,0),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b",children:[(0,Xm.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:x.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Xp,{className:"w-4 h-4"}),onClick:()=>ne(-1)}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>f(new Date),children:"Today"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"}),onClick:()=>ne(1)})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Xm.jsx)("div",{className:"text-center font-semibold text-gray-700 text-sm py-2",children:e},e)),e.map((e,r)=>{const a=(e=>{const t=e.toDateString();return c.filter(e=>new Date(e.scheduledTime).toDateString()===t)})(e),n=e.toDateString()===t.toDateString(),s=!(e=>e.getMonth()===x.getMonth())(e);return(0,Xm.jsxs)("div",{className:"min-h-[100px] p-2 border rounded-lg ".concat(n?"bg-blue-50 border-blue-500 ring-2 ring-blue-500":s?"bg-gray-50 text-gray-400":"bg-white"," hover:shadow-md transition-shadow"),children:[(0,Xm.jsx)("div",{className:"text-sm font-semibold mb-1 ".concat(n?"text-blue-600":s?"text-gray-400":"text-gray-700"),children:e.getDate()}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[a.slice(0,3).map(e=>{var t,r,a,n;return(0,Xm.jsxs)("div",{className:"text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())?"#dcfce7":"confirmed"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())?"#dbeafe":"cancelled"===(null===(a=e.status)||void 0===a?void 0:a.toLowerCase())?"#fee2e2":"#f3f4f6"},onClick:()=>{m(e),O(!0)},children:[(0,Xm.jsx)("div",{className:"font-medium truncate",children:Nj(e.scheduledTime)}),(0,Xm.jsx)("div",{className:"truncate text-gray-600",children:(null===(n=e.doctor)||void 0===n?void 0:n.fullName)||"Patient"})]},e.id)}),a.length>3&&(0,Xm.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium",children:["+",a.length-3," more"]}),0===a.length&&!s&&(0,Xm.jsx)("div",{className:"text-center text-gray-300 text-xs py-2",children:"No appointments"})]})]},r)})]})]})})(),(0,Xm.jsx)($y,{isOpen:N,onClose:()=>{C(!1),w(null)},title:"Reschedule Request from Patient",size:"lg",children:j&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"Request Details"}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Patient:"})," ",j.patientName]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Current Time:"})," ",jj(j.currentScheduledTime)]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Reason:"})," ",j.reason]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Requested on:"})," ",jj(j.createdAt)]})]})]}),j.preferredTimes&&j.preferredTimes.split(",").length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Patient's Preferred Times"}),(0,Xm.jsx)("div",{className:"space-y-2",children:j.preferredTimes.split(",").map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,Xm.jsx)("span",{children:jj(e)}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",onClick:()=>(async(e,t)=>{try{await n(()=>mp.approveRescheduleRequest(e.caseId,{newScheduledTime:t,appointmentId:e.appointmentId,rescheduleId:e.id,reason:e.reason})),await Y(),C(!1),w(null)}catch(r){console.error("Failed to approve reschedule request:",r)}})(j,e),children:"Accept This Time"})]},t))})]}),(0,Xm.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{A(!0),C(!1)},className:"flex-1",children:"Propose Different Time"}),(0,Xm.jsx)(Zm,{variant:"danger",onClick:()=>(async(e,t)=>{try{await n(()=>{var r;return mp.rejectRescheduleRequest(e.id,{rejectionReason:t||"Schedule conflict",patientId:u.patientId,caseId:e.caseId,doctorName:(null===(r=u.doctor)||void 0===r?void 0:r.fullName)||"Doctor Name"})}),await Y(),C(!1),w(null)}catch(r){console.error("Failed to reject reschedule request:",r)}})(j,"Schedule conflict"),className:"flex-1",children:"Reject Request"})]})]})}),(0,Xm.jsx)(Ky,{isOpen:S,onClose:()=>{A(!1),w(null),W.reset()},title:"Propose New Time",onSubmit:W.handleSubmit(async e=>{try{await n(()=>mp.proposeRescheduleTime(j.appointmentId,{proposedTime:e.proposedTime,reason:e.reason,rescheduleId:j.id})),await Y(),A(!1),w(null),W.reset()}catch(t){console.error("Failed to propose new time:",t)}}),loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposed Date & Time *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"datetime-local"},W.register("proposedTime")),{},{min:(new Date).toISOString().slice(0,16),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),W.formState.errors.proposedTime&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:W.formState.errors.proposedTime.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},W.register("reason")),{},{rows:"3",placeholder:"Explain why this time works better...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),W.formState.errors.reason&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:W.formState.errors.reason.message})]})]})}),(0,Xm.jsx)(Ky,{isOpen:k,onClose:()=>{E(!1),m(null),G.reset()},title:"Cancel Appointment",onSubmit:G.handleSubmit(async e=>{try{await n(()=>mp.cancelAppointment(u.id,e.reason)),await Y(),E(!1),m(null),G.reset()}catch(t){console.error("Failed to cancel appointment:",t)}}),loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-red-900 mb-1",children:"Are you sure you want to cancel this appointment?"}),(0,Xm.jsx)("p",{className:"text-sm text-red-700",children:"This action cannot be undone."})]})]})}),u&&(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Patient:"})," ",(null===u||void 0===u?void 0:u.patientName)||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Date:"})," ",jj(u.scheduledTime)]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Type:"})," ",kj[u.consultationType]||u.consultationType]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Reason *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},G.register("reason")),{},{rows:"4",placeholder:"Please provide a detailed reason for cancellation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),G.formState.errors.reason&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:G.formState.errors.reason.message})]})]})}),(0,Xm.jsx)($y,{isOpen:T,onClose:()=>{D(!1),m(null)},title:"Complete Appointment Confirmation",size:"md",children:u&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Confirm Consultation Completion"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-800",children:'By clicking "Confirm", you acknowledge that:'}),(0,Xm.jsxs)("ul",{className:"text-sm text-blue-800 mt-2 space-y-1 list-disc list-inside",children:[(0,Xm.jsx)("li",{children:"You have met with the patient"}),(0,Xm.jsx)("li",{children:"You have discussed the medical case in detail"}),(0,Xm.jsx)("li",{children:"The consultation session has been completed"}),(0,Xm.jsx)("li",{children:"You are ready to create the consultation report"})]})]})]})}),(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Patient:"})," ",(null===u||void 0===u?void 0:u.patientName)||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Date:"})," ",jj(u.scheduledTime)]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Duration:"})," ",u.duration||30," minutes"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Type:"})," ",kj[u.consultationType]||u.consultationType]}),u.caseId&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Case ID:"})," #",u.caseId]})]})]}),(0,Xm.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("p",{className:"text-green-800 font-medium mb-1",children:"Next Step"}),(0,Xm.jsx)("p",{className:"text-green-700",children:"After confirmation, you will be redirected to create the consultation report documenting the diagnosis, treatment plan, and recommendations."})]})]})}),(0,Xm.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",className:"flex-1",onClick:()=>{D(!1),m(null)},children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",className:"flex-1 bg-green-600 hover:bg-green-700",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{const t={appointmentId:e.id,caseId:e.caseId,patientId:e.patientId};await n(()=>mp.completeAppointment(t)),await Y(),D(!1),m(null),r("/app/doctor/reports/create?caseId=".concat(e.caseId))}catch(t){console.error("Failed to complete appointment:",t)}})(u),disabled:i,children:i?"Processing...":"Confirm Completion"})]})]})}),(0,Xm.jsx)($y,{isOpen:P,onClose:()=>{O(!1),m(null)},title:"Appointment Details",size:"lg",children:u&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)(sp,{status:u.status,size:"lg"}),u.rescheduleCount>0&&(0,Xm.jsxs)(lp,{variant:"warning",children:["Rescheduled count ",u.rescheduleCount]})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Wm,{className:"w-5 h-5 mr-2"}),"Patient Information"]}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:(null===u||void 0===u?void 0:u.patientName)||"N/A"})]}),u.patientId&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Patient ID:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["#",u.patientId]})]})]})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 mr-2"}),"Appointment Information"]}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Date & Time:"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:jj(u.scheduledTime)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:[u.duration||30," minutes"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900 flex items-center",children:[se(u.consultationType),(0,Xm.jsx)("span",{className:"ml-2",children:kj[u.consultationType]||u.consultationType})]})]}),u.caseId&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Case ID:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["#",u.caseId]})]})]})]}),u.rescheduleReason&&(0,Xm.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Reschedule Information"]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700",children:u.rescheduleReason})]}),u.meetingLink&&(0,Xm.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(Hp,{className:"w-5 h-5 mr-2 text-green-600"}),"Meeting Link"]}),(0,Xm.jsxs)("a",{href:u.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[u.meetingLink,(0,Xm.jsx)(vg,{className:"w-4 h-4 ml-1"})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:["confirmed"===(null===(e=u.status)||void 0===e?void 0:e.toLowerCase())&&(0,Xm.jsxs)(Xm.Fragment,{children:[le(u)&&(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Hp,{className:"w-4 h-4"}),onClick:()=>{X(u),O(!1)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white border-green-600",children:"Join Consultation"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:()=>{O(!1),D(!0)},className:"flex-1 border-green-600 text-green-600 hover:bg-green-50",children:"Complete Appointment"})]}),"completed"===(null===(t=u.status)||void 0===t?void 0:t.toLowerCase())&&ce(u)&&(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>{Z(u),O(!1)},className:"flex-1 border-blue-400 text-blue-600 hover:bg-blue-50",children:"View Report"}),ie(u)&&(0,Xm.jsx)(Zm,{variant:"secondary",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>{J(u.caseId),O(!1)},className:"flex-1",children:"View Case"}),oe(u)&&(0,Xm.jsx)(Zm,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",icon:(0,Xm.jsx)(eg,{className:"w-4 h-4"}),onClick:()=>{O(!1),E(!0)},children:"Cancel Appointment"})]})]})})]})},Tj=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({total:0,unread:0}),[d,u]=(0,s.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,appointmentReminders:!0,caseUpdates:!0,paymentNotifications:!0,systemNotifications:!0}),[m,p]=(0,s.useState)(10),[h,x]=(0,s.useState)(""),[f,y]=(0,s.useState)("all"),[g,v]=(0,s.useState)("all"),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)("all"),[E,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{O(),T()},[]),(0,s.useEffect)(()=>{D(),p(10)},[a,h,f,g,b,A]);const O=async()=>{try{const r=await t(()=>mp.getNotifications(e.id));n(r||[]);const a=r||[],s={total:a.length,unread:a.filter(e=>!1===e.isRead).length};c(s||{})}catch(r){console.error("Failed to load notifications:",r)}},T=async()=>{try{const e=await t(()=>mp.getNotificationSettings());u(e||d)}catch(e){console.error("Failed to load notification settings:",e)}},D=()=>{let e=a;if(h&&(e=e.filter(e=>{var t,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))})),"all"!==f&&(e=e.filter(e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===f})),"all"!==g){const t="read"===g;e=e.filter(e=>e.isRead===t)}"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())===b})),o(e)},R=async(e,r)=>{try{await t(()=>mp.markNotificationAsRead(e,r)),n(t=>t.map(t=>e.includes(t.id)?(0,ot.A)((0,ot.A)({},t),{},{isRead:!0}):t)),O()}catch(a){console.error("Failed to mark notifications as read:",a)}},_=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-500"});case"case":return(0,Xm.jsx)(Km,{className:"w-5 h-5 text-green-500"});case"payment":return(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-purple-500"});case"doctor":return(0,Xm.jsx)(Sp,{className:"w-5 h-5 text-indigo-500"});case"system":return(0,Xm.jsx)(Gm,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-gray-500"})}},M=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return"bg-blue-100 text-blue-800";case"case":return"bg-green-100 text-green-800";case"payment":return"bg-purple-100 text-purple-800";case"doctor":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return(0,Xm.jsx)(Eg,{className:"w-4 h-4"});case"high":return(0,Xm.jsx)(wp,{className:"w-4 h-4"});case"medium":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Sg,{className:"w-4 h-4"})}},L=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},F=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==(new Date).getFullYear()?"numeric":void 0})},q=i.slice(0,m),z=m<i.length;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your notifications and preferences"})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"}),onClick:()=>S(!0),children:"Settings"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Notifications",value:l.total,icon:(0,Xm.jsx)(Vm,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Unread",value:l.unread,change:"".concat(l.unread," unread"),icon:(0,Xm.jsx)(py,{className:"w-6 h-6"})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search notifications...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,Xm.jsxs)(Zm,{className:"".concat(E?"bg-amber-500 hover:bg-amber-600 text-white shadow-md":"bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200"),onClick:()=>{P(!E),E?j("all"):(j("critical"),y("all"),v("all"),x(""))},children:[(0,Xm.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Important (",i.filter(e=>{var t,r;return"critical"===(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())||"high"===(null===(r=e.priority)||void 0===r?void 0:r.toLowerCase())}).length,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>N(!w),children:"Filters"}),l.unread>0&&(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{try{await t(()=>mp.markAllNotificationsAsRead(e.id)),n(e=>e.map(e=>(0,ot.A)((0,ot.A)({},e),{},{isRead:!0}))),O()}catch(r){console.error("Failed to mark all notifications as read:",r)}},children:"Mark All as Read"})]}),w&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,Xm.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),(0,Xm.jsx)("option",{value:"appointment",children:"Appointment"}),(0,Xm.jsx)("option",{value:"case",children:"Case"}),(0,Xm.jsx)("option",{value:"payment",children:"Payment"}),(0,Xm.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Xm.jsx)("option",{value:"system",children:"System"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"unread",children:"Unread"}),(0,Xm.jsx)("option",{value:"read",children:"Read"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"low",children:"Low"})]})]})]})]})}),(0,Xm.jsx)(My,{title:"Notifications (".concat(q.length,"/").concat(i.length,")"),children:(0,Xm.jsx)("div",{className:"space-y-3",children:q.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[q.map(e=>(0,Xm.jsx)("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md ".concat(e.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 hover:border-blue-300"),children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.isRead?"bg-gray-100":"bg-blue-100"),children:_(e.type)}),(0,Xm.jsx)("div",{className:"flex-1 min-w-0",children:(0,Xm.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,Xm.jsx)(lp,{className:M(e.type),children:e.type}),e.priority&&(0,Xm.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ".concat(L(e.priority)),children:[I(e.priority),(0,Xm.jsx)("span",{children:e.priority})]})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700 mt-2 break-words whitespace-pre-wrap overflow-hidden",children:e.message}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[(0,Xm.jsx)("span",{children:F(e.createdAt)}),!e.isRead&&(0,Xm.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-medium",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Unread"]})]})]})})}),(0,Xm.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2",children:!e.isRead&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:t=>{t.stopPropagation(),R([e.id],[e.receiverId])},title:"Mark as read"})})]})},e.id)),z&&(0,Xm.jsx)("div",{className:"pt-4 flex justify-center",children:(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>{p(e=>e+10)},icon:(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),children:["Load More (",i.length-m," remaining)"]})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Vm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:h||"all"!==f||"all"!==g||"all"!==b?"Try adjusting your search or filters":"You don't have any notifications yet"})]})})}),(0,Xm.jsx)($y,{isOpen:C,onClose:()=>S(!1),title:"Notification Settings",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Customize how you receive notifications about your medical consultations and appointments."}),(0,Xm.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in your browser"},{key:"appointmentReminders",label:"Appointment Reminders",description:"Get reminders about upcoming appointments"},{key:"caseUpdates",label:"Case Updates",description:"Receive updates on your medical cases"},{key:"paymentNotifications",label:"Payment Notifications",description:"Get notified about payment status"}].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:d[e.key],onChange:t=>u((0,ot.A)((0,ot.A)({},d),{},{[e.key]:t.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},e.key))}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:()=>(async e=>{try{await t(()=>mp.updateNotificationSettings(e)),u(e),S(!1)}catch(r){console.error("Failed to update notification settings:",r)}})(d),loading:r,children:"Save Settings"})]})]})})]})},Dj=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Rj=e=>{if(!e)return"N/A";return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},_j=ey({scheduledTime:Wf().required("Date and time are required").min(new Date,"Cannot schedule in the past"),duration:Bf().required("Duration is required").min(15,"Minimum 15 minutes").max(180,"Maximum 180 minutes"),consultationType:zf().required("Consultation type is required")}),Mj=[{value:"VIDEO_CONSULTATION",label:"Video Call",icon:Hp},{value:"PHONE_CALL",label:"Phone Call",icon:gy},{value:"ZOOM",label:"Zoom",icon:Hp},{value:"WHATSAPP",label:"WhatsApp",icon:Km}],Ij=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(new Date),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)([]),[f,y]=(0,s.useState)(null),[g,v]=(0,s.useState)({totalCases:0,scheduledAppointments:0,todayAppointments:0,pendingSchedule:0}),b=Tx({resolver:Lx(_j),defaultValues:{duration:30,consultationType:"VIDEO_CONSULTATION"}});(0,s.useEffect)(()=>{j(),w()},[]),(0,s.useEffect)(()=>{N()},[a,i]);const j=async()=>{try{const e=(await t(()=>mp.getActiveCases())||[]).filter(e=>{var t;const r=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return"accepted"===r||"assigned"===r});n(e)}catch(e){console.error("Failed to load cases:",e)}},w=async()=>{try{const e=(await t(()=>mp.getAppointments())||[]).filter(e=>{var t,r;return"cancelled"!==(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())&&"no_show"!==(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())});o(e)}catch(e){console.error("Failed to load appointments:",e)}},N=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t);r.setDate(r.getDate()+1),v({totalCases:a.length,scheduledAppointments:i.filter(e=>{var t;return["scheduled","rescheduled","confirmed"].includes(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).length,todayAppointments:i.filter(e=>{const a=new Date(e.scheduledTime);return a>=t&&a<r}).length,pendingSchedule:a.filter(e=>!i.some(t=>t.caseId===e.id)).length})},C=e=>{c(t=>{const r=new Date(t);return r.setMonth(t.getMonth()+e),r})};return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Schedule"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage your appointments and schedule new consultations"})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(r?"animate-spin":"")}),onClick:()=>{j(),w()},disabled:r,children:"Refresh"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Cases Pending Schedule",value:g.pendingSchedule,icon:(0,Xm.jsx)(oy,{className:"w-6 h-6"}),variant:"warning"}),(0,Xm.jsx)(Ry,{title:"Scheduled Appointments",value:g.scheduledAppointments,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),variant:"primary"}),(0,Xm.jsx)(Ry,{title:"Today's Appointments",value:g.todayAppointments,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),variant:"success"}),(0,Xm.jsx)(Ry,{title:"Total Active Cases",value:g.totalCases,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-1",children:[(0,Xm.jsxs)("div",{className:"mb-4",children:[(0,Xm.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Cases Needing Schedule"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:'Click "Schedule" to book an appointment'})]}),(0,Xm.jsx)("div",{className:"space-y-4",children:a.length>0?a.map(e=>{var t;const r=f===e.id,a=null!==e.consultationFee&&void 0!==e.consultationFee,n="accepted"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase());return(0,Xm.jsx)(My,{className:"hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:e.caseTitle||"Case #".concat(e.id)}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xm.jsx)(sp,{status:e.status,size:"sm"}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end",children:[(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),onClick:()=>(e=>{u(e),p(!0),b.reset({duration:30,consultationType:"VIDEO_CONSULTATION"})})(e),disabled:n&&!a,className:"".concat(n&&!a?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:"Schedule"}),n&&!a&&(0,Xm.jsx)("span",{className:"text-xs text-red-600 mt-1",children:"Set consultation fee first"})]})]}),e.consultationFee&&(0,Xm.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,Xm.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["Fee: $",e.consultationFee]})}),e.urgencyLevel&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Xm.jsx)(oy,{className:"w-4 h-4 text-orange-500"}),(0,Xm.jsxs)("span",{className:"text-sm text-orange-600 font-medium",children:["Urgency: ",e.urgencyLevel]})]}),n&&!a&&(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("p",{className:"text-yellow-800 font-medium mb-1",children:"Consultation Fee Required"}),(0,Xm.jsx)("p",{className:"text-yellow-700",children:"Please set the consultation fee before scheduling this appointment."})]})]})}),r&&(0,Xm.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 mt-3 pt-3 border-t",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["Patient: ",e.patientName||"N/A"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["Specialization: ",e.requiredSpecialization||"N/A"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["Submitted: ",Dj(e.submittedAt)]})]}),e.caseDescription&&(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-2 pt-2 border-t",children:e.caseDescription})]}),(0,Xm.jsxs)("button",{onClick:()=>y(r?null:e.id),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-2 flex items-center",children:[r?"Show Less":"Show More",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1 transition-transform ".concat(r?"rotate-90":"")})]})]})},e.id)}):(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Up,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All Cases Scheduled"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"You have no pending cases to schedule at the moment."})]})})})]}),(0,Xm.jsx)("div",{className:"lg:col-span-2",children:(()=>{const e=(e=>{const t=e.getFullYear(),r=e.getMonth(),a=new Date(t,r,1),n=new Date(t,r+1,0),s=a.getDay(),i=7*Math.ceil((s+n.getDate())/7),o=[],l=new Date(a);l.setDate(l.getDate()-s);for(let c=0;c<i;c++){const e=new Date(l);e.setDate(l.getDate()+c),o.push(e)}return o})(l),t=new Date;return t.setHours(0,0,0,0),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b",children:[(0,Xm.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:l.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Xp,{className:"w-4 h-4"}),onClick:()=>C(-1)}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>c(new Date),children:"Today"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"}),onClick:()=>C(1)})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Xm.jsx)("div",{className:"text-center font-semibold text-gray-700 text-sm py-2",children:e},e)),e.map((e,r)=>{const a=(e=>{const t=e.toDateString();return i.filter(e=>new Date(e.scheduledTime).toDateString()===t)})(e),n=e.toDateString()===t.toDateString(),s=!(e=>e.getMonth()===l.getMonth())(e);return(0,Xm.jsxs)("div",{className:"min-h-[100px] p-2 border rounded-lg ".concat(n?"bg-blue-50 border-blue-500 ring-2 ring-blue-500":s?"bg-gray-50 text-gray-400":"bg-white"," hover:shadow-md transition-shadow"),children:[(0,Xm.jsx)("div",{className:"text-sm font-semibold mb-1 ".concat(n?"text-blue-600":s?"text-gray-400":"text-gray-700"),children:e.getDate()}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[a.slice(0,3).map(e=>{var t,r,a,n;return(0,Xm.jsxs)("div",{className:"text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())?"#dcfce7":"confirmed"===(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())?"#dbeafe":"scheduled"===(null===(a=e.status)||void 0===a?void 0:a.toLowerCase())?"#e0e7ff":"rescheduled"===(null===(n=e.status)||void 0===n?void 0:n.toLowerCase())?"#fef3c7":"#f3f4f6"},children:[(0,Xm.jsx)("div",{className:"font-medium truncate",children:Rj(e.scheduledTime)}),(0,Xm.jsxs)("div",{className:"truncate text-gray-600",children:["Case #",e.caseId]})]},e.id)}),a.length>3&&(0,Xm.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium",children:["+",a.length-3," more"]}),0===a.length&&!s&&(0,Xm.jsx)("div",{className:"text-center text-gray-300 text-xs py-2",children:"No appointments"})]})]},r)})]}),(0,Xm.jsxs)("div",{className:"mt-6 pt-4 border-t",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Status Legend:"}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#e0e7ff"}}),(0,Xm.jsx)("span",{children:"Scheduled"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#dbeafe"}}),(0,Xm.jsx)("span",{children:"Confirmed"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#fef3c7"}}),(0,Xm.jsx)("span",{children:"Rescheduled"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#dcfce7"}}),(0,Xm.jsx)("span",{children:"Completed"})]})]})]})]})})()})]}),(0,Xm.jsx)(Ky,{isOpen:m,onClose:()=>{p(!1),u(null),b.reset()},title:"Schedule Appointment",onSubmit:b.handleSubmit(async e=>{if(d)try{const r={caseId:d.id,patientId:d.patientId,scheduledTime:e.scheduledTime,duration:e.duration,patientName:d.patientName,consultationType:e.consultationType};await t(()=>mp.scheduleAppointment(r)),await j(),await w(),p(!1),u(null),b.reset()}catch(r){console.error("Failed to schedule appointment:",r)}}),loading:r,children:d&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Case Details"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Case ID:"})," #",d.id]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Patient:"})," ",d.patientName||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Title:"})," ",d.caseTitle||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("strong",{children:"Specialization:"})," ",d.requiredSpecialization||"N/A"]}),d.urgencyLevel&&(0,Xm.jsxs)("p",{className:"text-orange-600",children:[(0,Xm.jsx)("strong",{children:"Urgency:"})," ",d.urgencyLevel]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Date & Time *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"datetime-local"},b.register("scheduledTime")),{},{min:(new Date).toISOString().slice(0,16),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),b.formState.errors.scheduledTime&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.formState.errors.scheduledTime.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},b.register("duration")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Xm.jsx)("option",{value:15,children:"15 minutes"}),(0,Xm.jsx)("option",{value:30,children:"30 minutes"}),(0,Xm.jsx)("option",{value:45,children:"45 minutes"}),(0,Xm.jsx)("option",{value:60,children:"60 minutes"}),(0,Xm.jsx)("option",{value:90,children:"90 minutes"}),(0,Xm.jsx)("option",{value:120,children:"120 minutes"})]})),b.formState.errors.duration&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.formState.errors.duration.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consultation Type *"}),(0,Xm.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Mj.map(e=>(0,Xm.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-colors ".concat(b.watch("consultationType")===e.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"radio"},b.register("consultationType")),{},{value:e.value,className:"text-blue-600"})),(0,Xm.jsx)(e.icon,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{className:"text-sm",children:e.label})]},e.value))}),b.formState.errors.consultationType&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.formState.errors.consultationType.message})]}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),(0,Xm.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("p",{className:"font-medium mb-1",children:"Note:"}),(0,Xm.jsx)("p",{children:"The system will automatically check for conflicts and validate the selected time slot. A meeting link will be generated after scheduling."})]})]})})]})})]})},Lj=()=>{var e;const{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)(null),[i,o]=(0,s.useState)("professional"),[l,c]=(0,s.useState)({professional:!1,specialization:!1,pricing:!1,contact:!1}),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[b,j]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),C=Tx(),S=Tx(),A=Tx(),k=Tx();(0,s.useEffect)(()=>{E(),P()},[]),(0,s.useEffect)(()=>{var e,t,r;a&&(C.reset({fullName:a.fullName||"",licenseNumber:a.licenseNumber||"",yearsOfExperience:a.yearsOfExperience||0,qualifications:a.qualifications||"",professionalSummary:a.professionalSummary||"",researchAreas:a.researchAreas||"",languages:a.languages||"",hospitalAffiliation:a.hospitalAffiliation||""}),k.reset({phoneNumber:a.phoneNumber||"",email:a.email||"",address:a.address||"",city:a.city||"",country:a.country||""}),A.reset({hourlyRate:a.hourlyRate||"",caseRate:a.caseRate||a.baseConsultationFee||"",emergencyRate:a.emergencyRate||a.urgentCaseFee||"",maxConcurrentCases:a.maxConcurrentCases||10}),S.reset({primarySpecialization:a.primarySpecialization||"",acceptsSecondOpinions:null===(e=a.acceptsSecondOpinions)||void 0===e||e,acceptsComplexCases:null===(t=a.acceptsComplexCases)||void 0===t||t,acceptsUrgentCases:null===(r=a.acceptsUrgentCases)||void 0===r||r}),v(a.subSpecializations||[]),j(a.diseaseExpertiseCodes||[]),N(a.symptomExpertiseCodes||[]))},[a]);const E=async()=>{try{const e=await t(()=>mp.getProfile());n(e)}catch(e){console.error("Failed to load profile:",e)}},P=async()=>{try{const[e,r,a,n]=await Promise.all([t(()=>lg.getMedicalConfigurations("SPECIALIZATION")),t(()=>lg.getMedicalConfigurations("SUBSPECIALIZATION")),t(()=>lg.getMedicalConfigurations("diseases")),t(()=>lg.getMedicalConfigurations("symptoms"))]);u(e||[]),p(r||[]),x(a||[]),y(n||[])}catch(e){console.error("Failed to load medical configurations:",e)}},O=()=>{if(!a)return 0;const e=["fullName","licenseNumber","primarySpecialization","yearsOfExperience","phoneNumber","email","qualifications","professionalSummary"],t=e.filter(e=>{const t=a[e];return t&&""!==t&&0!==t});return Math.round(t.length/e.length*100)},T=()=>{const e=S.watch("primarySpecialization");return e?m.filter(t=>t.parentCode===e):[]};if(!a&&r)return(0,Xm.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const D=[{id:"professional",label:"Professional Info",icon:(0,Xm.jsx)(Wm,{className:"w-4 h-4"})},{id:"specialization",label:"Specialization",icon:(0,Xm.jsx)(Op,{className:"w-4 h-4"})},{id:"pricing",label:"Fees & Capacity",icon:(0,Xm.jsx)(Cp,{className:"w-4 h-4"})},{id:"contact",label:"Contact Info",icon:(0,Xm.jsx)(gy,{className:"w-4 h-4"})}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden",children:null!==a&&void 0!==a&&a.avatar?(0,Xm.jsx)("img",{src:a.avatar,alt:a.fullName,className:"w-full h-full object-cover"}):(0,Xm.jsx)(Wm,{className:"w-10 h-10 text-primary-600"})}),(0,Xm.jsx)("button",{onClick:()=>document.getElementById("avatar-upload").click(),className:"absolute bottom-0 right-0 bg-white rounded-full p-1.5 shadow-md hover:bg-gray-50 transition-colors border border-gray-200",children:(0,Xm.jsx)(db,{className:"w-3.5 h-3.5 text-gray-600"})}),(0,Xm.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const r=e.target.files[0];if(r)try{await t(()=>mp.uploadAvatar(r)),await E()}catch(a){console.error("Failed to upload avatar:",a)}}})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Dr. ",(null===a||void 0===a?void 0:a.fullName)||"Doctor"]}),(0,Xm.jsx)(lp,{color:(e=>{switch(e){case"VERIFIED":return"green";case"PENDING":return"yellow";case"REJECTED":return"red";default:return"gray"}})(null===a||void 0===a?void 0:a.verificationStatus),children:(null===a||void 0===a?void 0:a.verificationStatus)||"PENDING"})]}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:(null===a||void 0===a?void 0:a.primarySpecialization)||"General Practice"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Lp,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[(null===a||void 0===a?void 0:a.yearsOfExperience)||0," years experience"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Ip,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Xm.jsxs)("span",{children:[(null===a||void 0===a||null===(e=a.rating)||void 0===e?void 0:e.toFixed(1))||"0.0"," rating"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Hb,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[(null===a||void 0===a?void 0:a.consultationCount)||0," consultations"]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Profile Completion"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,Xm.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:"".concat(O(),"%")}})}),(0,Xm.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[O(),"%"]})]})]})]})}),(0,Xm.jsx)("div",{className:"flex space-x-8 border-t",children:D.map(e=>(0,Xm.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 px-1 py-4 border-b-2 transition-colors ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[e.icon,(0,Xm.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})]})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:["professional"===i&&(0,Xm.jsx)(My,{title:"Professional Information",children:(0,Xm.jsx)("form",{onSubmit:C.handleSubmit(async e=>{try{const r=await t(()=>mp.updateProfile(e));n(r),c((0,ot.A)((0,ot.A)({},l),{},{professional:!1}))}catch(r){console.error("Failed to update profile:",r)}}),children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},C.register("fullName")),{},{disabled:!l.professional,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},C.register("licenseNumber")),{},{disabled:!l.professional,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Experience *"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number"},C.register("yearsOfExperience")),{},{disabled:!l.professional,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hospital Affiliation"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},C.register("hospitalAffiliation")),{},{disabled:!l.professional,placeholder:"Hospital or clinic name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications & Certifications"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},C.register("qualifications")),{},{disabled:!l.professional,rows:3,placeholder:"MD, Board Certified, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professional Summary"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},C.register("professionalSummary")),{},{disabled:!l.professional,rows:4,placeholder:"Brief overview of your expertise...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Research Areas & Special Interests"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},C.register("researchAreas")),{},{disabled:!l.professional,rows:3,placeholder:"Research, publications, interests...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Languages Spoken"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},C.register("languages")),{},{disabled:!l.professional,placeholder:"English, German, Spanish...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:l.professional?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{c((0,ot.A)((0,ot.A)({},l),{},{professional:!1})),C.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:r,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>c((0,ot.A)((0,ot.A)({},l),{},{professional:!0})),children:"Edit Professional Info"})})]})})}),"specialization"===i&&(0,Xm.jsx)(My,{title:"Specialization & Expertise",children:(0,Xm.jsx)("form",{onSubmit:S.handleSubmit(async e=>{try{const r=(0,ot.A)((0,ot.A)({},e),{},{subSpecializations:g,diseaseExpertiseCodes:b,symptomExpertiseCodes:w}),a=await t(()=>mp.updateProfile(r));n(a),c((0,ot.A)((0,ot.A)({},l),{},{specialization:!1}))}catch(r){console.error("Failed to update specialization:",r)}}),children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Specialization *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},S.register("primarySpecialization")),{},{disabled:!l.specialization,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select specialization"}),d.map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-Specializations"}),l.specialization?(0,Xm.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 max-h-48 overflow-y-auto",children:(0,Xm.jsxs)("div",{className:"space-y-2",children:[T().map(e=>(0,Xm.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:g.includes(e.code),onChange:()=>{return t=e.code,void v(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2 text-primary-600 focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm",children:e.name})]},e.code)),0===T().length&&(0,Xm.jsx)("span",{className:"text-gray-500 text-sm",children:"Select a primary specialization first"})]})}):(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:g.length>0?g.map(e=>{const t=m.find(t=>t.code===e);return(0,Xm.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:(null===t||void 0===t?void 0:t.name)||e},e)}):(0,Xm.jsx)("span",{className:"text-gray-500 text-sm",children:"No sub-specializations selected"})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disease Expertise"}),l.specialization?(0,Xm.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 max-h-48 overflow-y-auto",children:(0,Xm.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,Xm.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:b.includes(e.icdCode||e.code),onChange:()=>{return t=e.icdCode||e.code,void j(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2 text-primary-600 focus:ring-primary-500"}),(0,Xm.jsxs)("span",{className:"text-sm",children:[e.name," (",e.icdCode||e.code,")"]})]},e.icdCode||e.code))})}):(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:b.length>0?b.map(e=>{const t=h.find(t=>t.icdCode===e||t.code===e);return(0,Xm.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:(null===t||void 0===t?void 0:t.name)||e},e)}):(0,Xm.jsx)("span",{className:"text-gray-500 text-sm",children:"No disease expertise selected"})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symptom Expertise"}),l.specialization?(0,Xm.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 max-h-48 overflow-y-auto",children:(0,Xm.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,Xm.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:w.includes(e.code),onChange:()=>{return t=e.code,void N(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2 text-primary-600 focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm",children:e.name})]},e.code))})}):(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:w.length>0?w.map(e=>{const t=f.find(t=>t.code===e);return(0,Xm.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:(null===t||void 0===t?void 0:t.name)||e},e)}):(0,Xm.jsx)("span",{className:"text-gray-500 text-sm",children:"No symptom expertise selected"})})]}),(0,Xm.jsxs)("div",{className:"border-t pt-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Case Preferences"}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:"Accept Second Opinions"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Willing to provide second opinion consultations"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},S.register("acceptsSecondOpinions")),{},{disabled:!l.specialization,className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 disabled:opacity-50"}))]}),(0,Xm.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:"Accept Complex Cases"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Handle high-complexity medical cases"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},S.register("acceptsComplexCases")),{},{disabled:!l.specialization,className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 disabled:opacity-50"}))]}),(0,Xm.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:"Accept Urgent Cases"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-600",children:"Available for time-sensitive consultations"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},S.register("acceptsUrgentCases")),{},{disabled:!l.specialization,className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 disabled:opacity-50"}))]})]})]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:l.specialization?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{c((0,ot.A)((0,ot.A)({},l),{},{specialization:!1})),S.reset(),v((null===a||void 0===a?void 0:a.subSpecializations)||[]),j((null===a||void 0===a?void 0:a.diseaseExpertiseCodes)||[]),N((null===a||void 0===a?void 0:a.symptomExpertiseCodes)||[])},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:r,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>c((0,ot.A)((0,ot.A)({},l),{},{specialization:!0})),children:"Edit Specialization"})})]})})}),"pricing"===i&&(0,Xm.jsx)(My,{title:"Consultation Fees & Capacity",children:(0,Xm.jsx)("form",{onSubmit:A.handleSubmit(async e=>{try{const r=await t(()=>mp.updateProfile(e));n(r),c((0,ot.A)((0,ot.A)({},l),{},{pricing:!1}))}catch(r){console.error("Failed to update pricing:",r)}}),children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-blue-800",children:"Set your consultation fees and case capacity. These rates will be displayed to patients."})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number",step:"0.01"},A.register("hourlyRate")),{},{disabled:!l.pricing,placeholder:"N/A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For time-based consultations"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Standard Case Fee ($)"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number",step:"0.01"},A.register("caseRate")),{},{disabled:!l.pricing,placeholder:"N/A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Standard case consultation"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency/Urgent Fee ($)"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number",step:"0.01"},A.register("emergencyRate")),{},{disabled:!l.pricing,placeholder:"N/A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For urgent cases"})]})]}),(0,Xm.jsxs)("div",{className:"border-t pt-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Capacity Management"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Concurrent Cases"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number"},A.register("maxConcurrentCases")),{},{disabled:!l.pricing,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"})),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum active cases you can handle"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Active Cases"}),(0,Xm.jsx)("input",{type:"text",value:(null===a||void 0===a?void 0:a.activeCases)||0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Current workload"})]})]})]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:l.pricing?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{c((0,ot.A)((0,ot.A)({},l),{},{pricing:!1})),A.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:r,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>c((0,ot.A)((0,ot.A)({},l),{},{pricing:!0})),children:"Edit Pricing"})})]})})}),"contact"===i&&(0,Xm.jsx)(My,{title:"Contact Information",children:(0,Xm.jsx)("form",{onSubmit:k.handleSubmit(async e=>{try{const r=await t(()=>mp.updateProfile(e));n(r),c((0,ot.A)((0,ot.A)({},l),{},{contact:!1}))}catch(r){console.error("Failed to update contact info:",r)}}),children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},k.register("phoneNumber")),{},{disabled:!l.contact,placeholder:"+1 (555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"email"},k.register("email")),{},{disabled:!l.contact,placeholder:"doctor@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{className:"md:col-span-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},k.register("address")),{},{disabled:!l.contact,placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},k.register("city")),{},{disabled:!l.contact,placeholder:"City",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({},k.register("country")),{},{disabled:!l.contact,placeholder:"Country",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 disabled:bg-gray-50 disabled:text-gray-500"}))]})]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:l.contact?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{c((0,ot.A)((0,ot.A)({},l),{},{contact:!1})),k.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),loading:r,children:"Save Changes"})]}):(0,Xm.jsx)(Zm,{type:"button",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>c((0,ot.A)((0,ot.A)({},l),{},{contact:!0})),children:"Edit Contact Info"})})]})})})]})})]})},Fj=zm("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);var qj=r(9889),zj=r.n(qj),Uj=r(620),Bj=r.n(Uj),Vj=r(5268),Hj=r.n(Vj),Wj=r(3097),Gj=r.n(Wj),Yj=r(9160),Kj=r.n(Yj),$j=r(9686),Qj=r.n($j),Xj=function(e){return 0===e?0:e>0?1:-1},Jj=function(e){return Bj()(e)&&e.indexOf("%")===e.length-1},Zj=function(e){return Kj()(e)&&!Hj()(e)},ew=function(e){return Zj(e)||Bj()(e)},tw=0,rw=function(e){var t=++tw;return"".concat(e||"").concat(t)},aw=function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Zj(e)&&!Bj()(e))return a;if(Jj(e)){var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return Hj()(r)&&(r=a),n&&r>t&&(r=t),r},nw=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},sw=function(e,t){return Zj(e)&&Zj(t)?function(r){return e+r*(t-e)}:function(){return t}};function iw(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Gj()(e,t))===r}):null}var ow=function(e,t){return Zj(e)&&Zj(t)?e-t:Bj()(e)&&Bj()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},lw=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n]},cw=r(1629),dw=r.n(cw),uw=r(6686),mw=r.n(uw),pw=r(9062);function hw(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}var fw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yw=["points","pathLength"],gw={svg:["viewBox","children"],polygon:yw,polyline:yw},vw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bw=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,s.isValidElement)(e)&&(r=e.props),!mw()(r))return null;var a={};return Object.keys(r).forEach(function(e){vw.includes(e)&&(a[e]=t||function(t){return r[e](r,t)})}),a},jw=function(e,t,r){if(!mw()(e)||"object"!==xw(e))return null;var a=null;return Object.keys(e).forEach(function(n){var s=e[n];vw.includes(n)&&"function"===typeof s&&(a||(a={}),a[n]=function(e,t,r){return function(a){return e(t,r,a),null}}(s,t,r))}),a},ww=["children"],Nw=["children"];function Cw(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sw(e){return Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(e)}var Aw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},kw=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Ew=null,Pw=null,Ow=function e(t){if(t===Ew&&Array.isArray(Pw))return Pw;var r=[];return s.Children.forEach(t,function(t){Qj()(t)||((0,pw.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))}),Pw=r,Ew=t,r};function Tw(e,t){var r=[],a=[];return a=Array.isArray(t)?t.map(function(e){return kw(e)}):[kw(t)],Ow(e).forEach(function(e){var t=Gj()(e,"type.displayName")||Gj()(e,"type.name");-1!==a.indexOf(t)&&r.push(e)}),r}function Dw(e,t){var r=Tw(e,t);return r&&r[0]}var Rw=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,a=t.height;return!(!Zj(r)||r<=0||!Zj(a)||a<=0)},_w=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mw=function(e){return e&&e.type&&Bj()(e.type)&&_w.indexOf(e.type)>=0},Iw=function(e){return e&&"object"===Sw(e)&&"clipDot"in e},Lw=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,s.isValidElement)(e)&&(a=e.props),!mw()(a))return null;var n={};return Object.keys(a).forEach(function(e){var s;(function(e,t,r,a){var n,s=null!==(n=null===gw||void 0===gw?void 0:gw[a])&&void 0!==n?n:[];return t.startsWith("data-")||!dw()(e)&&(a&&s.includes(t)||fw.includes(t))||r&&vw.includes(t)})(null===(s=a)||void 0===s?void 0:s[e],e,t,r)&&(n[e]=a[e])}),n},Fw=function e(t,r){if(t===r)return!0;var a=s.Children.count(t);if(a!==s.Children.count(r))return!1;if(0===a)return!0;if(1===a)return qw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var n=0;n<a;n++){var i=t[n],o=r[n];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!qw(i,o))return!1}return!0},qw=function(e,t){if(Qj()(e)&&Qj()(t))return!0;if(!Qj()(e)&&!Qj()(t)){var r=e.props||{},a=r.children,n=Cw(r,ww),s=t.props||{},i=s.children,o=Cw(s,Nw);return a&&i?hw(n,o)&&Fw(a,i):!a&&!i&&hw(n,o)}return!1},zw=function(e,t){var r=[],a={};return Ow(e).forEach(function(e,n){if(Mw(e))r.push(e);else if(e){var s=kw(e.type),i=t[s]||{},o=i.handler,l=i.once;if(o&&(!l||!a[s])){var c=o(e,s,n);r.push(c),a[s]=!0}}}),r};function Uw(e){return Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(t){Hw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Uw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Uw(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ww(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Yw=(0,s.forwardRef)(function(e,t){var r=e.aspect,a=e.initialDimension,n=void 0===a?{width:-1,height:-1}:a,i=e.width,o=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,m=e.minHeight,p=e.maxHeight,h=e.children,x=e.debounce,f=void 0===x?0:x,y=e.id,g=e.className,v=e.onResize,b=e.style,j=void 0===b?{}:b,w=(0,s.useRef)(null),N=(0,s.useRef)();N.current=v,(0,s.useImperativeHandle)(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var C=Ww((0,s.useState)({containerWidth:n.width,containerHeight:n.height}),2),S=C[0],A=C[1],k=(0,s.useCallback)(function(e,t){A(function(r){var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]);(0,s.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,a=r.width,n=r.height;k(a,n),null===(t=N.current)||void 0===t||t.call(N,a,n)};f>0&&(e=zj()(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),a=r.width,n=r.height;return k(a,n),t.observe(w.current),function(){t.disconnect()}},[k,f]);var E=(0,s.useMemo)(function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;lw(Jj(o)||Jj(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),lw(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Jj(o)?e:o,n=Jj(c)?t:c;r&&r>0&&(a?n=a/r:n&&(a=n*r),p&&n>p&&(n=p)),lw(a>0||n>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,n,o,c,u,m,r);var i=!Array.isArray(h)&&kw(h.type).endsWith("Chart");return s.Children.map(h,function(e){return s.isValidElement(e)?(0,s.cloneElement)(e,Vw({width:a,height:n},i?{style:Vw({height:"100%",width:"100%",maxHeight:n,maxWidth:a},e.props.style)}:{})):e})},[r,h,c,p,m,u,S,o]);return s.createElement("div",{id:y?"".concat(y):void 0,className:ct("recharts-responsive-container",g),style:Vw(Vw({},j),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:p}),ref:w},E)}),Kw=r(6604),$w=r.n(Kw),Qw=r(7424),Xw=r.n(Qw),Jw="Invariant failed";function Zw(e,t){if(!e)throw new Error(Jw)}var eN=["children","width","height","viewBox","className","style","title","desc"];function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tN.apply(this,arguments)}function rN(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aN(e){var t=e.children,r=e.width,a=e.height,n=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=rN(e,eN),u=n||{width:r,height:a,x:0,y:0},m=ct("recharts-surface",i);return s.createElement("svg",tN({},Lw(d,!0,"svg"),{className:m,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),s.createElement("title",null,l),s.createElement("desc",null,c),t)}var nN=["children","className"];function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sN.apply(this,arguments)}function iN(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var oN=s.forwardRef(function(e,t){var r=e.children,a=e.className,n=iN(e,nN),i=ct("recharts-layer",a);return s.createElement("g",sN({className:i},Lw(n,!0),{ref:t}),r)});function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cN.apply(this,arguments)}function dN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(t){hN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=lN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=lN(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xN(e){return Array.isArray(e)&&ew(e[0])&&ew(e[1])?e.join(" ~ "):e}var fN=function(e){var t=e.separator,r=void 0===t?" : ":t,a=e.contentStyle,n=void 0===a?{}:a,i=e.itemStyle,o=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,m=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,x=e.label,f=e.labelFormatter,y=e.accessibilityLayer,g=void 0!==y&&y,v=pN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=pN({margin:0},c),j=!Qj()(x),w=j?x:"",N=ct("recharts-default-tooltip",p),C=ct("recharts-tooltip-label",h);j&&f&&void 0!==d&&null!==d&&(w=f(x,d));var S=g?{role:"status","aria-live":"assertive"}:{};return s.createElement("div",cN({className:N,style:v},S),s.createElement("p",{className:C,style:b},s.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(m?Xw()(d,m):d).map(function(e,t){if("none"===e.type)return null;var a=pN({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),n=e.formatter||u||xN,i=e.value,l=e.name,c=i,m=l;if(n&&null!=c&&null!=m){var p=n(i,l,e,t,d);if(Array.isArray(p)){var h=dN(p,2);c=h[0],m=h[1]}else c=p}return s.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},ew(m)?s.createElement("span",{className:"recharts-tooltip-item-name"},m):null,ew(m)?s.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,s.createElement("span",{className:"recharts-tooltip-item-value"},c),s.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return s.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function yN(e){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yN(e)}function gN(e,t,r){return t=function(e){var t=function(e,t){if("object"!=yN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=yN(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yN(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vN="recharts-tooltip-wrapper",bN={visibility:"hidden"};function jN(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return ct(vN,gN(gN(gN(gN({},"".concat(vN,"-right"),Zj(r)&&t&&Zj(t.x)&&r>=t.x),"".concat(vN,"-left"),Zj(r)&&t&&Zj(t.x)&&r<t.x),"".concat(vN,"-bottom"),Zj(a)&&t&&Zj(t.y)&&a>=t.y),"".concat(vN,"-top"),Zj(a)&&t&&Zj(t.y)&&a<t.y))}function wN(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Zj(s[a]))return s[a];var d=r[a]-o-n,u=r[a]+n;return t[a]?i[a]?d:u:i[a]?d<l[a]?Math.max(u,l[a]):Math.max(d,l[a]):u+o>l[a]+c?Math.max(d,l[a]):Math.max(u,l[a])}function NN(e){return NN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(e)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(t){TN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DN(a.key),a)}}function kN(e,t,r){return t=PN(t),function(e,t){if(t&&("object"===NN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EN()?Reflect.construct(t,r||[],PN(e).constructor):t.apply(e,r))}function EN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EN=function(){return!!e})()}function PN(e){return PN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PN(e)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ON(e,t)}function TN(e,t,r){return(t=DN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DN(e){var t=function(e,t){if("object"!=NN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=NN(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NN(t)?t:t+""}var RN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return TN(e=kN(this,t,[].concat(a)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),TN(e,"handleKeyDown",function(t){var r,a,n,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(a=e.props.coordinate)||void 0===a?void 0:a.x)&&void 0!==r?r:0,y:null!==(n=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==n?n:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}(t,e),r=t,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,n=t.animationDuration,i=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,m=t.position,p=t.reverseDirection,h=t.useTranslate3d,x=t.viewBox,f=t.wrapperStyle,y=function(e){var t,r,a=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&n?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=wN({allowEscapeViewBox:a,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=wN({allowEscapeViewBox:a,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):bN,cssClasses:jN({translateX:t,translateY:r,coordinate:n})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:u,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:x}),g=y.cssClasses,v=y.cssProperties,b=SN(SN({transition:d&&r?"transform ".concat(n,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},f);return s.createElement("div",{tabIndex:-1,className:g,style:b,ref:function(t){e.wrapperNode=t}},o)}}])&&AN(r.prototype,a),n&&AN(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent),_N={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return _N[e]},set:function(e,t){if("string"===typeof e)_N[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(t){_N[t]=e[t]})}}},MN=r(977),IN=r.n(MN);function LN(e,t,r){return!0===t?IN()(e,r):dw()(t)?IN()(e,t):e}function FN(e){return FN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(e)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(t){GN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,YN(a.key),a)}}function BN(e,t,r){return t=HN(t),function(e,t){if(t&&("object"===FN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VN()?Reflect.construct(t,r||[],HN(e).constructor):t.apply(e,r))}function VN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VN=function(){return!!e})()}function HN(e){return HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HN(e)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WN(e,t)}function GN(e,t,r){return(t=YN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YN(e){var t=function(e,t){if("object"!=FN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=FN(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FN(t)?t:t+""}function KN(e){return e.dataKey}var $N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,n=t.animationDuration,i=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,m=t.payload,p=t.payloadUniqBy,h=t.position,x=t.reverseDirection,f=t.useTranslate3d,y=t.viewBox,g=t.wrapperStyle,v=null!==m&&void 0!==m?m:[];c&&v.length&&(v=LN(m.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,KN));var b=v.length>0;return s.createElement(RN,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:r,coordinate:l,hasPayload:b,offset:u,position:h,reverseDirection:x,useTranslate3d:f,viewBox:y,wrapperStyle:g},function(e,t){return s.isValidElement(e)?s.cloneElement(e,t):"function"===typeof e?s.createElement(e,t):s.createElement(fN,t)}(o,zN(zN({},this.props),{},{payload:v})))}}])&&UN(r.prototype,a),n&&UN(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);GN($N,"displayName","Tooltip"),GN($N,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_N.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QN=r(643),XN=r.n(QN);Math.abs,Math.atan2;const JN=Math.cos,ZN=(Math.max,Math.min,Math.sin),eC=Math.sqrt,tC=Math.PI,rC=2*tC;const aC={draw(e,t){const r=eC(t/tC);e.moveTo(r,0),e.arc(0,0,r,0,rC)}},nC={draw(e,t){const r=eC(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sC=eC(1/3),iC=2*sC,oC={draw(e,t){const r=eC(t/iC),a=r*sC;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},lC={draw(e,t){const r=eC(t),a=-r/2;e.rect(a,a,r,r)}},cC=ZN(tC/10)/ZN(7*tC/10),dC=ZN(rC/10)*cC,uC=-JN(rC/10)*cC,mC={draw(e,t){const r=eC(.8908130915292852*t),a=dC*r,n=uC*r;e.moveTo(0,-r),e.lineTo(a,n);for(let s=1;s<5;++s){const t=rC*s/5,i=JN(t),o=ZN(t);e.lineTo(o*r,-i*r),e.lineTo(i*a-o*n,o*a+i*n)}e.closePath()}},pC=eC(3),hC={draw(e,t){const r=-eC(t/(3*pC));e.moveTo(0,2*r),e.lineTo(-pC*r,-r),e.lineTo(pC*r,-r),e.closePath()}},xC=-.5,fC=eC(3)/2,yC=1/eC(12),gC=3*(yC/2+1),vC={draw(e,t){const r=eC(t/gC),a=r/2,n=r*yC,s=a,i=r*yC+r,o=-s,l=i;e.moveTo(a,n),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(xC*a-fC*n,fC*a+xC*n),e.lineTo(xC*s-fC*i,fC*s+xC*i),e.lineTo(xC*o-fC*l,fC*o+xC*l),e.lineTo(xC*a+fC*n,xC*n-fC*a),e.lineTo(xC*s+fC*i,xC*i-fC*s),e.lineTo(xC*o+fC*l,xC*l-fC*o),e.closePath()}};function bC(e){return function(){return e}}function jC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wC,NC,CC,SC,AC,kC,EC,PC,OC,TC,DC,RC,_C,MC;const IC=Math.PI,LC=2*IC,FC=1e-6,qC=LC-FC;function zC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class UC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?zC:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return zC;const r=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(wC||(wC=jC(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(NC||(NC=jC(["Z"]))))}lineTo(e,t){this._append(CC||(CC=jC(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,a){this._append(SC||(SC=jC(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+a)}bezierCurveTo(e,t,r,a,n,s){this._append(AC||(AC=jC(["C",",",",",",",",",",",""])),+e,+t,+r,+a,this._x1=+n,this._y1=+s)}arcTo(e,t,r,a,n){if(e=+e,t=+t,r=+r,a=+a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=this._x1,i=this._y1,o=r-e,l=a-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(kC||(kC=jC(["M",",",""])),this._x1=e,this._y1=t);else if(u>FC)if(Math.abs(d*o-l*c)>FC&&n){let m=r-s,p=a-i,h=o*o+l*l,x=m*m+p*p,f=Math.sqrt(h),y=Math.sqrt(u),g=n*Math.tan((IC-Math.acos((h+u-x)/(2*f*y)))/2),v=g/y,b=g/f;Math.abs(v-1)>FC&&this._append(PC||(PC=jC(["L",",",""])),e+v*c,t+v*d),this._append(OC||(OC=jC(["A",",",",0,0,",",",",",""])),n,n,+(d*m>c*p),this._x1=e+b*o,this._y1=t+b*l)}else this._append(EC||(EC=jC(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,a,n,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error("negative radius: ".concat(r));let i=r*Math.cos(a),o=r*Math.sin(a),l=e+i,c=t+o,d=1^s,u=s?a-n:n-a;null===this._x1?this._append(TC||(TC=jC(["M",",",""])),l,c):(Math.abs(this._x1-l)>FC||Math.abs(this._y1-c)>FC)&&this._append(DC||(DC=jC(["L",",",""])),l,c),r&&(u<0&&(u=u%LC+LC),u>qC?this._append(RC||(RC=jC(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,d,e-i,t-o,r,r,d,this._x1=l,this._y1=c):u>FC&&this._append(_C||(_C=jC(["A",",",",0,",",",",",",",""])),r,r,+(u>=IC),d,this._x1=e+r*Math.cos(n),this._y1=t+r*Math.sin(n)))}rect(e,t,r,a){this._append(MC||(MC=jC(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+a,-r)}toString(){return this._}}function BC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new UC(t)}eC(3),eC(3);function VC(e){return VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC(e)}var HC=["type","size","sizeType"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},WC.apply(this,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function YC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(t){KC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KC(e,t,r){return t=function(e){var t=function(e,t){if("object"!=VC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=VC(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var QC={symbolCircle:aC,symbolCross:nC,symbolDiamond:oC,symbolSquare:lC,symbolStar:mC,symbolTriangle:hC,symbolWye:vC},XC=Math.PI/180,JC=function(e){var t=e.type,r=void 0===t?"circle":t,a=e.size,n=void 0===a?64:a,i=e.sizeType,o=void 0===i?"area":i,l=YC(YC({},$C(e,HC)),{},{type:r,size:n,sizeType:o}),c=l.className,d=l.cx,u=l.cy,m=Lw(l,!0);return d===+d&&u===+u&&n===+n?s.createElement("path",WC({},m,{className:ct("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(XN()(e));return QC[t]||aC}(r),t=function(e,t){let r=null,a=BC(n);function n(){let n;if(r||(r=n=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return e="function"===typeof e?e:bC(e||aC),t="function"===typeof t?t:bC(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"===typeof t?t:bC(t),n):e},n.size=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*XC;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.pow(Math.tan(a),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(n,o,r));return t()}()})):null};function ZC(e){return ZC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZC(e)}function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},eS.apply(this,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function rS(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lS(a.key),a)}}function aS(e,t,r){return t=sS(t),function(e,t){if(t&&("object"===ZC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nS()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function nS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nS=function(){return!!e})()}function sS(e){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sS(e)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iS(e,t)}function oS(e,t,r){return(t=lS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lS(e){var t=function(e,t){if("object"!=ZC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=ZC(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZC(t)?t:t+""}JC.registerSymbol=function(e,t){QC["symbol".concat(XN()(e))]=t};var cS=32,dS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}(t,e),r=t,a=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,a=cS/6,n=cS/3,i=e.inactive?t:e.color;if("plainline"===e.type)return s.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:cS,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return s.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*n,",").concat(r,"\n            H").concat(cS,"M").concat(2*n,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(n,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return s.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(cS,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(s.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(t){oS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,s.cloneElement(e.legendIcon,o)}return s.createElement(JC,{fill:i,cx:r,cy:r,size:cS,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,a=t.iconSize,n=t.layout,i=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:cS,height:cS},c={display:"horizontal"===n?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var n=t.formatter||i,u=ct(oS(oS({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var m=dw()(t.value)?null:t.value;lw(!dw()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?o:t.color;return s.createElement("li",eS({className:u,style:c,key:"legend-item-".concat(r)},jw(e.props,t,r)),s.createElement(aN,{width:a,height:a,viewBox:l,style:d},e.renderIcon(t)),s.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},n?n(m,t,r):m))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,a=e.align;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return s.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}],a&&rS(r.prototype,a),n&&rS(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function uS(e){return uS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uS(e)}oS(dS,"displayName","Legend"),oS(dS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mS=["ref"];function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(t){bS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xS(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jS(a.key),a)}}function fS(e,t,r){return t=gS(t),function(e,t){if(t&&("object"===uS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yS()?Reflect.construct(t,r||[],gS(e).constructor):t.apply(e,r))}function yS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yS=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gS(e)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vS(e,t)}function bS(e,t,r){return(t=jS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jS(e){var t=function(e,t){if("object"!=uS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=uS(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uS(t)?t:t+""}function wS(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NS(e){return e.value}var CS=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return bS(e=fS(this,t,[].concat(a)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}(t,e),r=t,n=[{key:"getWithHeight",value:function(e,t){var r=hS(hS({},this.defaultProps),e.props).layout;return"vertical"===r&&Zj(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hS({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,a=this.props,n=a.layout,s=a.align,i=a.verticalAlign,o=a.margin,l=a.chartWidth,c=a.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===n?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),hS(hS({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,a=t.width,n=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=hS(hS({position:"absolute",width:a||"auto",height:n||"auto"},this.getDefaultPosition(i)),i);return s.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(s.isValidElement(e))return s.cloneElement(e,t);if("function"===typeof e)return s.createElement(e,t);t.ref;var r=wS(t,mS);return s.createElement(dS,r)}(r,hS(hS({},this.props),{},{payload:LN(l,o,NS)})))}}])&&xS(r.prototype,a),n&&xS(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},SS.apply(this,arguments)}bS(CS,"displayName","Legend"),bS(CS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AS=function(e){var t=e.cx,r=e.cy,a=e.r,n=e.className,i=ct("recharts-dot",n);return t===+t&&r===+r&&a===+a?s.createElement("circle",SS({},Lw(e,!1),bw(e),{className:i,cx:t,cy:r,r:a})):null},kS=r(5173),ES=r.n(kS),PS=Object.getOwnPropertyNames,OS=Object.getOwnPropertySymbols,TS=Object.prototype.hasOwnProperty;function DS(e,t){return function(r,a,n){return e(r,a,n)&&t(r,a,n)}}function RS(e){return function(t,r,a){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,a);var n=a.cache,s=n.get(t),i=n.get(r);if(s&&i)return s===r&&i===t;n.set(t,r),n.set(r,t);var o=e(t,r,a);return n.delete(t),n.delete(r),o}}function _S(e){return PS(e).concat(OS(e))}var MS=Object.hasOwn||function(e,t){return TS.call(e,t)};function IS(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var LS=Object.getOwnPropertyDescriptor,FS=Object.keys;function qS(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function zS(e,t){return IS(e.getTime(),t.getTime())}function US(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function BS(e,t){return e===t}function VS(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n,s,i=new Array(a),o=e.entries(),l=0;(n=o.next())&&!n.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;)if(i[u])u++;else{var m=n.value,p=s.value;if(r.equals(m[0],p[0],l,u,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var HS=IS;function WS(e,t,r){var a=FS(e),n=a.length;if(FS(t).length!==n)return!1;for(;n-- >0;)if(!JS(e,t,r,a[n]))return!1;return!0}function GS(e,t,r){var a,n,s,i=_S(e),o=i.length;if(_S(t).length!==o)return!1;for(;o-- >0;){if(!JS(e,t,r,a=i[o]))return!1;if(n=LS(e,a),s=LS(t,a),(n||s)&&(!n||!s||n.configurable!==s.configurable||n.enumerable!==s.enumerable||n.writable!==s.writable))return!1}return!0}function YS(e,t){return IS(e.valueOf(),t.valueOf())}function KS(e,t){return e.source===t.source&&e.flags===t.flags}function $S(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n,s,i=new Array(a),o=e.values();(n=o.next())&&!n.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(n.value,s.value,n.value,s.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function QS(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function XS(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function JS(e,t,r,a){return!("_owner"!==a&&"__o"!==a&&"__v"!==a||!e.$$typeof&&!t.$$typeof)||MS(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var ZS=Array.isArray,eA="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,tA=Object.assign,rA=Object.prototype.toString.call.bind(Object.prototype.toString);var aA=nA();nA({strict:!0}),nA({circular:!0}),nA({circular:!0,strict:!0}),nA({createInternalComparator:function(){return IS}}),nA({strict:!0,createInternalComparator:function(){return IS}}),nA({circular:!0,createInternalComparator:function(){return IS}}),nA({circular:!0,createInternalComparator:function(){return IS},strict:!0});function nA(e){void 0===e&&(e={});var t,r=e.circular,a=void 0!==r&&r,n=e.createInternalComparator,s=e.createState,i=e.strict,o=void 0!==i&&i,l=function(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,n={areArraysEqual:a?GS:qS,areDatesEqual:zS,areErrorsEqual:US,areFunctionsEqual:BS,areMapsEqual:a?DS(VS,GS):VS,areNumbersEqual:HS,areObjectsEqual:a?GS:WS,arePrimitiveWrappersEqual:YS,areRegExpsEqual:KS,areSetsEqual:a?DS($S,GS):$S,areTypedArraysEqual:a?GS:QS,areUrlsEqual:XS};if(r&&(n=tA({},n,r(n))),t){var s=RS(n.areArraysEqual),i=RS(n.areMapsEqual),o=RS(n.areObjectsEqual),l=RS(n.areSetsEqual);n=tA({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,n=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var x=typeof e;if(x!==typeof p)return!1;if("object"!==x)return"number"===x?i(e,p,h):"function"===x&&n(e,p,h);var f=e.constructor;if(f!==p.constructor)return!1;if(f===Object)return o(e,p,h);if(ZS(e))return t(e,p,h);if(null!=eA&&eA(e))return u(e,p,h);if(f===Date)return r(e,p,h);if(f===RegExp)return c(e,p,h);if(f===Map)return s(e,p,h);if(f===Set)return d(e,p,h);var y=rA(e);return"[object Date]"===y?r(e,p,h):"[object RegExp]"===y?c(e,p,h):"[object Map]"===y?s(e,p,h):"[object Set]"===y?d(e,p,h):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof p.then&&o(e,p,h):"[object URL]"===y?m(e,p,h):"[object Error]"===y?a(e,p,h):"[object Arguments]"===y?o(e,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,p,h)}}(l),d=n?n(c):(t=c,function(e,r,a,n,s,i,o){return t(e,r,o)});return function(e){var t=e.circular,r=e.comparator,a=e.createState,n=e.equals,s=e.strict;if(a)return function(e,i){var o=a(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return r(e,i,{cache:c,equals:n,meta:d,strict:s})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};var i={cache:void 0,equals:n,meta:void 0,strict:s};return function(e,t){return r(e,t,i)}}({circular:a,comparator:c,createState:s,equals:d,strict:o})}function sA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function a(n){r<0&&(r=n),n-r>t?(e(n),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(a)})}function iA(e){return iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(e)}function oA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function cA(){var e=function(){return null},t=!1,r=function r(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var n=oA(a),s=n[0],i=n.slice(1);return"number"===typeof s?void sA(r.bind(null,i),s):(r(s),void sA(r.bind(null,i)))}"object"===iA(a)&&e(a),"function"===typeof a&&a()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function dA(e){return dA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(t){pA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pA(e,t,r){return t=function(e){var t=function(e,t){if("object"!==dA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==dA(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dA(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hA=function(e){return e},xA=function(e,t){return Object.keys(t).reduce(function(r,a){return mA(mA({},r),{},pA({},a,e(a,t[a])))},{})},fA=function(e,t,r){return e.map(function(e){return"".concat((a=e,a.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var a}).join(",")};function yA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||vA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gA(e){return function(e){if(Array.isArray(e))return bA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vA(e,t){if(e){if("string"===typeof e)return bA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bA(e,t):void 0}}function bA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var jA=1e-4,wA=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},NA=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},CA=function(e,t){return function(r){var a=wA(e,t);return NA(a,r)}},SA=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],n=t[1],s=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":a=0,n=0,s=1,i=1;break;case"ease":a=.25,n=.1,s=.25,i=1;break;case"ease-in":a=.42,n=0,s=1,i=1;break;case"ease-out":a=.42,n=0,s=.58,i=1;break;case"ease-in-out":a=0,n=0,s=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=yA(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);a=l[0],n=l[1],s=l[2],i=l[3]}}[a,s,n,i].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,d,u=CA(a,s),m=CA(n,i),p=(c=a,d=s,function(e){var t=wA(c,d),r=[].concat(gA(t.map(function(e,t){return e*t}).slice(1)),[0]);return NA(r,e)}),h=function(e){return e>1?1:e<0?0:e},x=function(e){for(var t=e>1?1:e,r=t,a=0;a<8;++a){var n=u(r)-t,s=p(r);if(Math.abs(n-t)<jA||s<jA)return m(r);r=h(r-n/s)}return m(r)};return x.isStepper=!1,x},AA=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0];if("string"===typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SA(a);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,a=e.damping,n=void 0===a?8:a,s=e.dt,i=void 0===s?17:s,o=function(e,t,a){var s=a+(-(e-t)*r-a*n)*i/1e3,o=a*i/1e3+e;return Math.abs(o-t)<jA&&Math.abs(s)<jA?[t,0]:[o,s]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===a.split("(")[0])return SA(a)}return"function"===typeof a?a:null};function kA(e){return kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kA(e)}function EA(e){return function(e){if(Array.isArray(e))return _A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||RA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(t){TA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TA(e,t,r){return t=function(e){var t=function(e,t){if("object"!==kA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==kA(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kA(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||RA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RA(e,t){if(e){if("string"===typeof e)return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_A(e,t):void 0}}function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var MA=function(e,t,r){return e+(t-e)*r},IA=function(e){return e.from!==e.to},LA=function e(t,r,a){var n=xA(function(e,r){if(IA(r)){var a=DA(t(r.from,r.to,r.velocity),2),n=a[0],s=a[1];return OA(OA({},r),{},{from:n,velocity:s})}return r},r);return a<1?xA(function(e,t){return IA(t)?OA(OA({},t),{},{velocity:MA(t.velocity,n[e].velocity,a),from:MA(t.from,n[e].from,a)}):t},r):e(t,n,a-1)};const FA=function(e,t,r,a,n){var s,i,o,l,c=(s=e,i=t,[Object.keys(s),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(r,a){return OA(OA({},r),{},TA({},a,[e[a],t[a]]))},{}),u=c.reduce(function(r,a){return OA(OA({},r),{},TA({},a,{from:e[a],velocity:0,to:t[a]}))},{}),m=-1,p=function(){return null};return p=r.isStepper?function(a){o||(o=a);var s=(a-o)/r.dt;u=LA(r,u,s),n(OA(OA(OA({},e),t),xA(function(e,t){return t.from},u))),o=a,Object.values(u).filter(IA).length&&(m=requestAnimationFrame(p))}:function(s){l||(l=s);var i=(s-l)/a,o=xA(function(e,t){return MA.apply(void 0,EA(t).concat([r(i)]))},d);if(n(OA(OA(OA({},e),t),o)),i<1)m=requestAnimationFrame(p);else{var c=xA(function(e,t){return MA.apply(void 0,EA(t).concat([r(1)]))},d);n(OA(OA(OA({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(m)}}};function qA(e){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(e)}var zA=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UA(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BA(e){return function(e){if(Array.isArray(e))return VA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return VA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function WA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(t){GA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GA(e,t,r){return(t=KA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,KA(a.key),a)}}function KA(e){var t=function(e,t){if("object"!==qA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==qA(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qA(t)?t:String(t)}function $A(e,t){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$A(e,t)}function QA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(CY){return!1}}();return function(){var r,a=ZA(e);if(t){var n=ZA(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return XA(this,r)}}function XA(e,t){if(t&&("object"===qA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return JA(e)}function JA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZA(e){return ZA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZA(e)}var ek=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$A(e,t)}(i,e);var t,r,a,n=QA(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=(r=n.call(this,e,t)).props,s=a.isActive,o=a.attributeName,l=a.from,c=a.to,d=a.steps,u=a.children,m=a.duration;if(r.handleStyleChange=r.handleStyleChange.bind(JA(r)),r.changeStyle=r.changeStyle.bind(JA(r)),!s||m<=0)return r.state={style:{}},"function"===typeof u&&(r.state={style:c}),XA(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"===typeof u)return r.state={style:l},XA(r);r.state={style:o?GA({},o,l):l}}else r.state={style:{}};return r}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,a=t.canBegin,n=t.attributeName,s=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(a)if(r){if(!(aA(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&l){var u={style:n?GA({},n,d):d};(n&&l[n]!==d||!n&&l!==d)&&this.setState(u)}this.runAnimation(WA(WA({},this.props),{},{from:d,begin:0}))}}else{var m={style:n?GA({},n,i):i};this.state&&l&&(n&&l[n]!==i||!n&&l!==i)&&this.setState(m)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,a=e.to,n=e.duration,s=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=FA(r,a,AA(s),n,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},n,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,a=e.begin,n=e.onAnimationStart,s=r[0],i=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([n].concat(BA(r.reduce(function(e,a,n){if(0===n)return e;var s=a.duration,i=a.easing,o=void 0===i?"ease":i,l=a.style,c=a.properties,d=a.onAnimationEnd,u=n>0?r[n-1]:a,m=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(BA(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:s,easing:o}),s]);var p=fA(m,s,o),h=WA(WA(WA({},u.style),l),{},{transition:p});return[].concat(BA(e),[h,s,d]).filter(hA)},[i,Math.max(l,a)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=cA());var t=e.begin,r=e.duration,a=e.attributeName,n=e.to,s=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var u=a?GA({},a,n):n,m=fA(Object.keys(u),r,s);d.start([i,t,WA(WA({},u),{},{transition:m}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),n=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,UA(e,zA)),i=s.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!a||0===i||r<=0)return t;var l=function(e){var t=e.props,r=t.style,a=void 0===r?{}:r,i=t.className;return(0,s.cloneElement)(e,WA(WA({},n),{},{style:WA(WA({},a),o),className:i}))};return 1===i?l(s.Children.only(t)):s.createElement("div",null,s.Children.map(t,function(e){return l(e)}))}}])&&YA(t.prototype,r),a&&YA(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(s.PureComponent);ek.displayName="Animate",ek.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},ek.propTypes={from:ES().oneOfType([ES().object,ES().string]),to:ES().oneOfType([ES().object,ES().string]),attributeName:ES().string,duration:ES().number,begin:ES().number,easing:ES().oneOfType([ES().string,ES().func]),steps:ES().arrayOf(ES().shape({duration:ES().number.isRequired,style:ES().object.isRequired,easing:ES().oneOfType([ES().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ES().func]),properties:ES().arrayOf("string"),onAnimationEnd:ES().func})),children:ES().oneOfType([ES().node,ES().func]),isActive:ES().bool,canBegin:ES().bool,onAnimationEnd:ES().func,shouldReAnimate:ES().bool,onAnimationStart:ES().func,onAnimationReStart:ES().func};const tk=ek;function rk(e){return rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rk(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ak.apply(this,arguments)}function nk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(t){lk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=rk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=rk(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ck=function(e,t,r,a,n){var s,i=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0;if(i>0&&n instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=n[u]>i?i:n[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),s+="L ".concat(e+r,",").concat(t+a-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+a)),s+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+a-o*d[3])),s+="Z"}else if(i>0&&n===+n&&n>0){var m=Math.min(i,n);s="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+r-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,"\n            L ").concat(e+r,",").concat(t+a-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+a,"\n            L ").concat(e+l*m,",").concat(t+a,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*m," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return s},dk=function(e,t){if(!e||!t)return!1;var r=e.x,a=e.y,n=t.x,s=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(n,n+i),c=Math.max(n,n+i),d=Math.min(s,s+o),u=Math.max(s,s+o);return r>=l&&r<=c&&a>=d&&a<=u}return!1},uk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mk=function(e){var t=ok(ok({},uk),e),r=(0,s.useRef)(),a=nk((0,s.useState)(-1),2),n=a[0],i=a[1];(0,s.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(SY){}},[]);var o=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,m=t.className,p=t.animationEasing,h=t.animationDuration,x=t.animationBegin,f=t.isAnimationActive,y=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var g=ct("recharts-rectangle",m);return y?s.createElement(tk,{canBegin:n>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:h,animationEasing:p,isActive:y},function(e){var a=e.width,i=e.height,o=e.x,l=e.y;return s.createElement(tk,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:h,isActive:f,easing:p},s.createElement("path",ak({},Lw(t,!0),{className:g,d:ck(o,l,a,i,u),ref:r})))}):s.createElement("path",ak({},Lw(t,!0),{className:g,d:ck(o,l,c,d,u)}))};function pk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function hk(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class xk extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vk;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(fk(this,e))}has(e){return super.has(fk(this,e))}set(e,t){return super.set(yk(this,e),t)}delete(e){return super.delete(gk(this,e))}}Set;function fk(e,t){let{_intern:r,_key:a}=e;const n=a(t);return r.has(n)?r.get(n):t}function yk(e,t){let{_intern:r,_key:a}=e;const n=a(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function gk(e,t){let{_intern:r,_key:a}=e;const n=a(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function vk(e){return null!==e&&"object"===typeof e?e.valueOf():e}const bk=Symbol("implicit");function jk(){var e=new xk,t=[],r=[],a=bk;function n(n){let s=e.get(n);if(void 0===s){if(a!==bk)return a;e.set(n,s=t.push(n)-1)}return r[s%r.length]}return n.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new xk;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return n},n.range=function(e){return arguments.length?(r=Array.from(e),n):r.slice()},n.unknown=function(e){return arguments.length?(a=e,n):a},n.copy=function(){return jk(t,r).unknown(a)},pk.apply(n,arguments),n}function wk(){var e,t,r=jk().unknown(void 0),a=r.domain,n=r.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=a().length,u=i<s,m=u?i:s,p=u?s:i;e=(p-m)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),m+=(p-m-e*(r-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var h=function(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(n);++a<n;)s[a]=e+a*r;return s}(r).map(function(t){return m+e*t});return n(u?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(a(e),u()):a()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return wk(a(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},pk.apply(u(),arguments)}function Nk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nk(t())},e}function Ck(){return Nk(wk.apply(null,arguments).paddingInner(1))}function Sk(e){return Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sk(e)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(t){Ek(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ek(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Sk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Sk(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pk={widthCache:{},cacheCount:0},Ok={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Tk="recharts_measurement_span";var Dk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||_N.isSsr)return{width:0,height:0};var r=function(e){var t=kk({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),a=JSON.stringify({text:e,copyStyle:r});if(Pk.widthCache[a])return Pk.widthCache[a];try{var n=document.getElementById(Tk);n||((n=document.createElement("span")).setAttribute("id",Tk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var s=kk(kk({},Ok),r);Object.assign(n.style,s),n.textContent="".concat(e);var i=n.getBoundingClientRect(),o={width:i.width,height:i.height};return Pk.widthCache[a]=o,++Pk.cacheCount>2e3&&(Pk.cacheCount=0,Pk.widthCache={}),o}catch(CY){return{width:0,height:0}}};function Rk(e){return Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rk(e)}function _k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ik(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Lk(a.key),a)}}function Lk(e){var t=function(e,t){if("object"!=Rk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Rk(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rk(t)?t:t+""}var Fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zk=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uk=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Vk=Object.keys(Bk),Hk="NaN";var Wk=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||zk.test(r)||(this.num=NaN,this.unit=""),Vk.includes(r)&&(this.num=function(e,t){return e*Bk[t]}(t,r),this.unit="px")}return t=e,a=[{key:"parse",value:function(t){var r,a=_k(null!==(r=Uk.exec(t))&&void 0!==r?r:[],3),n=a[1],s=a[2];return new e(parseFloat(n),null!==s&&void 0!==s?s:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Ik(t.prototype,r),a&&Ik(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,a}();function Gk(e){if(e.includes(Hk))return Hk;for(var t=e;t.includes("*")||t.includes("/");){var r,a=_k(null!==(r=Fk.exec(t))&&void 0!==r?r:[],4),n=a[1],s=a[2],i=a[3],o=Wk.parse(null!==n&&void 0!==n?n:""),l=Wk.parse(null!==i&&void 0!==i?i:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return Hk;t=t.replace(Fk,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=_k(null!==(d=qk.exec(t))&&void 0!==d?d:[],4),m=u[1],p=u[2],h=u[3],x=Wk.parse(null!==m&&void 0!==m?m:""),f=Wk.parse(null!==h&&void 0!==h?h:""),y="+"===p?x.add(f):x.subtract(f);if(y.isNaN())return Hk;t=t.replace(qk,y.toString())}return t}var Yk=/\(([^()]*)\)/;function Kk(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=_k(Yk.exec(t),2)[1];t=t.replace(Yk,Gk(r))}return t}(t),t=Gk(t)}function $k(e){var t=function(e){try{return Kk(e)}catch(CY){return Hk}}(e.slice(5,-1));return t===Hk?"":t}var Qk=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xk=["dx","dy","angle","className","breakAll"];function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jk.apply(this,arguments)}function Zk(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var rE=/[ \f\n\r\t\v\u2028\u2029]+/,aE=function(e){var t=e.children,r=e.breakAll,a=e.style;try{var n=[];return Qj()(t)||(n=r?t.toString().split(""):t.toString().split(rE)),{wordsWithComputedWidth:n.map(function(e){return{word:e,width:Dk(e,a).width}}),spaceWidth:r?0:Dk("\xa0",a).width}}catch(CY){return null}},nE=function(e){return[{words:Qj()(e)?[]:e.toString().split(rE)}]},sE=function(e){var t=e.width,r=e.scaleToFit,a=e.children,n=e.style,s=e.breakAll,i=e.maxLines;if((t||r)&&!_N.isSsr){var o=aE({breakAll:s,children:a,style:n});return o?function(e,t,r,a,n){var s=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=Zj(s),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,i=t.width,o=e[e.length-1];if(o&&(null==a||n||o.width+i+r<Number(a)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[])},m=u(t);if(!c)return m;for(var p,h=function(e){var t=d.slice(0,e),r=aE({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,n=u(r),i=n.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(n).width>Number(a);return[i,n]},x=0,f=d.length-1,y=0;x<=f&&y<=d.length-1;){var g=Math.floor((x+f)/2),v=eE(h(g-1),2),b=v[0],j=v[1],w=eE(h(g),1)[0];if(b||w||(x=g+1),b&&w&&(f=g-1),!b&&w){p=j;break}y++}return p||m}({breakAll:s,children:a,maxLines:i,style:n},o.wordsWithComputedWidth,o.spaceWidth,t,r):nE(a)}return nE(a)},iE="#808080",oE=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,n=void 0===a?0:a,i=e.lineHeight,o=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,m=e.textAnchor,p=void 0===m?"start":m,h=e.verticalAnchor,x=void 0===h?"end":h,f=e.fill,y=void 0===f?iE:f,g=Zk(e,Qk),v=(0,s.useMemo)(function(){return sE({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),b=g.dx,j=g.dy,w=g.angle,N=g.className,C=g.breakAll,S=Zk(g,Xk);if(!ew(r)||!ew(n))return null;var A,k=r+(Zj(b)?b:0),E=n+(Zj(j)?j:0);switch(x){case"start":A=$k("calc(".concat(c,")"));break;case"middle":A=$k("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:A=$k("calc(".concat(v.length-1," * -").concat(o,")"))}var P=[];if(u){var O=v[0].width,T=g.width;P.push("scale(".concat((Zj(T)?T/O:1)/O,")"))}return w&&P.push("rotate(".concat(w,", ").concat(k,", ").concat(E,")")),P.length&&(S.transform=P.join(" ")),s.createElement("text",Jk({},Lw(S,!0),{x:k,y:E,className:ct("recharts-text",N),textAnchor:p,fill:y.includes("url")?iE:y}),v.map(function(e,t){var r=e.words.join(C?"":" ");return s.createElement("tspan",{x:k,dy:0===t?A:o,key:"".concat(r,"-").concat(t)},r)}))};const lE=Math.sqrt(50),cE=Math.sqrt(10),dE=Math.sqrt(2);function uE(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),s=a/Math.pow(10,n),i=s>=lE?10:s>=cE?5:s>=dE?2:1;let o,l,c;return n<0?(c=Math.pow(10,-n)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,n)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?uE(e,t,2*r):[o,l,c]}function mE(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[n,s,i]=a?uE(t,e,r):uE(e,t,r);if(!(s>=n))return[];const o=s-n+1,l=new Array(o);if(a)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(n+c)/-i;else for(let c=0;c<o;++c)l[c]=(n+c)*i;return l}function pE(e,t,r){return uE(e=+e,t=+t,r=+r)[2]}function hE(e,t,r){r=+r;const a=(t=+t)<(e=+e),n=a?pE(t,e,r):pE(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function xE(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fE(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yE(e){let t,r,a;function n(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(n<s){if(0!==t(a,a))return s;do{const t=n+s>>>1;r(e[t],a)<0?n=t+1:s=t}while(n<s)}return n}return 2!==e.length?(t=xE,r=(t,r)=>xE(e(t),r),a=(t,r)=>e(t)-r):(t=e===xE||e===fE?e:gE,r=e,a=e),{left:n,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=n(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>r&&a(e[s-1],t)>-a(e[s],t)?s-1:s},right:function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(n<s){if(0!==t(a,a))return s;do{const t=n+s>>>1;r(e[t],a)<=0?n=t+1:s=t}while(n<s)}return n}}}function gE(){return 0}function vE(e){return null===e?NaN:+e}const bE=yE(xE),jE=bE.right,wE=(bE.left,yE(vE).center,jE);function NE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CE(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function SE(){}var AE=.7,kE=1/AE,EE="\\s*([+-]?\\d+)\\s*",PE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",OE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TE=/^#([0-9a-f]{3,8})$/,DE=new RegExp("^rgb\\(".concat(EE,",").concat(EE,",").concat(EE,"\\)$")),RE=new RegExp("^rgb\\(".concat(OE,",").concat(OE,",").concat(OE,"\\)$")),_E=new RegExp("^rgba\\(".concat(EE,",").concat(EE,",").concat(EE,",").concat(PE,"\\)$")),ME=new RegExp("^rgba\\(".concat(OE,",").concat(OE,",").concat(OE,",").concat(PE,"\\)$")),IE=new RegExp("^hsl\\(".concat(PE,",").concat(OE,",").concat(OE,"\\)$")),LE=new RegExp("^hsla\\(".concat(PE,",").concat(OE,",").concat(OE,",").concat(PE,"\\)$")),FE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qE(){return this.rgb().formatHex()}function zE(){return this.rgb().formatRgb()}function UE(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?BE(t):3===r?new WE(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?VE(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?VE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=DE.exec(e))?new WE(t[1],t[2],t[3],1):(t=RE.exec(e))?new WE(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_E.exec(e))?VE(t[1],t[2],t[3],t[4]):(t=ME.exec(e))?VE(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=IE.exec(e))?XE(t[1],t[2]/100,t[3]/100,1):(t=LE.exec(e))?XE(t[1],t[2]/100,t[3]/100,t[4]):FE.hasOwnProperty(e)?BE(FE[e]):"transparent"===e?new WE(NaN,NaN,NaN,0):null}function BE(e){return new WE(e>>16&255,e>>8&255,255&e,1)}function VE(e,t,r,a){return a<=0&&(e=t=r=NaN),new WE(e,t,r,a)}function HE(e,t,r,a){return 1===arguments.length?function(e){return e instanceof SE||(e=UE(e)),e?new WE((e=e.rgb()).r,e.g,e.b,e.opacity):new WE}(e):new WE(e,t,r,null==a?1:a)}function WE(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}function GE(){return"#".concat(QE(this.r)).concat(QE(this.g)).concat(QE(this.b))}function YE(){const e=KE(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat($E(this.r),", ").concat($E(this.g),", ").concat($E(this.b)).concat(1===e?")":", ".concat(e,")"))}function KE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $E(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function QE(e){return((e=$E(e))<16?"0":"")+e.toString(16)}function XE(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ZE(e,t,r,a)}function JE(e){if(e instanceof ZE)return new ZE(e.h,e.s,e.l,e.opacity);if(e instanceof SE||(e=UE(e)),!e)return new ZE;if(e instanceof ZE)return e;var t=(e=e.rgb()).r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),s=Math.max(t,r,a),i=NaN,o=s-n,l=(s+n)/2;return o?(i=t===s?(r-a)/o+6*(r<a):r===s?(a-t)/o+2:(t-r)/o+4,o/=l<.5?s+n:2-s-n,i*=60):o=l>0&&l<1?0:i,new ZE(i,o,l,e.opacity)}function ZE(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}function eP(e){return(e=(e||0)%360)<0?e+360:e}function tP(e){return Math.max(0,Math.min(1,e||0))}function rP(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function aP(e,t,r,a,n){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*r+(1+3*e+3*s-3*i)*a+i*n)/6}NE(SE,UE,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qE,formatHex:qE,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return JE(this).formatHsl()},formatRgb:zE,toString:zE}),NE(WE,HE,CE(SE,{brighter(e){return e=null==e?kE:Math.pow(kE,e),new WE(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?AE:Math.pow(AE,e),new WE(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new WE($E(this.r),$E(this.g),$E(this.b),KE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GE,formatHex:GE,formatHex8:function(){return"#".concat(QE(this.r)).concat(QE(this.g)).concat(QE(this.b)).concat(QE(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:YE,toString:YE})),NE(ZE,function(e,t,r,a){return 1===arguments.length?JE(e):new ZE(e,t,r,null==a?1:a)},CE(SE,{brighter(e){return e=null==e?kE:Math.pow(kE,e),new ZE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?AE:Math.pow(AE,e),new ZE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new WE(rP(e>=240?e-240:e+120,n,a),rP(e,n,a),rP(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new ZE(eP(this.h),tP(this.s),tP(this.l),KE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KE(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(eP(this.h),", ").concat(100*tP(this.s),"%, ").concat(100*tP(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const nP=e=>()=>e;function sP(e,t){return function(r){return e+r*t}}function iP(e){return 1===(e=+e)?oP:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}(t,r,e):nP(isNaN(t)?r:t)}}function oP(e,t){var r=t-e;return r?sP(e,r):nP(isNaN(e)?t:e)}const lP=function e(t){var r=iP(t);function a(e,t){var a=r((e=HE(e)).r,(t=HE(t)).r),n=r(e.g,t.g),s=r(e.b,t.b),i=oP(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=n(t),e.b=s(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function cP(e){return function(t){var r,a,n=t.length,s=new Array(n),i=new Array(n),o=new Array(n);for(r=0;r<n;++r)a=HE(t[r]),s[r]=a.r||0,i[r]=a.g||0,o[r]=a.b||0;return s=e(s),i=e(i),o=e(o),a.opacity=1,function(e){return a.r=s(e),a.g=i(e),a.b=o(e),a+""}}}cP(function(e){var t=e.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[a],s=e[a+1],i=a>0?e[a-1]:2*n-s,o=a<t-1?e[a+2]:2*s-n;return aP((r-a/t)*t,i,n,s,o)}}),cP(function(e){var t=e.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*t),n=e[(a+t-1)%t],s=e[a%t],i=e[(a+1)%t],o=e[(a+2)%t];return aP((r-a/t)*t,n,s,i,o)}});function dP(e,t){var r,a=t?t.length:0,n=e?Math.min(a,e.length):0,s=new Array(n),i=new Array(a);for(r=0;r<n;++r)s[r]=gP(e[r],t[r]);for(;r<a;++r)i[r]=t[r];return function(e){for(r=0;r<n;++r)i[r]=s[r](e);return i}}function uP(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function mP(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pP(e,t){var r,a={},n={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?a[r]=gP(e[r],t[r]):n[r]=t[r];return function(e){for(r in a)n[r]=a[r](e);return n}}var hP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xP=new RegExp(hP.source,"g");function fP(e,t){var r,a,n,s=hP.lastIndex=xP.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=hP.exec(e))&&(a=xP.exec(t));)(n=a.index)>s&&(n=t.slice(s,n),o[i]?o[i]+=n:o[++i]=n),(r=r[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i:i,x:mP(r,a)})),s=xP.lastIndex;return s<t.length&&(n=t.slice(s),o[i]?o[i]+=n:o[++i]=n),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,a=0;a<t;++a)o[(r=l[a]).i]=r.x(e);return o.join("")})}function yP(e,t){t||(t=[]);var r,a=e?Math.min(t.length,e.length):0,n=t.slice();return function(s){for(r=0;r<a;++r)n[r]=e[r]*(1-s)+t[r]*s;return n}}function gP(e,t){var r,a,n=typeof t;return null==t||"boolean"===n?nP(t):("number"===n?mP:"string"===n?(r=UE(t))?(t=r,lP):fP:t instanceof UE?lP:t instanceof Date?uP:(a=t,!ArrayBuffer.isView(a)||a instanceof DataView?Array.isArray(t)?dP:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?pP:mP:yP))(e,t)}function vP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bP(e){return+e}var jP=[0,1];function wP(e){return e}function NP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function CP(e,t,r){var a=e[0],n=e[1],s=t[0],i=t[1];return n<a?(a=NP(n,a),s=r(i,s)):(a=NP(a,n),s=r(s,i)),function(e){return s(a(e))}}function SP(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),s=new Array(a),i=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<a;)n[i]=NP(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=wE(e,t,1,a)-1;return s[r](n[r](t))}}function AP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kP(){var e,t,r,a,n,s,i=jP,o=jP,l=gP,c=wP;function d(){var e=Math.min(i.length,o.length);return c!==wP&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),a=e>2?SP:CP,n=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(n||(n=a(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=a(o,i.map(e),mP)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,bP),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=vP,d()},u.clamp=function(e){return arguments.length?(c=!!e||wP,d()):c!==wP},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,a){return e=r,t=a,d()}}function EP(){return kP()(wP,wP)}var PP,OP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function TP(e){if(!(t=OP.exec(e)))throw new Error("invalid format: "+e);var t;return new DP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function DP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function RP(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function _P(e){return(e=RP(Math.abs(e)))?e[1]:NaN}function MP(e,t){var r=RP(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}TP.prototype=DP.prototype,DP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const IP={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MP(100*e,t),r:MP,s:function(e,t){var r=RP(e,t);if(!r)return e+"";var a=r[0],n=r[1],s=n-(PP=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,i=a.length;return s===i?a:s>i?a+new Array(s-i+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+RP(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LP(e){return e}var FP,qP,zP,UP=Array.prototype.map,BP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function VP(e){var t,r,a=void 0===e.grouping||void 0===e.thousands?LP:(t=UP.call(e.grouping,Number),r=e.thousands+"",function(e,a){for(var n=e.length,s=[],i=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>a&&(o=Math.max(1,a-l)),s.push(e.substring(n-=o,n+o)),!((l+=o+1)>a));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),n=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?LP:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(UP.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=TP(e)).fill,r=e.align,u=e.sign,m=e.symbol,p=e.zero,h=e.width,x=e.comma,f=e.precision,y=e.trim,g=e.type;"n"===g?(x=!0,g="g"):IP[g]||(void 0===f&&(f=12),y=!0,g="g"),(p||"0"===t&&"="===r)&&(p=!0,t="0",r="=");var v="$"===m?n:"#"===m&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===m?s:/[%p]/.test(g)?l:"",j=IP[g],w=/[defgprs%]/.test(g);function N(e){var n,s,l,m=v,N=b;if("c"===g)N=j(e)+N,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),f),y&&(e=function(e){e:for(var t,r=e.length,a=1,n=-1;a<r;++a)switch(e[a]){case".":n=t=a;break;case"0":0===n&&(n=a),t=a;break;default:if(!+e[a])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==u&&(C=!1),m=(C?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===g?BP[8+PP/3]:"")+N+(C&&"("===u?")":""),w)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){N=(46===l?i+e.slice(n+1):e.slice(n))+N,e=e.slice(0,n);break}}x&&!p&&(e=a(e,1/0));var S=m.length+e.length+N.length,A=S<h?new Array(h-S+1).join(t):"";switch(x&&p&&(e=a(A+e,A.length?h-N.length:1/0),A=""),r){case"<":e=m+e+N+A;break;case"=":e=m+A+e+N;break;case"^":e=A.slice(0,S=A.length>>1)+m+e+N+A.slice(S);break;default:e=A+m+e+N}return o(e)}return f=void 0===f?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=TP(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(_P(t)/3))),n=Math.pow(10,-a),s=BP[8+a/3];return function(e){return r(n*e)+s}}}}function HP(e,t,r,a){var n,s=hE(e,t,r);switch((a=TP(null==a?",f":a)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_P(t)/3)))-_P(Math.abs(e)))}(s,i))||(a.precision=n),zP(a,i);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_P(t)-_P(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=n-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(n=function(e){return Math.max(0,-_P(Math.abs(e)))}(s))||(a.precision=n-2*("%"===a.type))}return qP(a)}function WP(e){var t=e.domain;return e.ticks=function(e){var r=t();return mE(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var a=t();return HP(a[0],a[a.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var a,n,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(n=l,l=c,c=n,n=i,i=o,o=n);d-- >0;){if((n=pE(l,c,r))===a)return s[i]=l,s[o]=c,t(s);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}a=n}return e},e}function GP(){var e=EP();return e.copy=function(){return AP(e,GP())},pk.apply(e,arguments),WP(e)}function YP(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,bP),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return YP(e).unknown(t)},e=arguments.length?Array.from(e,bP):[0,1],WP(r)}function KP(e,t){var r,a=0,n=(e=e.slice()).length-1,s=e[a],i=e[n];return i<s&&(r=a,a=n,n=r,r=s,s=i,i=r),e[a]=t.floor(s),e[n]=t.ceil(i),e}function $P(e){return Math.log(e)}function QP(e){return Math.exp(e)}function XP(e){return-Math.log(-e)}function JP(e){return-Math.exp(-e)}function ZP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eO(e){return(t,r)=>-e(-t,r)}function tO(e){const t=e($P,QP),r=t.domain;let a,n,s=10;function i(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),n=function(e){return 10===e?ZP:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(a=eO(a),n=eO(n),e(XP,JP)):e($P,QP),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=a(i),m=a(o);const p=null==e?10:+e;let h=[];if(!(s%1)&&m-u<p){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<s;++c)if(d=u<0?c/n(-u):c*n(u),!(d<i)){if(d>o)break;h.push(d)}}else for(;u<=m;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/n(-u):c*n(u),!(d<i)){if(d>o)break;h.push(d)}2*h.length<p&&(h=mE(i,o,p))}else h=mE(u,m,Math.min(m-u,p)).map(n);return l?h.reverse():h},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!==typeof r&&(s%1||null!=(r=TP(r)).precision||(r.trim=!0),r=qP(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/n(Math.round(a(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(KP(r(),{floor:e=>n(Math.floor(a(e))),ceil:e=>n(Math.ceil(a(e)))})),t}function rO(){const e=tO(kP()).domain([1,10]);return e.copy=()=>AP(e,rO()).base(e.base()),pk.apply(e,arguments),e}function aO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sO(e){var t=1,r=e(aO(t),nO(t));return r.constant=function(r){return arguments.length?e(aO(t=+r),nO(t)):t},WP(r)}function iO(){var e=sO(kP());return e.copy=function(){return AP(e,iO()).constant(e.constant())},pk.apply(e,arguments)}function oO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cO(e){return e<0?-e*e:e*e}function dO(e){var t=e(wP,wP),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(wP,wP):.5===r?e(lO,cO):e(oO(r),oO(1/r)):r},WP(t)}function uO(){var e=dO(kP());return e.copy=function(){return AP(e,uO()).exponent(e.exponent())},pk.apply(e,arguments),e}function mO(){return uO.apply(null,arguments).exponent(.5)}function pO(e){return Math.sign(e)*e*e}function hO(){var e,t=EP(),r=[0,1],a=!1;function n(r){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(n)?e:a?Math.round(n):n}return n.invert=function(e){return t.invert(pO(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain()},n.range=function(e){return arguments.length?(t.range((r=Array.from(e,bP)).map(pO)),n):r.slice()},n.rangeRound=function(e){return n.range(e).round(!0)},n.round=function(e){return arguments.length?(a=!!e,n):a},n.clamp=function(e){return arguments.length?(t.clamp(e),n):t.clamp()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return hO(t.domain(),r).round(a).clamp(t.clamp()).unknown(e)},pk.apply(n,arguments),WP(n)}function xO(e,t){let r;if(void 0===t)for(const a of e)null!=a&&(r<a||void 0===r&&a>=a)&&(r=a);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(r<n||void 0===r&&n>=n)&&(r=n)}return r}function fO(e,t){let r;if(void 0===t)for(const a of e)null!=a&&(r>a||void 0===r&&a>=a)&&(r=a);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(r>n||void 0===r&&n>=n)&&(r=n)}return r}function yO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xE;if(e===xE)return gO;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||0===a?a:(0===e(r,r))-(0===e(t,t))}}function gO(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function vO(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,n=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=void 0===n?gO:yO(n);a>r;){if(a-r>600){const s=a-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);vO(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(a,Math.floor(t+(s-i)*l/s+c)),n)}const s=e[t];let i=r,o=a;for(bO(e,r,t),n(e[a],s)>0&&bO(e,r,a);i<o;){for(bO(e,i,o),++i,--o;n(e[i],s)<0;)++i;for(;n(e[o],s)>0;)--o}0===n(e[r],s)?bO(e,r,o):(++o,bO(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function bO(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function jO(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&(yield a)}}(e,r)),(a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return fO(e);if(t>=1)return xO(e);var a,n=(a-1)*t,s=Math.floor(n),i=xO(vO(e,s).subarray(0,s+1));return i+(fO(e.subarray(s+1))-i)*(n-s)}}function wO(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vE;if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,s=Math.floor(n),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(n-s)}}function NO(){var e,t=[],r=[],a=[];function n(){var e=0,n=Math.max(1,r.length);for(a=new Array(n-1);++e<n;)a[e-1]=wO(t,e/n);return s}function s(t){return null==t||isNaN(t=+t)?e:r[wE(a,t)]}return s.invertExtent=function(e){var n=r.indexOf(e);return n<0?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(xE),n()},s.range=function(e){return arguments.length?(r=Array.from(e),n()):r.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return a.slice()},s.copy=function(){return NO().domain(t).range(r).unknown(e)},pk.apply(s,arguments)}function CO(){var e,t=0,r=1,a=1,n=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[wE(n,t,0,a)]:e}function o(){var e=-1;for(n=new Array(a);++e<a;)n[e]=((e+1)*r-(e-a)*t)/(a+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},i.range=function(e){return arguments.length?(a=(s=Array.from(e)).length-1,o()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,n[0]]:i>=a?[n[a-1],r]:[n[i-1],n[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return n.slice()},i.copy=function(){return CO().domain([t,r]).range(s).unknown(e)},pk.apply(WP(i),arguments)}function SO(){var e,t=[.5],r=[0,1],a=1;function n(n){return null!=n&&n<=n?r[wE(t,n,0,a)]:e}return n.domain=function(e){return arguments.length?(t=Array.from(e),a=Math.min(t.length,r.length-1),n):t.slice()},n.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(e){var a=r.indexOf(e);return[t[a-1],t[a]]},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return SO().domain(t).range(r).unknown(e)},pk.apply(n,arguments)}FP=VP({thousands:",",grouping:[3],currency:["$",""]}),qP=FP.format,zP=FP.formatPrefix;const AO=1e3,kO=6e4,EO=36e5,PO=864e5,OO=6048e5,TO=2592e6,DO=31536e6,RO=new Date,_O=new Date;function MO(e,t,r,a){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),n.round=e=>{const t=n(e),r=n.ceil(e);return e-t<r-e?t:r},n.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),n.range=(r,a,s)=>{const i=[];if(r=n.ceil(r),s=null==s?1:Math.floor(s),!(r<a)||!(s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<a);return i},n.filter=r=>MO(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!r(e););else for(;--a>=0;)for(;t(e,1),!r(e););}),r&&(n.count=(t,a)=>(RO.setTime(+t),_O.setTime(+a),e(RO),e(_O),Math.floor(r(RO,_O))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(a?t=>a(t)%e===0:t=>n.count(0,t)%e===0):n:null)),n}const IO=MO(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IO.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?MO(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):IO:null);IO.range;const LO=MO(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*AO)},(e,t)=>(t-e)/AO,e=>e.getUTCSeconds()),FO=(LO.range,MO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AO)},(e,t)=>{e.setTime(+e+t*kO)},(e,t)=>(t-e)/kO,e=>e.getMinutes())),qO=(FO.range,MO(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kO)},(e,t)=>(t-e)/kO,e=>e.getUTCMinutes())),zO=(qO.range,MO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AO-e.getMinutes()*kO)},(e,t)=>{e.setTime(+e+t*EO)},(e,t)=>(t-e)/EO,e=>e.getHours())),UO=(zO.range,MO(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*EO)},(e,t)=>(t-e)/EO,e=>e.getUTCHours())),BO=(UO.range,MO(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kO)/PO,e=>e.getDate()-1)),VO=(BO.range,MO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/PO,e=>e.getUTCDate()-1)),HO=(VO.range,MO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/PO,e=>Math.floor(e/PO)));HO.range;function WO(e){return MO(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kO)/OO)}const GO=WO(0),YO=WO(1),KO=WO(2),$O=WO(3),QO=WO(4),XO=WO(5),JO=WO(6);GO.range,YO.range,KO.range,$O.range,QO.range,XO.range,JO.range;function ZO(e){return MO(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/OO)}const eT=ZO(0),tT=ZO(1),rT=ZO(2),aT=ZO(3),nT=ZO(4),sT=ZO(5),iT=ZO(6),oT=(eT.range,tT.range,rT.range,aT.range,nT.range,sT.range,iT.range,MO(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),lT=(oT.range,MO(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),cT=(lT.range,MO(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));cT.every=e=>isFinite(e=Math.floor(e))&&e>0?MO(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;cT.range;const dT=MO(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dT.every=e=>isFinite(e=Math.floor(e))&&e>0?MO(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;dT.range;function uT(e,t,r,a,n,s){const i=[[LO,1,AO],[LO,5,5e3],[LO,15,15e3],[LO,30,3e4],[s,1,kO],[s,5,3e5],[s,15,9e5],[s,30,18e5],[n,1,EO],[n,3,108e5],[n,6,216e5],[n,12,432e5],[a,1,PO],[a,2,1728e5],[r,1,OO],[t,1,TO],[t,3,7776e6],[e,1,DO]];function o(t,r,a){const n=Math.abs(r-t)/a,s=yE(e=>{let[,,t]=e;return t}).right(i,n);if(s===i.length)return e.every(hE(t/DO,r/DO,a));if(0===s)return IO.every(Math.max(hE(t,r,a),1));const[o,l]=i[n/i[s-1][2]<i[s][2]/n?s-1:s];return o.every(l)}return[function(e,t,r){const a=t<e;a&&([e,t]=[t,e]);const n=r&&"function"===typeof r.range?r:o(e,t,r),s=n?n.range(e,+t+1):[];return a?s.reverse():s},o]}const[mT,pT]=uT(dT,lT,eT,HO,UO,qO),[hT,xT]=uT(cT,oT,GO,BO,zO,FO);function fT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gT(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var vT,bT,jT,wT={"-":"",_:" ",0:"0"},NT=/^\s*\d+/,CT=/^%/,ST=/[\\^$*+?|[\]().{}]/g;function AT(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",s=n.length;return a+(s<r?new Array(r-s+1).join(t)+n:n)}function kT(e){return e.replace(ST,"\\$&")}function ET(e){return new RegExp("^(?:"+e.map(kT).join("|")+")","i")}function PT(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function OT(e,t,r){var a=NT.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function TT(e,t,r){var a=NT.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function DT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function RT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function _T(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function MT(e,t,r){var a=NT.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function IT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function LT(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function FT(e,t,r){var a=NT.exec(t.slice(r,r+1));return a?(e.q=3*a[0]-3,r+a[0].length):-1}function qT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function zT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function UT(e,t,r){var a=NT.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function BT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function VT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function HT(e,t,r){var a=NT.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function WT(e,t,r){var a=NT.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function GT(e,t,r){var a=NT.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function YT(e,t,r){var a=CT.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function KT(e,t,r){var a=NT.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function $T(e,t,r){var a=NT.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function QT(e,t){return AT(e.getDate(),t,2)}function XT(e,t){return AT(e.getHours(),t,2)}function JT(e,t){return AT(e.getHours()%12||12,t,2)}function ZT(e,t){return AT(1+BO.count(cT(e),e),t,3)}function eD(e,t){return AT(e.getMilliseconds(),t,3)}function tD(e,t){return eD(e,t)+"000"}function rD(e,t){return AT(e.getMonth()+1,t,2)}function aD(e,t){return AT(e.getMinutes(),t,2)}function nD(e,t){return AT(e.getSeconds(),t,2)}function sD(e){var t=e.getDay();return 0===t?7:t}function iD(e,t){return AT(GO.count(cT(e)-1,e),t,2)}function oD(e){var t=e.getDay();return t>=4||0===t?QO(e):QO.ceil(e)}function lD(e,t){return e=oD(e),AT(QO.count(cT(e),e)+(4===cT(e).getDay()),t,2)}function cD(e){return e.getDay()}function dD(e,t){return AT(YO.count(cT(e)-1,e),t,2)}function uD(e,t){return AT(e.getFullYear()%100,t,2)}function mD(e,t){return AT((e=oD(e)).getFullYear()%100,t,2)}function pD(e,t){return AT(e.getFullYear()%1e4,t,4)}function hD(e,t){var r=e.getDay();return AT((e=r>=4||0===r?QO(e):QO.ceil(e)).getFullYear()%1e4,t,4)}function xD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+AT(t/60|0,"0",2)+AT(t%60,"0",2)}function fD(e,t){return AT(e.getUTCDate(),t,2)}function yD(e,t){return AT(e.getUTCHours(),t,2)}function gD(e,t){return AT(e.getUTCHours()%12||12,t,2)}function vD(e,t){return AT(1+VO.count(dT(e),e),t,3)}function bD(e,t){return AT(e.getUTCMilliseconds(),t,3)}function jD(e,t){return bD(e,t)+"000"}function wD(e,t){return AT(e.getUTCMonth()+1,t,2)}function ND(e,t){return AT(e.getUTCMinutes(),t,2)}function CD(e,t){return AT(e.getUTCSeconds(),t,2)}function SD(e){var t=e.getUTCDay();return 0===t?7:t}function AD(e,t){return AT(eT.count(dT(e)-1,e),t,2)}function kD(e){var t=e.getUTCDay();return t>=4||0===t?nT(e):nT.ceil(e)}function ED(e,t){return e=kD(e),AT(nT.count(dT(e),e)+(4===dT(e).getUTCDay()),t,2)}function PD(e){return e.getUTCDay()}function OD(e,t){return AT(tT.count(dT(e)-1,e),t,2)}function TD(e,t){return AT(e.getUTCFullYear()%100,t,2)}function DD(e,t){return AT((e=kD(e)).getUTCFullYear()%100,t,2)}function RD(e,t){return AT(e.getUTCFullYear()%1e4,t,4)}function _D(e,t){var r=e.getUTCDay();return AT((e=r>=4||0===r?nT(e):nT.ceil(e)).getUTCFullYear()%1e4,t,4)}function MD(){return"+0000"}function ID(){return"%"}function LD(e){return+e}function FD(e){return Math.floor(+e/1e3)}function qD(e){return new Date(e)}function zD(e){return e instanceof Date?+e:+new Date(+e)}function UD(e,t,r,a,n,s,i,o,l,c){var d=EP(),u=d.invert,m=d.domain,p=c(".%L"),h=c(":%S"),x=c("%I:%M"),f=c("%I %p"),y=c("%a %d"),g=c("%b %d"),v=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:o(e)<e?h:i(e)<e?x:s(e)<e?f:a(e)<e?n(e)<e?y:g:r(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,zD)):m().map(qD)},d.ticks=function(t){var r=m();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=m();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?m(KP(r,e)):d},d.copy=function(){return AP(d,UD(e,t,r,a,n,s,i,o,l,c))},d}function BD(){return pk.apply(UD(hT,xT,cT,oT,GO,BO,zO,FO,LO,bT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VD(){return pk.apply(UD(mT,pT,dT,lT,eT,VO,UO,qO,LO,jT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function HD(){var e,t,r,a,n,s=0,i=1,o=wP,l=!1;function c(t){return null==t||isNaN(t=+t)?n:o(0===r?.5:(t=(a(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,a;return arguments.length?([r,a]=t,o=e(r,a),c):[o(0),o(1)]}}return c.domain=function(n){return arguments.length?([s,i]=n,e=a(s=+s),t=a(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(gP),c.rangeRound=d(vP),c.unknown=function(e){return arguments.length?(n=e,c):n},function(n){return a=n,e=n(s),t=n(i),r=e===t?0:1/(t-e),c}}function WD(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GD(){var e=WP(HD()(wP));return e.copy=function(){return WD(e,GD())},hk.apply(e,arguments)}function YD(){var e=tO(HD()).domain([1,10]);return e.copy=function(){return WD(e,YD()).base(e.base())},hk.apply(e,arguments)}function KD(){var e=sO(HD());return e.copy=function(){return WD(e,KD()).constant(e.constant())},hk.apply(e,arguments)}function $D(){var e=dO(HD());return e.copy=function(){return WD(e,$D()).exponent(e.exponent())},hk.apply(e,arguments)}function QD(){return $D.apply(null,arguments).exponent(.5)}function XD(){var e=[],t=wP;function r(r){if(null!=r&&!isNaN(r=+r))return t((wE(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(xE),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,a)=>jO(e,a/t))},r.copy=function(){return XD(t).domain(e)},hk.apply(r,arguments)}function JD(){var e,t,r,a,n,s,i,o=0,l=.5,c=1,d=1,u=wP,m=!1;function p(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?a:n),u(m?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,a,n;return arguments.length?([r,a,n]=t,u=function(e,t){void 0===t&&(t=e,e=gP);for(var r=0,a=t.length-1,n=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(n,n=t[++r]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return s[t](e-t)}}(e,[r,a,n]),p):[u(0),u(.5),u(1)]}}return p.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(m=!!e,p):m},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=h(gP),p.rangeRound=h(vP),p.unknown=function(e){return arguments.length?(i=e,p):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,p}}function ZD(){var e=WP(JD()(wP));return e.copy=function(){return WD(e,ZD())},hk.apply(e,arguments)}function eR(){var e=tO(JD()).domain([.1,1,10]);return e.copy=function(){return WD(e,eR()).base(e.base())},hk.apply(e,arguments)}function tR(){var e=sO(JD());return e.copy=function(){return WD(e,tR()).constant(e.constant())},hk.apply(e,arguments)}function rR(){var e=dO(JD());return e.copy=function(){return WD(e,rR()).exponent(e.exponent())},hk.apply(e,arguments)}function aR(){return rR.apply(null,arguments).exponent(.5)}function nR(e,t){if((n=e.length)>1)for(var r,a,n,s=1,i=e[t[0]],o=i.length;s<n;++s)for(a=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}!function(e){vT=function(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=ET(n),d=PT(n),u=ET(s),m=PT(s),p=ET(i),h=PT(i),x=ET(o),f=PT(o),y=ET(l),g=PT(l),v={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:QT,e:QT,f:tD,g:mD,G:hD,H:XT,I:JT,j:ZT,L:eD,m:rD,M:aD,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:LD,s:FD,S:nD,u:sD,U:iD,V:lD,w:cD,W:dD,x:null,X:null,y:uD,Y:pD,Z:xD,"%":ID},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:fD,e:fD,f:jD,g:DD,G:_D,H:yD,I:gD,j:vD,L:bD,m:wD,M:ND,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:LD,s:FD,S:CD,u:SD,U:AD,V:ED,w:PD,W:OD,x:null,X:null,y:TD,Y:RD,Z:MD,"%":ID},j={a:function(e,t,r){var a=p.exec(t.slice(r));return a?(e.w=h.get(a[0].toLowerCase()),r+a[0].length):-1},A:function(e,t,r){var a=u.exec(t.slice(r));return a?(e.w=m.get(a[0].toLowerCase()),r+a[0].length):-1},b:function(e,t,r){var a=y.exec(t.slice(r));return a?(e.m=g.get(a[0].toLowerCase()),r+a[0].length):-1},B:function(e,t,r){var a=x.exec(t.slice(r));return a?(e.m=f.get(a[0].toLowerCase()),r+a[0].length):-1},c:function(e,r,a){return C(e,t,r,a)},d:zT,e:zT,f:GT,g:IT,G:MT,H:BT,I:BT,j:UT,L:WT,m:qT,M:VT,p:function(e,t,r){var a=c.exec(t.slice(r));return a?(e.p=d.get(a[0].toLowerCase()),r+a[0].length):-1},q:FT,Q:KT,s:$T,S:HT,u:TT,U:DT,V:RT,w:OT,W:_T,x:function(e,t,a){return C(e,r,t,a)},X:function(e,t,r){return C(e,a,t,r)},y:IT,Y:MT,Z:LT,"%":YT};function w(e,t){return function(r){var a,n,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(n=wT[a=e.charAt(++o)])?a=e.charAt(++o):n="e"===a?" ":"0",(s=t[a])&&(a=s(r,n)),i.push(a),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var a,n,s=gT(1900,void 0,1);if(C(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(a=yT(gT(s.y,0,1))).getUTCDay(),a=n>4||0===n?tT.ceil(a):tT(a),a=VO.offset(a,7*(s.V-1)),s.y=a.getUTCFullYear(),s.m=a.getUTCMonth(),s.d=a.getUTCDate()+(s.w+6)%7):(n=(a=fT(gT(s.y,0,1))).getDay(),a=n>4||0===n?YO.ceil(a):YO(a),a=BO.offset(a,7*(s.V-1)),s.y=a.getFullYear(),s.m=a.getMonth(),s.d=a.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),n="Z"in s?yT(gT(s.y,0,1)).getUTCDay():fT(gT(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(n+5)%7:s.w+7*s.U-(n+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,yT(s)):fT(s)}}function C(e,t,r,a){for(var n,s,i=0,o=t.length,l=r.length;i<o;){if(a>=l)return-1;if(37===(n=t.charCodeAt(i++))){if(n=t.charAt(i++),!(s=j[n in wT?t.charAt(i++):n])||(a=s(e,r,a))<0)return-1}else if(n!=r.charCodeAt(a++))return-1}return a}return v.x=w(r,v),v.X=w(a,v),v.c=w(t,v),b.x=w(r,b),b.X=w(a,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),bT=vT.format,vT.parse,jT=vT.utcFormat,vT.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function sR(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function iR(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oR(e,t){return e[t]}function lR(e){const t=[];return t.key=e,t}var cR=r(539),dR=r.n(cR),uR=r(6745),mR=r.n(uR),pR=r(3538),hR=r.n(pR),xR=r(9853),fR=r.n(xR),yR=r(8210),gR=r.n(yR);function vR(e){return function(e){if(Array.isArray(e))return bR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var jR=function(e){return e},wR={"@@functional/placeholder":!0},NR=function(e){return e===wR},CR=function(e){return function t(){return 0===arguments.length||1===arguments.length&&NR(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},SR=function e(t,r){return 1===t?r:CR(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var i=n.filter(function(e){return e!==wR}).length;return i>=t?r.apply(void 0,n):e(t-i,CR(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=n.map(function(e){return NR(e)?t.shift():e});return r.apply(void 0,vR(s).concat(t))}))})},AR=function(e){return SR(e.length,e)},kR=function(e,t){for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},ER=AR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),PR=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return jR;var a=t.reverse(),n=a[0],s=a.slice(1);return function(){return s.reduce(function(e,t){return t(e)},n.apply(void 0,arguments))}},OR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},TR=function(e){var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t&&n.every(function(e,r){return e===t[r]})?r:(t=n,r=e.apply(void 0,n))}};var DR=AR(function(e,t,r){var a=+e;return a+r*(+t-a)}),RR=AR(function(e,t,r){var a=t-+e;return(r-e)/(a=a||1/0)}),_R=AR(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const MR={rangeStep:function(e,t,r){for(var a=new(gR())(e),n=0,s=[];a.lt(t)&&n<1e5;)s.push(a.toNumber()),a=a.add(r),n++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(gR())(e).abs().log(10).toNumber())+1},interpolateNumber:DR,uninterpolateNumber:RR,uninterpolateTruncation:_R};function IR(e){return function(e){if(Array.isArray(e))return qR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||FR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(SY){n=!0,s=SY}finally{try{a||null==o.return||o.return()}finally{if(n)throw s}}return r}(e,t)||FR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FR(e,t){if(e){if("string"===typeof e)return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qR(e,t):void 0}}function qR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zR(e){var t=LR(e,2),r=t[0],a=t[1],n=r,s=a;return r>a&&(n=a,s=r),[n,s]}function UR(e,t,r){if(e.lte(0))return new(gR())(0);var a=MR.getDigitCount(e.toNumber()),n=new(gR())(10).pow(a),s=e.div(n),i=1!==a?.05:.1,o=new(gR())(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(n);return t?o:new(gR())(Math.ceil(o))}function BR(e,t,r){var a=1,n=new(gR())(e);if(!n.isint()&&r){var s=Math.abs(e);s<1?(a=new(gR())(10).pow(MR.getDigitCount(e)-1),n=new(gR())(Math.floor(n.div(a).toNumber())).mul(a)):s>1&&(n=new(gR())(Math.floor(e)))}else 0===e?n=new(gR())(Math.floor((t-1)/2)):r||(n=new(gR())(Math.floor(e)));var i=Math.floor((t-1)/2),o=PR(ER(function(e){return n.add(new(gR())(e-i).mul(a)).toNumber()}),kR);return o(0,t)}function VR(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(gR())(0),tickMin:new(gR())(0),tickMax:new(gR())(0)};var s,i=UR(new(gR())(t).sub(e).div(r-1),a,n);s=e<=0&&t>=0?new(gR())(0):(s=new(gR())(e).add(t).div(2)).sub(new(gR())(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new(gR())(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?VR(e,t,r,a,n+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new(gR())(o).mul(i)),tickMax:s.add(new(gR())(l).mul(i))})}var HR=TR(function(e){var t=LR(e,2),r=t[0],a=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),o=LR(zR([r,a]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(IR(kR(0,n-1).map(function(){return 1/0}))):[].concat(IR(kR(0,n-1).map(function(){return-1/0})),[c]);return r>a?OR(d):d}if(l===c)return BR(l,n,s);var u=VR(l,c,i,s),m=u.step,p=u.tickMin,h=u.tickMax,x=MR.rangeStep(p,h.add(new(gR())(.1).mul(m)),m);return r>a?OR(x):x}),WR=(TR(function(e){var t=LR(e,2),r=t[0],a=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),o=LR(zR([r,a]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,a];if(l===c)return BR(l,n,s);var d=UR(new(gR())(c).sub(l).div(i-1),s,0),u=PR(ER(function(e){return new(gR())(l).add(new(gR())(e).mul(d)).toNumber()}),kR),m=u(0,i).filter(function(e){return e>=l&&e<=c});return r>a?OR(m):m}),TR(function(e,t){var r=LR(e,2),a=r[0],n=r[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=LR(zR([a,n]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[a,n];if(o===l)return[o];var c=Math.max(t,2),d=UR(new(gR())(l).sub(o).div(c-1),s,0),u=[].concat(IR(MR.rangeStep(new(gR())(o),new(gR())(l).sub(new(gR())(.99).mul(d)),d)),[l]);return a>n?OR(u):u})),GR=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function YR(e){return YR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YR(e)}function KR(){return KR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},KR.apply(this,arguments)}function $R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return QR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function XR(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JR(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n_(a.key),a)}}function ZR(e,t,r){return t=t_(t),function(e,t){if(t&&("object"===YR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,e_()?Reflect.construct(t,r||[],t_(e).constructor):t.apply(e,r))}function e_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e_=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t_(e)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r_(e,t)}function a_(e,t,r){return(t=n_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_(e){var t=function(e,t){if("object"!=YR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=YR(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YR(t)?t:t+""}var s_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,a=e.width,n=e.dataKey,i=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=XR(e,GR),u=Lw(d,!1);"x"===this.props.direction&&"number"!==l.type&&Zw(!1);var m=i.map(function(e){var i=o(e,n),d=i.x,m=i.y,p=i.value,h=i.errorVal;if(!h)return null;var x,f,y=[];if(Array.isArray(h)){var g=$R(h,2);x=g[0],f=g[1]}else x=f=h;if("vertical"===r){var v=l.scale,b=m+t,j=b+a,w=b-a,N=v(p-x),C=v(p+f);y.push({x1:C,y1:j,x2:C,y2:w}),y.push({x1:N,y1:b,x2:C,y2:b}),y.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=c.scale,A=d+t,k=A-a,E=A+a,P=S(p-x),O=S(p+f);y.push({x1:k,y1:O,x2:E,y2:O}),y.push({x1:A,y1:P,x2:A,y2:O}),y.push({x1:k,y1:P,x2:E,y2:P})}return s.createElement(oN,KR({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),y.map(function(e){return s.createElement("line",KR({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return s.createElement(oN,{className:"recharts-errorBars"},m)}}],a&&JR(r.prototype,a),n&&JR(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);function i_(e){return i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(e)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(t){c_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=i_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=i_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a_(s_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),a_(s_,"displayName","ErrorBar");var d_=function(e){var t=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,n=e.legendContent,s=Dw(t,CS);if(!s)return null;var i,o=CS.defaultProps,l=void 0!==o?l_(l_({},o),s.props):{};return i=s.props&&s.props.payload?s.props&&s.props.payload:"children"===n?(r||[]).reduce(function(e,t){var r=t.item,a=t.props,n=a.sectors||a.data||[];return e.concat(n.map(function(e){return{type:s.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,a=void 0!==r?l_(l_({},r),t.props):{},n=a.dataKey,s=a.name,i=a.legendType;return{inactive:a.hide,dataKey:n,type:l.iconType||i||"square",color:v_(t),value:s||n,payload:a}}),l_(l_(l_({},l),CS.getWithHeight(s,a)),{},{payload:i,item:s})};function u_(e){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(e)}function m_(e){return function(e){if(Array.isArray(e))return p_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(t){f_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=u_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=u_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e,t,r){return Qj()(e)||Qj()(t)?r:ew(t)?Gj()(e,t,r):dw()(t)?t(e):r}function g_(e,t,r,a){var n=hR()(e,function(e){return y_(e,t)});if("number"===r){var s=n.filter(function(e){return Zj(e)||parseFloat(e)});return s.length?[mR()(s),dR()(s)]:[1/0,-1/0]}return(a?n.filter(function(e){return!Qj()(e)}):n).map(function(e){return ew(e)||e instanceof Date?e:""})}var v_=function(e){var t,r,a=e.type.displayName,n=null!==(t=e.type)&&void 0!==t&&t.defaultProps?x_(x_({},e.type.defaultProps),e.props):e.props,s=n.stroke,i=n.fill;switch(a){case"Line":r=s;break;case"Area":case"Radar":r=s&&"none"!==s?s:i;break;default:r=i}return r},b_=function(e,t,r,a,n){var s=Tw(t.props.children,s_).filter(function(e){return function(e,t,r){return!!Qj()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(a,n,e.props.direction)});if(s&&s.length){var i=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var a=y_(t,r);if(Qj()(a))return e;var n=Array.isArray(a)?[mR()(a),dR()(a)]:[a,a],s=i.reduce(function(e,r){var a=y_(t,r,0),s=n[0]-Math.abs(Array.isArray(a)?a[0]:a),i=n[1]+Math.abs(Array.isArray(a)?a[1]:a);return[Math.min(s,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},j_=function(e,t,r,a,n){var s=t.map(function(t){var s=t.props.dataKey;return"number"===r&&s&&b_(e,t,s,a)||g_(e,s,r,n)});if("number"===r)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return s.reduce(function(e,t){for(var r=0,a=t.length;r<a;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e},[])},w_=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},N_=function(e,t,r,a){if(a)return e.map(function(e){return e.coordinate});var n,s,i=e.map(function(e){return e.coordinate===t&&(n=!0),e.coordinate===r&&(s=!0),e.coordinate});return n||i.push(t),s||i.push(r),i},C_=function(e,t,r){if(!e)return null;var a=e.scale,n=e.duplicateDomain,s=e.type,i=e.range,o="scaleBand"===e.realScaleType?a.bandwidth()/2:2,l=(t||r)&&"category"===s&&a.bandwidth?a.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*Xj(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=n?n.indexOf(e):e;return{coordinate:a(t)+l,value:e,offset:l}}).filter(function(e){return!Hj()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:a(e)+l,value:e,index:t,offset:l}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(e){return{coordinate:a(e)+l,value:e,offset:l}}):a.domain().map(function(e,t){return{coordinate:a(e)+l,value:n?n[e]:e,index:t,offset:l}})},S_=new WeakMap,A_=function(e,t){if("function"!==typeof t)return e;S_.has(e)||S_.set(e,new WeakMap);var r=S_.get(e);if(r.has(t))return r.get(t);var a=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,a),a},k_=function(e,t,r){var n=e.scale,s=e.type,i=e.layout,o=e.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===o?{scale:wk(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:GP(),realScaleType:"linear"}:"category"===s&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Ck(),realScaleType:"point"}:"category"===s?{scale:wk(),realScaleType:"band"}:{scale:GP(),realScaleType:"linear"};if(Bj()(n)){var l="scale".concat(XN()(n));return{scale:(a[l]||Ck)(),realScaleType:a[l]?l:"point"}}return dw()(n)?{scale:n}:{scale:Ck(),realScaleType:"point"}},E_=1e-4,P_=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-E_,s=Math.max(a[0],a[1])+E_,i=e(t[0]),o=e(t[r-1]);(i<n||i>s||o<n||o>s)&&e.domain([t[0],t[r-1]])}},O_=function(e,t){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===t)return e[r].position;return null},T_=function(e,t){if(!t||2!==t.length||!Zj(t[0])||!Zj(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Zj(e[0])||e[0]<r)&&(n[0]=r),(!Zj(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},D_={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,s=0,i=0;i<t;++i){var o=Hj()(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=n,e[i][r][1]=n+o,n=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((a=e.length)>0){for(var r,a,n,s=0,i=e[0].length;s<i;++s){for(n=r=0;r<a;++r)n+=e[r][s][1]||0;if(n)for(r=0;r<a;++r)e[r][s][1]/=n}nR(e,t)}},none:nR,silhouette:function(e,t){if((r=e.length)>0){for(var r,a=0,n=e[t[0]],s=n.length;a<s;++a){for(var i=0,o=0;i<r;++i)o+=e[i][a][1]||0;n[a][1]+=n[a][0]=-o/2}nR(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(a=(r=e[t[0]]).length)>0){for(var r,a,n,s=0,i=1;i<a;++i){for(var o=0,l=0,c=0;o<n;++o){for(var d=e[t[o]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,p=0;p<o;++p){var h=e[t[p]];m+=(h[i][1]||0)-(h[i-1][1]||0)}l+=u,c+=m*u}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,nR(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,s=0;s<t;++s){var i=Hj()(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=n,e[s][r][1]=n+i,n=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},R_=function(e,t,r){var a=t.map(function(e){return e.props.dataKey}),n=D_[r],s=function(){var e=bC([]),t=iR,r=nR,a=oR;function n(n){var s,i,o=Array.from(e.apply(this,arguments),lR),l=o.length,c=-1;for(const e of n)for(s=0,++c;s<l;++s)(o[s][c]=[0,+a(e,o[s].key,c,n)]).data=e;for(s=0,i=sR(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return n.keys=function(t){return arguments.length?(e="function"===typeof t?t:bC(Array.from(t)),n):e},n.value=function(e){return arguments.length?(a="function"===typeof e?e:bC(+e),n):a},n.order=function(e){return arguments.length?(t=null==e?iR:"function"===typeof e?e:bC(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(r=null==e?nR:e,n):r},n}().keys(a).value(function(e,t){return+y_(e,t,0)}).order(iR).offset(n);return s(e)},__=function(e,t){var r=t.realScaleType,a=t.type,n=t.tickCount,s=t.originalDomain,i=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(n&&"number"===a&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=HR(l,n,i);return e.domain([mR()(c),dR()(c)]),{niceTicks:c}}if(n&&"number"===a){var d=e.domain();return{niceTicks:WR(d,n,i)}}return null};function M_(e){var t=e.axis,r=e.ticks,a=e.bandSize,n=e.entry,s=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qj()(n[t.dataKey])){var o=iw(r,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var l=y_(n,Qj()(i)?t.dataKey:i);return Qj()(l)?null:t.scale(l)}var I_=function(e){var t=e.axis,r=e.ticks,a=e.offset,n=e.bandSize,s=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+a:null;var o=y_(s,t.dataKey,t.domain[i]);return Qj()(o)?null:t.scale(o)-n/2+a},L_=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},F_=function(e,t,r){return Object.keys(e).reduce(function(a,n){var s=e[n].stackedData.reduce(function(e,a){var n=function(e){return e.reduce(function(e,t){return[mR()(t.concat([e[0]]).filter(Zj)),dR()(t.concat([e[1]]).filter(Zj))]},[1/0,-1/0])}(a.slice(t,r+1));return[Math.min(e[0],n[0]),Math.max(e[1],n[1])]},[1/0,-1/0]);return[Math.min(s[0],a[0]),Math.max(s[1],a[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},q_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U_=function(e,t,r){if(dw()(e))return e(t,r);if(!Array.isArray(e))return t;var a=[];if(Zj(e[0]))a[0]=r?e[0]:Math.min(e[0],t[0]);else if(q_.test(e[0])){var n=+q_.exec(e[0])[1];a[0]=t[0]-n}else dw()(e[0])?a[0]=e[0](t[0]):a[0]=t[0];if(Zj(e[1]))a[1]=r?e[1]:Math.max(e[1],t[1]);else if(z_.test(e[1])){var s=+z_.exec(e[1])[1];a[1]=t[1]+s}else dw()(e[1])?a[1]=e[1](t[1]):a[1]=t[1];return a},B_=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=Xw()(t,function(e){return e.coordinate}),s=1/0,i=1,o=n.length;i<o;i++){var l=n[i],c=n[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},V_=function(e,t,r){return e&&e.length?fR()(e,Gj()(r,"type.defaultProps.domain"))?t:e:t},H_=function(e,t){var r=e.type.defaultProps?x_(x_({},e.type.defaultProps),e.props):e.props,a=r.dataKey,n=r.name,s=r.unit,i=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return x_(x_({},Lw(e,!1)),{},{dataKey:a,unit:s,formatter:i,name:n||a,color:v_(e),value:y_(t,a),type:o,payload:t,chartType:l,hide:c})};function W_(e){return W_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(e)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(t){K_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=W_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=W_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $_=["Webkit","Moz","O","ms"];function Q_(e){return Q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q_(e)}function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X_.apply(this,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(t){sM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eM(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iM(a.key),a)}}function tM(e,t,r){return t=aM(t),function(e,t){if(t&&("object"===Q_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rM()?Reflect.construct(t,r||[],aM(e).constructor):t.apply(e,r))}function rM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rM=function(){return!!e})()}function aM(e){return aM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aM(e)}function nM(e,t){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nM(e,t)}function sM(e,t,r){return(t=iM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iM(e){var t=function(e,t){if("object"!=Q_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Q_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q_(t)?t:t+""}var oM=function(e){return e.changedTouches&&!!e.changedTouches.length},lM=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sM(r=tM(this,t,[e]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),sM(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),sM(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,a=e.onDragEnd,n=e.startIndex;null===a||void 0===a||a({endIndex:t,startIndex:n})}),r.detachDragEndListener()}),sM(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),sM(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),sM(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),sM(r,"handleSlideDragStart",function(e){var t=oM(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nM(e,t)}(t,e),r=t,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,a=e.endX,n=this.state.scaleValues,s=this.props,i=s.gap,o=s.data.length-1,l=Math.min(r,a),c=Math.max(r,a),d=t.getIndexInRange(n,l),u=t.getIndexInRange(n,c);return{startIndex:d-d%i,endIndex:u===o?o:u-u%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,a=t.tickFormatter,n=t.dataKey,s=y_(r[e],n,e);return dw()(a)?a(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,a=t.startX,n=t.endX,s=this.props,i=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,d=s.endIndex,u=s.onChange,m=e.pageX-r;m>0?m=Math.min(m,i+o-l-n,i+o-l-a):m<0&&(m=Math.max(m,i-a,i-n));var p=this.getIndex({startX:a+m,endX:n+m});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:a+m,endX:n+m,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=oM(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,a=t.movingTravellerId,n=t.endX,s=t.startX,i=this.state[a],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,m=o.gap,p=o.data,h={startX:this.state.startX,endX:this.state.endX},x=e.pageX-r;x>0?x=Math.min(x,l+c-d-i):x<0&&(x=Math.max(x,l-i)),h[a]=i+x;var f=this.getIndex(h),y=f.startIndex,g=f.endIndex;this.setState(sM(sM({},a,i+x),"brushMoveStartX",e.pageX),function(){u&&function(){var e=p.length-1;return"startX"===a&&(n>s?y%m===0:g%m===0)||n<s&&g===e||"endX"===a&&(n>s?g%m===0:y%m===0)||n>s&&g===e}()&&u(f)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,a=this.state,n=a.scaleValues,s=a.startX,i=a.endX,o=this.state[t],l=n.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=n.length)){var d=n[c];"startX"===t&&d>=i||"endX"===t&&d<=s||this.setState(sM({},t,d),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,n=e.height,i=e.fill,o=e.stroke;return s.createElement("rect",{stroke:o,fill:i,x:t,y:r,width:a,height:n})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,n=e.height,i=e.data,o=e.children,l=e.padding,c=s.Children.only(o);return c?s.cloneElement(c,{x:t,y:r,width:a,height:n,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,n,i=this,o=this.props,l=o.y,c=o.travellerWidth,d=o.height,u=o.traveller,m=o.ariaLabel,p=o.data,h=o.startIndex,x=o.endIndex,f=Math.max(e,this.props.x),y=Z_(Z_({},Lw(this.props,!1)),{},{x:f,y:l,width:c,height:d}),g=m||"Min value: ".concat(null===(a=p[h])||void 0===a?void 0:a.name,", Max value: ").concat(null===(n=p[x])||void 0===n?void 0:n.name);return s.createElement(oN,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,y))}},{key:"renderSlide",value:function(e,t){var r=this.props,a=r.y,n=r.height,i=r.stroke,o=r.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return s.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:a,width:c,height:n})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,a=e.y,n=e.height,i=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:o};return s.createElement(oN,{className:"recharts-brush-texts"},s.createElement(oE,X_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:a+n/2},u),this.getTextOfTick(t)),s.createElement(oE,X_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+i+5,y:a+n/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,a=e.children,n=e.x,i=e.y,o=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,m=d.endX,p=d.isTextActive,h=d.isSlideMoving,x=d.isTravellerMoving,f=d.isTravellerFocused;if(!t||!t.length||!Zj(n)||!Zj(i)||!Zj(o)||!Zj(l)||o<=0||l<=0)return null;var y=ct("recharts-brush",r),g=1===s.Children.count(a),v=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,function(e){return e.toUpperCase()}),a=$_.reduce(function(e,a){return Y_(Y_({},e),{},K_({},a+r,t))},{});return a[e]=t,a}("userSelect","none");return s.createElement(oN,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),g&&this.renderPanorama(),this.renderSlide(u,m),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(m,"endX"),(p||h||x||f||c)&&this.renderText())}}],n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,a=e.width,n=e.height,i=e.stroke,o=Math.floor(r+n/2)-1;return s.createElement(s.Fragment,null,s.createElement("rect",{x:t,y:r,width:a,height:n,fill:i,stroke:"none"}),s.createElement("line",{x1:t+1,y1:o,x2:t+a-1,y2:o,fill:"none",stroke:"#fff"}),s.createElement("line",{x1:t+1,y1:o+2,x2:t+a-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return s.isValidElement(e)?s.cloneElement(e,r):dw()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,a=e.width,n=e.x,s=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return Z_({prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:n,prevWidth:a},r&&r.length?function(e){var t=e.data,r=e.startIndex,a=e.endIndex,n=e.x,s=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Ck().domain($w()(0,o)).range([n,n+s-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(a),scale:l,scaleValues:c}}({data:r,width:a,x:n,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(a!==t.prevWidth||n!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([n,n+a-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:n,prevWidth:a,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,a=e.length-1;a-r>1;){var n=Math.floor((r+a)/2);e[n]>t?a=n:r=n}return t>=e[a]?a:r}}],a&&eM(r.prototype,a),n&&eM(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function cM(e){return cM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(e)}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(t){mM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mM(e,t,r){return t=function(e){var t=function(e,t){if("object"!=cM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=cM(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}sM(lM,"displayName","Brush"),sM(lM,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xM=Math.PI/180,fM=function(e){return 180*e/Math.PI},yM=function(e,t,r,a){return{x:e+Math.cos(-xM*a)*r,y:t+Math.sin(-xM*a)*r}},gM=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},vM=function(e,t,r,a,n){var s=e.width,i=e.height,o=e.startAngle,l=e.endAngle,c=aw(e.cx,s,s/2),d=aw(e.cy,i,i/2),u=gM(s,i,r),m=aw(e.innerRadius,u,0),p=aw(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,r){var s,i=t[r],u=i.domain,h=i.reversed;if(Qj()(i.range))"angleAxis"===a?s=[o,l]:"radiusAxis"===a&&(s=[m,p]),h&&(s=[s[1],s[0]]);else{var x=pM(s=i.range,2);o=x[0],l=x[1]}var f=k_(i,n),y=f.realScaleType,g=f.scale;g.domain(u).range(s),P_(g);var v=__(g,uM(uM({},i),{},{realScaleType:y})),b=uM(uM(uM({},i),v),{},{range:s,radius:p,realScaleType:y,scale:g,cx:c,cy:d,innerRadius:m,outerRadius:p,startAngle:o,endAngle:l});return uM(uM({},e),{},mM({},r,b))},{})},bM=function(e,t){var r=e.x,a=e.y,n=t.cx,s=t.cy,i=function(e,t){var r=e.x,a=e.y,n=t.x,s=t.y;return Math.sqrt(Math.pow(r-n,2)+Math.pow(a-s,2))}({x:r,y:a},{x:n,y:s});if(i<=0)return{radius:i};var o=(r-n)/i,l=Math.acos(o);return a>s&&(l=2*Math.PI-l),{radius:i,angle:fM(l),angleInRadian:l}},jM=function(e,t){var r=t.startAngle,a=t.endAngle,n=Math.floor(r/360),s=Math.floor(a/360);return e+360*Math.min(n,s)},wM=function(e,t){var r=e.x,a=e.y,n=bM({x:r,y:a},t),s=n.radius,i=n.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,a=Math.floor(t/360),n=Math.floor(r/360),s=Math.min(a,n);return{startAngle:t-360*s,endAngle:r-360*s}}(t),u=d.startAngle,m=d.endAngle,p=i;if(u<=m){for(;p>m;)p-=360;for(;p<u;)p+=360;c=p>=u&&p<=m}else{for(;p>u;)p-=360;for(;p<m;)p+=360;c=p>=m&&p<=u}return c?uM(uM({},t),{},{radius:s,angle:jM(p,t)}):null},NM=function(e){return(0,s.isValidElement)(e)||dw()(e)||"boolean"===typeof e?"":e.className};function CM(e){return CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CM(e)}var SM=["offset"];function AM(e){return function(e){if(Array.isArray(e))return kM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EM(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(t){TM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TM(e,t,r){return t=function(e){var t=function(e,t){if("object"!=CM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=CM(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DM.apply(this,arguments)}var RM=function(e,t,r){var a,n,i=e.position,o=e.viewBox,l=e.offset,c=e.className,d=o,u=d.cx,m=d.cy,p=d.innerRadius,h=d.outerRadius,x=d.startAngle,f=d.endAngle,y=d.clockWise,g=(p+h)/2,v=function(e,t){return Xj(t-e)*Math.min(Math.abs(t-e),360)}(x,f),b=v>=0?1:-1;"insideStart"===i?(a=x+b*l,n=y):"insideEnd"===i?(a=f-b*l,n=!y):"end"===i&&(a=f+b*l,n=y),n=v<=0?n:!n;var j=yM(u,m,g,a),w=yM(u,m,g,a+359*(n?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(n?0:1,",\n    ").concat(w.x,",").concat(w.y),C=Qj()(e.id)?rw("recharts-radial-line-"):e.id;return s.createElement("text",DM({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",c)}),s.createElement("defs",null,s.createElement("path",{id:C,d:N})),s.createElement("textPath",{xlinkHref:"#".concat(C)},t))};function _M(e){var t,r=e.offset,a=OM({offset:void 0===r?5:r},EM(e,SM)),n=a.viewBox,i=a.position,o=a.value,l=a.children,c=a.content,d=a.className,u=void 0===d?"":d,m=a.textBreakAll;if(!n||Qj()(o)&&Qj()(l)&&!(0,s.isValidElement)(c)&&!dw()(c))return null;if((0,s.isValidElement)(c))return(0,s.cloneElement)(c,a);if(dw()(c)){if(t=(0,s.createElement)(c,a),(0,s.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,a=Qj()(e.children)?t:e.children;return dw()(r)?r(a):a}(a);var p=function(e){return"cx"in e&&Zj(e.cx)}(n),h=Lw(a,!0);if(p&&("insideStart"===i||"insideEnd"===i||"end"===i))return RM(a,t,h);var x=p?function(e){var t=e.viewBox,r=e.offset,a=e.position,n=t,s=n.cx,i=n.cy,o=n.innerRadius,l=n.outerRadius,c=(n.startAngle+n.endAngle)/2;if("outside"===a){var d=yM(s,i,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=yM(s,i,(o+l)/2,c);return{x:m.x,y:m.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,a=e.offset,n=e.position,s=t,i=s.x,o=s.y,l=s.width,c=s.height,d=c>=0?1:-1,u=d*a,m=d>0?"end":"start",p=d>0?"start":"end",h=l>=0?1:-1,x=h*a,f=h>0?"end":"start",y=h>0?"start":"end";if("top"===n)return OM(OM({},{x:i+l/2,y:o-d*a,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===n)return OM(OM({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===n){var g={x:i-x,y:o+c/2,textAnchor:f,verticalAnchor:"middle"};return OM(OM({},g),r?{width:Math.max(g.x-r.x,0),height:c}:{})}if("right"===n){var v={x:i+l+x,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return OM(OM({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===n?OM({x:i+x,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===n?OM({x:i+l-x,y:o+c/2,textAnchor:f,verticalAnchor:"middle"},b):"insideTop"===n?OM({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===n?OM({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},b):"insideTopLeft"===n?OM({x:i+x,y:o+u,textAnchor:y,verticalAnchor:p},b):"insideTopRight"===n?OM({x:i+l-x,y:o+u,textAnchor:f,verticalAnchor:p},b):"insideBottomLeft"===n?OM({x:i+x,y:o+c-u,textAnchor:y,verticalAnchor:m},b):"insideBottomRight"===n?OM({x:i+l-x,y:o+c-u,textAnchor:f,verticalAnchor:m},b):mw()(n)&&(Zj(n.x)||Jj(n.x))&&(Zj(n.y)||Jj(n.y))?OM({x:i+aw(n.x,l),y:o+aw(n.y,c),textAnchor:"end",verticalAnchor:"end"},b):OM({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return s.createElement(oE,DM({className:ct("recharts-label",u)},h,x,{breakAll:m}),t)}_M.displayName="Label";var MM=function(e){var t=e.cx,r=e.cy,a=e.angle,n=e.startAngle,s=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,m=e.top,p=e.left,h=e.width,x=e.height,f=e.clockWise,y=e.labelViewBox;if(y)return y;if(Zj(h)&&Zj(x)){if(Zj(d)&&Zj(u))return{x:d,y:u,width:h,height:x};if(Zj(m)&&Zj(p))return{x:m,y:p,width:h,height:x}}return Zj(d)&&Zj(u)?{x:d,y:u,width:0,height:0}:Zj(t)&&Zj(r)?{cx:t,cy:r,startAngle:n||a||0,endAngle:s||a||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:f}:e.viewBox?e.viewBox:{}};_M.parseViewBox=MM,_M.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,n=MM(e),i=Tw(a,_M).map(function(e,r){return(0,s.cloneElement)(e,{viewBox:t||n,key:"label-".concat(r)})});if(!r)return i;var o=function(e,t){return e?!0===e?s.createElement(_M,{key:"label-implicit",viewBox:t}):ew(e)?s.createElement(_M,{key:"label-implicit",viewBox:t,value:e}):(0,s.isValidElement)(e)?e.type===_M?(0,s.cloneElement)(e,{key:"label-implicit",viewBox:t}):s.createElement(_M,{key:"label-implicit",content:e,viewBox:t}):dw()(e)?s.createElement(_M,{key:"label-implicit",content:e,viewBox:t}):mw()(e)?s.createElement(_M,DM({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||n);return[o].concat(AM(i))};var IM=function(e,t){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===t},LM=r(1733),FM=r.n(LM),qM=r(7002),zM=r.n(qM),UM=function(e){return null};UM.displayName="Cell";var BM=r(4065),VM=r.n(BM);function HM(e){return HM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HM(e)}var WM=["valueAccessor"],GM=["data","dataKey","clockWise","id","textBreakAll"];function YM(e){return function(e){if(Array.isArray(e))return KM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return KM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $M(){return $M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$M.apply(this,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(t){JM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JM(e,t,r){return t=function(e){var t=function(e,t){if("object"!=HM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=HM(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var eI=function(e){return Array.isArray(e.value)?VM()(e.value):e.value};function tI(e){var t=e.valueAccessor,r=void 0===t?eI:t,a=ZM(e,WM),n=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=ZM(a,GM);return n&&n.length?s.createElement(oN,{className:"recharts-label-list"},n.map(function(e,t){var a=Qj()(i)?r(e,t):y_(e&&e.payload,i),n=Qj()(l)?{}:{id:"".concat(l,"-").concat(t)};return s.createElement(_M,$M({},Lw(e,!0),d,n,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:_M.parseViewBox(Qj()(o)?e:XM(XM({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}tI.displayName="LabelList",tI.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=Tw(e.children,tI).map(function(e,r){return(0,s.cloneElement)(e,{data:t,key:"labelList-".concat(r)})});if(!r)return a;var n=function(e,t){return e?!0===e?s.createElement(tI,{key:"labelList-implicit",data:t}):s.isValidElement(e)||dw()(e)?s.createElement(tI,{key:"labelList-implicit",data:t,content:e}):mw()(e)?s.createElement(tI,$M({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[n].concat(YM(a))};var rI=r(2322),aI=r.n(rI),nI=r(6361),sI=r.n(nI);function iI(e){return iI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iI(e)}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oI.apply(this,arguments)}function lI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function uI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(t){mI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=iI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=iI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pI=function(e,t,r,a,n){var s,i=r-a;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+n),s+="L ".concat(e+r-i/2-a,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z")},hI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xI=function(e){var t=uI(uI({},hI),e),r=(0,s.useRef)(),a=lI((0,s.useState)(-1),2),n=a[0],i=a[1];(0,s.useEffect)(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(SY){}},[]);var o=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,m=t.className,p=t.animationEasing,h=t.animationDuration,x=t.animationBegin,f=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var y=ct("recharts-trapezoid",m);return f?s.createElement(tk,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:o,y:l},duration:h,animationEasing:p,isActive:f},function(e){var a=e.upperWidth,i=e.lowerWidth,o=e.height,l=e.x,c=e.y;return s.createElement(tk,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:h,easing:p},s.createElement("path",oI({},Lw(t,!0),{className:y,d:pI(l,c,a,i,o),ref:r})))}):s.createElement("g",null,s.createElement("path",oI({},Lw(t,!0),{className:y,d:pI(o,l,c,d,u)})))};function fI(e){return fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fI(e)}function yI(){return yI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yI.apply(this,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(t){bI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=fI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=fI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jI=function(e){var t=e.cx,r=e.cy,a=e.radius,n=e.angle,s=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+a,d=Math.asin(o/c)/xM,u=l?n:n+s*d,m=l?n-s*d:n;return{center:yM(t,r,c,u),circleTangency:yM(t,r,a,u),lineTangency:yM(t,r,c*Math.cos(d*xM),m),theta:d}},wI=function(e){var t=e.cx,r=e.cy,a=e.innerRadius,n=e.outerRadius,s=e.startAngle,i=function(e,t){return Xj(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+i,l=yM(t,r,n,s),c=yM(t,r,n,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(n,",").concat(n,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(a>0){var u=yM(t,r,a,s),m=yM(t,r,a,o);d+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(s<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},NI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CI=function(e){var t=vI(vI({},NI),e),r=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,m=t.className;if(i<n||d===u)return null;var p,h=ct("recharts-sector",m),x=i-n,f=aw(o,x,0,!0);return p=f>0&&Math.abs(d-u)<360?function(e){var t=e.cx,r=e.cy,a=e.innerRadius,n=e.outerRadius,s=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=Xj(c-l),u=jI({cx:t,cy:r,radius:n,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),m=u.circleTangency,p=u.lineTangency,h=u.theta,x=jI({cx:t,cy:r,radius:n,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),f=x.circleTangency,y=x.lineTangency,g=x.theta,v=o?Math.abs(l-c):Math.abs(l-c)-h-g;if(v<0)return i?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):wI({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(n,",").concat(n,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"\n  ");if(a>0){var j=jI({cx:t,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),w=j.circleTangency,N=j.lineTangency,C=j.theta,S=jI({cx:t,cy:r,radius:a,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),A=S.circleTangency,k=S.lineTangency,E=S.theta,P=o?Math.abs(l-c):Math.abs(l-c)-C-E;if(P<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(f,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):wI({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),s.createElement("path",yI({},Lw(t,!0),{className:h,d:p,role:"img"}))},SI=["option","shapeType","propTransformer","activeClassName","isActive"];function AI(e){return AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AI(e)}function kI(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(t){OI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=AI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=AI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(e,t){return PI(PI({},t),e)}function DI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return s.createElement(mk,r);case"trapezoid":return s.createElement(xI,r);case"sector":return s.createElement(CI,r);case"symbols":if(function(e){return"symbols"===e}(t))return s.createElement(JC,r);break;default:return null}}function RI(e){var t,r=e.option,a=e.shapeType,n=e.propTransformer,i=void 0===n?TI:n,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,d=kI(e,SI);if((0,s.isValidElement)(r))t=(0,s.cloneElement)(r,PI(PI({},d),function(e){return(0,s.isValidElement)(e)?e.props:e}(r)));else if(dw()(r))t=r(d);else if(aI()(r)&&!sI()(r)){var u=i(r,d);t=s.createElement(DI,{shapeType:a,elementProps:u})}else{var m=d;t=s.createElement(DI,{shapeType:a,elementProps:m})}return c?s.createElement(oN,{className:l},t):t}function _I(e,t){return null!=t&&"trapezoids"in e.props}function MI(e,t){return null!=t&&"sectors"in e.props}function II(e,t){return null!=t&&"points"in e.props}function LI(e,t){var r,a,n=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(a=t.labelViewBox)||void 0===a?void 0:a.y)||e.y===t.y;return n&&s}function FI(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function qI(e,t){var r=e.x===t.x,a=e.y===t.y,n=e.z===t.z;return r&&a&&n}function zI(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,n=function(e,t){var r;return _I(e,t)?r="trapezoids":MI(e,t)?r="sectors":II(e,t)&&(r="points"),r}(r,t),s=function(e,t){var r,a;return _I(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:MI(e,t)?null===(a=t.tooltipPayload)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.payload:II(e,t)?t.payload:{}}(r,t),i=a.filter(function(e,a){var i=fR()(s,e),o=r.props[n].filter(function(e){var a=function(e,t){var r;return _I(e,t)?r=LI:MI(e,t)?r=FI:II(e,t)&&(r=qI),r}(r,t);return a(e,t)}),l=r.props[n].indexOf(o[o.length-1]);return i&&a===l});return a.indexOf(i[i.length-1])}var UI=["x","y"];function BI(e){return BI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BI(e)}function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},VI.apply(this,arguments)}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function WI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(t){GI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GI(e,t,r){return t=function(e){var t=function(e,t){if("object"!=BI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=BI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YI(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KI(e,t){var r=e.x,a=e.y,n=YI(e,UI),s="".concat(r),i=parseInt(s,10),o="".concat(a),l=parseInt(o,10),c="".concat(t.height||n.height),d=parseInt(c,10),u="".concat(t.width||n.width),m=parseInt(u,10);return WI(WI(WI(WI(WI({},t),n),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function $I(e){return s.createElement(RI,VI({shapeType:"rectangle",propTransformer:KI,activeClassName:"recharts-active-bar"},e))}var QI,XI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,a){if("number"===typeof e)return e;var n=Zj(r)||function(e){return Qj()(e)}(r);return n?e(r,a):(n||Zw(!1),t)}},JI=["value","background"];function ZI(e){return ZI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZI(e)}function eL(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tL(){return tL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tL.apply(this,arguments)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function aL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(t){cL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nL(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dL(a.key),a)}}function sL(e,t,r){return t=oL(t),function(e,t){if(t&&("object"===ZI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iL()?Reflect.construct(t,r||[],oL(e).constructor):t.apply(e,r))}function iL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iL=function(){return!!e})()}function oL(e){return oL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oL(e)}function lL(e,t){return lL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lL(e,t)}function cL(e,t,r){return(t=dL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=function(e,t){if("object"!=ZI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=ZI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZI(t)?t:t+""}var uL=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return cL(e=sL(this,t,[].concat(a)),"state",{isAnimationFinished:!1}),cL(e,"id",rw("recharts-bar-")),cL(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),cL(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lL(e,t)}(t,e),r=t,a=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,a=r.shape,n=r.dataKey,i=r.activeIndex,o=r.activeBar,l=Lw(this.props,!1);return e&&e.map(function(e,r){var c=r===i,d=c?o:a,u=aL(aL(aL({},l),e),{},{isActive:c,option:d,index:r,dataKey:n,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return s.createElement(oN,tL({className:"recharts-bar-rectangle"},jw(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),s.createElement($I,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,a=t.layout,n=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return s.createElement(tk,{begin:i,duration:o,isActive:n,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var n=t.t,i=r.map(function(e,t){var r=d&&d[t];if(r){var s=sw(r.x,e.x),i=sw(r.y,e.y),o=sw(r.width,e.width),l=sw(r.height,e.height);return aL(aL({},e),{},{x:s(n),y:i(n),width:o(n),height:l(n)})}if("horizontal"===a){var c=sw(0,e.height)(n);return aL(aL({},e),{},{y:e.y+e.height-c,height:c})}var u=sw(0,e.width)(n);return aL(aL({},e),{},{width:u})});return s.createElement(oN,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,a=this.state.prevData;return!(r&&t&&t.length)||a&&fR()(a,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,a=t.dataKey,n=t.activeIndex,i=Lw(this.props.background,!1);return r.map(function(t,r){t.value;var o=t.background,l=eL(t,JI);if(!o)return null;var c=aL(aL(aL(aL(aL({},l),{},{fill:"#eee"},o),i),jw(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return s.createElement($I,tL({key:"background-bar-".concat(r),option:e.props.background,isActive:r===n},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,n=r.xAxis,i=r.yAxis,o=r.layout,l=Tw(r.children,s_);if(!l)return null;var c="vertical"===o?a[0].height/2:a[0].width/2,d=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:y_(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return s.createElement(oN,u,l.map(function(e){return s.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:n,yAxis:i,layout:o,offset:c,dataPointFormatter:d})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,a=e.className,n=e.xAxis,i=e.yAxis,o=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,m=e.background,p=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,x=ct("recharts-bar",a),f=n&&n.allowDataOverflow,y=i&&i.allowDataOverflow,g=f||y,v=Qj()(p)?this.id:p;return s.createElement(oN,{className:x},f||y?s.createElement("defs",null,s.createElement("clipPath",{id:"clipPath-".concat(v)},s.createElement("rect",{x:f?o:o-c/2,y:y?l:l-d/2,width:f?c:2*c,height:y?d:2*d}))):null,s.createElement(oN,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(v,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,v),(!u||h)&&tI.renderCallByParent(this.props,r))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&nL(r.prototype,a),n&&nL(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function mL(e){return mL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mL(e)}function pL(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yL(a.key),a)}}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function xL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(t){fL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=function(e,t){if("object"!=mL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=mL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mL(t)?t:t+""}QI=uL,cL(uL,"displayName","Bar"),cL(uL,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_N.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),cL(uL,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,n=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,m=e.offset,p=O_(a,r);if(!p)return null;var h=t.layout,x=r.type.defaultProps,f=void 0!==x?aL(aL({},x),r.props):r.props,y=f.dataKey,g=f.children,v=f.minPointSize,b="horizontal"===h?i:s,j=c?b.scale.domain():null,w=L_({numericAxis:b}),N=Tw(g,UM),C=u.map(function(e,t){var a,u,m,x,f,g;c?a=T_(c[d+t],j):(a=y_(e,y),Array.isArray(a)||(a=[w,a]));var b=XI(v,QI.defaultProps.minPointSize)(a[1],t);if("horizontal"===h){var C,S=[i.scale(a[0]),i.scale(a[1])],A=S[0],k=S[1];u=I_({axis:s,ticks:o,bandSize:n,offset:p.offset,entry:e,index:t}),m=null!==(C=null!==k&&void 0!==k?k:A)&&void 0!==C?C:void 0,x=p.size;var E=A-k;if(f=Number.isNaN(E)?0:E,g={x:u,y:i.y,width:x,height:i.height},Math.abs(b)>0&&Math.abs(f)<Math.abs(b)){var P=Xj(f||b)*(Math.abs(b)-Math.abs(f));m-=P,f+=P}}else{var O=[s.scale(a[0]),s.scale(a[1])],T=O[0],D=O[1];if(u=T,m=I_({axis:i,ticks:l,bandSize:n,offset:p.offset,entry:e,index:t}),x=D-T,f=p.size,g={x:s.x,y:m,width:s.width,height:f},Math.abs(b)>0&&Math.abs(x)<Math.abs(b))x+=Xj(x||b)*(Math.abs(b)-Math.abs(x))}return aL(aL(aL({},e),{},{x:u,y:m,width:x,height:f,value:c?a:a[1],payload:e,background:g},N&&N[t]&&N[t].props),{},{tooltipPayload:[H_(r,e)],tooltipPosition:{x:u+x/2,y:m+f/2}})});return aL({data:C,layout:h},m)});var gL=function(e,t,r,a,n){var s=e.width,i=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},u=!!Dw(l,uL);return c.reduce(function(s,i){var l,c,m,p,h,x=t[i],f=x.orientation,y=x.domain,g=x.padding,v=void 0===g?{}:g,b=x.mirror,j=x.reversed,w="".concat(f).concat(b?"Mirror":"");if("number"===x.type&&("gap"===x.padding||"no-gap"===x.padding)){var N=y[1]-y[0],C=1/0,S=x.categoricalDomain.sort(ow);if(S.forEach(function(e,t){t>0&&(C=Math.min((e||0)-(S[t-1]||0),C))}),Number.isFinite(C)){var A=C/N,k="vertical"===x.layout?r.height:r.width;if("gap"===x.padding&&(l=A*k/2),"no-gap"===x.padding){var E=aw(e.barCategoryGap,A*k),P=A*k/2;l=P-E-(P-E)/k*E}}}c="xAxis"===a?[r.left+(v.left||0)+(l||0),r.left+r.width-(v.right||0)-(l||0)]:"yAxis"===a?"horizontal"===o?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(l||0),r.top+r.height-(v.bottom||0)-(l||0)]:x.range,j&&(c=[c[1],c[0]]);var O=k_(x,n,u),T=O.scale,D=O.realScaleType;T.domain(y).range(c),P_(T);var R=__(T,xL(xL({},x),{},{realScaleType:D}));"xAxis"===a?(h="top"===f&&!b||"bottom"===f&&b,m=r.left,p=d[w]-h*x.height):"yAxis"===a&&(h="left"===f&&!b||"right"===f&&b,m=d[w]-h*x.width,p=r.top);var _=xL(xL(xL({},x),R),{},{realScaleType:D,x:m,y:p,scale:T,width:"xAxis"===a?r.width:x.width,height:"yAxis"===a?r.height:x.height});return _.bandSize=B_(_,R),x.hide||"xAxis"!==a?x.hide||(d[w]+=(h?-1:1)*_.width):d[w]+=(h?-1:1)*_.height,xL(xL({},s),{},fL({},i,_))},{})},vL=function(e,t){var r=e.x,a=e.y,n=t.x,s=t.y;return{x:Math.min(r,n),y:Math.min(a,s),width:Math.abs(n-r),height:Math.abs(s-a)}},bL=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,a=t.position;if(void 0!==e){if(a)switch(a){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],a=t[t.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}],a=[{key:"create",value:function(t){return new e(t)}}],r&&pL(t.prototype,r),a&&pL(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,a}();fL(bL,"EPS",1e-4);var jL=function(e){var t=Object.keys(e).reduce(function(t,r){return xL(xL({},t),{},fL({},r,bL.create(e[r])))},{});return xL(xL({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.bandAware,n=r.position;return FM()(e,function(e,r){return t[r].apply(e,{bandAware:a,position:n})})},isInRange:function(e){return zM()(e,function(e,r){return t[r].isInRange(e)})}})};function wL(){return wL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wL.apply(this,arguments)}function NL(e){return NL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NL(e)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function SL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(t){TL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AL(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DL(a.key),a)}}function kL(e,t,r){return t=PL(t),function(e,t){if(t&&("object"===NL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EL()?Reflect.construct(t,r||[],PL(e).constructor):t.apply(e,r))}function EL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EL=function(){return!!e})()}function PL(e){return PL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PL(e)}function OL(e,t){return OL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OL(e,t)}function TL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=function(e,t){if("object"!=NL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=NL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NL(t)?t:t+""}var RL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kL(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OL(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,n=e.r,i=e.alwaysShow,o=e.clipPathId,l=ew(r),c=ew(a);if(lw(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,r=e.y,a=e.xAxis,n=e.yAxis,s=jL({x:a.scale,y:n.scale}),i=s.apply({x:t,y:r},{bandAware:!0});return IM(e,"discard")&&!s.isInRange(i)?null:i}(this.props);if(!d)return null;var u=d.x,m=d.y,p=this.props,h=p.shape,x=p.className,f=SL(SL({clipPath:IM(this.props,"hidden")?"url(#".concat(o,")"):void 0},Lw(this.props,!0)),{},{cx:u,cy:m});return s.createElement(oN,{className:ct("recharts-reference-dot",x)},t.renderDot(h,f),_M.renderCallByParent(this.props,{x:u-n,y:m-n,width:2*n,height:2*n}))}}],a&&AL(r.prototype,a),n&&AL(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);TL(RL,"displayName","ReferenceDot"),TL(RL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),TL(RL,"renderDot",function(e,t){return s.isValidElement(e)?s.cloneElement(e,t):dw()(e)?e(t):s.createElement(AS,wL({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var _L=r(4597),ML=r.n(_L),IL=r(8990),LL=r.n(IL),FL=r(5797),qL=r.n(FL)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var zL=(0,s.createContext)(void 0),UL=(0,s.createContext)(void 0),BL=(0,s.createContext)(void 0),VL=(0,s.createContext)({}),HL=(0,s.createContext)(void 0),WL=(0,s.createContext)(0),GL=(0,s.createContext)(0),YL=function(e){var t=e.state,r=t.xAxisMap,a=t.yAxisMap,n=t.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,d=qL(n);return s.createElement(zL.Provider,{value:r},s.createElement(UL.Provider,{value:a},s.createElement(VL.Provider,{value:n},s.createElement(BL.Provider,{value:d},s.createElement(HL.Provider,{value:i},s.createElement(WL.Provider,{value:c},s.createElement(GL.Provider,{value:l},o)))))))};var KL=function(e){var t=(0,s.useContext)(zL);null==t&&Zw(!1);var r=t[e];return null==r&&Zw(!1),r},$L=function(e){var t=(0,s.useContext)(UL);null==t&&Zw(!1);var r=t[e];return null==r&&Zw(!1),r},QL=function(){return(0,s.useContext)(GL)},XL=function(){return(0,s.useContext)(WL)};function JL(e){return JL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JL(e)}function ZL(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oF(a.key),a)}}function eF(e,t,r){return t=rF(t),function(e,t){if(t&&("object"===JL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tF()?Reflect.construct(t,r||[],rF(e).constructor):t.apply(e,r))}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tF=function(){return!!e})()}function rF(e){return rF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rF(e)}function aF(e,t){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aF(e,t)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(t){iF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iF(e,t,r){return(t=oF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=function(e,t){if("object"!=JL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=JL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JL(t)?t:t+""}function lF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function dF(){return dF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dF.apply(this,arguments)}function uF(e){var t=e.x,r=e.y,a=e.segment,n=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=(0,s.useContext)(HL),u=KL(n),m=$L(i),p=(0,s.useContext)(BL);if(!d||!p)return null;lw(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,r,a,n,s,i,o,l){var c=n.x,d=n.y,u=n.width,m=n.height;if(r){var p=l.y,h=e.y.apply(p,{position:s});if(IM(l,"discard")&&!e.y.isInRange(h))return null;var x=[{x:c+u,y:h},{x:c,y:h}];return"left"===o?x.reverse():x}if(t){var f=l.x,y=e.x.apply(f,{position:s});if(IM(l,"discard")&&!e.x.isInRange(y))return null;var g=[{x:y,y:d+m},{x:y,y:d}];return"top"===i?g.reverse():g}if(a){var v=l.segment.map(function(t){return e.apply(t,{position:s})});return IM(l,"discard")&&ML()(v,function(t){return!e.isInRange(t)})?null:v}return null}(jL({x:u.scale,y:m.scale}),ew(t),ew(r),a&&2===a.length,p,e.position,u.orientation,m.orientation,e);if(!h)return null;var x=lF(h,2),f=x[0],y=f.x,g=f.y,v=x[1],b=v.x,j=v.y,w=sF(sF({clipPath:IM(e,"hidden")?"url(#".concat(d,")"):void 0},Lw(e,!0)),{},{x1:y,y1:g,x2:b,y2:j});return s.createElement(oN,{className:ct("recharts-reference-line",l)},function(e,t){return s.isValidElement(e)?s.cloneElement(e,t):dw()(e)?e(t):s.createElement("line",dF({},t,{className:"recharts-reference-line-line"}))}(o,w),_M.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,a=e.x2,n=e.y2;return vL({x:t,y:r},{x:a,y:n})}({x1:y,y1:g,x2:b,y2:j})))}var mF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aF(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return s.createElement(uF,this.props)}}])&&ZL(r.prototype,a),n&&ZL(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);function pF(){return pF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pF.apply(this,arguments)}function hF(e){return hF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hF(e)}function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function fF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(t){wF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yF(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NF(a.key),a)}}function gF(e,t,r){return t=bF(t),function(e,t){if(t&&("object"===hF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vF()?Reflect.construct(t,r||[],bF(e).constructor):t.apply(e,r))}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vF=function(){return!!e})()}function bF(e){return bF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bF(e)}function jF(e,t){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jF(e,t)}function wF(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=function(e,t){if("object"!=hF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=hF(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hF(t)?t:t+""}iF(mF,"displayName","ReferenceLine"),iF(mF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var CF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jF(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,n=e.y1,i=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;lw(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ew(r),u=ew(a),m=ew(n),p=ew(i),h=this.props.shape;if(!d&&!u&&!m&&!p&&!h)return null;var x=function(e,t,r,a,n){var s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.xAxis,d=n.yAxis;if(!c||!d)return null;var u=jL({x:c.scale,y:d.scale}),m={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(o,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(i,{position:"end"}):u.x.rangeMax,y:a?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!IM(n,"discard")||u.isInRange(m)&&u.isInRange(p)?vL(m,p):null}(d,u,m,p,this.props);if(!x&&!h)return null;var f=IM(this.props,"hidden")?"url(#".concat(c,")"):void 0;return s.createElement(oN,{className:ct("recharts-reference-area",o)},t.renderRect(h,fF(fF({clipPath:f},Lw(this.props,!0)),x)),_M.renderCallByParent(this.props,x))}}])&&yF(r.prototype,a),n&&yF(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);function SF(e){return function(e){if(Array.isArray(e))return AF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return AF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}wF(CF,"displayName","ReferenceArea"),wF(CF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),wF(CF,"renderRect",function(e,t){return s.isValidElement(e)?s.cloneElement(e,t):dw()(e)?e(t):s.createElement(mk,pF({},t,{className:"recharts-reference-area-rect"}))});var kF=function(e,t,r,a,n){var s=Tw(e,mF),i=Tw(e,RL),o=[].concat(SF(s),SF(i)),l=Tw(e,CF),c="".concat(a,"Id"),d=a[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===r&&IM(t.props,"extendDomain")&&Zj(t.props[d])){var a=t.props[d];return[Math.min(e[0],a),Math.max(e[1],a)]}return e},u)),l.length){var m="".concat(d,"1"),p="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===r&&IM(t.props,"extendDomain")&&Zj(t.props[m])&&Zj(t.props[p])){var a=t.props[m],n=t.props[p];return[Math.min(e[0],a,n),Math.max(e[1],a,n)]}return e},u)}return n&&n.length&&(u=n.reduce(function(e,t){return Zj(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},EF=r(7283),PF=new(r.n(EF)()),OF="recharts.syncMouseEvents";function TF(e){return TF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TF(e)}function DF(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_F(a.key),a)}}function RF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=function(e,t){if("object"!=TF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=TF(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TF(t)?t:t+""}var MF=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),RF(this,"activeIndex",0),RF(this,"coordinateList",[]),RF(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,a=void 0===r?null:r,n=e.container,s=void 0===n?null:n,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==a&&void 0!==a?a:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),a=r.x,n=r.y,s=r.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=a+i+o,d=n+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&DF(e.prototype,t),r&&DF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function IF(){}function LF(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function FF(e){this._context=e}function qF(e){this._context=e}function zF(e){this._context=e}FF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:LF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:LF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qF.prototype={areaStart:IF,areaEnd:IF,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:LF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},zF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:LF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class UF{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function BF(e){this._context=e}function VF(e){this._context=e}function HF(e){return new VF(e)}function WF(e){return e<0?-1:1}function GF(e,t,r){var a=e._x1-e._x0,n=t-e._x1,s=(e._y1-e._y0)/(a||n<0&&-0),i=(r-e._y1)/(n||a<0&&-0),o=(s*n+i*a)/(a+n);return(WF(s)+WF(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function YF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function KF(e,t,r){var a=e._x0,n=e._y0,s=e._x1,i=e._y1,o=(s-a)/3;e._context.bezierCurveTo(a+o,n+o*t,s-o,i-o*r,s,i)}function $F(e){this._context=e}function QF(e){this._context=new XF(e)}function XF(e){this._context=e}function JF(e){this._context=e}function ZF(e){var t,r,a=e.length-1,n=new Array(a),s=new Array(a),i=new Array(a);for(n[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,s[a-1]=7,i[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(n[a-1]=i[a-1]/s[a-1],t=a-2;t>=0;--t)n[t]=(i[t]-n[t+1])/s[t];for(s[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)s[t]=2*e[t+1]-n[t+1];return[n,s]}function eq(e,t){this._context=e,this._t=t}function tq(e){return e[0]}function rq(e){return e[1]}function aq(e,t){var r=bC(!0),a=null,n=HF,s=null,i=BC(o);function o(o){var l,c,d,u=(o=sR(o)).length,m=!1;for(null==a&&(s=n(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?tq:bC(e),t="function"===typeof t?t:void 0===t?rq:bC(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:bC(!!e),o):r},o.curve=function(e){return arguments.length?(n=e,null!=a&&(s=n(a)),o):n},o.context=function(e){return arguments.length?(null==e?a=s=null:s=n(a=e),o):a},o}function nq(e,t,r){var a=null,n=bC(!0),s=null,i=HF,o=null,l=BC(c);function c(c){var d,u,m,p,h,x=(c=sR(c)).length,f=!1,y=new Array(x),g=new Array(x);for(null==s&&(o=i(h=l())),d=0;d<=x;++d){if(!(d<x&&n(p=c[d],d,c))===f)if(f=!f)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(y[m],g[m]);o.lineEnd(),o.areaEnd()}f&&(y[d]=+e(p,d,c),g[d]=+t(p,d,c),o.point(a?+a(p,d,c):y[d],r?+r(p,d,c):g[d]))}if(h)return o=null,h+""||null}function d(){return aq().defined(n).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?tq:bC(+e),t="function"===typeof t?t:bC(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?rq:bC(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"===typeof e?e:bC(+e),c):a},c.y=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bC(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(a).y(t)},c.defined=function(e){return arguments.length?(n="function"===typeof e?e:bC(!!e),c):n},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}function sq(e){return sq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sq(e)}function iq(){return iq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iq.apply(this,arguments)}function oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oq(Object(r),!0).forEach(function(t){cq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cq(e,t,r){return t=function(e){var t=function(e,t){if("object"!=sq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=sq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}BF.prototype={areaStart:IF,areaEnd:IF,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},VF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},$F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KF(this,this._t0,YF(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,KF(this,YF(this,r=GF(this,e,t)),r);break;default:KF(this,this._t0,r=GF(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(QF.prototype=Object.create($F.prototype)).point=function(e,t){$F.prototype.point.call(this,t,e)},XF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,s){this._context.bezierCurveTo(t,e,a,r,s,n)}},JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var a=ZF(e),n=ZF(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(a[0][s],n[0][s],a[1][s],n[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var dq={curveBasisClosed:function(e){return new qF(e)},curveBasisOpen:function(e){return new zF(e)},curveBasis:function(e){return new FF(e)},curveBumpX:function(e){return new UF(e,!0)},curveBumpY:function(e){return new UF(e,!1)},curveLinearClosed:function(e){return new BF(e)},curveLinear:HF,curveMonotoneX:function(e){return new $F(e)},curveMonotoneY:function(e){return new QF(e)},curveNatural:function(e){return new JF(e)},curveStep:function(e){return new eq(e,.5)},curveStepAfter:function(e){return new eq(e,1)},curveStepBefore:function(e){return new eq(e,0)}},uq=function(e){return e.x===+e.x&&e.y===+e.y},mq=function(e){return e.x},pq=function(e){return e.y},hq=function(e){var t,r=e.type,a=void 0===r?"linear":r,n=e.points,s=void 0===n?[]:n,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(dw()(e))return e;var r="curve".concat(XN()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?dq[r]||HF:dq["".concat(r).concat("vertical"===t?"Y":"X")]}(a,o),u=c?s.filter(function(e){return uq(e)}):s;if(Array.isArray(i)){var m=c?i.filter(function(e){return uq(e)}):i,p=u.map(function(e,t){return lq(lq({},e),{},{base:m[t]})});return(t="vertical"===o?nq().y(pq).x1(mq).x0(function(e){return e.base.x}):nq().x(mq).y1(pq).y0(function(e){return e.base.y})).defined(uq).curve(d),t(p)}return(t="vertical"===o&&Zj(i)?nq().y(pq).x1(mq).x0(i):Zj(i)?nq().x(mq).y1(pq).y0(i):aq().x(mq).y(pq)).defined(uq).curve(d),t(u)},xq=function(e){var t=e.className,r=e.points,a=e.path,n=e.pathRef;if((!r||!r.length)&&!a)return null;var i=r&&r.length?hq(e):a;return s.createElement("path",iq({},Lw(e,!1),bw(e),{className:ct("recharts-curve",t),d:i,ref:n}))};function fq(e){return fq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fq(e)}var yq=["x","y","top","left","width","height","className"];function gq(){return gq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gq.apply(this,arguments)}function vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function bq(e,t,r){return t=function(e){var t=function(e,t){if("object"!=fq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=fq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var wq=function(e,t,r,a,n,s){return"M".concat(e,",").concat(n,"v").concat(a,"M").concat(s,",").concat(t,"h").concat(r)},Nq=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,n=void 0===a?0:a,i=e.top,o=void 0===i?0:i,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,m=e.height,p=void 0===m?0:m,h=e.className,x=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vq(Object(r),!0).forEach(function(t){bq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:o,left:c,width:u,height:p},jq(e,yq));return Zj(r)&&Zj(n)&&Zj(u)&&Zj(p)&&Zj(o)&&Zj(c)?s.createElement("path",gq({},Lw(x,!0),{className:ct("recharts-cross",h),d:wq(r,n,u,p,o,c)})):null};function Cq(e){var t=e.cx,r=e.cy,a=e.radius,n=e.startAngle,s=e.endAngle;return{points:[yM(t,r,a,n),yM(t,r,a,s)],cx:t,cy:r,radius:a,startAngle:n,endAngle:s}}function Sq(e,t,r){var a,n,s,i;if("horizontal"===e)s=a=t.x,n=r.top,i=r.top+r.height;else if("vertical"===e)i=n=t.y,a=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Cq(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,m=yM(o,l,c,u),p=yM(o,l,d,u);a=m.x,n=m.y,s=p.x,i=p.y}return[{x:a,y:n},{x:s,y:i}]}function Aq(e){return Aq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aq(e)}function kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Eq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kq(Object(r),!0).forEach(function(t){Pq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pq(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Aq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Aq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t,r,a,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,x=null!==(t=n.props.cursor)&&void 0!==t?t:null===(r=n.type.defaultProps)||void 0===r?void 0:r.cursor;if(!n||!x||!o||!l||"ScatterChart"!==h&&"axis"!==i)return null;var f=xq;if("ScatterChart"===h)a=l,f=Nq;else if("BarChart"===h)a=function(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-n:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-n,width:"horizontal"===e?a:r.width-1,height:"horizontal"===e?r.height-1:a}}(p,l,d,m),f=mk;else if("radial"===p){var y=Cq(l),g=y.cx,v=y.cy,b=y.radius;a={cx:g,cy:v,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},f=CI}else a={points:Sq(p,l,d)},f=xq;var j=Eq(Eq(Eq(Eq({stroke:"#ccc",pointerEvents:"none"},d),a),Lw(x,!1)),{},{payload:c,payloadIndex:u,className:ct("recharts-tooltip-cursor",x.className)});return(0,s.isValidElement)(x)?(0,s.cloneElement)(x,j):(0,s.createElement)(f,j)}var Tq=["item"],Dq=["children","className","width","height","style","compact","title","desc"];function Rq(e){return Rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rq(e)}function _q(){return _q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_q.apply(this,arguments)}function Mq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||Vq(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iq(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Kq(a.key),a)}}function Fq(e,t,r){return t=zq(t),function(e,t){if(t&&("object"===Rq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qq()?Reflect.construct(t,r||[],zq(e).constructor):t.apply(e,r))}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qq=function(){return!!e})()}function zq(e){return zq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zq(e)}function Uq(e,t){return Uq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uq(e,t)}function Bq(e){return function(e){if(Array.isArray(e))return Hq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vq(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vq(e,t){if(e){if("string"===typeof e)return Hq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hq(e,t):void 0}}function Hq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(t){Yq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=function(e,t){if("object"!=Rq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Rq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rq(t)?t:t+""}var $q={xAxis:["bottom","top"],yAxis:["left","right"]},Qq={width:"100%",height:"100%"},Xq={x:0,y:0};function Jq(e){return e}var Zq=function(e,t){var r=t.graphicalItems,a=t.dataStartIndex,n=t.dataEndIndex,s=(null!==r&&void 0!==r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(Bq(e),Bq(r)):e},[]);return s.length>0?s:e&&e.length&&Zj(a)&&Zj(n)?e.slice(a,n+1):[]};function ez(e){return"number"===e?[0,"auto"]:void 0}var tz=function(e,t,r,a){var n=e.graphicalItems,s=e.tooltipAxis,i=Zq(t,e);return r<0||!n||!n.length||r>=i.length?null:n.reduce(function(n,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=iw(void 0===d?i:d,s.dataKey,a):c=d&&d[r]||i[r];return c?[].concat(Bq(n),[H_(o,c)]):n},[])},rz=function(e,t,r,a){var n=a||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(n,r),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=-1,i=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(n&&"angleAxis"===n.axisType&&Math.abs(Math.abs(n.range[1]-n.range[0])-360)<=1e-6)for(var o=n.range,l=0;l<i;l++){var c=l>0?a[l-1].coordinate:a[i-1].coordinate,d=a[l].coordinate,u=l>=i-1?a[0].coordinate:a[l+1].coordinate,m=void 0;if(Xj(d-c)!==Xj(u-d)){var p=[];if(Xj(u-d)===Xj(o[1]-o[0])){m=u;var h=d+o[1]-o[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{m=c;var x=u+o[1]-o[0];p[0]=Math.min(d,(x+d)/2),p[1]=Math.max(d,(x+d)/2)}var f=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>f[0]&&e<=f[1]||e>=p[0]&&e<=p[1]){s=a[l].index;break}}else{var y=Math.min(c,u),g=Math.max(c,u);if(e>(y+d)/2&&e<=(g+d)/2){s=a[l].index;break}}}else for(var v=0;v<i;v++)if(0===v&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v>0&&v<i-1&&e>(r[v].coordinate+r[v-1].coordinate)/2&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v===i-1&&e>(r[v].coordinate+r[v-1].coordinate)/2){s=r[v].index;break}return s}(s,i,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=tz(e,t,c,d),m=function(e,t,r,a){var n=t.find(function(e){return e&&e.index===r});if(n){if("horizontal"===e)return{x:n.coordinate,y:a.y};if("vertical"===e)return{x:a.x,y:n.coordinate};if("centric"===e){var s=n.coordinate,i=a.radius;return Gq(Gq(Gq({},a),yM(a.cx,a.cy,i,s)),{},{angle:s,radius:i})}var o=n.coordinate,l=a.angle;return Gq(Gq(Gq({},a),yM(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}return Xq}(r,i,c,n);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:m}}return null},az=function(e,t){var r=t.axes,a=t.graphicalItems,n=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,m=w_(c,n);return r.reduce(function(t,r){var p,h=void 0!==r.type.defaultProps?Gq(Gq({},r.type.defaultProps),r.props):r.props,x=h.type,f=h.dataKey,y=h.allowDataOverflow,g=h.allowDuplicatedCategory,v=h.scale,b=h.ticks,j=h.includeHidden,w=h[s];if(t[w])return t;var N,C,S,A=Zq(e.data,{graphicalItems:a.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===w}),dataStartIndex:o,dataEndIndex:l}),k=A.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var a=null===e||void 0===e?void 0:e[0],n=null===e||void 0===e?void 0:e[1];if(a&&n&&Zj(a)&&Zj(n))return!0}return!1})(h.domain,y,x)&&(N=U_(h.domain,null,y),!m||"number"!==x&&"auto"===v||(S=g_(A,f,"category")));var E=ez(x);if(!N||0===N.length){var P,O=null!==(P=h.domain)&&void 0!==P?P:E;if(f){if(N=g_(A,f,x),"category"===x&&m){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++){if(r[e[a]])return!0;r[e[a]]=!0}return!1}(N);g&&T?(C=N,N=$w()(0,k)):g||(N=V_(O,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Bq(e),[t])},[]))}else if("category"===x)N=g?N.filter(function(e){return""!==e&&!Qj()(e)}):V_(O,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Qj()(t)?e:[].concat(Bq(e),[t])},[]);else if("number"===x){var D=function(e,t,r,a,n){var s=t.map(function(t){return b_(e,t,r,n,a)}).filter(function(e){return!Qj()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,a.filter(function(e){var t,r,a=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],n="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return a===w&&(j||!n)}),f,n,c);D&&(N=D)}!m||"number"!==x&&"auto"===v||(S=g_(A,f,"category"))}else N=m?$w()(0,k):i&&i[w]&&i[w].hasStack&&"number"===x?"expand"===u?[0,1]:F_(i[w].stackGroups,o,l):j_(A,a.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),x,c,!0);if("number"===x)N=kF(d,N,w,n,b),O&&(N=U_(O,N,y));else if("category"===x&&O){var R=O;N.every(function(e){return R.indexOf(e)>=0})&&(N=R)}}return Gq(Gq({},t),{},Yq({},w,Gq(Gq({},h),{},{axisType:n,domain:N,categoricalDomain:S,duplicateDomain:C,originalDomain:null!==(p=h.domain)&&void 0!==p?p:E,isCategorical:m,layout:c})))},{})},nz=function(e,t){var r=t.axisType,a=void 0===r?"xAxis":r,n=t.AxisComp,s=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(a,"Id"),u=Tw(c,n),m={};return u&&u.length?m=az(e,{axes:u,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(m=function(e,t){var r=t.graphicalItems,a=t.Axis,n=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=Zq(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),m=u.length,p=w_(c,n),h=-1;return r.reduce(function(e,t){var x,f=(void 0!==t.type.defaultProps?Gq(Gq({},t.type.defaultProps),t.props):t.props)[s],y=ez("number");return e[f]?e:(h++,p?x=$w()(0,m):i&&i[f]&&i[f].hasStack?(x=F_(i[f].stackGroups,o,l),x=kF(d,x,f,n)):(x=U_(y,j_(u,r.filter(function(e){var t,r,a=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],n="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return a===f&&!n}),"number",c),a.defaultProps.allowDataOverflow),x=kF(d,x,f,n)),Gq(Gq({},e),{},Yq({},f,Gq(Gq({axisType:n},a.defaultProps),{},{hide:!0,orientation:Gj()($q,"".concat(n,".").concat(h%2),null),domain:x,originalDomain:y,isCategorical:p,layout:c}))))},{})}(e,{Axis:n,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),m},sz=function(e){var t=e.children,r=e.defaultShowTooltip,a=Dw(t,lM),n=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(n=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:n,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},iz=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oz=function(e,t){var r=e.props,a=(e.graphicalItems,e.xAxisMap),n=void 0===a?{}:a,s=e.yAxisMap,i=void 0===s?{}:s,o=r.width,l=r.height,c=r.children,d=r.margin||{},u=Dw(c,lM),m=Dw(c,CS),p=Object.keys(i).reduce(function(e,t){var r=i[t],a=r.orientation;return r.mirror||r.hide?e:Gq(Gq({},e),{},Yq({},a,e[a]+r.width))},{left:d.left||0,right:d.right||0}),h=Object.keys(n).reduce(function(e,t){var r=n[t],a=r.orientation;return r.mirror||r.hide?e:Gq(Gq({},e),{},Yq({},a,Gj()(e,"".concat(a))+r.height))},{top:d.top||0,bottom:d.bottom||0}),x=Gq(Gq({},h),p),f=x.bottom;u&&(x.bottom+=u.props.height||lM.defaultProps.height),m&&t&&(x=function(e,t,r,a){var n=r.children,s=r.width,i=r.margin,o=s-(i.left||0)-(i.right||0),l=d_({children:n,legendWidth:o});if(l){var c=a||{},d=c.width,u=c.height,m=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==m&&Zj(e[m]))return x_(x_({},e),{},f_({},m,e[m]+(d||0)));if(("horizontal"===h||"vertical"===h&&"center"===m)&&"middle"!==p&&Zj(e[p]))return x_(x_({},e),{},f_({},p,e[p]+(u||0)))}return e}(x,0,r,t));var y=o-x.left-x.right,g=l-x.top-x.bottom;return Gq(Gq({brushBottom:f},x),{},{width:Math.max(y,0),height:Math.max(g,0)})},lz=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},cz=function(e){var t=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,n=void 0===a?"axis":a,i=e.validateTooltipEventTypes,o=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,m=function(e,t){var r=t.graphicalItems,a=t.stackGroups,n=t.offset,s=t.updateId,i=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,m=e.barCategoryGap,p=e.maxBarSize,h=iz(d),x=h.numericAxisName,f=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=kw(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),g=[];return r.forEach(function(r,h){var v=Zq(e.data,{graphicalItems:[r],dataStartIndex:i,dataEndIndex:o}),b=void 0!==r.type.defaultProps?Gq(Gq({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(x,"Id")],C=b["".concat(f,"Id")],S=l.reduce(function(e,r){var a=t["".concat(r.axisType,"Map")],n=b["".concat(r.axisType,"Id")];a&&a[n]||"zAxis"===r.axisType||Zw(!1);var s=a[n];return Gq(Gq({},e),{},Yq(Yq({},r.axisType,s),"".concat(r.axisType,"Ticks"),C_(s)))},{}),A=S[f],k=S["".concat(f,"Ticks")],E=a&&a[N]&&a[N].hasStack&&function(e,t){var r,a=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?x_(x_({},e.type.defaultProps),e.props):e.props).stackId;if(ew(a)){var n=t[a];if(n){var s=n.items.indexOf(e);return s>=0?n.stackedData[s]:null}}return null}(r,a[N].stackGroups),P=kw(r.type).indexOf("Bar")>=0,O=B_(A,k),T=[],D=y&&function(e){var t=e.barSize,r=e.totalSize,a=e.stackGroups,n=void 0===a?{}:a;if(!n)return{};for(var s={},i=Object.keys(n),o=0,l=i.length;o<l;o++)for(var c=n[i[o]].stackGroups,d=Object.keys(c),u=0,m=d.length;u<m;u++){var p=c[d[u]],h=p.items,x=p.cateAxisId,f=h.filter(function(e){return kw(e.type).indexOf("Bar")>=0});if(f&&f.length){var y=f[0].type.defaultProps,g=void 0!==y?x_(x_({},y),f[0].props):f[0].props,v=g.barSize,b=g[x];s[b]||(s[b]=[]);var j=Qj()(v)?t:v;s[b].push({item:f[0],stackList:f.slice(1),barSize:Qj()(j)?void 0:aw(j,r,0)})}}return s}({barSize:c,stackGroups:a,totalSize:lz(S,f)});if(P){var R,_,M=Qj()(w)?p:w,I=null!==(R=null!==(_=B_(A,k,!0))&&void 0!==_?_:M)&&void 0!==R?R:0;T=function(e){var t=e.barGap,r=e.barCategoryGap,a=e.bandSize,n=e.sizeList,s=void 0===n?[]:n,i=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=aw(t,a,0,!0),d=[];if(s[0].barSize===+s[0].barSize){var u=!1,m=a/o,p=s.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=a&&(p-=(o-1)*c,c=0),p>=a&&m>0&&(u=!0,p=o*(m*=.9));var h={offset:((a-p)/2|0)-c,size:0};l=s.reduce(function(e,t){var r={item:t.item,position:{offset:h.offset+h.size+c,size:u?m:t.barSize}},a=[].concat(m_(e),[r]);return h=a[a.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){a.push({item:e,position:h})}),a},d)}else{var x=aw(r,a,0,!0);a-2*x-(o-1)*c<=0&&(c=0);var f=(a-2*x-(o-1)*c)/o;f>1&&(f>>=0);var y=i===+i?Math.min(f,i):f;l=s.reduce(function(e,t,r){var a=[].concat(m_(e),[{item:t.item,position:{offset:x+(f+c)*r+(f-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){a.push({item:e,position:a[a.length-1].position})}),a},d)}return l}({barGap:u,barCategoryGap:m,bandSize:I!==O?I:O,sizeList:D[C],maxBarSize:M}),I!==O&&(T=T.map(function(e){return Gq(Gq({},e),{},{position:Gq(Gq({},e.position),{},{offset:e.position.offset-I/2})})}))}var L,F,q=r&&r.type&&r.type.getComposedData;q&&g.push({props:Gq(Gq({},q(Gq(Gq({},S),{},{displayedData:v,props:e,dataKey:j,item:r,bandSize:O,barPosition:T,offset:n,stackedData:E,layout:d,dataStartIndex:i,dataEndIndex:o}))),{},Yq(Yq(Yq({key:r.key||"item-".concat(h)},x,S[x]),f,S[f]),"animationId",s)),childIndex:(L=r,F=e.children,Ow(F).indexOf(L)),item:r})}),g},p=function(e,a){var n=e.props,s=e.dataStartIndex,i=e.dataEndIndex,o=e.updateId;if(!Rw({props:n}))return null;var c=n.children,u=n.layout,p=n.stackOffset,h=n.data,x=n.reverseStackOrder,f=iz(u),y=f.numericAxisName,g=f.cateAxisName,v=Tw(c,r),b=function(e,t,r,a,n,s){if(!e)return null;var i=(s?t.reverse():t).reduce(function(e,t){var n,s=null!==(n=t.type)&&void 0!==n&&n.defaultProps?x_(x_({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(s.hide)return e;var o=s[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(ew(i)){var c=l.stackGroups[i]||{numericAxisId:r,cateAxisId:a,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[rw("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[t]};return x_(x_({},e),{},f_({},o,l))},{});return Object.keys(i).reduce(function(t,s){var o=i[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var i=o.stackGroups[s];return x_(x_({},t),{},f_({},s,{numericAxisId:r,cateAxisId:a,items:i.items,stackedData:R_(e,i.items,n)}))},{})),x_(x_({},t),{},f_({},s,o))},{})}(h,v,"".concat(y,"Id"),"".concat(g,"Id"),p,x),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return Gq(Gq({},e),{},Yq({},r,nz(n,Gq(Gq({},t),{},{graphicalItems:v,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:i}))))},{}),w=oz(Gq(Gq({},j),{},{props:n,graphicalItems:v}),null===a||void 0===a?void 0:a.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(n,j[e],w,e.replace("Map",""),t)});var N=function(e){var t=nw(e),r=C_(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Xw()(r,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:B_(t,r)}}(j["".concat(g,"Map")]),C=m(n,Gq(Gq({},j),{},{dataStartIndex:s,dataEndIndex:i,updateId:o,graphicalItems:v,stackGroups:b,offset:w}));return Gq(Gq({formattedGraphicalItems:C,graphicalItems:v,offset:w,stackGroups:b},N),j)},h=function(e){function r(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Yq(i=Fq(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Yq(i,"accessibilityManager",new MF),Yq(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,r=t.dataStartIndex,a=t.dataEndIndex,n=t.updateId;i.setState(Gq({legendBBox:e},p({props:i.props,dataStartIndex:r,dataEndIndex:a,updateId:n},Gq(Gq({},i.state),{},{legendBBox:e}))))}}),Yq(i,"handleReceiveSyncEvent",function(e,t,r){if(i.props.syncId===e){if(r===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),Yq(i,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==i.state.dataStartIndex||r!==i.state.dataEndIndex){var a=i.state.updateId;i.setState(function(){return Gq({dataStartIndex:t,dataEndIndex:r},p({props:i.props,dataStartIndex:t,dataEndIndex:r,updateId:a},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),Yq(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var r=Gq(Gq({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var a=i.props.onMouseEnter;dw()(a)&&a(r,e)}}),Yq(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),r=t?Gq(Gq({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(r),i.triggerSyncEvent(r);var a=i.props.onMouseMove;dw()(a)&&a(r,e)}),Yq(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Yq(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),Yq(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),Yq(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var r=i.props.onMouseLeave;dw()(r)&&r(t,e)}),Yq(i,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&Aw[t]?Aw[t]:null}(e),a=Gj()(i.props,"".concat(r));r&&dw()(a)&&a(null!==(t=/.*touch.*/i.test(r)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),Yq(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var r=Gq(Gq({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var a=i.props.onClick;dw()(a)&&a(r,e)}}),Yq(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;dw()(t)&&t(i.getMouseInfo(e),e)}),Yq(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;dw()(t)&&t(i.getMouseInfo(e),e)}),Yq(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Yq(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),Yq(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),Yq(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;dw()(t)&&t(i.getMouseInfo(e),e)}),Yq(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;dw()(t)&&t(i.getMouseInfo(e),e)}),Yq(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&PF.emit(OF,i.props.syncId,e,i.eventEmitterSymbol)}),Yq(i,"applySyncEvent",function(e){var t=i.props,r=t.layout,a=t.syncMethod,n=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(Gq({dataStartIndex:s,dataEndIndex:o},p({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:n},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=i.state,m=u.offset,h=u.tooltipTicks;if(!m)return;if("function"===typeof a)d=a(h,e);else if("value"===a){d=-1;for(var x=0;x<h.length;x++)if(h[x].value===e.activeLabel){d=x;break}}var f=Gq(Gq({},m),{},{x:m.left,y:m.top}),y=Math.min(l,f.x+f.width),g=Math.min(c,f.y+f.height),v=h[d]&&h[d].value,b=tz(i.state,i.props.data,d),j=h[d]?{x:"horizontal"===r?h[d].coordinate:y,y:"horizontal"===r?g:h[d].coordinate}:Xq;i.setState(Gq(Gq({},e),{},{activeLabel:v,activeCoordinate:j,activePayload:b,activeTooltipIndex:d}))}else i.setState(e)}),Yq(i,"renderCursor",function(e){var r,a=i.state,n=a.isTooltipActive,o=a.activeCoordinate,l=a.activePayload,c=a.offset,d=a.activeTooltipIndex,u=a.tooltipAxisBandSize,m=i.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:n,h=i.props.layout,x=e.key||"_recharts-cursor";return s.createElement(Oq,{key:x,activeCoordinate:o,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:p,layout:h,offset:c,tooltipAxisBandSize:u,tooltipEventType:m})}),Yq(i,"renderPolarAxis",function(e,t,r){var a=Gj()(e,"type.axisType"),n=Gj()(i.state,"".concat(a,"Map")),o=e.type.defaultProps,l=void 0!==o?Gq(Gq({},o),e.props):e.props,c=n&&n[l["".concat(a,"Id")]];return(0,s.cloneElement)(e,Gq(Gq({},c),{},{className:ct(a,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:C_(c,!0)}))}),Yq(i,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,a=t.polarAngles,n=t.polarRadius,o=i.state,l=o.radiusAxisMap,c=o.angleAxisMap,d=nw(l),u=nw(c),m=u.cx,p=u.cy,h=u.innerRadius,x=u.outerRadius;return(0,s.cloneElement)(e,{polarAngles:Array.isArray(a)?a:C_(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(n)?n:C_(d,!0).map(function(e){return e.coordinate}),cx:m,cy:p,innerRadius:h,outerRadius:x,key:e.key||"polar-grid",radialLines:r})}),Yq(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,r=t.children,a=t.width,n=t.height,o=i.props.margin||{},l=a-(o.left||0)-(o.right||0),d=d_({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,m=Iq(d,Tq);return(0,s.cloneElement)(u,Gq(Gq({},m),{},{chartWidth:a,chartHeight:n,margin:o,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),Yq(i,"renderTooltip",function(){var e,t=i.props,r=t.children,a=t.accessibilityLayer,n=Dw(r,$N);if(!n)return null;var o=i.state,l=o.isTooltipActive,c=o.activeCoordinate,d=o.activePayload,u=o.activeLabel,m=o.offset,p=null!==(e=n.props.active)&&void 0!==e?e:l;return(0,s.cloneElement)(n,{viewBox:Gq(Gq({},m),{},{x:m.left,y:m.top}),active:p,label:u,payload:p?d:[],coordinate:c,accessibilityLayer:a})}),Yq(i,"renderBrush",function(e){var t=i.props,r=t.margin,a=t.data,n=i.state,o=n.offset,l=n.dataStartIndex,c=n.dataEndIndex,d=n.updateId;return(0,s.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:A_(i.handleBrushChange,e.props.onChange),data:a,x:Zj(e.props.x)?e.props.x:o.left,y:Zj(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(r.bottom||0),width:Zj(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})}),Yq(i,"renderReferenceElement",function(e,t,r){if(!e)return null;var a=i.clipPathId,n=i.state,o=n.xAxisMap,l=n.yAxisMap,c=n.offset,d=e.type.defaultProps||{},u=e.props,m=u.xAxisId,p=void 0===m?d.xAxisId:m,h=u.yAxisId,x=void 0===h?d.yAxisId:h;return(0,s.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:o[p],yAxis:l[x],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),Yq(i,"renderActivePoints",function(e){var t=e.item,a=e.activePoint,n=e.basePoint,s=e.childIndex,i=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Gq(Gq({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=Gq(Gq({index:s,dataKey:c.dataKey,cx:a.x,cy:a.y,r:4,fill:v_(t.item),strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},Lw(d,!1)),bw(d));return o.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(s))),n?o.push(r.renderActiveDot(d,Gq(Gq({},u),{},{cx:n.x,cy:n.y}),"".concat(l,"-basePoint-").concat(s))):i&&o.push(null),o}),Yq(i,"renderGraphicChild",function(e,t,r){var a=i.filterFormatItem(e,t,r);if(!a)return null;var n=i.getTooltipEventType(),o=i.state,l=o.isTooltipActive,c=o.tooltipAxis,d=o.activeTooltipIndex,u=o.activeLabel,m=Dw(i.props.children,$N),p=a.props,h=p.points,x=p.isRange,f=p.baseLine,y=void 0!==a.item.type.defaultProps?Gq(Gq({},a.item.type.defaultProps),a.item.props):a.item.props,g=y.activeDot,v=y.hide,b=y.activeBar,j=y.activeShape,w=Boolean(!v&&l&&m&&(g||b||j)),N={};"axis"!==n&&m&&"click"===m.props.trigger?N={onClick:A_(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==n&&(N={onMouseLeave:A_(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:A_(i.handleItemMouseEnter,e.props.onMouseEnter)});var C=(0,s.cloneElement)(e,Gq(Gq({},a.props),N));if(w){if(!(d>=0)){var S,A=(null!==(S=i.getItemByXY(i.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:C}).graphicalItem,k=A.item,E=void 0===k?e:k,P=A.childIndex,O=Gq(Gq(Gq({},a.props),N),{},{activeIndex:P});return[(0,s.cloneElement)(E,O),null,null]}var T,D;if(c.dataKey&&!c.allowDuplicatedCategory){var R="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());T=iw(h,R,u),D=x&&f&&iw(f,R,u)}else T=null===h||void 0===h?void 0:h[d],D=x&&f&&f[d];if(j||b){var _=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,s.cloneElement)(e,Gq(Gq(Gq({},a.props),N),{},{activeIndex:_})),null,null]}if(!Qj()(T))return[C].concat(Bq(i.renderActivePoints({item:a,activePoint:T,basePoint:D,childIndex:d,isRange:x})))}return x?[C,null,null]:[C,null]}),Yq(i,"renderCustomized",function(e,t,r){return(0,s.cloneElement)(e,Gq(Gq({key:"recharts-customized-".concat(r)},i.props),i.state))}),Yq(i,"renderMap",{CartesianGrid:{handler:Jq,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:Jq},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:Jq},YAxis:{handler:Jq},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:rw("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=zj()(i.triggeredAfterMouseMove,null!==(n=e.throttleDelay)&&void 0!==n?n:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uq(e,t)}(r,e),a=r,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,a=e.height,n=e.layout,s=Dw(t,$N);if(s){var i=s.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=tz(this.state,r,i,o),c=this.state.tooltipTicks[i].coordinate,d=(this.state.offset.top+a)/2,u="horizontal"===n?{x:c,y:d}:{y:c,x:d},m=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});m&&(u=Gq(Gq({},u),m.props.points[i].tooltipPosition),l=m.props.points[i].tooltipPayload);var p={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(s),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(a=this.props.margin.top)&&void 0!==a?a:0}}),null):null;var r,a}},{key:"componentDidUpdate",value:function(e){Fw([Dw(e.children,$N)],[Dw(this.props.children,$N)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Dw(this.props.children,$N);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:n}return n}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,a=r.getBoundingClientRect(),n={top:(t=a).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-n.left),chartY:Math.round(e.pageY-n.top)},i=a.width/r.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),m=rz(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var p=nw(c).scale,h=nw(d).scale,x=p&&p.invert?p.invert(s.chartX):null,f=h&&h.invert?h.invert(s.chartY):null;return Gq(Gq({},s),{},{xValue:x,yValue:f},m)}return m?Gq(Gq({},s),m):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.props.layout,n=e/r,s=t/r;if("horizontal"===a||"vertical"===a){var i=this.state.offset;return n>=i.left&&n<=i.left+i.width&&s>=i.top&&s<=i.top+i.height?{x:n,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=nw(l);return wM({x:n,y:s},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Dw(e,$N),a={};return r&&"axis"===t&&(a="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Gq(Gq({},bw(this.props,this.handleOuterEvent)),a)}},{key:"addListener",value:function(){PF.on(OF,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){PF.removeListener(OF,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var a=this.state.formattedGraphicalItems,n=0,s=a.length;n<s;n++){var i=a[n];if(i.item===e||i.props.key===e.key||t===kw(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,a=t.top,n=t.height,i=t.width;return s.createElement("defs",null,s.createElement("clipPath",{id:e},s.createElement("rect",{x:r,y:a,height:n,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Mq(t,2),a=r[0],n=r[1];return Gq(Gq({},e),{},Yq({},a,n.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Mq(t,2),a=r[0],n=r[1];return Gq(Gq({},e),{},Yq({},a,n.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,a=t.activeItem;if(r&&r.length)for(var n=0,s=r.length;n<s;n++){var i=r[n],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?Gq(Gq({},l.type.defaultProps),l.props):l.props,d=kw(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return dk(e,t)});if(u)return{graphicalItem:i,payload:u}}else if("RadialBar"===d){var m=(o.data||[]).find(function(t){return wM(e,t)});if(m)return{graphicalItem:i,payload:m}}else if(_I(i,a)||MI(i,a)||II(i,a)){var p=zI({graphicalItem:i,activeTooltipItem:a,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:Gq(Gq({},i),{},{childIndex:h}),payload:II(i,a)?c.data[p]:i.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Rw(this))return null;var t,r,a=this.props,n=a.children,i=a.className,o=a.width,l=a.height,c=a.style,d=a.compact,u=a.title,m=a.desc,p=Iq(a,Dq),h=Lw(p,!1);if(d)return s.createElement(YL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},s.createElement(aN,_q({},h,{width:o,height:l,title:u,desc:m}),this.renderClipPath(),zw(n,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var x=this.parseEventsOfWrapper();return s.createElement(YL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},s.createElement("div",_q({className:ct("recharts-wrapper",i),style:Gq({position:"relative",cursor:"default",width:o,height:l},c)},x,{ref:function(t){e.container=t}}),s.createElement(aN,_q({},h,{width:o,height:l,title:u,desc:m,style:Qq}),this.renderClipPath(),zw(n,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&Lq(a.prototype,i),l&&Lq(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,i,l}(s.Component);Yq(h,"displayName",t),Yq(h,"defaultProps",Gq({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Yq(h,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,a=e.data,n=e.children,s=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=sz(e);return Gq(Gq(Gq({},m),{},{updateId:0},p(Gq(Gq({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:a,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:n})}if(r!==t.prevDataKey||a!==t.prevData||s!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!hw(c,t.prevMargin)){var h=sz(e),x={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},f=Gq(Gq({},rz(t,a,o)),{},{updateId:t.updateId+1}),y=Gq(Gq(Gq({},h),x),f);return Gq(Gq(Gq({},y),p(Gq({props:e},y),t)),{},{prevDataKey:r,prevData:a,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:n})}if(!Fw(n,t.prevChildren)){var g,v,b,j,w=Dw(n,lM),N=w&&null!==(g=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==g?g:d,C=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:u,S=N!==d||C!==u,A=!Qj()(a)&&!S?t.updateId:t.updateId+1;return Gq(Gq({updateId:A},p(Gq(Gq({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:C}),t)),{},{prevChildren:n,dataStartIndex:N,dataEndIndex:C})}return null}),Yq(h,"renderActiveDot",function(e,t,r){var a;return a=(0,s.isValidElement)(e)?(0,s.cloneElement)(e,t):dw()(e)?e(t):s.createElement(AS,t),s.createElement(oN,{className:"recharts-active-dot",key:r},a)});var x=(0,s.forwardRef)(function(e,t){return s.createElement(h,_q({},e,{ref:t}))});return x.displayName=h.displayName,x},dz=["type","layout","connectNulls","ref"],uz=["key"];function mz(e){return mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mz(e)}function pz(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hz(){return hz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hz.apply(this,arguments)}function xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function fz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xz(Object(r),!0).forEach(function(t){Cz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yz(e){return function(e){if(Array.isArray(e))return gz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return gz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vz(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Sz(a.key),a)}}function bz(e,t,r){return t=wz(t),function(e,t){if(t&&("object"===mz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jz()?Reflect.construct(t,r||[],wz(e).constructor):t.apply(e,r))}function jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jz=function(){return!!e})()}function wz(e){return wz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wz(e)}function Nz(e,t){return Nz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nz(e,t)}function Cz(e,t,r){return(t=Sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=function(e,t){if("object"!=mz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=mz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mz(t)?t:t+""}var Az=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return Cz(e=bz(this,t,[].concat(a)),"state",{isAnimationFinished:!0,totalLength:0}),Cz(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),Cz(e,"getStrokeDasharray",function(r,a,n){var s=n.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(a,r);for(var i=Math.floor(r/s),o=r%s,l=a-r,c=[],d=0,u=0;d<n.length;u+=n[d],++d)if(u+n[d]>o){c=[].concat(yz(n.slice(0,d)),[o-u]);break}var m=c.length%2===0?[0,l]:[l];return[].concat(yz(t.repeat(n,i)),yz(c),m).map(function(e){return"".concat(e,"px")}).join(", ")}),Cz(e,"id",rw("recharts-line-")),Cz(e,"pathRef",function(t){e.mainCurve=t}),Cz(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),Cz(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nz(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(SY){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,n=r.xAxis,i=r.yAxis,o=r.layout,l=Tw(r.children,s_);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:y_(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return s.createElement(oN,d,l.map(function(e){return s.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:n,yAxis:i,layout:o,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.dot,o=n.points,l=n.dataKey,c=Lw(this.props,!1),d=Lw(i,!0),u=o.map(function(e,r){var a=fz(fz(fz({key:"dot-".concat(r),r:3},c),d),{},{index:r,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:o});return t.renderDotItem(i,a)}),m={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return s.createElement(oN,hz({className:"recharts-line-dots",key:"dots"},m),u)}},{key:"renderCurveStatically",value:function(e,t,r,a){var n=this.props,i=n.type,o=n.layout,l=n.connectNulls,c=(n.ref,pz(n,dz)),d=fz(fz(fz({},Lw(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:i,layout:o,connectNulls:l});return s.createElement(xq,hz({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,a=this.props,n=a.points,i=a.strokeDasharray,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=a.animateNewValues,p=a.width,h=a.height,x=this.state,f=x.prevPoints,y=x.totalLength;return s.createElement(tk,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var s=a.t;if(f){var o=f.length/n.length,l=n.map(function(e,t){var r=Math.floor(t*o);if(f[r]){var a=f[r],n=sw(a.x,e.x),i=sw(a.y,e.y);return fz(fz({},e),{},{x:n(s),y:i(s)})}if(m){var l=sw(2*p,e.x),c=sw(h/2,e.y);return fz(fz({},e),{},{x:l(s),y:c(s)})}return fz(fz({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,d=sw(0,y)(s);if(i){var u="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(d,y,u)}else c=r.generateSimpleStrokeDasharray(y,d);return r.renderCurveStatically(n,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,a=r.points,n=r.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return n&&a&&a.length&&(!i&&o>0||!fR()(i,a))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,a=t.dot,n=t.points,i=t.className,o=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,m=t.height,p=t.isAnimationActive,h=t.id;if(r||!n||!n.length)return null;var x=this.state.isAnimationFinished,f=1===n.length,y=ct("recharts-line",i),g=o&&o.allowDataOverflow,v=l&&l.allowDataOverflow,b=g||v,j=Qj()(h)?this.id:h,w=null!==(e=Lw(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,C=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,k=(Iw(a)?a:{}).clipDot,E=void 0===k||k,P=2*C+A;return s.createElement(oN,{className:y},g||v?s.createElement("defs",null,s.createElement("clipPath",{id:"clipPath-".concat(j)},s.createElement("rect",{x:g?d:d-u/2,y:v?c:c-m/2,width:g?u:2*u,height:v?m:2*m})),!E&&s.createElement("clipPath",{id:"clipPath-dots-".concat(j)},s.createElement("rect",{x:d-P/2,y:c-P/2,width:u+P,height:m+P}))):null,!f&&this.renderCurve(b,j),this.renderErrorBar(b,j),(f||a)&&this.renderDots(b,E,j),(!p||x)&&tI.renderCallByParent(this.props,n))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(yz(e),[0]):e,a=[],n=0;n<t;++n)a=[].concat(yz(a),yz(r));return a}},{key:"renderDotItem",value:function(e,t){var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if(dw()(e))r=e(t);else{var a=t.key,n=pz(t,uz),i=ct("recharts-line-dot","boolean"!==typeof e?e.className:"");r=s.createElement(AS,hz({key:a},n,{className:i}))}return r}}],a&&vz(r.prototype,a),n&&vz(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function kz(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var a=[],n=0;n<e.length;n+=t){if(void 0!==r&&!0!==r(e[n]))return;a.push(e[n])}return a}function Ez(e,t,r){return function(e){var t=e.width,r=e.height,a=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=a*Math.PI/180,s=Math.atan(r/t),i=n>s&&n<Math.PI-s?r/Math.sin(n):t/Math.cos(n);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function Pz(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-n)<=0}function Oz(e){return Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oz(e)}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Dz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(t){Rz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rz(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Oz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Oz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e,t,r){var a=e.tick,n=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!n||!n.length||!a)return[];if(Zj(l)||_N.isSsr)return function(e,t){return kz(e,t+1)}(n,"number"===typeof l&&Zj(l)?l:0);var m=[],p="top"===o||"bottom"===o?"width":"height",h=d&&"width"===p?Dk(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(e,a){var n=dw()(c)?c(e.value,a):e.value;return"width"===p?Ez(Dk(n,{fontSize:t,letterSpacing:r}),h,u):Dk(n,{fontSize:t,letterSpacing:r})[p]},f=n.length>=2?Xj(n[1].coordinate-n[0].coordinate):1,y=function(e,t,r){var a="width"===r,n=e.x,s=e.y,i=e.width,o=e.height;return 1===t?{start:a?n:s,end:a?n+i:s+o}:{start:a?n+i:s+o,end:a?n:s}}(s,f,p);return"equidistantPreserveStart"===l?function(e,t,r,a,n){for(var s,i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var t=null===a||void 0===a?void 0:a[c];if(void 0===t)return{v:kz(a,d)};var s,i=c,m=function(){return void 0===s&&(s=r(t,i)),s},p=t.coordinate,h=0===c||Pz(e,p,m,u,l);h||(c=0,u=o,d+=1),h&&(u=p+e*(m()/2+n),c+=d)};d<=i.length;)if(s=m())return s.v;return[]}(f,y,x,n,i):(m="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,a,n,s){var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end;if(s){var d=a[o-1],u=r(d,o-1),m=e*(d.coordinate+e*u/2-c);i[o-1]=d=Dz(Dz({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),Pz(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+n),i[o-1]=Dz(Dz({},d),{},{isShow:!0}))}for(var p=s?o-1:o,h=function(t){var a,s=i[t],o=function(){return void 0===a&&(a=r(s,t)),a};if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=Dz(Dz({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=Dz(Dz({},s),{},{tickCoord:s.coordinate});Pz(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+n),i[t]=Dz(Dz({},s),{},{isShow:!0}))},x=0;x<p;x++)h(x);return i}(f,y,x,n,i,"preserveStartEnd"===l):function(e,t,r,a,n){for(var s=(a||[]).slice(),i=s.length,o=t.start,l=t.end,c=function(t){var a,c=s[t],d=function(){return void 0===a&&(a=r(c,t)),a};if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=Dz(Dz({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=Dz(Dz({},c),{},{tickCoord:c.coordinate});Pz(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+n),s[t]=Dz(Dz({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(f,y,x,n,i),m.filter(function(e){return e.isShow}))}Cz(Az,"displayName","Line"),Cz(Az,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_N.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Cz(Az,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,n=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(e,t){var l=y_(e,i);return"horizontal"===d?{x:M_({axis:r,ticks:n,bandSize:o,entry:e,index:t}),y:Qj()(l)?null:a.scale(l),value:l,payload:e}:{x:Qj()(l)?null:r.scale(l),y:M_({axis:a,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}});return fz({points:u,layout:d},c)});var Mz=["viewBox"],Iz=["viewBox"],Lz=["ticks"];function Fz(e){return Fz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fz(e)}function qz(){return qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qz.apply(this,arguments)}function zz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Uz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(r),!0).forEach(function(t){Kz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bz(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vz(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$z(a.key),a)}}function Hz(e,t,r){return t=Gz(t),function(e,t){if(t&&("object"===Fz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wz()?Reflect.construct(t,r||[],Gz(e).constructor):t.apply(e,r))}function Wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wz=function(){return!!e})()}function Gz(e){return Gz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gz(e)}function Yz(e,t){return Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yz(e,t)}function Kz(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=function(e,t){if("object"!=Fz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Fz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fz(t)?t:t+""}var Qz=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Hz(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yz(e,t)}(t,e),r=t,a=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,a=Bz(e,Mz),n=this.props,s=n.viewBox,i=Bz(n,Iz);return!hw(r,s)||!hw(a,i)||!hw(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,a,n,s,i,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,m=o.orientation,p=o.tickSize,h=o.mirror,x=o.tickMargin,f=h?-1:1,y=e.tickSize||p,g=Zj(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=r=e.coordinate,i=(a=(n=c+ +!h*u)-f*y)-f*x,s=g;break;case"left":a=n=e.coordinate,s=(t=(r=l+ +!h*d)-f*y)-f*x,i=g;break;case"right":a=n=e.coordinate,s=(t=(r=l+ +h*d)+f*y)+f*x,i=g;break;default:t=r=e.coordinate,i=(a=(n=c+ +h*u)+f*y)+f*x,s=g}return{line:{x1:t,y1:a,x2:r,y2:n},tick:{x:s,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,a=t.mirror;switch(r){case"left":e=a?"start":"end";break;case"right":e=a?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,a="end";switch(t){case"left":case"right":a="middle";break;case"top":a=r?"start":"end";break;default:a=r?"end":"start"}return a}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,n=e.height,i=e.orientation,o=e.mirror,l=e.axisLine,c=Uz(Uz(Uz({},Lw(this.props,!1)),Lw(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var d=+("top"===i&&!o||"bottom"===i&&o);c=Uz(Uz({},c),{},{x1:t,y1:r+d*n,x2:t+a,y2:r+d*n})}else{var u=+("left"===i&&!o||"right"===i&&o);c=Uz(Uz({},c),{},{x1:t+u*a,y1:r,x2:t+u*a,y2:r+n})}return s.createElement("line",qz({},c,{className:ct("recharts-cartesian-axis-line",Gj()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var n=this,i=this.props,o=i.tickLine,l=i.stroke,c=i.tick,d=i.tickFormatter,u=i.unit,m=_z(Uz(Uz({},this.props),{},{ticks:e}),r,a),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),x=Lw(this.props,!1),f=Lw(c,!1),y=Uz(Uz({},x),{},{fill:"none"},Lw(o,!1)),g=m.map(function(e,r){var a=n.getTickLineCoord(e),i=a.line,g=a.tick,v=Uz(Uz(Uz(Uz({textAnchor:p,verticalAnchor:h},x),{},{stroke:"none",fill:l},f),g),{},{index:r,payload:e,visibleTicksCount:m.length,tickFormatter:d});return s.createElement(oN,qz({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},jw(n.props,e,r)),o&&s.createElement("line",qz({},y,i,{className:ct("recharts-cartesian-axis-tick-line",Gj()(o,"className"))})),c&&t.renderTickItem(c,v,"".concat(dw()(d)?d(e.value,r):e.value).concat(u||"")))});return s.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,a=t.width,n=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=Bz(l,Lz),u=c;return dw()(i)&&(u=c&&c.length>0?i(this.props):i(d)),a<=0||n<=0||!u||!u.length?null:s.createElement(oN,{className:ct("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),_M.renderCallByParent(this.props))}}],n=[{key:"renderTickItem",value:function(e,t,r){var a=ct(t.className,"recharts-cartesian-axis-tick-value");return s.isValidElement(e)?s.cloneElement(e,Uz(Uz({},t),{},{className:a})):dw()(e)?e(Uz(Uz({},t),{},{className:a})):s.createElement(oE,qz({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&Vz(r.prototype,a),n&&Vz(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);function Xz(e){return Xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xz(e)}function Jz(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nU(a.key),a)}}function Zz(e,t,r){return t=tU(t),function(e,t){if(t&&("object"===Xz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eU()?Reflect.construct(t,r||[],tU(e).constructor):t.apply(e,r))}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eU=function(){return!!e})()}function tU(e){return tU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tU(e)}function rU(e,t){return rU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rU(e,t)}function aU(e,t,r){return(t=nU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=function(e,t){if("object"!=Xz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=Xz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xz(t)?t:t+""}function sU(){return sU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sU.apply(this,arguments)}function iU(e){var t=e.xAxisId,r=QL(),a=XL(),n=KL(t);return null==n?null:s.createElement(Qz,sU({},n,{className:ct("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return C_(e,!0)}}))}Kz(Qz,"displayName","CartesianAxis"),Kz(Qz,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rU(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return s.createElement(iU,this.props)}}])&&Jz(r.prototype,a),n&&Jz(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);function lU(e){return lU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lU(e)}function cU(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xU(a.key),a)}}function dU(e,t,r){return t=mU(t),function(e,t){if(t&&("object"===lU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uU()?Reflect.construct(t,r||[],mU(e).constructor):t.apply(e,r))}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uU=function(){return!!e})()}function mU(e){return mU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mU(e)}function pU(e,t){return pU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pU(e,t)}function hU(e,t,r){return(t=xU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=function(e,t){if("object"!=lU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=lU(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lU(t)?t:t+""}function fU(){return fU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fU.apply(this,arguments)}aU(oU,"displayName","XAxis"),aU(oU,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var yU=function(e){var t=e.yAxisId,r=QL(),a=XL(),n=$L(t);return null==n?null:s.createElement(Qz,fU({},n,{className:ct("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return C_(e,!0)}}))},gU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dU(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pU(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return s.createElement(yU,this.props)}}])&&cU(r.prototype,a),n&&cU(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);hU(gU,"displayName","YAxis"),hU(gU,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var vU=cz({chartName:"LineChart",GraphicalChild:Az,axisComponents:[{axisType:"xAxis",AxisComp:oU},{axisType:"yAxis",AxisComp:gU}],formatAxisMap:gL}),bU=["x1","y1","x2","y2","key"],jU=["offset"];function wU(e){return wU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wU(e)}function NU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function CU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NU(Object(r),!0).forEach(function(t){SU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SU(e,t,r){return t=function(e){var t=function(e,t){if("object"!=wU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=wU(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(){return AU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AU.apply(this,arguments)}function kU(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var EU=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,a=e.x,n=e.y,i=e.width,o=e.height,l=e.ry;return s.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PU(e,t){var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if(dw()(e))r=e(t);else{var a=t.x1,n=t.y1,i=t.x2,o=t.y2,l=t.key,c=kU(t,bU),d=Lw(c,!1),u=(d.offset,kU(d,jU));r=s.createElement("line",AU({},u,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return r}function OU(e){var t=e.x,r=e.width,a=e.horizontal,n=void 0===a||a,i=e.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(a,s){var i=CU(CU({},e),{},{x1:t,y1:a,x2:t+r,y2:a,key:"line-".concat(s),index:s});return PU(n,i)});return s.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function TU(e){var t=e.y,r=e.height,a=e.vertical,n=void 0===a||a,i=e.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(a,s){var i=CU(CU({},e),{},{x1:a,y1:t,x2:a,y2:t+r,key:"line-".concat(s),index:s});return PU(n,i)});return s.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DU(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,n=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=!d[l+1]?n+o-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return s.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:i,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return s.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function RU(e){var t=e.vertical,r=void 0===t||t,a=e.verticalFill,n=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var u=d.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var m=u.map(function(e,t){var r=!u[t+1]?i+l-e:u[t+1]-e;if(r<=0)return null;var d=t%a.length;return s.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:c,stroke:"none",fill:a[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return s.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var _U=function(e,t){var r=e.xAxis,a=e.width,n=e.height,s=e.offset;return N_(_z(CU(CU(CU({},Qz.defaultProps),r),{},{ticks:C_(r,!0),viewBox:{x:0,y:0,width:a,height:n}})),s.left,s.left+s.width,t)},MU=function(e,t){var r=e.yAxis,a=e.width,n=e.height,s=e.offset;return N_(_z(CU(CU(CU({},Qz.defaultProps),r),{},{ticks:C_(r,!0),viewBox:{x:0,y:0,width:a,height:n}})),s.top,s.top+s.height,t)},IU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function LU(e){var t,r,a,n,i,o,l=QL(),c=XL(),d=(0,s.useContext)(VL),u=CU(CU({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:IU.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:IU.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:IU.horizontal,horizontalFill:null!==(n=e.horizontalFill)&&void 0!==n?n:IU.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:IU.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:IU.verticalFill,x:Zj(e.x)?e.x:d.left,y:Zj(e.y)?e.y:d.top,width:Zj(e.width)?e.width:d.width,height:Zj(e.height)?e.height:d.height}),m=u.x,p=u.y,h=u.width,x=u.height,f=u.syncWithTicks,y=u.horizontalValues,g=u.verticalValues,v=function(){var e=(0,s.useContext)(zL);return nw(e)}(),b=function(){var e=(0,s.useContext)(UL);return LL()(e,function(e){return zM()(e.domain,Number.isFinite)})||nw(e)}();if(!Zj(h)||h<=0||!Zj(x)||x<=0||!Zj(m)||m!==+m||!Zj(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||_U,w=u.horizontalCoordinatesGenerator||MU,N=u.horizontalPoints,C=u.verticalPoints;if((!N||!N.length)&&dw()(w)){var S=y&&y.length,A=w({yAxis:b?CU(CU({},b),{},{ticks:S?y:b.ticks}):void 0,width:l,height:c,offset:d},!!S||f);lw(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wU(A),"]")),Array.isArray(A)&&(N=A)}if((!C||!C.length)&&dw()(j)){var k=g&&g.length,E=j({xAxis:v?CU(CU({},v),{},{ticks:k?g:v.ticks}):void 0,width:l,height:c,offset:d},!!k||f);lw(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wU(E),"]")),Array.isArray(E)&&(C=E)}return s.createElement("g",{className:"recharts-cartesian-grid"},s.createElement(EU,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),s.createElement(OU,AU({},u,{offset:d,horizontalPoints:N,xAxis:v,yAxis:b})),s.createElement(TU,AU({},u,{offset:d,verticalPoints:C,xAxis:v,yAxis:b})),s.createElement(DU,AU({},u,{horizontalPoints:N})),s.createElement(RU,AU({},u,{verticalPoints:C})))}LU.displayName="CartesianGrid";const FU=e=>{let{data:t,height:r=300}=e;const a=e=>"$".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),n=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,Xm.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,Xm.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:n}),(0,Xm.jsxs)("p",{className:"text-sm text-green-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Earnings:"})," ",a(r[0].value)]}),(0,Xm.jsxs)("p",{className:"text-sm text-blue-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Consultations:"})," ",r[0].payload.count]})]}):null};return(0,Xm.jsx)(Yw,{width:"100%",height:r,children:(0,Xm.jsxs)(vU,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{dataKey:"label",tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)(gU,{tickFormatter:a,tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)($N,{content:(0,Xm.jsx)(n,{})}),(0,Xm.jsx)(CS,{wrapperStyle:{fontSize:"14px",paddingTop:"10px"},iconType:"line"}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Earnings"})]})})};var qU=cz({chartName:"BarChart",GraphicalChild:uL,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oU},{axisType:"yAxis",AxisComp:gU}],formatAxisMap:gL});const zU=e=>{let{data:t,height:r=300}=e;const a=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444"],n=e=>"$".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),s=e=>{let{active:t,payload:r,label:a}=e;return t&&r&&r.length?(0,Xm.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,Xm.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:a}),(0,Xm.jsxs)("p",{className:"text-sm text-green-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Earnings:"})," ",n(r[0].value)]}),(0,Xm.jsxs)("p",{className:"text-sm text-blue-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Consultations:"})," ",r[0].payload.count]})]}):null};return(0,Xm.jsx)(Yw,{width:"100%",height:r,children:(0,Xm.jsxs)(qU,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{dataKey:"label",tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)(gU,{tickFormatter:n,tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)($N,{content:(0,Xm.jsx)(s,{})}),(0,Xm.jsx)(CS,{wrapperStyle:{fontSize:"14px",paddingTop:"10px"}}),(0,Xm.jsx)(uL,{dataKey:"earnings",name:"Earnings",radius:[8,8,0,0],children:t.map((e,t)=>(0,Xm.jsx)(UM,{fill:a[t%a.length]},"cell-".concat(t)))})]})})};var UU=["points","className","baseLinePoints","connectNulls"];function BU(){return BU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},BU.apply(this,arguments)}function VU(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HU(e){return function(e){if(Array.isArray(e))return WU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return WU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var GU=function(e){return e&&e.x===+e.x&&e.y===+e.y},YU=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){GU(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),GU(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(HU(e),HU(t))},[])]);var a=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(a,"Z"):a},KU=function(e){var t=e.points,r=e.className,a=e.baseLinePoints,n=e.connectNulls,i=VU(e,UU);if(!t||!t.length)return null;var o=ct("recharts-polygon",r);if(a&&a.length){var l=i.stroke&&"none"!==i.stroke,c=function(e,t,r){var a=YU(e,r);return"".concat("Z"===a.slice(-1)?a.slice(0,-1):a,"L").concat(YU(t.reverse(),r).slice(1))}(t,a,n);return s.createElement("g",{className:o},s.createElement("path",BU({},Lw(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",stroke:"none",d:c})),l?s.createElement("path",BU({},Lw(i,!0),{fill:"none",d:YU(t,n)})):null,l?s.createElement("path",BU({},Lw(i,!0),{fill:"none",d:YU(a,n)})):null)}var d=YU(t,n);return s.createElement("path",BU({},Lw(i,!0),{fill:"Z"===d.slice(-1)?i.fill:"none",className:o,d:d}))};function $U(e){return $U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$U(e)}function QU(){return QU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},QU.apply(this,arguments)}function XU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function JU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XU(Object(r),!0).forEach(function(t){nB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZU(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sB(a.key),a)}}function eB(e,t,r){return t=rB(t),function(e,t){if(t&&("object"===$U(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tB()?Reflect.construct(t,r||[],rB(e).constructor):t.apply(e,r))}function tB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tB=function(){return!!e})()}function rB(e){return rB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rB(e)}function aB(e,t){return aB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aB(e,t)}function nB(e,t,r){return(t=sB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sB(e){var t=function(e,t){if("object"!=$U(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=$U(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$U(t)?t:t+""}var iB=Math.PI/180,oB=1e-5,lB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aB(e,t)}(t,e),r=t,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,a=t.cy,n=t.radius,s=t.orientation,i=t.tickSize||8,o=yM(r,a,n,e.coordinate),l=yM(r,a,n+("inner"===s?-1:1)*i,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*iB);return r>oB?"outer"===t?"start":"end":r<-oB?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.radius,n=e.axisLine,i=e.axisLineType,o=JU(JU({},Lw(this.props,!1)),{},{fill:"none"},Lw(n,!1));if("circle"===i)return s.createElement(AS,QU({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:a}));var l=this.props.ticks.map(function(e){return yM(t,r,a,e.coordinate)});return s.createElement(KU,QU({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,n=r.tick,i=r.tickLine,o=r.tickFormatter,l=r.stroke,c=Lw(this.props,!1),d=Lw(n,!1),u=JU(JU({},c),{},{fill:"none"},Lw(i,!1)),m=a.map(function(r,a){var m=e.getTickLineCoord(r),p=JU(JU(JU({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:a,payload:r,x:m.x2,y:m.y2});return s.createElement(oN,QU({className:ct("recharts-polar-angle-axis-tick",NM(n)),key:"tick-".concat(r.coordinate)},jw(e.props,r,a)),i&&s.createElement("line",QU({className:"recharts-polar-angle-axis-tick-line"},u,m)),n&&t.renderTickItem(n,p,o?o(r.value,a):r.value))});return s.createElement(oN,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,a=e.axisLine;return r<=0||!t||!t.length?null:s.createElement(oN,{className:ct("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],n=[{key:"renderTickItem",value:function(e,t,r){return s.isValidElement(e)?s.cloneElement(e,t):dw()(e)?e(t):s.createElement(oE,QU({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],a&&ZU(r.prototype,a),n&&ZU(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);nB(lB,"displayName","PolarAngleAxis"),nB(lB,"axisType","angleAxis"),nB(lB,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cB=r(2794),dB=r.n(cB),uB=r(9364),mB=r.n(uB),pB=["cx","cy","angle","ticks","axisLine"],hB=["ticks","tick","angle","tickFormatter","stroke"];function xB(e){return xB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xB(e)}function fB(){return fB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fB.apply(this,arguments)}function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function gB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yB(Object(r),!0).forEach(function(t){SB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vB(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AB(a.key),a)}}function jB(e,t,r){return t=NB(t),function(e,t){if(t&&("object"===xB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wB()?Reflect.construct(t,r||[],NB(e).constructor):t.apply(e,r))}function wB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wB=function(){return!!e})()}function NB(e){return NB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NB(e)}function CB(e,t){return CB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CB(e,t)}function SB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=function(e,t){if("object"!=xB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=xB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xB(t)?t:t+""}var kB,EB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CB(e,t)}(t,e),r=t,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,a=r.angle,n=r.cx,s=r.cy;return yM(n,s,t,a)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.angle,n=e.ticks,s=dB()(n,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:a,endAngle:a,innerRadius:mB()(n,function(e){return e.coordinate||0}).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.angle,n=e.ticks,i=e.axisLine,o=vB(e,pB),l=n.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=yM(t,r,l[0],a),d=yM(t,r,l[1],a),u=gB(gB(gB({},Lw(o,!1)),{},{fill:"none"},Lw(i,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return s.createElement("line",fB({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,n=r.tick,i=r.angle,o=r.tickFormatter,l=r.stroke,c=vB(r,hB),d=this.getTickTextAnchor(),u=Lw(c,!1),m=Lw(n,!1),p=a.map(function(r,a){var c=e.getTickValueCoord(r),p=gB(gB(gB(gB({textAnchor:d,transform:"rotate(".concat(90-i,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},m),{},{index:a},c),{},{payload:r});return s.createElement(oN,fB({className:ct("recharts-polar-radius-axis-tick",NM(n)),key:"tick-".concat(r.coordinate)},jw(e.props,r,a)),t.renderTickItem(n,p,o?o(r.value,a):r.value))});return s.createElement(oN,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,a=e.tick;return t&&t.length?s.createElement(oN,{className:ct("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),a&&this.renderTicks(),_M.renderCallByParent(this.props,this.getViewBox())):null}}],n=[{key:"renderTickItem",value:function(e,t,r){return s.isValidElement(e)?s.cloneElement(e,t):dw()(e)?e(t):s.createElement(oE,fB({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],a&&bB(r.prototype,a),n&&bB(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);function PB(e){return PB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PB(e)}function OB(){return OB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OB.apply(this,arguments)}function TB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function DB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TB(Object(r),!0).forEach(function(t){FB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qB(a.key),a)}}function _B(e,t,r){return t=IB(t),function(e,t){if(t&&("object"===PB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MB()?Reflect.construct(t,r||[],IB(e).constructor):t.apply(e,r))}function MB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MB=function(){return!!e})()}function IB(e){return IB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IB(e)}function LB(e,t){return LB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LB(e,t)}function FB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=function(e,t){if("object"!=PB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=PB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PB(t)?t:t+""}SB(EB,"displayName","PolarRadiusAxis"),SB(EB,"axisType","radiusAxis"),SB(EB,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var zB=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FB(r=_B(this,t,[e]),"pieRef",null),FB(r,"sectorRefs",[]),FB(r,"id",rw("recharts-pie-")),FB(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),dw()(e)&&e()}),FB(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),dw()(e)&&e()}),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LB(e,t)}(t,e),r=t,a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.label,n=r.labelLine,i=r.dataKey,o=r.valueKey,l=Lw(this.props,!1),c=Lw(a,!1),d=Lw(n,!1),u=a&&a.offsetRadius||20,m=e.map(function(e,r){var m=(e.startAngle+e.endAngle)/2,p=yM(e.cx,e.cy,e.outerRadius+u,m),h=DB(DB(DB(DB({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(p.x,e.cx)},p),x=DB(DB(DB(DB({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[yM(e.cx,e.cy,e.outerRadius,m),p]}),f=i;return Qj()(i)&&Qj()(o)?f="value":Qj()(i)&&(f=o),s.createElement(oN,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},n&&t.renderLabelLineItem(n,x,"line"),t.renderLabelItem(a,h,y_(e,f)))});return s.createElement(oN,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,a=r.activeShape,n=r.blendStroke,i=r.inactiveShape;return e.map(function(r,o){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(o),c=i&&t.hasActiveIndex()?i:null,d=l?a:c,u=DB(DB({},r),{},{stroke:n?r.fill:r.stroke,tabIndex:-1});return s.createElement(oN,OB({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},jw(t.props,r,o),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),s.createElement(RI,OB({option:d,isActive:l,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,a=t.isAnimationActive,n=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return s.createElement(tk,{begin:n,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,n=[],i=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=d&&d[t],s=t>0?Gj()(e,"paddingAngle",0):0;if(r){var o=sw(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=DB(DB({},e),{},{startAngle:i+s,endAngle:i+o(a)+s});n.push(l),i=l.endAngle}else{var c=e.endAngle,u=e.startAngle,m=sw(0,c-u)(a),p=DB(DB({},e),{},{startAngle:i+s,endAngle:i+m+s});n.push(p),i=p.endAngle}}),s.createElement(oN,null,e.renderSectorsStatically(n))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var a=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[a].focus(),t.setState({sectorToFocus:a});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,a=this.state.prevSectors;return!(r&&t&&t.length)||a&&fR()(a,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,a=t.sectors,n=t.className,i=t.label,o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,m=this.state.isAnimationFinished;if(r||!a||!a.length||!Zj(o)||!Zj(l)||!Zj(c)||!Zj(d))return null;var p=ct("recharts-pie",n);return s.createElement(oN,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(a),_M.renderCallByParent(this.props,null,!1),(!u||m)&&tI.renderCallByParent(this.props,a,!1))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(s.isValidElement(e))return s.cloneElement(e,t);if(dw()(e))return e(t);var a=ct("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return s.createElement(xq,OB({},t,{key:r,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,r){if(s.isValidElement(e))return s.cloneElement(e,t);var a=r;if(dw()(e)&&(a=e(t),s.isValidElement(a)))return a;var n=ct("recharts-pie-label-text","boolean"===typeof e||dw()(e)?"":e.className);return s.createElement(oE,OB({},t,{alignmentBaseline:"middle",className:n}),a)}}],a&&RB(r.prototype,a),n&&RB(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);kB=zB,FB(zB,"displayName","Pie"),FB(zB,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_N.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),FB(zB,"parseDeltaAngle",function(e,t){return Xj(t-e)*Math.min(Math.abs(t-e),360)}),FB(zB,"getRealPieData",function(e){var t=e.data,r=e.children,a=Lw(e,!1),n=Tw(r,UM);return t&&t.length?t.map(function(e,t){return DB(DB(DB({payload:e},a),e),n&&n[t]&&n[t].props)}):n&&n.length?n.map(function(e){return DB(DB({},a),e.props)}):[]}),FB(zB,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,n=t.width,s=t.height,i=gM(n,s);return{cx:a+aw(e.cx,n,n/2),cy:r+aw(e.cy,s,s/2),innerRadius:aw(e.innerRadius,i,0),outerRadius:aw(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(n*n+s*s)/2}}),FB(zB,"getComposedData",function(e){var t=e.item,r=e.offset,a=void 0!==t.type.defaultProps?DB(DB({},t.type.defaultProps),t.props):t.props,n=kB.getRealPieData(a);if(!n||!n.length)return null;var s=a.cornerRadius,i=a.startAngle,o=a.endAngle,l=a.paddingAngle,c=a.dataKey,d=a.nameKey,u=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),h=kB.parseCoordinateOfPie(a,r),x=kB.parseDeltaAngle(i,o),f=Math.abs(x),y=c;Qj()(c)&&Qj()(u)?(lw(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):Qj()(c)&&(lw(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=u);var g,v,b=n.filter(function(e){return 0!==y_(e,y,0)}).length,j=f-b*p-(f>=360?b:b-1)*l,w=n.reduce(function(e,t){var r=y_(t,y,0);return e+(Zj(r)?r:0)},0);w>0&&(g=n.map(function(e,t){var r,a=y_(e,y,0),n=y_(e,d,t),o=(Zj(a)?a:0)/w,c=(r=t?v.endAngle+Xj(x)*l*(0!==a?1:0):i)+Xj(x)*((0!==a?p:0)+o*j),u=(r+c)/2,f=(h.innerRadius+h.outerRadius)/2,g=[{name:n,value:a,payload:e,dataKey:y,type:m}],b=yM(h.cx,h.cy,f,u);return v=DB(DB(DB({percent:o,cornerRadius:s,name:n,tooltipPayload:g,midAngle:u,middleRadius:f,tooltipPosition:b},e),h),{},{value:y_(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:Xj(x)*l})}));return DB(DB({},h),{},{sectors:g,data:n})});var UB=cz({chartName:"PieChart",GraphicalChild:zB,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lB},{axisType:"radiusAxis",AxisComp:EB}],formatAxisMap:vM,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const BB=e=>{let{data:t,height:r=300}=e;const a=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444","#06b6d4"],n=e=>"".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),s=e=>{let{active:t,payload:r}=e;return t&&r&&r.length?(0,Xm.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,Xm.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:r[0].name}),(0,Xm.jsxs)("p",{className:"text-sm text-green-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Total:"})," ",n(r[0].value)]}),(0,Xm.jsxs)("p",{className:"text-sm text-blue-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Payments:"})," ",r[0].payload.count]})]}):null},i=Math.min(.35*r,70);return(0,Xm.jsx)(Yw,{width:"100%",height:r,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:t,cx:"50%",cy:"45%",labelLine:!1,label:e=>{let{cx:t,cy:r,midAngle:a,innerRadius:n,outerRadius:s,percent:i}=e;const o=n+.5*(s-n),l=t+o*Math.cos(-a*Math.PI/180),c=r+o*Math.sin(-a*Math.PI/180);return(0,Xm.jsx)("text",{x:l,y:c,fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central",className:"text-xs font-semibold",children:"".concat((100*i).toFixed(0),"%")})},outerRadius:i,fill:"#8884d8",dataKey:"value",children:t.map((e,t)=>(0,Xm.jsx)(UM,{fill:a[t%a.length]},"cell-".concat(t)))}),(0,Xm.jsx)($N,{content:(0,Xm.jsx)(s,{})}),(0,Xm.jsx)(CS,{verticalAlign:"bottom",height:30,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}})]})})};var VB,HB=["layout","type","stroke","connectNulls","isRange","ref"],WB=["key"];function GB(e){return GB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GB(e)}function YB(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KB(){return KB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},KB.apply(this,arguments)}function $B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function QB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$B(Object(r),!0).forEach(function(t){rV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aV(a.key),a)}}function JB(e,t,r){return t=eV(t),function(e,t){if(t&&("object"===GB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZB()?Reflect.construct(t,r||[],eV(e).constructor):t.apply(e,r))}function ZB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZB=function(){return!!e})()}function eV(e){return eV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eV(e)}function tV(e,t){return tV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tV(e,t)}function rV(e,t,r){return(t=aV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=function(e,t){if("object"!=GB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=GB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GB(t)?t:t+""}var nV=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return rV(e=JB(this,t,[].concat(a)),"state",{isAnimationFinished:!0}),rV(e,"id",rw("recharts-area-")),rV(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),dw()(t)&&t()}),rV(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),dw()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tV(e,t)}(t,e),r=t,a=[{key:"renderDots",value:function(e,r,a){var n=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(n&&!i)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,u=Lw(this.props,!1),m=Lw(l,!0),p=c.map(function(e,r){var a=QB(QB(QB({key:"dot-".concat(r),r:3},u),m),{},{index:r,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,a)}),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return s.createElement(oN,KB({className:"recharts-area-dots"},h),p)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,a=t.points,n=t.strokeWidth,i=a[0].x,o=a[a.length-1].x,l=e*Math.abs(i-o),c=dR()(a.map(function(e){return e.y||0}));return Zj(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(dR()(r.map(function(e){return e.y||0})),c)),Zj(c)?s.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,a=t.points,n=t.strokeWidth,i=a[0].y,o=a[a.length-1].y,l=e*Math.abs(i-o),c=dR()(a.map(function(e){return e.x||0}));return Zj(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(dR()(r.map(function(e){return e.x||0})),c)),Zj(c)?s.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,a){var n=this.props,i=n.layout,o=n.type,l=n.stroke,c=n.connectNulls,d=n.isRange,u=(n.ref,YB(n,HB));return s.createElement(oN,{clipPath:r?"url(#clipPath-".concat(a,")"):null},s.createElement(xq,KB({},Lw(u,!0),{points:e,connectNulls:c,type:o,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==l&&s.createElement(xq,KB({},Lw(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:e})),"none"!==l&&d&&s.createElement(xq,KB({},Lw(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,a=this.props,n=a.points,i=a.baseLine,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=this.state,p=m.prevPoints,h=m.prevBaseLine;return s.createElement(tk,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var o=a.t;if(p){var l,c=p.length/n.length,d=n.map(function(e,t){var r=Math.floor(t*c);if(p[r]){var a=p[r],n=sw(a.x,e.x),s=sw(a.y,e.y);return QB(QB({},e),{},{x:n(o),y:s(o)})}return e});return l=Zj(i)&&"number"===typeof i?sw(h,i)(o):Qj()(i)||Hj()(i)?sw(h,0)(o):i.map(function(e,t){var r=Math.floor(t*c);if(h[r]){var a=h[r],n=sw(a.x,e.x),s=sw(a.y,e.y);return QB(QB({},e),{},{x:n(o),y:s(o)})}return e}),r.renderAreaStatically(d,l,e,t)}return s.createElement(oN,null,s.createElement("defs",null,s.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(o))),s.createElement(oN,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(n,i,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,a=r.points,n=r.baseLine,s=r.isAnimationActive,i=this.state,o=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return s&&a&&a.length&&(!o&&c>0||!fR()(o,a)||!fR()(l,n))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,a=t.dot,n=t.points,i=t.className,o=t.top,l=t.left,c=t.xAxis,d=t.yAxis,u=t.width,m=t.height,p=t.isAnimationActive,h=t.id;if(r||!n||!n.length)return null;var x=this.state.isAnimationFinished,f=1===n.length,y=ct("recharts-area",i),g=c&&c.allowDataOverflow,v=d&&d.allowDataOverflow,b=g||v,j=Qj()(h)?this.id:h,w=null!==(e=Lw(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,C=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,k=(Iw(a)?a:{}).clipDot,E=void 0===k||k,P=2*C+A;return s.createElement(oN,{className:y},g||v?s.createElement("defs",null,s.createElement("clipPath",{id:"clipPath-".concat(j)},s.createElement("rect",{x:g?l:l-u/2,y:v?o:o-m/2,width:g?u:2*u,height:v?m:2*m})),!E&&s.createElement("clipPath",{id:"clipPath-dots-".concat(j)},s.createElement("rect",{x:l-P/2,y:o-P/2,width:u+P,height:m+P}))):null,f?null:this.renderArea(b,j),(a||f)&&this.renderDots(b,E,j),(!p||x)&&tI.renderCallByParent(this.props,n))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&XB(r.prototype,a),n&&XB(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);VB=nV,rV(nV,"displayName","Area"),rV(nV,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_N.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),rV(nV,"getBaseValue",function(e,t,r,a){var n=e.layout,s=e.baseValue,i=t.props.baseValue,o=null!==i&&void 0!==i?i:s;if(Zj(o)&&"number"===typeof o)return o;var l="horizontal"===n?a:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===o?u:"dataMax"===o||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),rV(nV,"getComposedData",function(e){var t,r=e.props,a=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,p=e.offset,h=r.layout,x=d&&d.length,f=VB.getBaseValue(r,a,n,s),y="horizontal"===h,g=!1,v=m.map(function(e,t){var r;x?r=d[u+t]:(r=y_(e,c),Array.isArray(r)?g=!0:r=[f,r]);var a=null==r[1]||x&&null==y_(e,c);return y?{x:M_({axis:n,ticks:i,bandSize:l,entry:e,index:t}),y:a?null:s.scale(r[1]),value:r,payload:e}:{x:a?null:n.scale(r[1]),y:M_({axis:s,ticks:o,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=x||g?v.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?n.scale(t):null,y:e.y}}):y?s.scale(f):n.scale(f),QB({points:v,baseLine:t,layout:h,isRange:g},p)}),rV(nV,"renderDotItem",function(e,t){var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if(dw()(e))r=e(t);else{var a=ct("recharts-area-dot","boolean"!==typeof e?e.className:""),n=t.key,i=YB(t,WB);r=s.createElement(AS,KB({},i,{key:n,className:a}))}return r});var sV=cz({chartName:"AreaChart",GraphicalChild:nV,axisComponents:[{axisType:"xAxis",AxisComp:oU},{axisType:"yAxis",AxisComp:gU}],formatAxisMap:gL});const iV=e=>{let{data:t,height:r=300}=e;const a=e=>"$".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),n=t.reduce((e,t,r)=>{const a=0===r?parseFloat(t.earnings):e[r-1].cumulative+parseFloat(t.earnings);return[...e,(0,ot.A)((0,ot.A)({},t),{},{cumulative:a})]},[]),s=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,Xm.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,Xm.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:n}),(0,Xm.jsxs)("p",{className:"text-sm text-green-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Cumulative:"})," ",a(r[0].value)]}),(0,Xm.jsxs)("p",{className:"text-sm text-blue-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:"This Period:"})," ",a(r[0].payload.earnings)]})]}):null};return(0,Xm.jsx)(Yw,{width:"100%",height:r,children:(0,Xm.jsxs)(sV,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Xm.jsx)("defs",{children:(0,Xm.jsxs)("linearGradient",{id:"colorEarnings",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Xm.jsx)("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),(0,Xm.jsx)("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{dataKey:"label",tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)(gU,{tickFormatter:a,tick:{fontSize:12},stroke:"#6b7280"}),(0,Xm.jsx)($N,{content:(0,Xm.jsx)(s,{})}),(0,Xm.jsx)(nV,{type:"monotone",dataKey:"cumulative",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorEarnings)",name:"Cumulative Earnings"})]})})},oV=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},lV=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},cV=e=>e||0===e?"$".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):"$0.00",dV=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({totalEarnings:0,monthlyEarnings:0,weeklyEarnings:0,pendingPayouts:0,completedConsultations:0,averageConsultationFee:0}),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)("daily"),[f,y]=(0,s.useState)("month"),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)(null),[E,P]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1);(0,s.useEffect)(()=>{D(),R()},[f]),(0,s.useEffect)(()=>{M()},[a,g,b]);const D=async()=>{try{N(!0);const e=await t(()=>mp.getPaymentHistory({period:f}));n(e||[]),_(e||[])}catch(e){console.error("Failed to load payment data:",e),n([])}finally{N(!1)}},R=async()=>{try{const e=(await t(()=>mp.getEarningsChartData(f,h))||[]).map(e=>({label:e.label,date:e.date,earnings:parseFloat(e.earnings),count:e.count}));u(e);const r=(await t(()=>mp.getPaymentMethodDistribution(f))||[]).map(e=>({name:e.name,value:parseFloat(e.value),count:e.count}));p(r)}catch(e){console.error("Failed to load chart data:",e),u([]),p([])}},_=e=>{const t=e.filter(e=>{var t;return"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}),r=new Date,a=new Date(r.getTime()-6048e5),n=new Date(r.getFullYear(),r.getMonth()-1,r.getDate()),s=t.filter(e=>new Date(e.processedAt)>=a),i=t.filter(e=>new Date(e.processedAt)>=n),o=t.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),l=s.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),d=i.reduce((e,t)=>e+(parseFloat(t.amount)||0),0),u=e.filter(e=>{var t;return"pending"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),m=t.length>0?o/t.length:0;c({totalEarnings:o,monthlyEarnings:d,weeklyEarnings:l,pendingPayouts:u,completedConsultations:t.length,averageConsultationFee:m})},M=()=>{let e=[...a];"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())===b.toLowerCase()})),g&&(e=e.filter(e=>{var t,r,a;return(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.id)||void 0===r?void 0:r.toString().includes(g))||(null===(a=e.paymentType)||void 0===a?void 0:a.toLowerCase().includes(g.toLowerCase()))})),o(e)},I=async e=>{try{T(!0),P(!1),"pdf"===e?await mp.exportEarningsPdf(f):"csv"===e&&await mp.exportEarningsCsv(f),alert("".concat(e.toUpperCase()," report downloaded successfully!"))}catch(t){console.error("Export failed:",t),alert("Failed to export report. Please try again.")}finally{T(!1)}};return(0,Xm.jsxs)("div",{className:"p-4 space-y-4 max-h-screen overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"My Earnings"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Track your consultation payments"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(w?"animate-spin":"")}),onClick:()=>{D(),R()},disabled:w}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",icon:O?(0,Xm.jsx)(pg,{className:"w-4 h-4 animate-spin"}):(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>P(!E),disabled:O,children:["Export",(0,Xm.jsx)(Hm,{className:"w-3 h-3 ml-1"})]}),E&&(0,Xm.jsx)("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:(0,Xm.jsxs)("div",{className:"py-1",children:[(0,Xm.jsxs)("button",{onClick:()=>I("pdf"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Xm.jsx)(Fj,{className:"w-4 h-4 mr-2"}),"PDF"]}),(0,Xm.jsxs)("button",{onClick:()=>I("csv"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4 mr-2"}),"CSV"]})]})})]})]})]}),(0,Xm.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Period:"})]}),(0,Xm.jsx)("div",{className:"flex space-x-1",children:["week","month","year","all"].map(e=>(0,Xm.jsx)("button",{onClick:()=>(e=>{y(e)})(e),className:"px-3 py-1 rounded text-xs font-medium transition-colors ".concat(f===e?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"all"===e?"All":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-6 gap-3",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Total Earnings"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:cV(l.totalEarnings)})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(Kp,{className:"w-5 h-5 text-green-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"This Month"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:cV(l.monthlyEarnings)})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"This Week"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:cV(l.weeklyEarnings)})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-yellow-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Pending"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:cV(l.pendingPayouts)})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Consultations"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:l.completedConsultations})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xm.jsx)(kp,{className:"w-5 h-5 text-purple-600"})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Avg. Fee"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:cV(l.averageConsultationFee)})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Earnings Trend"}),(0,Xm.jsx)("div",{className:"flex space-x-1",children:["daily","weekly","monthly"].map(e=>(0,Xm.jsx)("button",{onClick:()=>(e=>{x(e),R()})(e),className:"px-2 py-0.5 rounded text-xs font-medium transition-colors ".concat(h===e?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.charAt(0).toUpperCase()},e))})]}),d.length>0?(0,Xm.jsx)(FU,{data:d,height:200}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[200px] text-gray-400 text-xs",children:"No data"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Methods"}),m.length>0?(0,Xm.jsx)(BB,{data:m,height:200}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[200px] text-gray-400 text-xs",children:"No data"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Monthly Comparison"}),d.length>0&&"monthly"===h?(0,Xm.jsx)(zU,{data:d,height:200}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[200px] text-gray-400 text-xs",children:"Switch to monthly"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Cumulative Earnings"}),d.length>0?(0,Xm.jsx)(iV,{data:d,height:200}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[200px] text-gray-400 text-xs",children:"No data"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3 pb-3 border-b",children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-gray-900",children:["Payment History (",i.length,")"]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search...",value:g,onChange:e=>v(e.target.value),className:"pl-8 pr-3 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-transparent w-48"})]}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All"}),(0,Xm.jsx)("option",{value:"completed",children:"Completed"}),(0,Xm.jsx)("option",{value:"pending",children:"Pending"}),(0,Xm.jsx)("option",{value:"refunded",children:"Refunded"})]})]})]}),r&&!w?(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(pg,{className:"w-8 h-8 text-primary-500 animate-spin mx-auto mb-2"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Loading..."})]}):0===i.length?(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(ib,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"No payments found"})]}):(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"w-full text-sm",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,Xm.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),(0,Xm.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Xm.jsxs)("span",{className:"text-xs font-medium text-gray-900",children:["#",e.id]})}),(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Xm.jsx)(lp,{variant:"info",size:"sm",children:e.paymentType})}),(0,Xm.jsx)("td",{className:"px-3 py-2",children:(0,Xm.jsx)("div",{className:"text-xs text-gray-900 truncate max-w-xs",children:e.description})}),(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"text-xs font-bold text-green-600",children:cV(e.amount)})}),(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-600",children:oV(e.processedAt)}),(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Xm.jsx)(sp,{status:e.status,size:"sm"})}),(0,Xm.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Xm.jsx)("button",{onClick:()=>(e=>{k(e),S(!0)})(e),className:"text-primary-600 hover:text-primary-700 text-xs font-medium",children:"View"})})]},e.id))})]})})]}),C&&A&&(0,Xm.jsx)($y,{isOpen:C,onClose:()=>S(!1),title:"Payment Details",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Payment #",A.id]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:A.description})]}),(0,Xm.jsx)(sp,{status:A.status})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:A.paymentType})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:A.paymentMethod})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-green-600",children:cV(A.amount)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processed Date"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:lV(A.processedAt)})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>S(!1),children:"Close"}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),children:"Download Receipt"})]})]})})]})},uV=()=>(0,Xm.jsx)(nb,{}),mV=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)("preferences"),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)({notifications:{email:!0,sms:!0,push:!0,newCaseAssignment:!0,appointmentReminders:!0,patientMessages:!0,systemUpdates:!0,promotions:!1},availability:{autoAcceptCases:!1,maxDailyCases:10,allowEmergencyCases:!0,requiresConsultationFee:!0},privacy:{profileVisibility:"verified_patients",showRating:!0,showExperience:!0,allowReviews:!0},accessibility:{theme:"light",fontSize:"medium",language:"en",timezone:"UTC"}}),h=Tx({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});(0,s.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=await t(()=>mp.getSettings());e&&(p(e),u(JSON.parse(JSON.stringify(e))),c(!1))}catch(e){console.error("Failed to load preferences:",e)}},f=(e,t)=>{const r=(0,ot.A)((0,ot.A)({},m),{},{[e]:(0,ot.A)((0,ot.A)({},m[e]),t)});p(r),c(!0)},y=[{id:"preferences",label:"Preferences",icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:(0,Xm.jsx)(hy,{className:"w-4 h-4"})}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Gm,{className:"w-8 h-8 text-primary-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage your preferences and security settings"})]})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsx)(My,{className:"sticky top-4",children:(0,Xm.jsx)("nav",{className:"space-y-1 p-4",children:y.map(e=>(0,Xm.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(a===e.id?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-100"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})})}),(0,Xm.jsxs)("div",{className:"lg:col-span-3",children:[l&&(0,Xm.jsx)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"You have unsaved changes"})]}),(0,Xm.jsxs)("div",{className:"flex space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>{p(JSON.parse(JSON.stringify(d))),c(!1)},disabled:r,children:"Cancel"}),(0,Xm.jsx)(Zm,{size:"sm",onClick:async()=>{try{await t(()=>mp.updateSettings(m)),u(JSON.parse(JSON.stringify(m))),c(!1),alert("Settings saved successfully!")}catch(e){console.error("Failed to update preferences:",e),alert("Failed to save settings. Please try again.")}},disabled:r,icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:"Save Changes"})]})]})}),"preferences"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Notification Preferences",children:(0,Xm.jsx)("div",{className:"p-6 space-y-4",children:Object.entries({email:{title:"Email Notifications",desc:"Receive updates via email"},sms:{title:"SMS Notifications",desc:"Receive text message alerts"},push:{title:"Push Notifications",desc:"Receive browser notifications"},newCaseAssignment:{title:"New Case Assignments",desc:"Get notified about new case assignments"},appointmentReminders:{title:"Appointment Reminders",desc:"Get notified about upcoming appointments"},patientMessages:{title:"Patient Messages",desc:"Get notified about new patient messages"}}).map(e=>{let[t,{title:r,desc:a}]=e;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:r}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:a})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:m.notifications[t],onChange:e=>f("notifications",{[t]:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},t)})})}),(0,Xm.jsx)(My,{title:"Availability Settings",children:(0,Xm.jsx)("div",{className:"p-6 space-y-6",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Auto-Accept Cases"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically accept matched cases"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:m.availability.autoAcceptCases,onChange:e=>f("availability",{autoAcceptCases:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block font-medium text-gray-900 mb-2",children:"Maximum Daily Cases"}),(0,Xm.jsx)("input",{type:"number",min:"1",max:"50",value:m.availability.maxDailyCases,onChange:e=>f("availability",{maxDailyCases:parseInt(e.target.value)}),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Maximum cases per day"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Accept Emergency Cases"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Allow urgent/emergency case assignments"})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:m.availability.allowEmergencyCases,onChange:e=>f("availability",{allowEmergencyCases:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})})}),(0,Xm.jsx)(My,{title:"Accessibility & Display",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Theme"}),(0,Xm.jsx)("div",{className:"flex space-x-4",children:[{value:"light",icon:(0,Xm.jsx)(kb,{className:"w-5 h-5"}),label:"Light"},{value:"dark",icon:(0,Xm.jsx)(Eb,{className:"w-5 h-5"}),label:"Dark"},{value:"system",icon:(0,Xm.jsx)(Pb,{className:"w-5 h-5"}),label:"System"}].map(e=>(0,Xm.jsxs)("button",{onClick:()=>f("accessibility",{theme:e.value}),className:"flex items-center space-x-2 px-4 py-2 rounded-lg border-2 transition-colors ".concat(m.accessibility.theme===e.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 text-gray-700 hover:border-gray-400"),children:[e.icon,(0,Xm.jsx)("span",{className:"font-medium",children:e.label})]},e.value))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Language"}),(0,Xm.jsxs)("select",{value:m.accessibility.language,onChange:e=>f("accessibility",{language:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"en",children:"English"}),(0,Xm.jsx)("option",{value:"de",children:"German"}),(0,Xm.jsx)("option",{value:"fr",children:"French"}),(0,Xm.jsx)("option",{value:"es",children:"Spanish"})]})]})]})}),(0,Xm.jsx)(My,{title:"Privacy Settings",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Profile Visibility"}),(0,Xm.jsxs)("select",{value:m.privacy.profileVisibility,onChange:e=>f("privacy",{profileVisibility:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"private",children:"Private"}),(0,Xm.jsx)("option",{value:"verified_patients",children:"Verified Patients Only"}),(0,Xm.jsx)("option",{value:"all_patients",children:"All Patients"}),(0,Xm.jsx)("option",{value:"public",children:"Public"})]})]}),(0,Xm.jsx)("div",{className:"space-y-4",children:Object.entries({showRating:{title:"Show Rating",desc:"Display your rating on profile"},showExperience:{title:"Show Experience",desc:"Display years of experience"},allowReviews:{title:"Allow Patient Reviews",desc:"Let patients leave reviews"}}).map(e=>{let[t,{title:r,desc:a}]=e;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:r}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:a})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:m.privacy[t],onChange:e=>f("privacy",{[t]:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},t)})})]})})]}),"security"===a&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)(My,{title:"Password & Security",children:(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(hy,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Password"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Last updated 3 months ago"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>o(!0),children:"Change Password"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)($m,{className:"w-5 h-5 text-gray-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Add extra security"})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",children:"Enable"})]})]})})})]})]})}),i&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Change Password"}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},h.register("currentPassword",{required:!0})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},h.register("newPassword",{required:!0,minLength:8})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"password"},h.register("confirmPassword",{required:!0})),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}))]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{o(!1),h.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:h.handleSubmit(async e=>{if(e.newPassword===e.confirmPassword)try{await t(()=>mp.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword})),o(!1),h.reset()}catch(r){console.error("Failed to change password:",r),h.setError("currentPassword",{type:"manual",message:"Current password is incorrect"})}else h.setError("confirmPassword",{type:"manual",message:"Passwords do not match"})}),disabled:r,children:"Change Password"})]})]})]})})]})},pV=()=>{const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)("ALL"),[j,w]=(0,s.useState)(""),[N,C]=(0,s.useState)({total:0,draft:0,finalized:0,pendingCases:0}),S=(0,s.useCallback)(async()=>{i(!0),l(null);try{const e=await mp.getConsultationReports();t(e);const r=e.filter(e=>"DRAFT"===e.status).length,a=e.filter(e=>"FINALIZED"===e.status).length;return C(t=>(0,ot.A)((0,ot.A)({},t),{},{total:e.length,draft:r,finalized:a})),{success:!0,data:e}}catch(e){return console.error("Error fetching reports:",e),l("Failed to load reports. Please try again."),{success:!1,error:e}}finally{i(!1)}},[]),A=(0,s.useCallback)(async()=>{h(!0),f(null);try{const e=await mp.getAllCasses(),t=e.filter(e=>"CONSULTATION_COMPLETE"===e.status);return d(t),C(e=>(0,ot.A)((0,ot.A)({},e),{},{pendingCases:t.length})),{success:!0,data:t}}catch(e){return console.error("Error fetching pending cases:",e),f("Failed to load pending cases. Please try again."),{success:!1,error:e}}finally{h(!1)}},[]),k=(0,s.useCallback)(()=>{let t=[...e];if("ALL"!==v&&(t=t.filter(e=>e.status===v)),y.trim()){const e=y.toLowerCase();t=t.filter(t=>{var r,a,n;return t.id.toString().includes(e)||t.caseId.toString().includes(e)||(null===(r=t.diagnosis)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=t.doctor)||void 0===a||null===(n=a.fullName)||void 0===n?void 0:n.toLowerCase().includes(e))})}a(t)},[e,v,y]),E=(0,s.useCallback)(()=>{let e=[...c];if(j.trim()){const t=j.toLowerCase();e=e.filter(e=>{var r,a,n;return e.id.toString().includes(t)||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.diagnosis)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.patientName)||void 0===n?void 0:n.toLowerCase().includes(t))})}m(e)},[c,j]),P=(0,s.useCallback)(async e=>{try{var t;return null!==(t=(await mp.exportReportToPdf(e)).data)&&void 0!==t&&t.success?(await S(),{success:!0,message:"Report exported to PDF successfully!"}):{success:!1,message:"Export failed"}}catch(r){return console.error("Error exporting report:",r),{success:!1,message:"Failed to export report. Please try again.",error:r}}},[S]),O=(0,s.useCallback)(async e=>{try{return await mp.deleteConsultationReport(e),await S(),{success:!0,message:"Report deleted successfully"}}catch(t){return console.error("Error deleting report:",t),{success:!1,message:"Failed to delete report",error:t}}},[S]),T=(0,s.useCallback)(async()=>{await Promise.all([S(),A()])},[S,A]),D=(0,s.useCallback)(()=>{g(""),b("ALL"),w("")},[]);return(0,s.useEffect)(()=>{k()},[k]),(0,s.useEffect)(()=>{E()},[E]),(0,s.useEffect)(()=>{S(),A()},[S,A]),{reports:e,filteredReports:r,reportsLoading:n,reportsError:o,pendingCases:c,filteredPendingCases:u,pendingLoading:p,pendingError:x,stats:N,reportSearchTerm:y,setReportSearchTerm:g,statusFilter:v,setStatusFilter:b,caseSearchTerm:j,setCaseSearchTerm:w,fetchReports:S,fetchPendingCases:A,refreshAll:T,exportReportToPdf:P,deleteReport:O,clearFilters:D,hasReports:e.length>0,hasPendingCases:c.length>0,isLoading:n||p,hasError:o||x}},hV=e=>{let{reports:t,loading:r,error:a,searchTerm:n,setSearchTerm:s,statusFilter:i,setStatusFilter:o,navigate:l,handleExportPdf:c,handleDownloadPdf:d,getStatusBadge:u,formatDate:m}=e;return(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,Xm.jsxs)("div",{className:"flex-1 relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by report ID, case ID, or diagnosis...",value:n,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)($p,{className:"text-gray-400 w-5 h-5"}),(0,Xm.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,Xm.jsx)("option",{value:"ALL",children:"All Status"}),(0,Xm.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,Xm.jsx)("option",{value:"FINALIZED",children:"Finalized"})]})]})]}),a&&(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-red-700",children:a})]})}),0===t.length?(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reports Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:n||"ALL"!==i?"Try adjusting your filters or search terms":"You haven't created any consultation reports yet"})]}):(0,Xm.jsx)("div",{className:"grid grid-cols-1 gap-6",children:t.map(e=>(0,Xm.jsx)(yV,{report:e,onView:()=>l("/app/doctor/reports/".concat(e.id)),onEdit:()=>l("/app/doctor/reports/".concat(e.id,"/edit")),onExport:()=>c(e.id),onDownload:()=>d(e.pdfFileLink),getStatusBadge:u,formatDate:m},e.id))})]})},xV=e=>{let{cases:t,loading:r,error:a,searchTerm:n,setSearchTerm:s,handleCreateReport:i,getStatusBadge:o,getUrgencyBadge:l,formatDate:c}=e;return(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"mb-6",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by case ID, patient name, or diagnosis...",value:n,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a&&(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-red-700",children:a})]})}),r?(0,Xm.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading pending cases..."})]})}):0===t.length?(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[(0,Xm.jsx)(yg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Cases"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:n?"No cases match your search criteria":"All consultations are complete with reports created"})]}):(0,Xm.jsx)("div",{className:"grid grid-cols-1 gap-6",children:t.map(e=>(0,Xm.jsx)(gV,{caseItem:e,onCreateReport:()=>i(e.id),getStatusBadge:o,getUrgencyBadge:l,formatDate:c},e.id))})]})},fV=e=>{let{title:t,value:r,icon:a,color:n}=e;return(0,Xm.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),(0,Xm.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:r})]}),(0,Xm.jsx)("div",{className:"p-3 rounded-lg ".concat({blue:"bg-blue-100 text-blue-600",yellow:"bg-yellow-100 text-yellow-600",green:"bg-green-100 text-green-600",orange:"bg-orange-100 text-orange-600"}[n]),children:a})]})})},yV=e=>{let{report:t,onView:r,onEdit:a,onExport:n,onDownload:s,getStatusBadge:i,formatDate:o}=e;const l="DRAFT"===t.status,c="FINALIZED"===t.status;return(0,Xm.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Report #",t.id]}),i(t.status)]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4"}),"Case #",t.caseId]}),(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4"}),o(t.createdAt)]})]})]})}),(0,Xm.jsxs)("div",{className:"mb-4 space-y-2",children:[t.diagnosis&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Diagnosis:"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.diagnosis})]}),t.recommendations&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Recommendations:"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.recommendations})]})]}),t.doctor&&(0,Xm.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4 pb-4 border-b",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:t.doctor.fullName}),t.doctor.primarySpecialization&&(0,Xm.jsxs)("span",{className:"text-gray-400",children:["\u2022 ",t.doctor.primarySpecialization]})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Xm.jsxs)("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Xm.jsx)(iy,{className:"w-4 h-4"}),"View"]}),l&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),"Edit"]}),(0,Xm.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Xm.jsx)(Fj,{className:"w-4 h-4"}),"Export to PDF"]})]}),c&&t.pdfFileLink&&(0,Xm.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),"Download PDF"]})]}),c&&t.exportedAt&&(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Exported on ",o(t.exportedAt)]})})]})})},gV=e=>{let{caseItem:t,onCreateReport:r,getStatusBadge:a,getUrgencyBadge:n,formatDate:s}=e;return(0,Xm.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Case #",t.id]}),a(t.status),n(t.urgencyLevel)]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4"}),t.patientName||"Patient"]}),(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4"}),s(t.submittedAt)]})]})]})}),(0,Xm.jsxs)("div",{className:"mb-4 space-y-2",children:[t.description&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Description:"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})]}),t.diagnosis&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Diagnosis:"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.diagnosis})]}),t.specialization&&(0,Xm.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Specialization:"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:t.specialization})]})]}),(0,Xm.jsx)("div",{className:"pt-4 border-t",children:(0,Xm.jsxs)("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors ",children:[(0,Xm.jsx)(Np,{className:"w-4 h-4"}),"Create Medical Report"]})})]})})},vV=()=>{const e=te(),[t,r]=(0,s.useState)("reports"),{filteredReports:a,filteredPendingCases:n,reportsLoading:i,pendingLoading:o,reportsError:l,pendingError:c,stats:d,reportSearchTerm:u,setReportSearchTerm:m,statusFilter:p,setStatusFilter:h,caseSearchTerm:x,setCaseSearchTerm:f,refreshAll:y,exportReportToPdf:g}=pV(),v=e=>{const t={DRAFT:{bg:"bg-yellow-100",text:"text-yellow-800",icon:(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),label:"Draft"},FINALIZED:{bg:"bg-green-100",text:"text-green-800",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),label:"Finalized"},CONSULTATION_COMPLETE:{bg:"bg-blue-100",text:"text-blue-800",icon:(0,Xm.jsx)(yg,{className:"w-4 h-4"}),label:"Consultation Complete"}},r=t[e]||t.DRAFT;return(0,Xm.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium ".concat(r.bg," ").concat(r.text),children:[r.icon,r.label]})},b=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return i&&"reports"===t?(0,Xm.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading reports..."})]})}):(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Xm.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Medical Reports Management"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage consultation reports and create reports for completed cases"})]}),(0,Xm.jsxs)("button",{onClick:()=>{y()},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Xm.jsx)(pg,{className:"w-4 h-4"}),"Refresh"]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(fV,{title:"Total Reports",value:d.total,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),color:"blue"}),(0,Xm.jsx)(fV,{title:"Draft Reports",value:d.draft,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),color:"yellow"}),(0,Xm.jsx)(fV,{title:"Finalized Reports",value:d.finalized,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"}),color:"green"}),(0,Xm.jsx)(fV,{title:"Pending Cases",value:d.pendingCases,icon:(0,Xm.jsx)(yg,{className:"w-6 h-6"}),color:"orange"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsxs)("nav",{className:"flex -mb-px",children:[(0,Xm.jsx)("button",{onClick:()=>r("reports"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("reports"===t?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{children:"Reports List"}),(0,Xm.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs",children:d.total})]})}),(0,Xm.jsx)("button",{onClick:()=>r("pending"),className:"py-4 px-6 text-sm font-medium border-b-2 transition-colors ".concat("pending"===t?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(yg,{className:"w-5 h-5"}),(0,Xm.jsx)("span",{children:"Pending Cases Reports"}),(0,Xm.jsx)("span",{className:"ml-2 bg-orange-100 text-orange-600 px-2 py-0.5 rounded-full text-xs",children:d.pendingCases})]})})]})}),(0,Xm.jsx)("div",{className:"p-6",children:"reports"===t?(0,Xm.jsx)(hV,{reports:a,loading:i,error:l,searchTerm:u,setSearchTerm:m,statusFilter:p,setStatusFilter:h,navigate:e,handleExportPdf:async e=>{const t=await g(e);alert(t.message)},handleDownloadPdf:e=>{window.open(e,"_blank")},getStatusBadge:v,formatDate:b}):(0,Xm.jsx)(xV,{cases:n,loading:o,error:c,searchTerm:x,setSearchTerm:f,handleCreateReport:t=>{e("/app/doctor/reports/create?caseId=".concat(t))},getStatusBadge:v,getUrgencyBadge:e=>{const t={CRITICAL:{bg:"bg-red-100",text:"text-red-800",label:"Critical"},HIGH:{bg:"bg-orange-100",text:"text-orange-800",label:"High"},MEDIUM:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Medium"},LOW:{bg:"bg-green-100",text:"text-green-800",label:"Low"}},r=t[e]||t.MEDIUM;return(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.bg," ").concat(r.text),children:r.label})},formatDate:b})})]})]})},bV=()=>{const e=te(),t=Z(),r=new URLSearchParams(t.search).get("caseId"),a=t.state,n=r||(null===a||void 0===a?void 0:a.caseId)||"",[i,o]=(0,s.useState)(n),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)({diagnosis:"",recommendations:"",prescriptions:"",followUpInstructions:"",requiresFollowUp:!1,nextAppointmentSuggested:"",doctorNotes:""}),[h,x]=(0,s.useState)({}),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)("");(0,s.useEffect)(()=>{i&&w(i)},[i]);const w=async e=>{u(!0),v("");try{const t=await mp.getCaseDetailsForMedicalReport(e);if(!1===(null===t||void 0===t?void 0:t.success))return v(t.message||"Failed to load case details"),void c(null);const r=(null===t||void 0===t?void 0:t.data)||t;if(!r)return v("No case data found"),void c(null);c(r),r.caseDescription&&p(e=>(0,ot.A)((0,ot.A)({},e),{},{doctorNotes:"Case Description: ".concat(r.caseDescription)}))}catch(SY){var t,r;console.error("Error loading case details:",SY),v((null===(t=SY.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load case details. Please check the case ID and try again."),c(null)}finally{u(!1)}},N=e=>{const{name:t,value:r,type:a,checked:n}=e.target;p(e=>(0,ot.A)((0,ot.A)({},e),{},{[t]:"checkbox"===a?n:r})),h[t]&&x(e=>(0,ot.A)((0,ot.A)({},e),{},{[t]:""}))};return(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsxs)("button",{onClick:()=>e("/app/doctor/reports"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[(0,Xm.jsx)(jy,{className:"w-5 h-5"}),"Back to Reports"]}),(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Consultation Report"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Fill in the consultation details to create a new medical report"})]}),!n&&(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,Xm.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Case"}),(0,Xm.jsxs)("div",{className:"flex gap-3",children:[(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsx)("input",{type:"number",value:i,onChange:e=>{o(e.target.value)},placeholder:"Enter Case ID",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,Xm.jsx)("button",{type:"button",onClick:()=>{i.trim()?w(i):v("Please enter a case ID")},disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:d?"Loading...":"Load Case"})]})]}),d&&(0,Xm.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading case details..."})]})}),l&&!d&&(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6 mb-6 shadow-sm",children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Xm.jsx)(gp,{className:"w-6 h-6 text-blue-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 text-lg flex items-center gap-2",children:["Case Information",(0,Xm.jsxs)("span",{className:"text-sm font-normal text-gray-600",children:["(ID: #",l.caseId,")"]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Patient"}),(0,Xm.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:l.patientName||"N/A"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Doctor"}),(0,Xm.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:l.doctorName||"N/A"})]})]}),l.appointmentId&&(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Appointment ID"}),(0,Xm.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:["#",l.appointmentId]})]})]}),l.caseRequiredSpecialization&&(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Specialization"}),(0,Xm.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:l.caseRequiredSpecialization})]})]}),l.caseSubmittedAt&&(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Submitted"}),(0,Xm.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:(C=l.caseSubmittedAt,C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")})]})]}),l.caseTitle&&(0,Xm.jsxs)("div",{className:"col-span-2 flex items-start gap-2",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4 text-gray-500 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("span",{className:"text-xs text-gray-500 block",children:"Case Title"}),(0,Xm.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:l.caseTitle})]})]})]}),l.caseDescription&&(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Case Description:"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-800 bg-white rounded p-3 border border-blue-100",children:l.caseDescription})]})]})]})}),g&&(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3 flex-shrink-0"}),(0,Xm.jsx)("p",{className:"text-red-700",children:g})]})}),b&&(0,Xm.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-6 rounded-r-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Up,{className:"text-green-500 w-5 h-5 mr-3 flex-shrink-0"}),(0,Xm.jsx)("p",{className:"text-green-700",children:b})]})}),l&&!d&&(0,Xm.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{var e;const t={};return i&&""!==i.trim()||(t.caseId="Case ID is required"),(!m.diagnosis||m.diagnosis.trim().length<10)&&(t.diagnosis="Diagnosis must be at least 10 characters"),(!m.recommendations||m.recommendations.trim().length<10)&&(t.recommendations="Recommendations must be at least 10 characters"),!m.requiresFollowUp||null!==(e=m.followUpInstructions)&&void 0!==e&&e.trim()||(t.followUpInstructions="Follow-up instructions required when follow-up is needed"),x(t),0===Object.keys(t).length})())if(l){y(!0),v(""),j("");try{const t={appointmentId:l.appointmentId,doctorId:l.doctorId,caseId:l.caseId,doctorName:l.doctorName,patientName:l.patientName,patientId:l.patientId,diagnosis:m.diagnosis.trim(),recommendations:m.recommendations.trim(),prescriptions:m.prescriptions.trim()||null,followUpInstructions:m.followUpInstructions.trim()||null,requiresFollowUp:m.requiresFollowUp,nextAppointmentSuggested:m.nextAppointmentSuggested||null,doctorNotes:m.doctorNotes.trim()||null,status:"DRAFT"};await mp.createConsultationReport(t),j("Consultation report created successfully as DRAFT!"),setTimeout(()=>{e("/app/doctor/reports")},1e3)}catch(SY){var r,a;console.error("Error creating report:",SY),v((null===(r=SY.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to create report. Please try again.")}finally{y(!1)}}else v("Please load a valid case before creating the report");else v("Please fill in all required fields correctly")},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Diagnosis ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",{name:"diagnosis",value:m.diagnosis,onChange:N,rows:4,placeholder:"Enter the primary diagnosis and any secondary conditions...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.diagnosis?"border-red-500":"border-gray-300")}),h.diagnosis&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.diagnosis}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.diagnosis.length," / 500 characters (minimum 10)"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Recommendations ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",{name:"recommendations",value:m.recommendations,onChange:N,rows:4,placeholder:"General recommendations for the patient...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.recommendations?"border-red-500":"border-gray-300")}),h.recommendations&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.recommendations}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.recommendations.length," / 2000 characters (minimum 10)"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prescriptions"}),(0,Xm.jsx)("textarea",{name:"prescriptions",value:m.prescriptions,onChange:N,rows:4,placeholder:"List prescribed medications with dosage and duration...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.prescriptions.length," / 2000 characters"]})]}),(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)("input",{type:"checkbox",name:"requiresFollowUp",checked:m.requiresFollowUp,onChange:N,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Xm.jsx)("label",{className:"ml-3 block text-sm font-medium text-gray-700",children:"This case requires follow-up"})]}),m.requiresFollowUp&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Follow-up Instructions ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",{name:"followUpInstructions",value:m.followUpInstructions,onChange:N,rows:3,placeholder:"When and how the patient should follow up...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.followUpInstructions?"border-red-500":"border-gray-300")}),h.followUpInstructions&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.followUpInstructions}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.followUpInstructions.length," / 1000 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Suggested Next Appointment Date"}),(0,Xm.jsx)("input",{type:"datetime-local",name:"nextAppointmentSuggested",value:m.nextAppointmentSuggested,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Xm.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Suggest a date/time for the next appointment"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Doctor's Private Notes"}),(0,Xm.jsx)("textarea",{name:"doctorNotes",value:m.doctorNotes,onChange:N,rows:4,placeholder:"Private notes for your reference (not visible to patient)...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[m.doctorNotes.length," / 10000 characters"]})]})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})," Required fields"]}),(0,Xm.jsxs)("div",{className:"flex gap-3",children:[(0,Xm.jsx)("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&e("/app/doctor/reports")},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),(0,Xm.jsx)("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(sg,{className:"w-4 h-4"}),"Create Report (Draft)"]})})]})]})]}),(0,Xm.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Xm.jsxs)("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5"}),"Important Information"]}),(0,Xm.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Xm.jsx)("li",{children:"The report will be saved as a DRAFT and can be edited later"}),(0,Xm.jsx)("li",{children:"You can export the report to PDF once all required fields are complete"}),(0,Xm.jsx)("li",{children:"After exporting to PDF, the report becomes FINALIZED and cannot be edited"}),(0,Xm.jsxs)("li",{children:["All fields marked with ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})," are mandatory"]}),(0,Xm.jsx)("li",{children:"If follow-up is required, follow-up instructions become mandatory"})]})]})]});var C},jV=e=>{let{title:t,icon:r,children:a}=e;return(0,Xm.jsxs)("div",{className:"p-6 border-b border-gray-200 last:border-b-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[r,(0,Xm.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t})]}),a]})},wV=e=>{let{label:t,value:r,highlight:a=!1}=e;return(0,Xm.jsxs)("div",{className:"".concat(a?"bg-yellow-50 border border-yellow-200 rounded-lg p-3":""),children:[(0,Xm.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),(0,Xm.jsx)("dd",{className:"text-base text-gray-900",children:r||"N/A"})]})},NV=e=>{let{icon:t,label:r,value:a}=e;return(0,Xm.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Xm.jsx)("div",{className:"mt-1",children:t}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:r}),(0,Xm.jsx)("p",{className:"text-base font-semibold text-gray-900",children:a})]})]})},CV=()=>{const e=te(),{reportId:t}=ae(),[r,a]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&u()},[t]);const u=async()=>{a(!0),l("");try{const e=await mp.getConsultationReportById(t);d(e)}catch(SY){console.error("Error fetching report:",SY),l("Failed to load report. Please try again.")}finally{a(!1)}},m=()=>{c.pdfFileLink&&window.open(c.pdfFileLink,"_blank")},p=()=>{c.pdfFileLink&&window.open(c.pdfFileLink,"_blank")},h=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(r)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading report..."})]})});if(o||!c)return(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-red-700",children:o||"Report not found"})]})})});const x="DRAFT"===c.status,f="FINALIZED"===c.status;return(0,Xm.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsxs)("button",{onClick:()=>e("/app/doctor/reports"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[(0,Xm.jsx)(jy,{className:"w-5 h-5"}),"Back to Reports"]}),(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Xm.jsx)(gp,{className:"w-8 h-8 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:["Consultation Report #",t]}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["Case ID: #",c.caseId]})]})]}),(y=c.status,"DRAFT"===y?(0,Xm.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4"}),"Draft"]}):(0,Xm.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4"}),"Finalized"]}))]})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[x&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("button",{onClick:()=>e("/app/doctor/reports/".concat(t,"/edit")),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Xm.jsx)(Uy,{className:"w-5 h-5"}),"Edit Report"]}),(0,Xm.jsx)("button",{onClick:async()=>{if(window.confirm("Once exported, this report will be finalized and cannot be edited. Continue?")){i(!0);try{var e;null!==(e=(await mp.exportReportToPdf(t)).data)&&void 0!==e&&e.success&&(alert("Report exported to PDF successfully! The report is now finalized."),await u())}catch(SY){console.error("Error exporting report:",SY),alert("Failed to export report. Please ensure all required fields are filled.")}finally{i(!1)}}},disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Exporting..."]}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Fj,{className:"w-5 h-5"}),"Export to PDF"]})})]}),f&&c.pdfFileLink&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsxs)("button",{onClick:m,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Xm.jsx)(iy,{className:"w-5 h-5"}),"View PDF"]}),(0,Xm.jsxs)("button",{onClick:p,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Xm.jsx)(Hy,{className:"w-5 h-5"}),"Download PDF"]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Xm.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(NV,{icon:(0,Xm.jsx)(bp,{className:"w-5 h-5 text-gray-500"}),label:"Created On",value:h(c.createdAt)}),(0,Xm.jsx)(NV,{icon:(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-gray-500"}),label:"Last Updated",value:h(c.updatedAt)}),f&&c.exportedAt&&(0,Xm.jsx)(NV,{icon:(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"}),label:"Exported On",value:h(c.exportedAt)})]})}),c.doctor&&(0,Xm.jsx)(jV,{title:"Attending Physician",icon:(0,Xm.jsx)(Wm,{className:"w-6 h-6"}),children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(wV,{label:"Name",value:c.doctor.fullName}),(0,Xm.jsx)(wV,{label:"License Number",value:c.doctor.licenseNumber}),(0,Xm.jsx)(wV,{label:"Specialization",value:c.doctor.primarySpecialization}),c.doctor.hospitalAffiliation&&(0,Xm.jsx)(wV,{label:"Affiliation",value:c.doctor.hospitalAffiliation})]})}),c.appointment&&(0,Xm.jsx)(jV,{title:"Consultation Details",icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(wV,{label:"Appointment ID",value:"#".concat(c.appointment.id)}),(0,Xm.jsx)(wV,{label:"Date & Time",value:h(c.appointment.appointmentDateTime)}),(0,Xm.jsx)(wV,{label:"Status",value:c.appointment.status}),(0,Xm.jsx)(wV,{label:"Consultation Type",value:c.appointment.consultationType||"N/A"})]})}),(0,Xm.jsx)(jV,{title:"Diagnosis",icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.diagnosis||"No diagnosis provided"})})}),(0,Xm.jsx)(jV,{title:"Recommendations",icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.recommendations||"No recommendations provided"})})}),(0,Xm.jsx)(jV,{title:"Prescriptions",icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.prescriptions||"No prescriptions provided"})})}),c.followUpInstructions&&(0,Xm.jsx)(jV,{title:"Follow-up Instructions",icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.followUpInstructions})})}),(0,Xm.jsx)(jV,{title:"Follow-up Details",icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"space-y-4",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(wV,{label:"Follow-up Required",value:c.requiresFollowUp?"Yes":"No",highlight:c.requiresFollowUp}),c.requiresFollowUp&&c.nextAppointmentSuggested&&(0,Xm.jsx)(wV,{label:"Next Appointment",value:h(c.nextAppointmentSuggested),highlight:!0})]})})}),c.doctorNotes&&(0,Xm.jsx)(jV,{title:"Doctor's Notes (Private)",icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),children:(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:c.doctorNotes})})}),f&&c.pdfFileLink&&(0,Xm.jsx)("div",{className:"p-6 border-t border-gray-200 bg-green-50",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsx)(Up,{className:"w-6 h-6 text-green-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-semibold text-gray-900",children:"PDF Report Available"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"This report has been finalized and exported to PDF"})]})]}),(0,Xm.jsxs)("div",{className:"flex gap-2",children:[(0,Xm.jsxs)("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Xm.jsx)(iy,{className:"w-4 h-4"}),"View"]}),(0,Xm.jsxs)("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),"Download"]})]})]})})]}),x&&(0,Xm.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udcdd Draft Report"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-800",children:"This report is in draft status. You can continue editing until you export it to PDF. Once exported, the report becomes finalized and cannot be modified."})]})]});var y},SV=()=>{const e=te(),{reportId:t}=ae(),[r,a]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)({}),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)({diagnosis:"",recommendations:"",prescriptions:"",followUpInstructions:"",requiresFollowUp:!1,nextAppointmentSuggested:"",doctorNotes:""});(0,s.useEffect)(()=>{t&&y()},[t]);const y=async()=>{a(!0),l("");try{const r=await mp.getConsultationReportById(t);if(h(r),"FINALIZED"===r.status)return l("This report has been finalized and cannot be edited. You can view it in read-only mode."),void setTimeout(()=>{e("/app/doctor/reports/".concat(t))},3e3);f({diagnosis:r.diagnosis||"",recommendations:r.recommendations||"",prescriptions:r.prescriptions||"",followUpInstructions:r.followUpInstructions||"",requiresFollowUp:r.requiresFollowUp||!1,nextAppointmentSuggested:r.nextAppointmentSuggested?new Date(r.nextAppointmentSuggested).toISOString().slice(0,16):"",doctorNotes:r.doctorNotes||""})}catch(SY){console.error("Error fetching report:",SY),l("Failed to load report. Please try again.")}finally{a(!1)}},g=e=>{const{name:t,value:r,type:a,checked:n}=e.target;f(e=>(0,ot.A)((0,ot.A)({},e),{},{[t]:"checkbox"===a?n:r})),u[t]&&m(e=>(0,ot.A)((0,ot.A)({},e),{},{[t]:""}))};return r?(0,Xm.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading report..."})]})}):p?(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsxs)("button",{onClick:()=>e("/app/doctor/reports"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[(0,Xm.jsx)(jy,{className:"w-5 h-5"}),"Back to Reports"]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsx)(Uy,{className:"w-8 h-8 text-blue-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Consultation Report"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["Report ID: #",t," \u2022 Case ID: #",p.caseId]})]})]})]}),"FINALIZED"===p.status&&(0,Xm.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(hy,{className:"text-yellow-500 w-5 h-5 mr-3"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-semibold text-yellow-800",children:"Report Finalized"}),(0,Xm.jsx)("p",{className:"text-yellow-700 text-sm",children:"This report has been exported to PDF and is now locked for editing."})]})]})}),o&&(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-red-700",children:o})]})}),c&&(0,Xm.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-6",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Up,{className:"text-green-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-green-700",children:c})]})}),(0,Xm.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),l(""),d(""),(()=>{const e={};return x.diagnosis&&x.diagnosis.length>5e3&&(e.diagnosis="Diagnosis cannot exceed 5000 characters"),x.recommendations&&x.recommendations.length>5e3&&(e.recommendations="Recommendations cannot exceed 5000 characters"),x.prescriptions&&x.prescriptions.length>5e3&&(e.prescriptions="Prescriptions cannot exceed 5000 characters"),x.followUpInstructions&&x.followUpInstructions.length>3e3&&(e.followUpInstructions="Follow-up instructions cannot exceed 3000 characters"),x.doctorNotes&&x.doctorNotes.length>1e4&&(e.doctorNotes="Doctor notes cannot exceed 10000 characters"),m(e),0===Object.keys(e).length})()){i(!0);try{var a;const r={diagnosis:x.diagnosis,recommendations:x.recommendations,prescriptions:x.prescriptions,followUpInstructions:x.followUpInstructions,requiresFollowUp:x.requiresFollowUp,nextAppointmentSuggested:x.nextAppointmentSuggested?new Date(x.nextAppointmentSuggested).toISOString():null,doctorNotes:x.doctorNotes};null!==(a=(await mp.updateConsultationReport(t,r)).data)&&void 0!==a&&a.success&&(d("Report updated successfully!"),setTimeout(()=>{e("/app/doctor/reports")},2e3))}catch(SY){var n,s;console.error("Error updating report:",SY),l((null===(n=SY.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to update report. The report may have been finalized.")}finally{i(!1)}}else l("Please fix the validation errors before saving.")},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagnosis"}),(0,Xm.jsx)("textarea",{name:"diagnosis",value:x.diagnosis,onChange:g,rows:5,placeholder:"Enter the primary diagnosis and any secondary conditions...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.diagnosis?"border-red-500":"border-gray-300")}),u.diagnosis&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.diagnosis}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.diagnosis.length," / 5000 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prescriptions"}),(0,Xm.jsx)("textarea",{name:"prescriptions",value:x.prescriptions,onChange:g,rows:5,placeholder:"List medications, dosages, and instructions...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.prescriptions?"border-red-500":"border-gray-300")}),u.prescriptions&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.prescriptions}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.prescriptions.length," / 5000 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medical Recommendations"}),(0,Xm.jsx)("textarea",{name:"recommendations",value:x.recommendations,onChange:g,rows:5,placeholder:"Enter treatment recommendations and care instructions...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.recommendations?"border-red-500":"border-gray-300")}),u.recommendations&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.recommendations}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.recommendations.length," / 5000 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Follow-up Instructions"}),(0,Xm.jsx)("textarea",{name:"followUpInstructions",value:x.followUpInstructions,onChange:g,rows:4,placeholder:"Enter specific instructions for follow-up care...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.followUpInstructions?"border-red-500":"border-gray-300")}),u.followUpInstructions&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.followUpInstructions}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.followUpInstructions.length," / 3000 characters"]})]}),(0,Xm.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("input",{type:"checkbox",name:"requiresFollowUp",checked:x.requiresFollowUp,onChange:g,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Follow-up Appointment Required"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Check this if the patient needs a follow-up consultation"})]})]}),x.requiresFollowUp&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Suggested Next Appointment Date & Time"}),(0,Xm.jsx)("input",{type:"datetime-local",name:"nextAppointmentSuggested",value:x.nextAppointmentSuggested,onChange:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Doctor's Notes (Private)"}),(0,Xm.jsx)("textarea",{name:"doctorNotes",value:x.doctorNotes,onChange:g,rows:6,placeholder:"Add any additional notes or updates...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.doctorNotes?"border-red-500":"border-gray-300")}),u.doctorNotes&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.doctorNotes}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[x.doctorNotes.length," / 10000 characters"]}),(0,Xm.jsx)("p",{className:"mt-2 text-xs text-blue-600",children:"Note: New notes will be appended with a timestamp to existing notes"})]})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:["Last updated: ",p.updatedAt?new Date(p.updatedAt).toLocaleString():"N/A"]}),(0,Xm.jsxs)("div",{className:"flex gap-3",children:[(0,Xm.jsx)("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&e("/app/doctor/reports")},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:n,children:"Cancel"}),(0,Xm.jsx)("button",{type:"submit",disabled:n||"FINALIZED"===p.status,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(sg,{className:"w-4 h-4"}),"Save Changes"]})})]})]})]})]}):(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"text-red-500 w-5 h-5 mr-3"}),(0,Xm.jsx)("p",{className:"text-red-700",children:"Report not found or you don't have permission to edit it."})]})})})},AV=zm("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),kV=zm("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),EV=zm("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),PV=zm("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),OV=zm("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),TV={createCoupon:async e=>rd("/admin-service/api/admin/coupons",e),createCouponBatch:async e=>rd("/admin-service/api/admin/coupons/batch",e),distributeCoupon:async(e,t)=>rd("/admin-service/api/admin/coupons/".concat(e,"/distribute"),t),distributeBatch:async(e,t)=>rd("/admin-service/api/admin/coupons/batch/".concat(e,"/distribute"),t),cancelCoupon:async(e,t)=>rd("/admin-service/api/admin/coupons/".concat(e,"/cancel"),t),cancelBatch:async(e,t)=>rd("/admin-service/api/admin/coupons/batch/".concat(e,"/cancel"),t),getCouponById:async e=>td("/admin-service/api/admin/coupons/".concat(e)),getCouponByCode:async e=>td("/admin-service/api/admin/coupons/code/".concat(e)),getAllCoupons:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.status&&t.append("status",e.status),e.beneficiaryType&&t.append("beneficiaryType",e.beneficiaryType),e.beneficiaryId&&t.append("beneficiaryId",e.beneficiaryId),e.batchId&&t.append("batchId",e.batchId),e.couponCode&&t.append("couponCode",e.couponCode),void 0!==e.page&&t.append("page",e.page),e.size&&t.append("size",e.size),e.sortBy&&t.append("sortBy",e.sortBy),e.sortDir&&t.append("sortDir",e.sortDir);const r=t.toString();return td("/admin-service/api/admin/coupons".concat(r?"?".concat(r):""))},getCouponsForBeneficiary:async(e,t)=>td("/admin-service/api/admin/coupons/beneficiary/".concat(e,"/").concat(t)),getAvailableCouponsForBeneficiary:async(e,t)=>td("/admin-service/api/admin/coupons/beneficiary/".concat(e,"/").concat(t,"/available")),getExpiringCoupons:async function(){return td("/admin-service/api/admin/coupons/expiring?days=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:30))},getBatchById:async e=>td("/admin-service/api/admin/coupons/batch/".concat(e)),getCouponBatches:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.status&&t.append("status",e.status),e.beneficiaryType&&t.append("beneficiaryType",e.beneficiaryType),e.beneficiaryId&&t.append("beneficiaryId",e.beneficiaryId),e.batchCode&&t.append("batchCode",e.batchCode),void 0!==e.page&&t.append("page",e.page),e.size&&t.append("size",e.size),e.sortBy&&t.append("sortBy",e.sortBy),e.sortDir&&t.append("sortDir",e.sortDir);const r=t.toString();return td("/admin-service/api/admin/coupons/batches".concat(r?"?".concat(r):""))},getBatchCoupons:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return td("/admin-service/api/admin/coupons/batch/".concat(e,"/coupons?page=").concat(t,"&size=").concat(r))},getCouponSummary:async()=>td("/admin-service/api/admin/coupons/summary"),getBeneficiaryCouponSummary:async(e,t)=>td("/admin-service/api/admin/coupons/summary/beneficiary/".concat(e,"/").concat(t)),validateCoupon:async e=>rd("/admin-service/api/admin/coupons/validate",e),getMedicalSupervisors:async()=>td("/admin-service/api/admin/supervisors"),getSupervisorById:async e=>td("/admin-service/api/admin/supervisors/".concat(e)),exportCoupons:async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return td("/admin-service/api/admin/coupons/export".concat(e?"?".concat(e):""),{responseType:"blob"})},exportBatchCoupons:async e=>td("/admin-service/api/admin/coupons/batch/".concat(e,"/export"),{responseType:"blob"})},DV=e=>{let{title:t,value:r,icon:a,iconBg:n,trend:s,trendValue:i,subtitle:o,onClick:l,loading:c}=e;return(0,Xm.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5 hover:shadow-lg transition-all duration-200 ".concat(l?"cursor-pointer":""),onClick:l,children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:t}),c?(0,Xm.jsx)("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mt-1"}):(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r}),o&&(0,Xm.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:o})]}),(0,Xm.jsx)("div",{className:"p-3 rounded-xl ".concat(n),children:(0,Xm.jsx)(a,{className:"w-6 h-6 text-white"})})]}),s&&(0,Xm.jsxs)("div",{className:"flex items-center mt-3 pt-3 border-t border-gray-100",children:["up"===s?(0,Xm.jsx)(AV,{className:"w-4 h-4 text-green-500 mr-1"}):(0,Xm.jsx)(kV,{className:"w-4 h-4 text-red-500 mr-1"}),(0,Xm.jsx)("span",{className:"text-sm font-medium ".concat("up"===s?"text-green-600":"text-red-600"),children:i}),(0,Xm.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"vs last period"})]})]})},RV=e=>{let{icon:t,label:r,count:a,onClick:n,variant:s="default"}=e;return(0,Xm.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-between p-3 rounded-lg transition-colors ".concat({default:"bg-gray-50 hover:bg-gray-100 text-gray-700",primary:"bg-primary-50 hover:bg-primary-100 text-primary-700",warning:"bg-yellow-50 hover:bg-yellow-100 text-yellow-700",danger:"bg-red-50 hover:bg-red-100 text-red-700",success:"bg-green-50 hover:bg-green-100 text-green-700"}[s]),children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(t,{className:"w-5 h-5 mr-3"}),(0,Xm.jsx)("span",{className:"font-medium text-sm",children:r})]}),void 0!==a&&(0,Xm.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat("danger"===s?"bg-red-200 text-red-800":"warning"===s?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-700"),children:a})]})},_V=e=>{let{icon:t,iconBg:r,title:a,description:n,time:s,onClick:i}=e;return(0,Xm.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors ".concat(i?"cursor-pointer":""),onClick:i,children:[(0,Xm.jsx)("div",{className:"p-2 rounded-lg ".concat(r),children:(0,Xm.jsx)(t,{className:"w-4 h-4"})}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 truncate",children:n})]}),(0,Xm.jsx)("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:s})]})},MV=e=>{let{priority:t,title:r,description:a,time:n,onClick:s}=e;return(0,Xm.jsxs)("div",{className:"border-l-4 ".concat({high:"border-l-red-500 bg-red-50",medium:"border-l-yellow-500 bg-yellow-50",low:"border-l-green-500 bg-green-50"}[t]," p-3 rounded-r-lg cursor-pointer hover:shadow-md transition-shadow"),onClick:s,children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:a})]}),(0,Xm.jsx)(lp,{variant:"high"===t?"destructive":"medium"===t?"warning":"success",size:"sm",children:t})]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:n})]})},IV=()=>{var e,t,r;const a=te(),{user:n}=Jd(),{execute:i,loading:o}=Iy(),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),[h,x]=(0,s.useState)(null),[f,y]=(0,s.useState)(null),[g,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[w,N]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[A,k]=(0,s.useState)([]),[E,P]=(0,s.useState)(null),[O,T]=(0,s.useState)("month"),[D,R]=(0,s.useState)(!1),[_,M]=(0,s.useState)(null);(0,s.useEffect)(()=>{I();const e=setInterval(I,3e5);return()=>clearInterval(e)},[O]);const I=async()=>{try{R(!0);const{startDate:a,endDate:n}={startDate:new Date("2025-04-01T00:00:00").toISOString(),endDate:(new Date).toISOString()},s=await Promise.allSettled([i(()=>hp.getDashboardStats()),i(()=>hp.getSystemMetrics(O)),i(()=>hp.getPaymentAnalytics(a,n)),i(()=>hp.getUserGrowthAnalytics(O)),i(()=>hp.getCaseAnalytics(a,n)),i(()=>TV.getCouponSummary()),i(()=>hp.getSupervisorStatistics()),i(()=>hp.getPendingDoctors()),i(()=>hp.getPendingSupervisors()),i(()=>hp.getAllComplaints({status:"OPEN",size:5})),i(()=>hp.getSystemHealth())]),[o,l,d,m,h,f,g,b,w,C,A]=s;if("fulfilled"===o.status&&c(o.value),"fulfilled"===l.status&&u(l.value),"fulfilled"===d.status&&p(d.value),"fulfilled"===m.status&&x(m.value),"fulfilled"===h.status&&y(h.value),"fulfilled"===f.status&&v(f.value),"fulfilled"===g.status&&j(g.value),"fulfilled"===b.status){var e;const t=(null===(e=b.value)||void 0===e?void 0:e.content)||b.value||[];N(Array.isArray(t)?t:[])}if("fulfilled"===w.status){var t;const e=(null===(t=w.value)||void 0===t?void 0:t.content)||w.value||[];S(Array.isArray(e)?e:[])}if("fulfilled"===C.status){var r;const e=(null===(r=C.value)||void 0===r?void 0:r.content)||C.value||[];k(Array.isArray(e)?e:[])}"fulfilled"===A.status&&P(A.value),M(new Date)}catch(a){console.error("Failed to load dashboard data:",a),Ft.error("Failed to load some dashboard data")}finally{R(!1)}},L=e=>null===e||void 0===e?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),F=e=>null===e||void 0===e?"0":e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),q=e=>null===e||void 0===e?"0%":"".concat(e>=0?"+":"").concat(e.toFixed(1),"%"),z=e=>{if(!e)return"";const t=new Date-new Date(e),r=Math.floor(t/6e4),a=Math.floor(t/36e5),n=Math.floor(t/864e5);return r<1?"Just now":r<60?"".concat(r,"m ago"):a<24?"".concat(a,"h ago"):"".concat(n,"d ago")},U=[{name:"Patients",value:(null===l||void 0===l?void 0:l.patients)||0,color:"#3B82F6"},{name:"Doctors",value:(null===l||void 0===l?void 0:l.doctors)||0,color:"#10B981"},{name:"Supervisors",value:(null===l||void 0===l?void 0:l.supervisors)||(null===b||void 0===b?void 0:b.totalSupervisors)||0,color:"#8B5CF6"},{name:"Admins",value:(null===l||void 0===l?void 0:l.admins)||0,color:"#F59E0B"}].filter(e=>e.value>0),B=(null===f||void 0===f?void 0:f.overview)||{},V=[{name:"Active",value:(null===B||void 0===B?void 0:B.activeCases)||(null===f||void 0===f?void 0:f.activeCases)||(null===l||void 0===l?void 0:l.activeCases)||0,color:"#3B82F6"},{name:"Pending",value:(null===B||void 0===B?void 0:B.totalCases)-(null===B||void 0===B?void 0:B.activeCases)||(null===f||void 0===f?void 0:f.totalCases)-(null===f||void 0===f?void 0:f.activeCases)||0,color:"#F59E0B"},{name:"Completed",value:(null===B||void 0===B?void 0:B.closedCases)||(null===f||void 0===f?void 0:f.closedCases)||0,color:"#10B981"},{name:"At Risk",value:(null===B||void 0===B?void 0:B.casesAtRisk)||(null===f||void 0===f?void 0:f.casesAtRisk)||0,color:"#EF4444"}].filter(e=>e.value>0),H=((null===l||void 0===l?void 0:l.doctors)||0)-((null===l||void 0===l?void 0:l.pendingDoctorUsers)||0),W=(null===m||void 0===m?void 0:m.overview)||(null===m||void 0===m?void 0:m.revenue)||{},G=(null===W||void 0===W?void 0:W.totalRevenue)||(null===m||void 0===m?void 0:m.totalRevenue)||0,Y=(null===W||void 0===W?void 0:W.totalTransactions)||(null===m||void 0===m?void 0:m.totalPaymentsAnalyzed)||0,{cumulativeRevenueData:K,monthlyRevenueData:$}=(e=>{const t=(null===m||void 0===m||null===(e=m.revenue)||void 0===e?void 0:e.revenueTrend)||[],r=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};if(t.length>0){let e=0;const a=t.map(t=>(e+=t.revenue||t.amount||0,{date:r(t.date),revenue:e})),n={};t.forEach(e=>{const t=(e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",year:"numeric"})})(e.date);t&&(n[t]||(n[t]={month:t,revenue:0}),n[t].revenue+=e.revenue||e.amount||0)});const s=Object.values(n).sort((e,t)=>new Date(e.month)-new Date(t.month));return{cumulativeRevenueData:a,monthlyRevenueData:s}}const a=[],n=new Date;for(let s=5;s>=0;s--){const e=new Date(n.getFullYear(),n.getMonth()-s,1);a.push({month:e.toLocaleDateString("en-US",{month:"short",year:"numeric"}),revenue:0===s?G:0})}return{cumulativeRevenueData:a,monthlyRevenueData:a}})(),Q=(null===f||void 0===f?void 0:f.overview)||{},X=Q.totalCases?(Q.closedCases/Q.totalCases*100).toFixed(1):0,J=(null===Q||void 0===Q?void 0:Q.avgResponseTime)||(null===f||void 0===f?void 0:f.avgResponseTime)||0,Z=(null===f||void 0===f?void 0:f.totalCasesAnalyzed)||(null===B||void 0===B?void 0:B.totalCases)||0,ee=(null===f||void 0===f||null===(e=f.doctorMetrics)||void 0===e?void 0:e.topDoctors)||(null===f||void 0===f?void 0:f.doctorMetrics)||[],re=(null===b||void 0===b?void 0:b.topSupervisors)||[],ae=((null===w||void 0===w?void 0:w.length)||0)+((null===C||void 0===C?void 0:C.length)||0)+((null===A||void 0===A?void 0:A.length)||0);return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,Xm.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",(null===n||void 0===n?void 0:n.fullName)||"Admin","! Here's your system overview."]})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[_&&(0,Xm.jsxs)("span",{className:"text-xs text-gray-400",children:["Last updated: ",_.toLocaleTimeString()]}),(0,Xm.jsxs)("select",{value:O,onChange:e=>T(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"day",children:"Today"}),(0,Xm.jsx)("option",{value:"week",children:"This Week"}),(0,Xm.jsx)("option",{value:"month",children:"This Month"}),(0,Xm.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,Xm.jsx)("option",{value:"year",children:"This Year"})]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:I,disabled:D,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(D?"animate-spin":"")}),"Refresh"]}),(0,Xm.jsxs)(Zm,{variant:"primary",size:"sm",onClick:()=>a("/app/admin/reports"),children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),E&&"healthy"!==E.status&&(0,Xm.jsx)(_y,{type:"warning",title:"System Health Alert",description:"System status: ".concat(E.status,". Some services may require attention."),action:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>a("/app/admin/system"),children:"View Details"})}),ae>0&&(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-amber-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"font-medium text-amber-900",children:[ae," pending action",ae>1?"s":""," require your attention"]}),(0,Xm.jsxs)("p",{className:"text-sm text-amber-700",children:[(null===w||void 0===w?void 0:w.length)>0&&"".concat(w.length," doctor verification").concat(w.length>1?"s":""),(null===w||void 0===w?void 0:w.length)>0&&(null===C||void 0===C?void 0:C.length)>0&&", ",(null===C||void 0===C?void 0:C.length)>0&&"".concat(C.length," supervisor verification").concat(C.length>1?"s":""),((null===w||void 0===w?void 0:w.length)>0||(null===C||void 0===C?void 0:C.length)>0)&&(null===A||void 0===A?void 0:A.length)>0&&", ",(null===A||void 0===A?void 0:A.length)>0&&"".concat(A.length," open complaint").concat(A.length>1?"s":"")]})]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>a("/app/admin/doctors/verification"),children:"Review Now"})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Xm.jsx)(DV,{title:"Total Users",value:F((null===l||void 0===l?void 0:l.totalUsers)||0),icon:vp,iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",trend:(null===l||void 0===l?void 0:l.userGrowthRate)>=0?"up":"down",trendValue:q(null===l||void 0===l?void 0:l.userGrowthRate),subtitle:"".concat(F((null===l||void 0===l?void 0:l.newUsersThisPeriod)||0)," new this ").concat(O),onClick:()=>a("/app/admin/users"),loading:o&&!l}),(0,Xm.jsx)(DV,{title:"Active Cases",value:F((null===B||void 0===B?void 0:B.activeCases)||(null===f||void 0===f?void 0:f.activeCases)||(null===l||void 0===l?void 0:l.activeCases)||0),icon:gp,iconBg:"bg-gradient-to-br from-green-500 to-green-600",trend:(null===Q||void 0===Q?void 0:Q.caseGrowthRate)>=0?"up":"down",trendValue:q(null===Q||void 0===Q?void 0:Q.caseGrowthRate),subtitle:"".concat(F(Z)," total cases analyzed"),onClick:()=>a("/app/admin/cases"),loading:o&&!f}),(0,Xm.jsx)(DV,{title:"Revenue",value:L(G),icon:Cp,iconBg:"bg-gradient-to-br from-purple-500 to-purple-600",trend:(null===W||void 0===W?void 0:W.revenueGrowthRate)>=0?"up":"down",trendValue:q(null===W||void 0===W?void 0:W.revenueGrowthRate),subtitle:"".concat(F(Y)," payments analyzed"),onClick:()=>a("/app/admin/payments"),loading:o&&!m}),(0,Xm.jsx)(DV,{title:"Completion Rate",value:"".concat(X.toFixed?X.toFixed(1):X,"%"),icon:EV,iconBg:"bg-gradient-to-br from-teal-500 to-teal-600",trend:(null===Q||void 0===Q?void 0:Q.successRateChange)>=0?"up":"down",trendValue:q(null===Q||void 0===Q?void 0:Q.successRateChange),subtitle:"Case completion rate",loading:o&&!f})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,Xm.jsx)(DV,{title:"Verified Doctors",value:H>0?H:(null===l||void 0===l?void 0:l.totalDoctors)||0,icon:Op,iconBg:"bg-gradient-to-br from-emerald-500 to-emerald-600",onClick:()=>a("/app/admin/doctors/verification"),loading:o&&!l}),(0,Xm.jsx)(DV,{title:"Pending Verifications",value:((null===w||void 0===w?void 0:w.length)||0)+((null===C||void 0===C?void 0:C.length)||0),icon:Sp,iconBg:"bg-gradient-to-br from-orange-500 to-orange-600",onClick:()=>a("/app/admin/doctors/verification"),loading:o&&!l}),(0,Xm.jsx)(DV,{title:"Active Supervisors",value:(null===b||void 0===b?void 0:b.activeSupervisors)||(null===b||void 0===b?void 0:b.verifiedSupervisors)||(null===l||void 0===l?void 0:l.totalSupervisors)||0,icon:PV,iconBg:"bg-gradient-to-br from-indigo-500 to-indigo-600",onClick:()=>a("/app/admin/supervisors"),loading:o&&!b}),(0,Xm.jsx)(DV,{title:"Open Complaints",value:(null===l||void 0===l?void 0:l.openComplaints)||(null===A||void 0===A?void 0:A.length)||0,icon:wp,iconBg:"bg-gradient-to-br from-red-500 to-red-600",onClick:()=>a("/app/admin/complaints"),loading:o&&!l}),(0,Xm.jsx)(DV,{title:"Active Coupons",value:(null===g||void 0===g?void 0:g.distributedCoupons)||0,icon:jp,iconBg:"bg-gradient-to-br from-pink-500 to-pink-600",onClick:()=>a("/app/admin/coupons"),loading:o&&!g}),(0,Xm.jsx)(DV,{title:"Avg Response Time",value:"".concat(J?"number"===typeof J?J.toFixed(1):J:0,"h"),icon:Wb,iconBg:"bg-gradient-to-br from-cyan-500 to-cyan-600",subtitle:"Case response time",loading:o&&!f})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Cumulative Revenue Growth",children:(0,Xm.jsx)("div",{className:"h-64",children:K.some(e=>e.revenue>0)?(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(sV,{data:K,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,Xm.jsx)("defs",{children:(0,Xm.jsxs)("linearGradient",{id:"colorCumulativeRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Xm.jsx)("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.4}),(0,Xm.jsx)("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:.05})]})}),(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{dataKey:"date",tick:{fontSize:11,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),(0,Xm.jsx)(gU,{tick:{fontSize:11,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1,tickFormatter:e=>L(e)}),(0,Xm.jsx)($N,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[L(e),"Cumulative Revenue"]}),(0,Xm.jsx)(nV,{type:"monotone",dataKey:"revenue",name:"Cumulative Revenue",stroke:"#8B5CF6",strokeWidth:2.5,fillOpacity:1,fill:"url(#colorCumulativeRevenue)"})]})}):(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(Kp,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,Xm.jsx)("p",{className:"text-sm",children:"No revenue data available"})]})})})}),(0,Xm.jsx)(My,{title:"Monthly Payments",children:(0,Xm.jsx)("div",{className:"h-64",children:$.some(e=>e.revenue>0)?(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(qU,{data:$,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,Xm.jsx)("defs",{children:(0,Xm.jsxs)("linearGradient",{id:"colorMonthlyRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Xm.jsx)("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.9}),(0,Xm.jsx)("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.6})]})}),(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),(0,Xm.jsx)(oU,{dataKey:"month",tick:{fontSize:11,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),(0,Xm.jsx)(gU,{tick:{fontSize:11,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1,tickFormatter:e=>L(e)}),(0,Xm.jsx)($N,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[L(e),"Monthly Revenue"],cursor:{fill:"rgba(16, 185, 129, 0.1)"}}),(0,Xm.jsx)(uL,{dataKey:"revenue",name:"Monthly Revenue",fill:"url(#colorMonthlyRevenue)",radius:[4,4,0,0],maxBarSize:50})]})}):(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(kp,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,Xm.jsx)("p",{className:"text-sm",children:"No payment data available"})]})})})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)(My,{title:"User Distribution",children:[(0,Xm.jsx)("div",{className:"h-64",children:U.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:U,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},labelLine:!1,children:U.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))}),(0,Xm.jsx)($N,{formatter:(e,t)=>["".concat(e," users"),t],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,Xm.jsx)(CS,{verticalAlign:"bottom",height:36})]})}):(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(OV,{className:"w-16 h-16 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No user data available"})]})})}),(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-4 gap-2 text-center",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-lg font-bold text-blue-600",children:F((null===l||void 0===l?void 0:l.patients)||0)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Patients"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-lg font-bold text-green-600",children:F((null===l||void 0===l?void 0:l.doctors)||0)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Doctors"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-lg font-bold text-purple-600",children:F((null===b||void 0===b?void 0:b.supervisors)||0)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Supervisors"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-lg font-bold text-amber-600",children:F((null===l||void 0===l?void 0:l.sdmins)||0)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Admins"})]})]})]}),(0,Xm.jsxs)(My,{title:"Case Status Distribution",children:[(0,Xm.jsx)("div",{className:"h-64",children:V.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(qU,{data:V,layout:"vertical",margin:{top:10,right:30,left:20,bottom:10},children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{type:"number",tick:{fontSize:12,fill:"#6B7280"}}),(0,Xm.jsx)(gU,{dataKey:"name",type:"category",tick:{fontSize:12,fill:"#6B7280"},width:80}),(0,Xm.jsx)($N,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:e=>["".concat(e," cases")]}),(0,Xm.jsx)(uL,{dataKey:"value",radius:[0,4,4,0],children:V.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))})]})}):(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No case data available"})]})})}),(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-blue-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Active"})]}),(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-yellow-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Pending"})]}),(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-green-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Completed"})]})]}),(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",onClick:()=>a("/app/admin/cases"),children:["View All ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)(My,{title:"Pending Tasks",action:(0,Xm.jsxs)(lp,{variant:"warning",children:[ae," pending"]}),children:[(0,Xm.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:0===w.length&&0===C.length&&0===A.length?(0,Xm.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xm.jsx)(Up,{className:"w-12 h-12 mx-auto text-green-300 mb-3"}),(0,Xm.jsx)("p",{children:"All caught up! No pending tasks."})]}):(0,Xm.jsxs)(Xm.Fragment,{children:[w.slice(0,3).map(e=>(0,Xm.jsx)(MV,{priority:"high",title:"Verify Dr. ".concat(e.fullName||e.name||"Unknown"),description:"".concat(e.specialization||"Specialization pending"," - License: ").concat(e.licenseNumber||"N/A"),time:z(e.submittedAt||e.createdAt),onClick:()=>a("/app/admin/doctors/verification/".concat(e.id))},"doctor-".concat(e.id))),C.slice(0,2).map(e=>(0,Xm.jsx)(MV,{priority:"high",title:"Verify ".concat(e.fullName||e.name||"Supervisor"),description:"".concat(e.organizationName||"Organization pending"),time:z(e.submittedAt||e.createdAt),onClick:()=>a("/app/admin/supervisors/".concat(e.id))},"supervisor-".concat(e.id))),A.slice(0,3).map(e=>{var t;return(0,Xm.jsx)(MV,{priority:"HIGH"===e.severity?"high":"MEDIUM"===e.severity?"medium":"low",title:"Resolve complaint #".concat(e.id),description:e.subject||(null===(t=e.description)||void 0===t?void 0:t.substring(0,50))||"No description",time:z(e.createdAt),onClick:()=>a("/app/admin/complaints/".concat(e.id))},"complaint-".concat(e.id))})]})}),ae>5&&(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>a("/app/admin/tasks"),children:["View All Tasks ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})})]}),(0,Xm.jsxs)(My,{title:"Recent Activity",children:[(0,Xm.jsxs)("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:[(0,Xm.jsx)(_V,{icon:vp,iconBg:"bg-blue-100 text-blue-600",title:"New user registration",description:"Patient joined the platform",time:"Just now"}),(0,Xm.jsx)(_V,{icon:Sp,iconBg:"bg-green-100 text-green-600",title:"Doctor verified",description:"Dr. verification approved",time:"5m ago"}),(0,Xm.jsx)(_V,{icon:gp,iconBg:"bg-purple-100 text-purple-600",title:"New case submitted",description:"Cardiology consultation request",time:"15m ago"}),(0,Xm.jsx)(_V,{icon:Ym,iconBg:"bg-emerald-100 text-emerald-600",title:"Payment processed",description:"".concat(L(89.99)," consultation fee"),time:"30m ago"}),(0,Xm.jsx)(_V,{icon:Km,iconBg:"bg-orange-100 text-orange-600",title:"Complaint resolved",description:"Support ticket #1234 closed",time:"1h ago"}),(0,Xm.jsx)(_V,{icon:jp,iconBg:"bg-pink-100 text-pink-600",title:"Coupon distributed",description:"Batch distributed to supervisor",time:"2h ago"})]}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>a("/app/admin/audit-logs"),children:["View Activity Log ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{title:"Quick Actions",children:(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsx)(RV,{icon:Sp,label:"Doctor Verifications",count:(null===w||void 0===w?void 0:w.length)||0,onClick:()=>a("/app/admin/doctors/verification"),variant:(null===w||void 0===w?void 0:w.length)>0?"warning":"default"}),(0,Xm.jsx)(RV,{icon:PV,label:"Supervisor Verifications",count:(null===C||void 0===C?void 0:C.length)||0,onClick:()=>a("/app/admin/supervisors"),variant:(null===C||void 0===C?void 0:C.length)>0?"warning":"default"}),(0,Xm.jsx)(RV,{icon:wp,label:"Open Complaints",count:(null===A||void 0===A?void 0:A.length)||(null===l||void 0===l?void 0:l.openComplaints)||0,onClick:()=>a("/app/admin/complaints"),variant:(null===A||void 0===A?void 0:A.length)>0?"danger":"default"}),(0,Xm.jsx)(RV,{icon:vp,label:"Manage Users",onClick:()=>a("/app/admin/users")}),(0,Xm.jsx)(RV,{icon:jp,label:"Coupon Management",count:(null===g||void 0===g?void 0:g.totalCoupons)||0,onClick:()=>a("/app/admin/coupons"),variant:"primary"}),(0,Xm.jsx)(RV,{icon:kp,label:"System Reports",onClick:()=>a("/app/admin/reports")}),(0,Xm.jsx)(RV,{icon:Gm,label:"System Configuration",onClick:()=>a("/app/admin/configuration")})]})}),(0,Xm.jsxs)(My,{title:"Coupon Overview",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Xm.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:(null===g||void 0===g?void 0:g.totalCoupons)||0}),(0,Xm.jsx)("p",{className:"text-sm text-purple-600",children:"Total Coupons"})]}),(0,Xm.jsx)(jp,{className:"w-8 h-8 text-purple-400"})]})}),(0,Xm.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-green-700",children:(null===g||void 0===g?void 0:g.distributedCoupons)||0}),(0,Xm.jsx)("p",{className:"text-sm text-green-600",children:"Distributed"})]}),(0,Xm.jsx)(Up,{className:"w-8 h-8 text-green-400"})]})}),(0,Xm.jsx)("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:(null===g||void 0===g?void 0:g.usedCoupons)||0}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Used"})]}),(0,Xm.jsx)(Lp,{className:"w-8 h-8 text-gray-400"})]})}),(0,Xm.jsx)("div",{className:"p-4 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-amber-700",children:(null===g||void 0===g?void 0:g.expiringSoonCoupons)||0}),(0,Xm.jsx)("p",{className:"text-sm text-amber-600",children:"Expiring Soon"})]}),(0,Xm.jsx)(oy,{className:"w-8 h-8 text-amber-400"})]})})]}),(0,Xm.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Total Available Value:"}),(0,Xm.jsx)("span",{className:"ml-2 font-semibold text-gray-900",children:L((null===g||void 0===g?void 0:g.totalAvailableValue)||0)})]}),(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",onClick:()=>a("/app/admin/coupons"),children:["Manage ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})]})})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)(My,{title:"Top Performing Doctors",children:[(0,Xm.jsx)("div",{className:"space-y-3",children:ee.length>0?ee.slice(0,5).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-yellow-100 text-yellow-700":1===t?"bg-gray-200 text-gray-700":2===t?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"),children:t+1}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.doctorName||e.fullName||"Dr. ".concat(e.firstName||"Unknown")}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:e.specialization||"General"})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.totalCases||e.casesHandled||0," cases"]}),(0,Xm.jsxs)("p",{className:"text-xs text-green-600",children:[e.successRate?"".concat(e.successRate.toFixed(1),"%"):e.rating?"".concat(e.rating,"%"):"N/A"," rating"]})]})]},e.doctorId||t)):[1,2,3,4,5].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(1===e?"bg-yellow-100 text-yellow-700":2===e?"bg-gray-200 text-gray-700":3===e?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"),children:e}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),(0,Xm.jsx)("div",{className:"h-3 w-16 bg-gray-100 rounded animate-pulse mt-1"})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"}),(0,Xm.jsx)("div",{className:"h-3 w-12 bg-gray-100 rounded animate-pulse mt-1"})]})]},e))}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>a("/app/admin/reports/doctors"),children:["View Full Report ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})})]}),(0,Xm.jsxs)(My,{title:"Top Supervisors by Patient Count",children:[(0,Xm.jsx)("div",{className:"space-y-3",children:re.length>0?re.slice(0,5).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-purple-100 text-purple-700":1===t?"bg-indigo-100 text-indigo-700":2===t?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:t+1}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.organizationName||e.organization||"Organization"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:e.fullName||e.name||"Supervisor"})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.activePatientCount||e.patientCount||e.totalPatients||0," patients"]}),(0,Xm.jsxs)("p",{className:"text-xs text-purple-600",children:[e.activeCaseCount||e.activeCases||0," active cases"]})]})]},e.id||t)):b?(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Total Supervisors"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-purple-700",children:b.totalSupervisors||0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Active"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-green-700",children:b.activeSupervisors||0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Patients Managed"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-blue-700",children:b.totalUniquePatientsManaged||0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Patients/Supervisor"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-indigo-700",children:(null===(t=b.averagePatientsPerSupervisor)||void 0===t?void 0:t.toFixed(1))||0})]})]})}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Capacity Utilization"}),(0,Xm.jsxs)("span",{className:"font-semibold text-gray-900",children:[(null===(r=b.averageCapacityUtilization)||void 0===r?void 0:r.toFixed(1))||0,"%"]})]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,Xm.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.min(b.averageCapacityUtilization||0,100),"%")}})})]})]}):[1,2,3,4,5].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(1===e?"bg-purple-100 text-purple-700":2===e?"bg-indigo-100 text-indigo-700":3===e?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:e}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),(0,Xm.jsx)("div",{className:"h-3 w-16 bg-gray-100 rounded animate-pulse mt-1"})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"}),(0,Xm.jsx)("div",{className:"h-3 w-12 bg-gray-100 rounded animate-pulse mt-1"})]})]},e))}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>a("/app/admin/supervisors"),children:["View All Supervisors ",(0,Xm.jsx)(Jp,{className:"w-4 h-4 ml-1"})]})})]})]}),(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold",children:"System Summary"}),(0,Xm.jsx)("p",{className:"text-primary-100 text-sm mt-1",children:"Your medical consultation platform is running smoothly"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold",children:F((null===l||void 0===l?void 0:l.totalUsers)||0)}),(0,Xm.jsx)("p",{className:"text-primary-100 text-xs",children:"Total Users"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold",children:F(Z||(null===B||void 0===B?void 0:B.totalCases)||0)}),(0,Xm.jsx)("p",{className:"text-primary-100 text-xs",children:"Total Cases"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold",children:L(G)}),(0,Xm.jsx)("p",{className:"text-primary-100 text-xs",children:"Total Revenue"})]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsxs)("p",{className:"text-2xl font-bold",children:[(null===d||void 0===d?void 0:d.uptime)||99.9,"%"]}),(0,Xm.jsx)("p",{className:"text-primary-100 text-xs",children:"Uptime"})]})]})]})})]})},LV=zm("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),FV=zm("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),qV=zm("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),zV=e=>{let{currentPage:t,totalPages:r,totalElements:a,pageSize:n,onPageChange:s,onPageSizeChange:i,loading:o}=e;const l=0===a?0:t*n+1,c=Math.min((t+1)*n,a);return 0===a?null:(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 bg-white border-t border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[(0,Xm.jsxs)("span",{children:["Showing ",(0,Xm.jsx)("span",{className:"font-medium",children:l})," to"," ",(0,Xm.jsx)("span",{className:"font-medium",children:c})," of"," ",(0,Xm.jsx)("span",{className:"font-medium",children:a})," users"]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("span",{children:"Show:"}),(0,Xm.jsx)("select",{value:n,onChange:e=>i(parseInt(e.target.value)),disabled:o,className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500 disabled:opacity-50",children:[10,20,50,100].map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("button",{onClick:()=>s(0),disabled:0===t||o,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"First page",children:(0,Xm.jsx)(LV,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>s(t-1),disabled:0===t||o,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous page",children:(0,Xm.jsx)(Xp,{className:"w-4 h-4"})}),(0,Xm.jsx)("div",{className:"flex items-center gap-1 mx-2",children:(()=>{const e=[];if(r<=5)for(let t=0;t<r;t++)e.push(t);else{e.push(0);let a=Math.max(1,t-1),n=Math.min(r-2,t+1);t<=2?n=3:t>=r-3&&(a=r-4),a>1&&e.push("...");for(let t=a;t<=n;t++)e.push(t);n<r-2&&e.push("..."),r>1&&e.push(r-1)}return e})().map((e,r)=>"..."===e?(0,Xm.jsx)("span",{className:"px-2 text-gray-400",children:"..."},"ellipsis-".concat(r)):(0,Xm.jsx)("button",{onClick:()=>s(e),disabled:o,className:"min-w-[32px] h-8 px-2 rounded text-sm font-medium transition-colors ".concat(t===e?"bg-primary-600 text-white":"hover:bg-gray-100 text-gray-700"," disabled:opacity-50"),children:e+1},e))}),(0,Xm.jsx)("button",{onClick:()=>s(t+1),disabled:t>=r-1||o,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Next page",children:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>s(r-1),disabled:t>=r-1||o,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Last page",children:(0,Xm.jsx)(FV,{className:"w-4 h-4"})})]})]})},UV=e=>{let{label:t,field:r,currentSort:a,currentDir:n,onSort:s}=e;const i=a===r;return(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none",onClick:()=>{s(r,i&&"asc"===n?"desc":"asc")},children:(0,Xm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("span",{children:t}),i?"asc"===n?(0,Xm.jsx)(qy,{className:"w-4 h-4 text-primary-600"}):(0,Xm.jsx)(zy,{className:"w-4 h-4 text-primary-600"}):(0,Xm.jsx)(Fy,{className:"w-4 h-4 text-gray-400"})]})})},BV=e=>{let{role:t}=e;const r={PATIENT:{color:"bg-blue-100 text-blue-800",icon:vp,label:"Patient"},DOCTOR:{color:"bg-green-100 text-green-800",icon:Op,label:"Doctor"},ADMIN:{color:"bg-red-100 text-red-800",icon:$m,label:"Admin"},MEDICAL_SUPERVISOR:{color:"bg-purple-100 text-purple-800",icon:PV,label:"Supervisor"}}[t]||{color:"bg-gray-100 text-gray-800",icon:vp,label:t},a=r.icon;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:[(0,Xm.jsx)(a,{className:"w-3 h-3 mr-1"}),r.label]})},VV=e=>{let{status:t}=e;const r={ACTIVE:{color:"bg-green-100 text-green-800",icon:Up},SUSPENDED:{color:"bg-red-100 text-red-800",icon:eg},PENDING:{color:"bg-yellow-100 text-yellow-800",icon:Qp},PENDING_VERIFICATION:{color:"bg-orange-100 text-orange-800",icon:oy},INACTIVE:{color:"bg-gray-100 text-gray-800",icon:eg}}[t]||{color:"bg-gray-100 text-gray-800",icon:oy},a=r.icon;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:[(0,Xm.jsx)(a,{className:"w-3 h-3 mr-1"}),(null===t||void 0===t?void 0:t.replace("_"," "))||"Unknown"]})},HV=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)({totalUsers:0,activeUsers:0,doctors:0,pendingUsers:0}),[l,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(20),[m,p]=(0,s.useState)(0),[h,x]=(0,s.useState)(0),[f,y]=(0,s.useState)("createdAt"),[g,v]=(0,s.useState)("desc"),[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[A,k]=(0,s.useState)([]),[E,P]=(0,s.useState)(!1),[O,T]=(0,s.useState)(null),[D,R]=(0,s.useState)(!1),[_,M]=(0,s.useState)(null),[I,L]=(0,s.useState)(!1);(0,s.useEffect)(()=>{F()},[l,d,f,g]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{0===l?F():c(0)},500);return()=>clearTimeout(e)},[b]),(0,s.useEffect)(()=>{0===l?F():c(0)},[w,C]),(0,s.useEffect)(()=>{q()},[]);const F=async()=>{try{var e;const r={page:l,size:d,sortBy:f,sortDir:g};w&&(r.role=w),C&&(r.status=C),b.trim()&&(r.search=b.trim());const a=await t(()=>hp.getAllUsers(r));if(null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.content)n(a.data.content),p(a.data.totalElements||0),x(a.data.totalPages||0);else if(null!==a&&void 0!==a&&a.content)n(a.content),p(a.totalElements||0),x(a.totalPages||0);else{const e=(null===a||void 0===a?void 0:a.data)||a||[];n(Array.isArray(e)?e:[]),p(e.length),x(1)}}catch(r){console.error("Error fetching users:",r),n([]),p(0),x(0)}},q=async()=>{try{const s=await t(()=>hp.getDashboardStats());var e,r,a,n;if(s)o({totalUsers:s.totalUsers||(null===(e=s.data)||void 0===e?void 0:e.totalUsers)||0,activeUsers:s.activeUsers||(null===(r=s.data)||void 0===r?void 0:r.activeUsers)||0,doctors:s.totalDoctors||s.doctors||(null===(a=s.data)||void 0===a?void 0:a.totalDoctors)||0,pendingUsers:s.pendingUsers||(null===(n=s.data)||void 0===n?void 0:n.pendingUsers)||0})}catch(s){console.error("Error fetching stats:",s)}},z=(e,t)=>{y(e),v(t),c(0)},U=async function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{switch(e){case"activate":await t(()=>hp.unsuspendUser(r)),Ft.success("User activated successfully");break;case"suspend":await t(()=>hp.suspendUser(r,a||"Account suspended by admin")),Ft.success("User suspended successfully");break;case"delete":await t(()=>hp.deleteUser(r)),Ft.success("User deleted successfully");break;case"resetPassword":return await t(()=>hp.resetUserPassword(r)),void Ft.success("Password reset email sent")}await F(),await q()}catch(n){console.error("Error ".concat(e," user:"),n),Ft.error("Failed to ".concat(e," user"))}},B=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"delete"===e?(M({action:e,userId:t,title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",confirmStyle:"danger"}),R(!0)):U(e,t,r)},V=e=>{0!==A.length&&(M({action:"bulk",bulkAction:e,title:"".concat(e.charAt(0).toUpperCase()+e.slice(1)," Users"),message:"Are you sure you want to ".concat(e," ").concat(A.length," selected user(s)?"),confirmText:e.charAt(0).toUpperCase()+e.slice(1),confirmStyle:"delete"===e?"danger":"primary"}),R(!0))},H=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",W=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",G=b||w||C,Y=e=>{let{user:t,isOpen:a,onClose:n}=e;return a&&t?(0,Xm.jsxs)($y,{isOpen:a,onClose:n,title:"User Details",size:"lg",children:[(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.fullName||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.email})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.phoneNumber||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Xm.jsx)(BV,{role:t.role})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Xm.jsx)(VV,{status:t.status})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Verified"}),(0,Xm.jsx)(lp,{variant:t.emailVerified?"success":"warning",children:t.emailVerified?"Verified":"Not Verified"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:H(t.createdAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:W(t.lastLoginAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:W(t.updatedAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"2FA Enabled"}),(0,Xm.jsx)(lp,{variant:t.twoFactorEnabled?"success":"default",children:t.twoFactorEnabled?"Enabled":"Disabled"})]})]}),"DOCTOR"===t.role&&t.doctorProfile&&(0,Xm.jsxs)("div",{className:"border-t pt-4",children:[(0,Xm.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Doctor Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.doctorProfile.specialization||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Status"}),(0,Xm.jsx)(lp,{variant:"VERIFIED"===t.doctorProfile.verificationStatus?"success":"warning",children:t.doctorProfile.verificationStatus||"PENDING"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.doctorProfile.licenseNumber||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-900",children:[t.doctorProfile.yearsOfExperience||"N/A"," years"]})]})]})]}),"PATIENT"===t.role&&t.patientProfile&&(0,Xm.jsxs)("div",{className:"border-t pt-4",children:[(0,Xm.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Patient Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:H(t.patientProfile.dateOfBirth)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.patientProfile.gender||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900",children:t.patientProfile.emergencyContactNumber||"N/A"})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:n,children:"Close"}),(0,Xm.jsx)(Zm,{onClick:()=>{U("resetPassword",t.id),n()},disabled:r,children:"Reset Password"}),"ACTIVE"===t.status?(0,Xm.jsx)(Zm,{variant:"warning",onClick:()=>{B("suspend",t.id),n()},disabled:r,children:"Suspend User"}):(0,Xm.jsx)(Zm,{variant:"success",onClick:()=>{U("activate",t.id),n()},disabled:r,children:"Activate User"})]})]}):null};return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all users, roles, and permissions"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:async()=>{L(!0),await Promise.all([F(),q()]),L(!1),Ft.success("Data refreshed")},disabled:r||I,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(I?"animate-spin":"")}),"Refresh"]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:()=>Ft.info("Export functionality coming soon"),children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Users",value:i.totalUsers,icon:(0,Xm.jsx)(vp,{className:"w-6 h-6"}),iconColor:"bg-blue-100 text-blue-600"}),(0,Xm.jsx)(Ry,{title:"Active Users",value:i.activeUsers,icon:(0,Xm.jsx)(Sp,{className:"w-6 h-6"}),iconColor:"bg-green-100 text-green-600"}),(0,Xm.jsx)(Ry,{title:"Doctors",value:i.doctors,icon:(0,Xm.jsx)(Op,{className:"w-6 h-6"}),iconColor:"bg-purple-100 text-purple-600"}),(0,Xm.jsx)(Ry,{title:"Pending Verification",value:i.pendingUsers,icon:(0,Xm.jsx)(oy,{className:"w-6 h-6"}),iconColor:"bg-yellow-100 text-yellow-600"})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:b,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Roles"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patients"}),(0,Xm.jsx)("option",{value:"DOCTOR",children:"Doctors"}),(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Supervisors"}),(0,Xm.jsx)("option",{value:"ADMIN",children:"Admins"})]}),(0,Xm.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Status"}),(0,Xm.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Xm.jsx)("option",{value:"SUSPENDED",children:"Suspended"}),(0,Xm.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Xm.jsx)("option",{value:"PENDING_VERIFICATION",children:"Pending Verification"})]}),G&&(0,Xm.jsxs)(Zm,{variant:"ghost",size:"sm",onClick:()=>{j(""),N(""),S(""),c(0)},children:[(0,Xm.jsx)(eg,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),G&&(0,Xm.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,Xm.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Xm.jsx)($p,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Active filters:"}),b&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:['Search: "',b,'"']}),w&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["Role: ",w]}),C&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["Status: ",C]})]})}),A.length>0&&(0,Xm.jsxs)("div",{className:"flex items-center justify-between mt-4 p-3 bg-primary-50 rounded-lg border border-primary-200",children:[(0,Xm.jsxs)("span",{className:"text-sm font-medium text-primary-700",children:[A.length," user(s) selected"]}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsxs)(Zm,{size:"sm",variant:"success",onClick:()=>V("activate"),disabled:r,children:[(0,Xm.jsx)(Sp,{className:"w-4 h-4 mr-1"}),"Activate"]}),(0,Xm.jsxs)(Zm,{size:"sm",variant:"warning",onClick:()=>V("suspend"),disabled:r,children:[(0,Xm.jsx)(qV,{className:"w-4 h-4 mr-1"}),"Suspend"]}),(0,Xm.jsxs)(Zm,{size:"sm",variant:"danger",onClick:()=>V("delete"),disabled:r,children:[(0,Xm.jsx)(By,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:(0,Xm.jsx)("input",{type:"checkbox",checked:A.length===a.length&&a.length>0,onChange:e=>{return t=e.target.checked,void k(t?a.map(e=>e.id):[]);var t},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),(0,Xm.jsx)(UV,{label:"User",field:"fullName",currentSort:f,currentDir:g,onSort:z}),(0,Xm.jsx)(UV,{label:"Role",field:"role",currentSort:f,currentDir:g,onSort:z}),(0,Xm.jsx)(UV,{label:"Status",field:"status",currentSort:f,currentDir:g,onSort:z}),(0,Xm.jsx)(UV,{label:"Join Date",field:"createdAt",currentSort:f,currentDir:g,onSort:z}),(0,Xm.jsx)(UV,{label:"Last Login",field:"lastLoginAt",currentSort:f,currentDir:g,onSort:z}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email Verified"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r&&0===a.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Xm.jsx)(pg,{className:"w-6 h-6 animate-spin text-primary-500 mr-3"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"Loading users..."})]})})}):0===a.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsxs)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:[(0,Xm.jsx)(vp,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500 font-medium",children:"No users found"}),G&&(0,Xm.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your filters"})]})}):a.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(A.includes(e.id)?"bg-primary-50":""),children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("input",{type:"checkbox",checked:A.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void k(a?[...A,r]:A.filter(e=>e!==r));var r,a},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,Xm.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-medium",children:(e.fullName||e.email||"?").charAt(0).toUpperCase()})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.fullName||"No Name"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),e.phoneNumber&&(0,Xm.jsx)("div",{className:"text-xs text-gray-400",children:e.phoneNumber})]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(BV,{role:e.role})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(VV,{status:e.status})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H(e.createdAt)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lastLoginAt?W(e.lastLoginAt):(0,Xm.jsx)("span",{className:"text-gray-400 italic",children:"Never"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(lp,{variant:e.emailVerified?"success":"warning",size:"sm",children:e.emailVerified?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Up,{className:"w-3 h-3 mr-1"})," Verified"]}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Qp,{className:"w-3 h-3 mr-1"})," Pending"]})})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xm.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,Xm.jsx)("button",{onClick:()=>(async e=>{try{const r=await t(()=>hp.getUserById(e));T((null===r||void 0===r?void 0:r.data)||r),P(!0)}catch(r){console.error("Error fetching user details:",r),Ft.error("Failed to load user details")}})(e.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Xm.jsx)(iy,{className:"w-4 h-4"})}),"ACTIVE"===e.status?(0,Xm.jsx)("button",{onClick:()=>B("suspend",e.id),disabled:r,className:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors disabled:opacity-50",title:"Suspend User",children:(0,Xm.jsx)(qV,{className:"w-4 h-4"})}):(0,Xm.jsx)("button",{onClick:()=>U("activate",e.id),disabled:r,className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Activate User",children:(0,Xm.jsx)(Sp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>U("resetPassword",e.id),disabled:r,className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",title:"Reset Password",children:(0,Xm.jsx)(pg,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>B("delete",e.id),disabled:r,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete User",children:(0,Xm.jsx)(By,{className:"w-4 h-4"})})]})})]},e.id))})]})}),(0,Xm.jsx)(zV,{currentPage:l,totalPages:h,totalElements:m,pageSize:d,onPageChange:e=>{e>=0&&e<h&&(c(e),k([]))},onPageSizeChange:e=>{u(e),c(0),k([])},loading:r})]}),(0,Xm.jsx)(Y,{user:O,isOpen:E,onClose:()=>{P(!1),T(null)}}),(0,Xm.jsx)(Yy,{isOpen:D,onClose:()=>{R(!1),M(null)},onConfirm:async()=>{"bulk"===_.action?await(async e=>{if(0!==A.length)try{const r=A.map(t=>{switch(e){case"activate":return hp.unsuspendUser(t);case"suspend":return hp.suspendUser(t,"Bulk action by admin");case"delete":return hp.deleteUser(t);default:return Promise.resolve()}});await t(()=>Promise.all(r)),Ft.success("Successfully ".concat(e,"d ").concat(A.length," user(s)")),k([]),await F(),await q()}catch(r){console.error("Error in bulk ".concat(e,":"),r),Ft.error("Failed to ".concat(e," users"))}})(_.bulkAction):await U(_.action,_.userId),R(!1),M(null)},title:null===_||void 0===_?void 0:_.title,message:null===_||void 0===_?void 0:_.message,confirmText:null===_||void 0===_?void 0:_.confirmText,confirmVariant:null===_||void 0===_?void 0:_.confirmStyle,loading:r})]})},WV=["columns","data","searchable","filterable","sortable","exportable","selectable","pagination","itemsPerPage","loading","error","emptyMessage","onRefresh","onAdd","onRowClick","onSelectionChange","className"],GV=e=>{let{columns:t=[],data:r=[],searchable:a=!0,filterable:n=!0,sortable:i=!0,exportable:o=!1,selectable:l=!1,pagination:c=!0,itemsPerPage:d=10,loading:u=!1,error:m=null,emptyMessage:p="No data available",onRefresh:h,onAdd:x,onRowClick:f,onSelectionChange:y,className:g=""}=e,v=(0,it.A)(e,WV);const[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)({key:null,direction:"asc"}),[C,S]=(0,s.useState)(1),[A,k]=(0,s.useState)(new Set),[E,P]=(0,s.useState)({}),O=(0,s.useMemo)(()=>b||0!==Object.keys(E).length?r.filter(e=>{const r=!b||t.some(t=>{const r=e[t.key];return r&&String(r).toLowerCase().includes(b.toLowerCase())}),a=Object.entries(E).every(t=>{let[r,a]=t;if(!a)return!0;const n=e[r];return n&&String(n).toLowerCase().includes(String(a).toLowerCase())});return r&&a}):r,[r,b,E,t]),T=(0,s.useMemo)(()=>w.key?[...O].sort((e,t)=>{const r=e[w.key],a=t[w.key];return r<a?"asc"===w.direction?-1:1:r>a?"asc"===w.direction?1:-1:0}):O,[O,w]),D=(0,s.useMemo)(()=>{if(!c)return T;const e=(C-1)*d;return T.slice(e,e+d)},[T,C,d,c]),R=Math.ceil(T.length/d);return m?(0,Xm.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[(0,Xm.jsx)("div",{className:"text-red-500 mb-4",children:(0,Xm.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading data"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:m}),h&&(0,Xm.jsx)(Zm,{onClick:h,icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),children:"Try Again"})]}):(0,Xm.jsxs)("div",(0,ot.A)((0,ot.A)({className:"bg-white border border-gray-200 rounded-lg ".concat(g)},v),{},{children:[(a||n||o||x||h)&&(0,Xm.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[a&&(0,Xm.jsxs)("div",{className:"relative flex-1 min-w-64",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search...",value:b,onChange:e=>j(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n&&(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),children:"Filter"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[o&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>{const e=t.map(e=>e.title).join(","),r=T.map(e=>t.map(t=>{const r=e[t.key];return"string"===typeof r&&r.includes(",")?'"'.concat(r,'"'):r}).join(",")).join("\n"),a="".concat(e,"\n").concat(r),n=new Blob([a],{type:"text/csv"}),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download="data-export.csv",i.click(),window.URL.revokeObjectURL(s)},icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),children:"Export"}),h&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:h,icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),children:"Refresh"}),x&&(0,Xm.jsx)(Zm,{size:"sm",onClick:x,icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),children:"Add New"})]})]}),l&&A.size>0&&(0,Xm.jsxs)("div",{className:"mt-3 flex items-center justify-between bg-primary-50 px-3 py-2 rounded-lg",children:[(0,Xm.jsxs)("span",{className:"text-sm text-primary-700",children:[A.size," item",1!==A.size?"s":""," selected"]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{k(new Set),y&&y([])},children:"Clear selection"})]})]}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[l&&(0,Xm.jsx)("th",{className:"px-6 py-3 text-left",children:(0,Xm.jsx)("input",{type:"checkbox",checked:A.size===D.length&&D.length>0,onChange:e=>{return t=e.target.checked,k(t?new Set(D.map((e,t)=>t)):new Set),void(y&&y(t?D:[]));var t},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),t.map(e=>(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(i&&!1!==e.sortable?"cursor-pointer hover:bg-gray-100":""),onClick:()=>{return i&&!1!==e.sortable&&(t=e.key,void(i&&N(e=>({key:t,direction:e.key===t&&"asc"===e.direction?"desc":"asc"}))));var t},children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)("span",{children:e.title}),i&&!1!==e.sortable&&(0,Xm.jsxs)("span",{className:"flex flex-col",children:[(0,Xm.jsx)(tg,{className:"w-3 h-3 ".concat(w.key===e.key&&"asc"===w.direction?"text-primary-500":"text-gray-400")}),(0,Xm.jsx)(Hm,{className:"w-3 h-3 -mt-1 ".concat(w.key===e.key&&"desc"===w.direction?"text-primary-500":"text-gray-400")})]})]})},e.key))]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:t.length+(l?1:0),className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}):0===D.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:t.length+(l?1:0),className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Xm.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Xm.jsx)("p",{className:"text-gray-600",children:p})]})})}):D.map((e,r)=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(f?"cursor-pointer":""),onClick:()=>f&&f(e),children:[l&&(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("input",{type:"checkbox",checked:A.has(r),onChange:e=>((e,t)=>{const r=new Set(A);if(t?r.add(e):r.delete(e),k(r),y){const e=Array.from(r).map(e=>D[e]);y(e)}})(r,e.target.checked),onClick:e=>e.stopPropagation(),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),t.map(t=>(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e,r):(0,Xm.jsx)("span",{className:t.className||"",children:e[t.key]})},t.key))]},e.id||r))})]})}),(()=>{if(!c||R<=1)return null;const e=[];let t=Math.max(1,C-Math.floor(2.5)),r=Math.min(R,t+5-1);r-t+1<5&&(t=Math.max(1,r-5+1));for(let a=t;a<=r;a++)e.push(a);return(0,Xm.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-200 bg-white",children:[(0,Xm.jsx)("div",{className:"flex items-center text-sm text-gray-700",children:(0,Xm.jsxs)("span",{children:["Showing ",(C-1)*d+1," to ",Math.min(C*d,T.length)," of ",T.length," results"]})}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>S(e=>Math.max(e-1,1)),disabled:1===C,children:"Previous"}),t>1&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>S(1),children:"1"}),t>2&&(0,Xm.jsx)("span",{className:"text-gray-500",children:"..."})]}),e.map(e=>(0,Xm.jsx)(Zm,{variant:C===e?"primary":"outline",size:"sm",onClick:()=>S(e),children:e},e)),r<R&&(0,Xm.jsxs)(Xm.Fragment,{children:[r<R-1&&(0,Xm.jsx)("span",{className:"text-gray-500",children:"..."}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>S(R),children:R})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>S(e=>Math.min(e+1,R)),disabled:C===R,children:"Next"})]})]})})()]}))},YV=()=>{const e=tt(),t=nt(e=>e.ui),r=(0,s.useCallback)(function(t){e({type:"ui/openModal",payload:{name:t,props:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}})},[e]),a=(0,s.useCallback)(t=>{e({type:"ui/closeModal",payload:t})},[e]),n=(0,s.useCallback)(()=>{e({type:"ui/closeAllModals"})},[e]),i=(0,s.useCallback)(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const n=Date.now().toString();return e({type:"ui/addToast",payload:{id:n,message:t,type:r,duration:a}}),setTimeout(()=>{e({type:"ui/removeToast",payload:n})},a),n},[e]),o=(0,s.useCallback)(t=>{e({type:"ui/removeToast",payload:t})},[e]),l=(0,s.useCallback)(function(t){e({type:"ui/setLoading",payload:{isLoading:t,loadingText:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}})},[e]),c=(0,s.useCallback)(()=>{e({type:"ui/toggleSidebar"})},[e]),d=(0,s.useCallback)(t=>{e({type:"ui/setSidebar",payload:t})},[e]),u=(0,s.useCallback)(t=>{e({type:"ui/setTheme",payload:t})},[e]),m=(0,s.useCallback)(()=>{e({type:"ui/toggleTheme"})},[e]),p=(0,s.useCallback)(function(t){e({type:"ui/openDrawer",payload:{name:t,props:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}})},[e]),h=(0,s.useCallback)(t=>{e({type:"ui/closeDrawer",payload:t})},[e]);return{modals:(null===t||void 0===t?void 0:t.modals)||{},toasts:(null===t||void 0===t?void 0:t.toasts)||[],isLoading:(null===t||void 0===t?void 0:t.isLoading)||!1,loadingText:(null===t||void 0===t?void 0:t.loadingText)||"",sidebarOpen:!1!==(null===t||void 0===t?void 0:t.sidebarOpen),theme:(null===t||void 0===t?void 0:t.theme)||"light",drawers:(null===t||void 0===t?void 0:t.drawers)||{},openModal:r,closeModal:a,closeAllModals:n,showToast:i,dismissToast:o,setLoading:l,toggleSidebar:c,setSidebarOpen:d,setTheme:u,toggleTheme:m,openDrawer:p,closeDrawer:h}};var KV,$V=r(7068),QV=r(7673);const XV="function"===typeof s.act?s.act:$V.act;function JV(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}function ZV(e){JV().IS_REACT_ACT_ENVIRONMENT=e}function eH(){return JV().IS_REACT_ACT_ENVIRONMENT}const tH=(rH=XV,e=>{const t=eH();ZV(!0);try{let r=!1;const a=rH(()=>{const t=e();return null!==t&&"object"===typeof t&&"function"===typeof t.then&&(r=!0),t});if(r){const e=a;return{then:(r,a)=>{e.then(e=>{ZV(t),r(e)},e=>{ZV(t),a(e)})}}}return ZV(t),a}catch(r){throw ZV(t),r}});var rH;const aH=function(){return(0,QV.rC)(...arguments)};Object.keys(QV.rC).forEach(e=>{aH[e]=function(){return QV.rC[e](...arguments)}});const nH=aH.mouseEnter,sH=aH.mouseLeave;aH.mouseEnter=function(){return nH(...arguments),aH.mouseOver(...arguments)},aH.mouseLeave=function(){return sH(...arguments),aH.mouseOut(...arguments)};const iH=aH.pointerEnter,oH=aH.pointerLeave;aH.pointerEnter=function(){return iH(...arguments),aH.pointerOver(...arguments)},aH.pointerLeave=function(){return oH(...arguments),aH.pointerOut(...arguments)};const lH=aH.select;aH.select=(e,t)=>{lH(e,t),e.focus(),aH.keyUp(e,t)};const cH=aH.blur,dH=aH.focus;aH.blur=function(){return aH.focusOut(...arguments),cH(...arguments)},aH.focus=function(){return aH.focusIn(...arguments),dH(...arguments)};(0,QV.jK)({unstable_advanceTimersWrapper:e=>tH(e),asyncWrapper:async e=>{const t=eH();ZV(!1);try{const t=await e();return await new Promise(e=>{setTimeout(()=>{e()},0),"undefined"===typeof jest||null===jest||!0!==setTimeout._isMockFunction&&!Object.prototype.hasOwnProperty.call(setTimeout,"clock")||jest.advanceTimersByTime(0)}),t}finally{ZV(t)}},eventWrapper:e=>{let t;return tH(()=>{t=e()}),t}});const uH=new Set,mH=[];function pH(){mH.forEach(e=>{let{root:t,container:r}=e;tH(()=>{t.unmount()}),r.parentNode===document.body&&document.body.removeChild(r)}),mH.length=0,uH.clear()}if(("undefined"===typeof process||null===(KV={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://medilink24.com/api/payment-service/stripe/webhooksi",REACT_APP_ENVIRONMENT:"development",REACT_APP_GOOGLE_CLIENT_ID:"599044889227-mmr204c794307k86fsi5o1i67eg4v340.apps.googleusercontent.com",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"})||void 0===KV||!KV.RTL_SKIP_AUTO_CLEANUP)&&("function"===typeof afterEach?afterEach(()=>{pH()}):"function"===typeof teardown&&teardown(()=>{pH()}),"function"===typeof beforeAll&&"function"===typeof afterAll)){let e=eH();beforeAll(()=>{e=eH(),ZV(!0)}),afterAll(()=>{ZV(e)})}const hH=ey({approved:Pf().required("Decision is required"),reason:zf().when("approved",{is:!1,then:e=>e.required("Reason is required for rejection"),otherwise:e=>e.optional()})}),xH=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),{showToast:a}=YV(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)("all"),[j,w]=(0,s.useState)("submittedAt"),[N,C]=(0,s.useState)("desc"),[S,A]=(0,s.useState)({total:0,pending:0,thisWeek:0,avgProcessingTime:0}),{register:k,handleSubmit:E,reset:P,watch:O,formState:{errors:T}}=Tx({resolver:Lx(hH),defaultValues:{approved:null,reason:""}}),D=O("approved"),R=async()=>{try{const e=await t(()=>hp.getPendingDoctors());if(e){i(e),l(e);const t=e.length,r=e.filter(e=>{const t=new Date(e.submittedAt),r=new Date;return r.setDate(r.getDate()-7),t>=r}).length;A({total:t,pending:t,thisWeek:r,avgProcessingTime:2.5})}}catch(e){a("Failed to load pending verifications","error")}};(0,s.useEffect)(()=>{R()},[]),(0,s.useEffect)(()=>{let e=[...n];y&&(e=e.filter(e=>e.fullName.toLowerCase().includes(y.toLowerCase())||e.licenseNumber.toLowerCase().includes(y.toLowerCase())||e.specialization.toLowerCase().includes(y.toLowerCase()))),e.sort((e,t)=>{let r=e[j],a=t[j];return"submittedAt"===j&&(r=new Date(r),a=new Date(a)),"asc"===N?r>a?1:-1:r<a?1:-1}),l(e)},[n,y,v,j,N]);const _=(e,t)=>{f({url:e,type:t}),h(!0)},M=[{title:"Doctor",accessorKey:"fullName",render:e=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:e.fullName}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:e.licenseNumber})]})]})},{title:"Specialization",key:"specialization",render:e=>(0,Xm.jsx)(lp,{variant:"info",size:"sm",children:e.specialization})},{title:"Submitted",key:"submittedAt",render:e=>(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:new Date(e.submittedAt).toLocaleDateString()}),(0,Xm.jsx)("div",{className:"text-gray-500",children:new Date(e.submittedAt).toLocaleTimeString()})]})},{title:"Documents",key:"documents",render:e=>(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),onClick:()=>_(e.documentsUrl,"credentials"),children:"View Documents"})},{title:"Actions",key:"actions",render:e=>(0,Xm.jsx)("div",{className:"flex items-center space-x-2",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{const r=await t(()=>hp.getDoctorVerificationDetails(e));r&&(d(r),m(!0))}catch(r){a("Failed to load doctor details","error")}})(e.doctorId),children:"Review"})})}];return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Doctor Verification"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Review and verify pending doctor applications"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:R,loading:r,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),children:"Export"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Pending Verifications",value:S.pending,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6 text-yellow-600"}),trend:{value:8,isPositive:!1},className:"border-l-4 border-l-yellow-500"}),(0,Xm.jsx)(Ry,{title:"This Week",value:S.thisWeek,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6 text-blue-600"}),trend:{value:12,isPositive:!0},className:"border-l-4 border-l-blue-500"}),(0,Xm.jsx)(Ry,{title:"Avg Processing Time",value:"".concat(S.avgProcessingTime," days"),icon:(0,Xm.jsx)(Ey,{className:"w-6 h-6 text-green-600"}),trend:{value:.5,isPositive:!1},className:"border-l-4 border-l-green-500"}),(0,Xm.jsx)(Ry,{title:"Total Doctors",value:"20",icon:(0,Xm.jsx)(vp,{className:"w-6 h-6 text-purple-600"}),trend:{value:5,isPositive:!0},className:"border-l-4 border-l-purple-500"})]}),(0,Xm.jsxs)(My,{className:"overflow-hidden",children:[(0,Xm.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by name, license, or specialization...",value:y,onChange:e=>g(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"submittedAt",children:"Sort by Date"}),(0,Xm.jsx)("option",{value:"fullName",children:"Sort by Name"}),(0,Xm.jsx)("option",{value:"specialization",children:"Sort by Specialization"})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>C(e=>"asc"===e?"desc":"asc"),children:"asc"===N?"Oldest First":"Newest First"})]})]})}),(0,Xm.jsx)(GV,{data:o,columns:M,loading:r,emptyMessage:"No pending verifications found",className:"border-0"})]}),(0,Xm.jsx)(Ky,{isOpen:u,onClose:()=>{m(!1),d(null),P()},title:"Doctor Verification Review",description:"Review the doctor's credentials and make a verification decision",size:"2xl",children:c&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Xm.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-8 h-8 text-primary-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c.fullName}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2 text-sm",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"License Number:"}),(0,Xm.jsx)("span",{className:"ml-2 font-medium",children:c.licenseNumber})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Specialization:"}),(0,Xm.jsx)("span",{className:"ml-2 font-medium",children:c.specialization})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Experience:"}),(0,Xm.jsxs)("span",{className:"ml-2 font-medium",children:[c.yearsOfExperience||"N/A"," years"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Submitted:"}),(0,Xm.jsx)("span",{className:"ml-2 font-medium",children:new Date(c.submittedAt).toLocaleDateString()})]})]})]})]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(qp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Submitted Credentials"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Medical License"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>_(c.documentsUrl,"license"),children:"View"})]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["License #",c.licenseNumber]})]}),(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Medical Degree"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>_(c.documentsUrl,"degree"),children:"View"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Medical degree certificate"})]}),(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Certifications"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>_(c.documentsUrl,"certifications"),children:"View"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Professional certifications"})]}),(0,Xm.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Identity Document"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>_(c.documentsUrl,"identity"),children:"View"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Government-issued ID"})]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Verification Decision"}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"radio",value:"true"},k("approved")),{},{className:"w-4 h-4 text-primary-600 focus:ring-primary-500"})),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Approve"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"All credentials are valid and verified"})]})]}),(0,Xm.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"radio",value:"false"},k("approved")),{},{className:"w-4 h-4 text-primary-600 focus:ring-primary-500"})),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(eg,{className:"w-5 h-5 text-red-600 mr-2"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Reject"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Credentials require clarification or are invalid"})]})]})]}),T.approved&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:T.approved.message})]}),"false"===D&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rejection *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},k("reason")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Please provide a detailed reason for rejection..."})),T.reason&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:T.reason.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{m(!1),d(null),P()},children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"false"===D?"danger":"primary",loading:r,icon:"false"===D?(0,Xm.jsx)(eg,{className:"w-4 h-4"}):(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:E(async e=>{try{await t(()=>hp.verifyDoctor(c.doctorId,{doctorId:c.doctorId,approved:e.approved,reason:e.reason})),a("Doctor ".concat(e.approved?"approved":"rejected"," successfully"),e.approved?"success":"warning"),i(e=>e.filter(e=>e.doctorId!==c.doctorId)),m(!1),d(null),P()}catch(r){a("Failed to process verification","error")}}),children:"false"===D?"Reject Doctor":"Approve Doctor"})]})]})]})}),(0,Xm.jsx)($y,{isOpen:p,onClose:()=>{h(!1),f(null)},title:"Document Viewer",size:"4xl",children:x&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-medium text-gray-900 capitalize",children:[x.type," Document"]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>window.open(x.url,"_blank"),children:"Download"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(vg,{className:"w-4 h-4"}),onClick:()=>window.open(x.url,"_blank"),children:"Open in New Tab"})]})]}),(0,Xm.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 min-h-96 flex items-center justify-center",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"Document preview will be displayed here"}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(vg,{className:"w-4 h-4"}),onClick:()=>window.open(x.url,"_blank"),children:"View Full Document"})]})})]})}),0===o.length&&!r&&(0,Xm.jsx)(_y,{type:"info",icon:(0,Xm.jsx)(Sg,{className:"w-5 h-5"}),title:"No pending verifications",description:"All doctor applications have been processed. New applications will appear here for review."})]})},fH=zm("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),yH=()=>{var e,t,r;te();const{user:a}=Jd(),{execute:n,loading:i}=Iy(),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(""),[y,g]=(0,s.useState)("ALL"),[v,b]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1),[S,A]=(0,s.useState)(!1),[k,E]=(0,s.useState)(!1),[P,O]=(0,s.useState)(!1),[T,D]=(0,s.useState)(""),[R,_]=(0,s.useState)(""),[M,I]=(0,s.useState)(""),[L,F]=(0,s.useState)(30),[q,z]=(0,s.useState)(3);(0,s.useEffect)(()=>{U(),B()},[y]),(0,s.useEffect)(()=>{V()},[o,x]);const U=async()=>{try{const e="ALL"===y?null:y,t=await n(()=>hp.getAllSupervisors(e));l(t||[])}catch(e){console.error("Failed to load supervisors:",e),Ft.error("Failed to load supervisors")}},B=async()=>{try{const e=await n(()=>hp.getSupervisorStatistics());m(e)}catch(e){console.error("Failed to load statistics:",e)}},V=()=>{let e=[...o];if(x){const t=x.toLowerCase();e=e.filter(e=>{var r,a,n,s;return(null===(r=e.fullName)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.organizationName)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(s=e.licenseNumber)||void 0===s?void 0:s.toLowerCase().includes(t))})}d(e)},H=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",W=e=>{const t={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:Qp,label:"Pending"},VERIFIED:{color:"bg-green-100 text-green-800",icon:Up,label:"Verified"},REJECTED:{color:"bg-red-100 text-red-800",icon:eg,label:"Rejected"},SUSPENDED:{color:"bg-gray-100 text-gray-800",icon:fH,label:"Suspended"}},r=t[e]||t.PENDING,a=r.icon;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:[(0,Xm.jsx)(a,{className:"w-3 h-3 mr-1"}),r.label]})},G=(e,t)=>{const r=e/t*100;return r>=90?"text-red-600":r>=75?"text-yellow-600":"text-green-600"};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-8 h-8 mr-3 text-primary-600"}),"Supervisor Management"]}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage medical supervisors, verify applications, and monitor performance"})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:()=>{U(),B()},children:"Refresh"})})]})})})}),(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(Ry,{title:"Total Supervisors",value:u.totalSupervisors,icon:(0,Xm.jsx)(vp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-blue-50 to-blue-100"}),(0,Xm.jsx)(Ry,{title:"Pending Verification",value:u.pendingSupervisors,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-yellow-50 to-yellow-100",trend:u.pendingSupervisors>0?{value:u.pendingSupervisors,label:"Awaiting review"}:null}),(0,Xm.jsx)(Ry,{title:"Active Supervisors",value:u.activeSupervisors,icon:(0,Xm.jsx)(Sp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-green-50 to-green-100"}),(0,Xm.jsx)(Ry,{title:"Patients Managed",value:u.totalUniquePatientsManaged,icon:(0,Xm.jsx)(Ey,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-purple-50 to-purple-100"})]}),u&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Capacity Utilization"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[null===(e=u.averageCapacityUtilization)||void 0===e?void 0:e.toFixed(1),"%"]})]}),(0,Xm.jsx)(Kp,{className:"w-8 h-8 text-blue-500"})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available Coupons"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:u.availableCoupons})]}),(0,Xm.jsx)(jp,{className:"w-8 h-8 text-green-500"})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",null===(t=u.totalAmountPaid)||void 0===t?void 0:t.toLocaleString()]})]}),(0,Xm.jsx)(Cp,{className:"w-8 h-8 text-purple-500"})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Patients/Supervisor"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null===(r=u.averagePatientsPerSupervisor)||void 0===r?void 0:r.toFixed(1)})]}),(0,Xm.jsx)(kp,{className:"w-8 h-8 text-orange-500"})]})})]}),u&&u.pendingSupervisors>0&&(0,Xm.jsx)(_y,{type:"warning",title:"Pending Verifications",message:"There are ".concat(u.pendingSupervisors," supervisor applications awaiting verification."),className:"mb-6"}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by name, email, organization, or license...",value:x,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&(async()=>{if(x.trim())try{const e=await n(()=>hp.searchSupervisors(x));l(e||[])}catch(e){console.error("Search failed:",e),Ft.error("Search failed")}else U()})(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)($p,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"})]}),(0,Xm.jsxs)("select",{value:y,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"ALL",children:"All Status"}),(0,Xm.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Xm.jsx)("option",{value:"VERIFIED",children:"Verified"}),(0,Xm.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,Xm.jsx)("option",{value:"SUSPENDED",children:"Suspended"})]}),(x||"ALL"!==y)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{f(""),g("ALL"),U()},children:"Clear Filters"})]})]})})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"p-6",children:i?(0,Xm.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):c.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:c.map(e=>{return(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow duration-200",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-6 h-6 text-primary-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.fullName}),W(e.verificationStatus),e.isAvailable&&"VERIFIED"===e.verificationStatus&&(0,Xm.jsxs)(lp,{variant:"success",size:"sm",children:[(0,Xm.jsx)(Up,{className:"w-3 h-3 mr-1"}),"Available"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(PV,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:e.organizationName})]}),(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(gp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:e.licenseNumber})]})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(py,{className:"w-4 h-4 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e.email})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(gy,{className:"w-4 h-4 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e.phoneNumber})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Fp,{className:"w-4 h-4 text-gray-400"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:[e.city,", ",e.country]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-gray-400"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:["Joined ",(t=e.createdAt,t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Patient Capacity"}),(0,Xm.jsxs)("p",{className:"text-lg font-bold ".concat(G(e.activePatientCount,e.maxPatientsLimit)),children:[e.activePatientCount," / ",e.maxPatientsLimit]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,Xm.jsx)("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"".concat(Math.min(e.activePatientCount/e.maxPatientsLimit*100,100),"%")}})})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Max Cases per Patient"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.maxActiveCasesPerPatient})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Available Coupons"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.availableCouponCount})]})]}),"VERIFIED"===e.verificationStatus&&e.verifiedAt&&(0,Xm.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm",children:(0,Xm.jsxs)("p",{className:"text-green-800",children:[(0,Xm.jsx)("strong",{children:"Verified:"})," ",H(e.verifiedAt),e.verificationNotes&&(0,Xm.jsxs)("span",{className:"ml-2",children:["- ",e.verificationNotes]})]})}),"REJECTED"===e.verificationStatus&&e.rejectionReason&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm",children:(0,Xm.jsxs)("p",{className:"text-red-800",children:[(0,Xm.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})}),"SUSPENDED"===e.verificationStatus&&e.rejectionReason&&(0,Xm.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm",children:(0,Xm.jsxs)("p",{className:"text-gray-800",children:[(0,Xm.jsx)("strong",{children:"Suspension Reason:"})," ",e.rejectionReason]})})]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{const t=await n(()=>hp.getSupervisorById(e.id));h(t),w(!0)}catch(t){console.error("Failed to load supervisor details:",t),Ft.error("Failed to load supervisor details")}})(e),children:"View Details"}),"PENDING"===e.verificationStatus&&(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"success",size:"sm",icon:(0,Xm.jsx)(Up,{className:"w-4 h-4"}),onClick:()=>{h(e),C(!0)},children:"Verify"}),(0,Xm.jsx)(Zm,{variant:"danger",size:"sm",icon:(0,Xm.jsx)(eg,{className:"w-4 h-4"}),onClick:()=>{h(e),A(!0)},children:"Reject"})]}),"VERIFIED"===e.verificationStatus&&(0,Xm.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"}),onClick:()=>{h(e),F(e.maxPatientsLimit),z(e.maxActiveCasesPerPatient),O(!0)},children:"Update Limits"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(fH,{className:"w-4 h-4"}),onClick:()=>{h(e),E(!0)},children:"Suspend"})]})]})]})})},e.id);var t})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(vp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:x||"ALL"!==y?"No supervisors found":"No supervisors yet"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:x||"ALL"!==y?"Try adjusting your search or filters":"Supervisor applications will appear here"})]})})})]}),j&&p&&(0,Xm.jsx)($y,{isOpen:j,onClose:()=>{w(!1),h(null)},title:"Supervisor Details",size:"xl",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.fullName})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Xm.jsx)("div",{className:"mt-1",children:W(p.verificationStatus)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.email})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.phoneNumber})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Organization"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.organizationName})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Organization Type"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.organizationType})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"License Number"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.licenseNumber})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:p.isAvailable?"Yes":"No"})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),(0,Xm.jsxs)("p",{className:"text-gray-900",children:[p.address,(0,Xm.jsx)("br",{}),p.city,", ",p.country]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Limits"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Patients"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.activePatientCount})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Max Patients"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.maxPatientsLimit})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Max Cases/Patient"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.maxActiveCasesPerPatient})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Timeline"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:H(p.createdAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Updated At"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:H(p.updatedAt)})]}),p.verifiedAt&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Verified At"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:H(p.verifiedAt)})]})]})]})]})}),(0,Xm.jsx)(Ky,{isOpen:N,onClose:()=>{C(!1),h(null),D("")},title:"Verify Supervisor",onSubmit:async()=>{if(p)try{await n(()=>hp.verifySupervisor(p.id,{verificationNotes:T||void 0})),Ft.success("Supervisor verified successfully"),C(!1),D(""),h(null),U(),B()}catch(r){var e,t;console.error("Failed to verify supervisor:",r),Ft.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to verify supervisor")}},loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)(_y,{type:"info",title:"Verify Supervisor Application",message:"You are about to verify ".concat(null===p||void 0===p?void 0:p.fullName,". This will grant them access to the supervisor portal.")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Notes (Optional)"}),(0,Xm.jsx)("textarea",{value:T,onChange:e=>D(e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter any notes about the verification..."})]})]})}),(0,Xm.jsx)(Ky,{isOpen:S,onClose:()=>{A(!1),h(null),_("")},title:"Reject Supervisor Application",onSubmit:async()=>{if(p&&R.trim())try{await n(()=>hp.rejectSupervisor(p.id,R)),Ft.success("Supervisor application rejected"),A(!1),_(""),h(null),U(),B()}catch(r){var e,t;console.error("Failed to reject supervisor:",r),Ft.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reject supervisor")}else Ft.error("Please provide a rejection reason")},loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)(_y,{type:"warning",title:"Reject Application",message:"You are about to reject ".concat(null===p||void 0===p?void 0:p.fullName,"'s application. Please provide a reason.")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),(0,Xm.jsx)("textarea",{value:R,onChange:e=>_(e.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter the reason for rejection...",required:!0})]})]})}),(0,Xm.jsx)(Ky,{isOpen:k,onClose:()=>{E(!1),h(null),I("")},title:"Suspend Supervisor",onSubmit:async()=>{if(p&&M.trim())try{await n(()=>hp.suspendSupervisor(p.id,M)),Ft.success("Supervisor suspended successfully"),E(!1),I(""),h(null),U(),B()}catch(r){var e,t;console.error("Failed to suspend supervisor:",r),Ft.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to suspend supervisor")}else Ft.error("Please provide a suspension reason")},loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)(_y,{type:"error",title:"Suspend Supervisor Account",message:"You are about to suspend ".concat(null===p||void 0===p?void 0:p.fullName,". This will revoke their access to the supervisor portal.")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Suspension Reason *"}),(0,Xm.jsx)("textarea",{value:M,onChange:e=>I(e.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Enter the reason for suspension...",required:!0})]})]})}),(0,Xm.jsx)(Ky,{isOpen:P,onClose:()=>{O(!1),h(null)},title:"Update Supervisor Limits",onSubmit:async()=>{if(p)if(L<=0||q<=0)Ft.error("Limits must be greater than 0");else try{await n(()=>hp.updateSupervisorLimits(p.id,{maxPatientsLimit:parseInt(L),maxActiveCasesPerPatient:parseInt(q)})),Ft.success("Supervisor limits updated successfully"),O(!1),h(null),U()}catch(r){var e,t;console.error("Failed to update limits:",r),Ft.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to update limits")}},loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Patients Limit *"}),(0,Xm.jsx)("input",{type:"number",value:L,onChange:e=>F(e.target.value),min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Typically 10-100. Current: ",null===p||void 0===p?void 0:p.maxPatientsLimit]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Active Cases per Patient *"}),(0,Xm.jsx)("input",{type:"number",value:q,onChange:e=>z(e.target.value),min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",required:!0}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Typically 1-10. Current: ",null===p||void 0===p?void 0:p.maxActiveCasesPerPatient]})]})]})})]})},gH=zm("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),vH={primary:["#3B82F6","#60A5FA","#93C5FD","#BFDBFE","#DBEAFE"],success:["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],warning:["#F59E0B","#FBBF24","#FCD34D","#FDE68A","#FEF3C7"],danger:["#EF4444","#F87171","#FCA5A5","#FECACA","#FEE2E2"],purple:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#EDE9FE"],teal:["#14B8A6","#2DD4BF","#5EEAD4","#99F6E4","#CCFBF1"],status:{SUBMITTED:"#3B82F6",PENDING:"#F59E0B",ASSIGNED:"#8B5CF6",ACCEPTED:"#10B981",SCHEDULED:"#06B6D4",IN_PROGRESS:"#6366F1",CONSULTATION_COMPLETE:"#10B981",COMPLETE:"#10B981",CLOSED:"#6B7280",REJECTED:"#EF4444"},urgency:{CRITICAL:"#EF4444",HIGH:"#F59E0B",MEDIUM:"#FBBF24",LOW:"#10B981"},performance:{EXCELLENT:"#10B981",GOOD:"#3B82F6",AVERAGE:"#F59E0B",NEEDS_IMPROVEMENT:"#EF4444"},utilization:{UNDERUTILIZED:"#EF4444",OPTIMAL:"#10B981",OVERUTILIZED:"#F59E0B"},trend:{UP:"#10B981",DOWN:"#EF4444",STABLE:"#6B7280"},sla:{EXCELLENT:"#10B981",GOOD:"#3B82F6",FAIR:"#F59E0B",POOR:"#EF4444"},quality:{HIGH:"#10B981",MEDIUM:"#F59E0B",LOW:"#EF4444"},gradients:{blue:["#3B82F6","#BFDBFE"],green:["#10B981","#A7F3D0"],purple:["#8B5CF6","#DDD6FE"],orange:["#F59E0B","#FDE68A"]}},bH=e=>{let{data:t}=e;if(!t)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading overview data..."})]})});const r=Object.entries(t.statusDistribution||{}).map(e=>{let[t,r]=e;return{name:t.replace(/_/g," "),value:r,color:vH.status[t]||"#6B7280"}}),a=Object.entries(t.urgencyDistribution||{}).map(e=>{let[t,r]=e;return{name:t,value:r,color:vH.urgency[t]||"#6B7280"}}),n=e=>{let{title:t,value:r,trend:a,icon:n,color:s}=e;return(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat(s," flex items-center justify-center"),children:(0,Xm.jsx)(n,{className:"w-5 h-5 text-white"})}),a&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-sm ".concat(a.isPositive?"text-green-600":"text-red-600"),children:[a.isPositive?(0,Xm.jsx)(Kp,{className:"w-4 h-4"}):(0,Xm.jsx)(gH,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{className:"font-medium",children:[a.value,"%"]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:t}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r}),a&&(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.period})]})]})};return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,Xm.jsx)(n,{title:"Total Cases",value:t.totalCases||0,trend:t.caseTrend,icon:gp,color:"bg-blue-500"}),(0,Xm.jsx)(n,{title:"Active Cases",value:t.activeCases||0,icon:Ey,color:"bg-green-500"}),(0,Xm.jsx)(n,{title:"Closed Cases",value:t.closedCases||0,icon:Up,color:"bg-purple-500"}),(0,Xm.jsx)(n,{title:"At Risk",value:t.casesAtRisk||0,icon:wp,color:"bg-red-500"}),(0,Xm.jsx)(n,{title:"Active Doctors",value:t.activeDoctorsCount||0,icon:vp,color:"bg-indigo-500"}),(0,Xm.jsx)(n,{title:"Assignment Rate",value:"".concat((t.assignmentSuccessRate||0).toFixed(1),"%"),icon:Up,color:"bg-teal-500"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Assignment Time"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(t.avgAssignmentTime||0).toFixed(1),"h"]}),t.assignmentTimeTrend&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-sm mt-2 ".concat(t.assignmentTimeTrend.isPositive?"text-green-600":"text-red-600"),children:[t.assignmentTimeTrend.isPositive?(0,Xm.jsx)(Kp,{className:"w-4 h-4"}):(0,Xm.jsx)(gH,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[t.assignmentTimeTrend.value,"% ",t.assignmentTimeTrend.period]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Resolution Time"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(t.avgResolutionTime||0).toFixed(1)," days"]}),t.resolutionTimeTrend&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-sm mt-2 ".concat(t.resolutionTimeTrend.isPositive?"text-green-600":"text-red-600"),children:[t.resolutionTimeTrend.isPositive?(0,Xm.jsx)(Kp,{className:"w-4 h-4"}):(0,Xm.jsx)(gH,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[t.resolutionTimeTrend.value,"% ",t.resolutionTimeTrend.period]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Response Time"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(t.avgResponseTime||0).toFixed(1),"h"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Doctor response time"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status Distribution"}),r.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:r,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"value",fill:"#3B82F6",children:r.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No status data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Urgency Distribution"}),a.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No urgency data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Summary"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:[(t.assignmentSuccessRate||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Cases per Doctor"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-purple-600",children:t.totalCases&&t.activeDoctorsCount?(t.totalCases/t.activeDoctorsCount).toFixed(1):0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[t.totalCases?(t.closedCases/t.totalCases*100).toFixed(1):0,"%"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Risk Level"}),(0,Xm.jsx)("p",{className:"text-xl font-bold ".concat((t.casesAtRisk||0)>10?"text-red-600":(t.casesAtRisk||0)>5?"text-yellow-600":"text-green-600"),children:(t.casesAtRisk||0)>10?"High":(t.casesAtRisk||0)>5?"Medium":"Low"})]})]})]})]})};var jH=r(5855),wH=r.n(jH),NH=["key"];function CH(e){return CH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CH(e)}function SH(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AH.apply(this,arguments)}function kH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function EH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kH(Object(r),!0).forEach(function(t){_H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PH(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MH(a.key),a)}}function OH(e,t,r){return t=DH(t),function(e,t){if(t&&("object"===CH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TH()?Reflect.construct(t,r||[],DH(e).constructor):t.apply(e,r))}function TH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TH=function(){return!!e})()}function DH(e){return DH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DH(e)}function RH(e,t){return RH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RH(e,t)}function _H(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=function(e,t){if("object"!=CH(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=CH(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CH(t)?t:t+""}var IH=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return _H(e=OH(this,t,[].concat(a)),"state",{isAnimationFinished:!1}),_H(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),dw()(t)&&t()}),_H(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),dw()(t)&&t()}),_H(e,"handleMouseEnter",function(t){var r=e.props.onMouseEnter;r&&r(e.props,t)}),_H(e,"handleMouseLeave",function(t){var r=e.props.onMouseLeave;r&&r(e.props,t)}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RH(e,t)}(t,e),r=t,a=[{key:"renderDots",value:function(e){var r=this.props,a=r.dot,n=r.dataKey,i=Lw(this.props,!1),o=Lw(a,!0),l=e.map(function(e,r){var s=EH(EH(EH({key:"dot-".concat(r),r:3},i),o),{},{dataKey:n,cx:e.x,cy:e.y,index:r,payload:e});return t.renderDotItem(a,s)});return s.createElement(oN,{className:"recharts-radar-dots"},l)}},{key:"renderPolygonStatically",value:function(e){var t,r=this.props,a=r.shape,n=r.dot,i=r.isRange,o=r.baseLinePoints,l=r.connectNulls;return t=s.isValidElement(a)?s.cloneElement(a,EH(EH({},this.props),{},{points:e})):dw()(a)?a(EH(EH({},this.props),{},{points:e})):s.createElement(KU,AH({},Lw(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:e,baseLinePoints:i?o:null,connectNulls:l})),s.createElement(oN,{className:"recharts-radar-polygon"},t,n?this.renderDots(e):null)}},{key:"renderPolygonWithAnimation",value:function(){var e=this,t=this.props,r=t.points,a=t.isAnimationActive,n=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return s.createElement(tk,{begin:n,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"radar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,n=c&&c.length/r.length,s=r.map(function(e,t){var r=c&&c[Math.floor(t*n)];if(r){var s=sw(r.x,e.x),i=sw(r.y,e.y);return EH(EH({},e),{},{x:s(a),y:i(a)})}var o=sw(e.cx,e.x),l=sw(e.cy,e.y);return EH(EH({},e),{},{x:o(a),y:l(a)})});return e.renderPolygonStatically(s)})}},{key:"renderPolygon",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,a=e.isRange,n=this.state.prevPoints;return!(r&&t&&t.length)||a||n&&fR()(n,t)?this.renderPolygonStatically(t):this.renderPolygonWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.className,a=e.points,n=e.isAnimationActive;if(t||!a||!a.length)return null;var i=this.state.isAnimationFinished,o=ct("recharts-radar",r);return s.createElement(oN,{className:o},this.renderPolygon(),(!n||i)&&tI.renderCallByParent(this.props,a))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderDotItem",value:function(e,t){var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if(dw()(e))r=e(t);else{var a=t.key,n=SH(t,NH);r=s.createElement(AS,AH({},n,{key:a,className:ct("recharts-radar-dot","boolean"!==typeof e?e.className:"")}))}return r}}],a&&PH(r.prototype,a),n&&PH(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);_H(IH,"displayName","Radar"),_H(IH,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!_N.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),_H(IH,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,a=e.displayedData,n=e.dataKey,s=e.bandSize,i=r.cx,o=r.cy,l=!1,c=[],d="number"!==r.type&&null!==s&&void 0!==s?s:0;a.forEach(function(e,a){var s=y_(e,r.dataKey,a),u=y_(e,n),m=r.scale(s)+d,p=Array.isArray(u)?VM()(u):u,h=Qj()(p)?void 0:t.scale(p);Array.isArray(u)&&u.length>=2&&(l=!0),c.push(EH(EH({},yM(i,o,h,m)),{},{name:s,value:u,cx:i,cy:o,radius:h,angle:m,payload:e}))});var u=[];return l&&c.forEach(function(e){if(Array.isArray(e.value)){var r=wH()(e.value),a=Qj()(r)?void 0:t.scale(r);u.push(EH(EH({},e),{},{radius:a},yM(i,o,a,e.angle)))}else u.push(e)}),{points:c,isRange:l,baseLinePoints:u}});var LH=cz({chartName:"RadarChart",GraphicalChild:IH,axisComponents:[{axisType:"angleAxis",AxisComp:lB},{axisType:"radiusAxis",AxisComp:EB}],formatAxisMap:vM,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),FH=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function qH(e){return qH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qH(e)}function zH(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UH(){return UH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},UH.apply(this,arguments)}function BH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function VH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BH(Object(r),!0).forEach(function(t){HH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HH(e,t,r){return t=function(e){var t=function(e,t){if("object"!=qH(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=qH(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WH=function(e,t,r,a){var n="";return a.forEach(function(a,s){var i=yM(t,r,e,a);n+=s?"L ".concat(i.x,",").concat(i.y):"M ".concat(i.x,",").concat(i.y)}),n+="Z"},GH=function(e){var t=e.cx,r=e.cy,a=e.innerRadius,n=e.outerRadius,i=e.polarAngles,o=e.radialLines;if(!i||!i.length||!o)return null;var l=VH({stroke:"#ccc"},Lw(e,!1));return s.createElement("g",{className:"recharts-polar-grid-angle"},i.map(function(e){var i=yM(t,r,a,e),o=yM(t,r,n,e);return s.createElement("line",UH({},l,{key:"line-".concat(e),x1:i.x,y1:i.y,x2:o.x,y2:o.y}))}))},YH=function(e){var t=e.cx,r=e.cy,a=e.radius,n=e.index,i=VH(VH({stroke:"#ccc"},Lw(e,!1)),{},{fill:"none"});return s.createElement("circle",UH({},i,{className:ct("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(n),cx:t,cy:r,r:a}))},KH=function(e){var t=e.radius,r=e.index,a=VH(VH({stroke:"#ccc"},Lw(e,!1)),{},{fill:"none"});return s.createElement("path",UH({},a,{className:ct("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:WH(t,e.cx,e.cy,e.polarAngles)}))},$H=function(e){var t=e.polarRadius,r=e.gridType;return t&&t.length?s.createElement("g",{className:"recharts-polar-grid-concentric"},t.map(function(t,a){var n=a;return"circle"===r?s.createElement(YH,UH({key:n},e,{radius:t,index:a})):s.createElement(KH,UH({key:n},e,{radius:t,index:a}))})):null},QH=function(e){var t=e.cx,r=void 0===t?0:t,a=e.cy,n=void 0===a?0:a,i=e.innerRadius,o=void 0===i?0:i,l=e.outerRadius,c=void 0===l?0:l,d=e.gridType,u=void 0===d?"polygon":d,m=e.radialLines,p=void 0===m||m,h=zH(e,FH);return c<=0?null:s.createElement("g",{className:"recharts-polar-grid"},s.createElement(GH,UH({cx:r,cy:n,innerRadius:o,outerRadius:c,gridType:u,radialLines:p},h)),s.createElement($H,UH({cx:r,cy:n,innerRadius:o,outerRadius:c,gridType:u,radialLines:p},h)))};QH.displayName="PolarGrid";const XH=e=>{var t,r,a,n,s,i,o,l,c,d,u;let{data:m}=e;if(!m)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading performance data..."})]})});const p=Object.entries(m.avgTimeByStatus||{}).map(e=>{let[t,r]=e;return{status:t.replace(/_/g," "),hours:parseFloat(r)}}),h=Object.entries(m.bottleneckAnalysis||{}).map(e=>{let[t,r]=e;return{status:t.replace(/_/g," "),count:r}}),x=m.slaCompliance?[{urgency:"Critical",compliance:m.slaCompliance.criticalCompliance||0,target:100},{urgency:"High",compliance:m.slaCompliance.highCompliance||0,target:100},{urgency:"Medium",compliance:m.slaCompliance.mediumCompliance||0,target:100},{urgency:"Low",compliance:m.slaCompliance.lowCompliance||0,target:100}]:[],f=(m.stageFunnel||[]).sort((e,t)=>e.stageOrder-t.stageOrder).map(e=>({stage:e.stageLabel,cases:e.caseCount,reach:e.reachRate})),y=Object.entries(m.performanceByUrgency||{}).map(e=>{let[t,r]=e;return{urgency:t,assignmentTime:r.avgAssignmentTime||0,resolutionTime:r.avgResolutionTime||0,slaCompliance:r.slaCompliance||0}});return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)(EV,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded ".concat(((null===(t=m.slaCompliance)||void 0===t?void 0:t.overallCompliance)||0)>=90?"bg-green-100 text-green-700":((null===(r=m.slaCompliance)||void 0===r?void 0:r.overallCompliance)||0)>=75?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:((null===(a=m.slaCompliance)||void 0===a?void 0:a.overallCompliance)||0)>=90?"Excellent":((null===(n=m.slaCompliance)||void 0===n?void 0:n.overallCompliance)||0)>=75?"Good":"Needs Work"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Overall SLA"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null===(s=m.slaCompliance)||void 0===s?void 0:s.overallCompliance)||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:"Target: 1h"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Critical"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null===(i=m.slaCompliance)||void 0===i?void 0:i.criticalCompliance)||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:"Target: 4h"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"High"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null===(o=m.slaCompliance)||void 0===o?void 0:o.highCompliance)||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:"Target: 24h"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Medium"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null===(l=m.slaCompliance)||void 0===l?void 0:l.mediumCompliance)||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:"Target: 48h"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Low"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null===(c=m.slaCompliance)||void 0===c?void 0:c.lowCompliance)||0).toFixed(1),"%"]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 mr-2 text-blue-600"}),"Average Time by Status"]}),p.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:p,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"status",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{label:{value:"Hours",angle:-90,position:"insideLeft"}}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"hours",fill:"#3B82F6"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No time data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(EV,{className:"w-5 h-5 mr-2 text-green-600"}),"SLA Compliance by Urgency"]}),x.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(LH,{data:x,children:[(0,Xm.jsx)(QH,{}),(0,Xm.jsx)(lB,{dataKey:"urgency"}),(0,Xm.jsx)(EB,{angle:90,domain:[0,100]}),(0,Xm.jsx)(IH,{name:"Compliance",dataKey:"compliance",stroke:"#10B981",fill:"#10B981",fillOpacity:.6}),(0,Xm.jsx)(IH,{name:"Target",dataKey:"target",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.1}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)($N,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No SLA data available"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 mr-2 text-red-600"}),"Bottleneck Analysis"]}),h.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:h,layout:"vertical",children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{type:"number"}),(0,Xm.jsx)(gU,{dataKey:"status",type:"category",width:120}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"count",fill:"#EF4444"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No bottlenecks detected"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 mr-2 text-purple-600"}),"Case Stage Progression"]}),f.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(vU,{data:f,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"stage",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{yAxisId:"left",label:{value:"Cases",angle:-90,position:"insideLeft"}}),(0,Xm.jsx)(gU,{yAxisId:"right",orientation:"right",label:{value:"Reach %",angle:90,position:"insideRight"}}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(Az,{yAxisId:"left",type:"monotone",dataKey:"cases",stroke:"#8B5CF6",strokeWidth:2}),(0,Xm.jsx)(Az,{yAxisId:"right",type:"monotone",dataKey:"reach",stroke:"#F59E0B",strokeWidth:2})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No funnel data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Breakdown by Urgency"}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency Level"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cases"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Assignment (hrs)"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Resolution (days)"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SLA Compliance"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.length>0?y.map((e,t)=>{var r;return(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat("CRITICAL"===e.urgency?"bg-red-500":"HIGH"===e.urgency?"bg-orange-500":"MEDIUM"===e.urgency?"bg-yellow-500":"bg-green-500")}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.urgency})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=m.performanceByUrgency[e.urgency])||void 0===r?void 0:r.totalCases)||0}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assignmentTime.toFixed(1)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.resolutionTime.toFixed(1)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.slaCompliance>=90?"bg-green-100 text-green-800":e.slaCompliance>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[e.slaCompliance.toFixed(1),"%"]})})]},t)}):(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No performance data available"})})})]})})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"\ud83d\udca1 Performance Insights"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-sm text-blue-800",children:[(null===(d=m.slaCompliance)||void 0===d?void 0:d.overallCompliance)<75&&(0,Xm.jsx)("li",{children:"\u26a0\ufe0f Overall SLA compliance is below target. Consider increasing doctor availability."}),h.length>0&&(0,Xm.jsxs)("li",{children:["\ud83d\udd0d ",h[0].status," has the most stuck cases (",h[0].count,"). Review assignment process."]}),(null===(u=m.slaCompliance)||void 0===u?void 0:u.criticalCompliance)<80&&(0,Xm.jsx)("li",{children:"\ud83d\udea8 Critical cases are not meeting SLA targets. Prioritize urgent case handling."})]})]})]})},JH=e=>{var t,r,a,n,s,i,o,l;let{data:c}=e;if(!c)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading doctor metrics..."})]})});const d=Object.entries(c.casesByDoctor||{}).map(e=>{let[t,r]=e;return{doctor:t.length>20?t.substring(0,20)+"...":t,cases:r}}).sort((e,t)=>t.cases-e.cases).slice(0,10),u=[{name:"Under-utilized",value:(null===(t=c.utilization)||void 0===t?void 0:t.underutilizedCount)||0,color:"#EF4444"},{name:"Optimal",value:(null===(r=c.utilization)||void 0===r?void 0:r.optimalCount)||0,color:"#10B981"},{name:"Over-utilized",value:(null===(a=c.utilization)||void 0===a?void 0:a.overutilizedCount)||0,color:"#F59E0B"}].filter(e=>e.value>0);return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Active Doctors"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalActiveDoctors||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Handling cases"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Lp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Acceptance"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(c.avgAcceptanceRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cases accepted"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Rejection"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(c.avgRejectionRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cases rejected"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Cases/Doctor"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(c.avgCasesPerDoctor||0).toFixed(1)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Current average"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(Lp,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top 5 Performers"]}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specialization"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cases"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acceptance Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Resolution"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(c.topPerformers||[]).map((e,t)=>{var r,a;return(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[0===t&&(0,Xm.jsx)("span",{className:"text-2xl mr-2",children:"\ud83e\udd47"}),1===t&&(0,Xm.jsx)("span",{className:"text-2xl mr-2",children:"\ud83e\udd48"}),2===t&&(0,Xm.jsx)("span",{className:"text-2xl mr-2",children:"\ud83e\udd49"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",t+1]})]})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.doctorName}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.doctorId]})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.specialization}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsx)("div",{className:"text-sm text-gray-900",children:e.totalAssignments}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:[e.completedCases," completed"]})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("div",{className:"flex items-center",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[null===(r=e.acceptanceRate)||void 0===r?void 0:r.toFixed(1),"%"]}),(0,Xm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:(0,Xm.jsx)("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:"".concat(e.acceptanceRate,"%")}})})]})})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[null===(a=e.avgResolutionTime)||void 0===a?void 0:a.toFixed(1)," days"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Excellent"===e.performanceLevel?"bg-green-100 text-green-800":"Good"===e.performanceLevel?"bg-blue-100 text-blue-800":"Average"===e.performanceLevel?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.performanceLevel})})]},e.doctorId)})})]})})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 mr-2 text-red-600"}),"Bottom 5 Performers (Needs Attention)"]}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specialization"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cases"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acceptance Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rejection Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issues"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(c.bottomPerformers||[]).map(e=>{var t,r;return(0,Xm.jsxs)("tr",{className:"hover:bg-red-50",children:[(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.doctorName}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.doctorId]})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.specialization}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.totalAssignments}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.acceptanceRate>=75?"bg-green-100 text-green-800":e.acceptanceRate>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[null===(t=e.acceptanceRate)||void 0===t?void 0:t.toFixed(1),"%"]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.rejectionRate<10?"bg-green-100 text-green-800":e.rejectionRate<25?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[null===(r=e.rejectionRate)||void 0===r?void 0:r.toFixed(1),"%"]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.acceptanceRate<60&&(0,Xm.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded",children:"Low acceptance"}),e.reassignmentCount>5&&(0,Xm.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded",children:"High reassignment"}),e.avgResolutionTime>7&&(0,Xm.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded",children:"Slow resolution"})]})})]},e.doctorId)})})]})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Workload Distribution (Top 10)"}),d.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:d,layout:"vertical",children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{type:"number"}),(0,Xm.jsx)(gU,{dataKey:"doctor",type:"category",width:150}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"cases",fill:"#8B5CF6"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No workload data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Doctor Utilization"}),u.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Yw,{width:"100%",height:250,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:r,percent:a}=e;return"".concat(t,": ").concat(r," (").concat((100*a).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))}),(0,Xm.jsx)($N,{})]})}),(0,Xm.jsxs)("div",{className:"mt-4 space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("span",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),"Under-utilized (<5 cases)"]}),(0,Xm.jsx)("span",{className:"font-medium",children:(null===(n=c.utilization)||void 0===n?void 0:n.underutilizedCount)||0})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("span",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Optimal (5-15 cases)"]}),(0,Xm.jsx)("span",{className:"font-medium",children:(null===(s=c.utilization)||void 0===s?void 0:s.optimalCount)||0})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("span",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),"Over-utilized (>15 cases)"]}),(0,Xm.jsx)("span",{className:"font-medium",children:(null===(i=c.utilization)||void 0===i?void 0:i.overutilizedCount)||0})]})]})]}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No utilization data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"\ud83d\udca1 Recommendations"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-sm text-yellow-800",children:[(null===(o=c.utilization)||void 0===o?void 0:o.overutilizedCount)>0&&(0,Xm.jsxs)("li",{children:["\u26a0\ufe0f ",c.utilization.overutilizedCount," doctor(s) are over-utilized. Consider redistributing workload."]}),(null===(l=c.utilization)||void 0===l?void 0:l.underutilizedCount)>0&&(0,Xm.jsxs)("li",{children:["\ud83d\udcca ",c.utilization.underutilizedCount," doctor(s) are under-utilized. Increase case assignments."]}),c.avgRejectionRate>20&&(0,Xm.jsxs)("li",{children:["\ud83d\udd0d High rejection rate (",c.avgRejectionRate.toFixed(1),"%). Review case assignment matching logic."]}),c.bottomPerformers&&c.bottomPerformers.length>0&&(0,Xm.jsx)("li",{children:"\ud83d\udc65 Provide additional training or support to bottom performers."})]})]})]})},ZH=e=>{let{data:t}=e;if(!t)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading specialization data..."})]})});const r=Object.entries(t.casesBySpecialization||{}).map((e,t)=>{let[r,a]=e;return{name:r,value:a,color:vH.primary[t%vH.primary.length]}}),a=Object.entries(t.avgResolutionBySpecialization||{}).map(e=>{let[t,r]=e;return{specialization:t,days:parseFloat(r)}}).sort((e,t)=>e.days-t.days),n=Object.entries(t.avgFeeBySpecialization||{}).map(e=>{let[t,r]=e;return{specialization:t,fee:parseFloat(r)}}).sort((e,t)=>t.fee-e.fee),s=(t.specializationTrends||[]).filter(e=>null!==e.monthlyGrowthRate).map(e=>({specialization:e.specialization,growth:e.monthlyGrowthRate,currentMonth:e.currentMonthCases,previousMonth:e.previousMonthCases}));return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Op,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Total Specializations"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalSpecializations||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Active specialties"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Most In-Demand"})]}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:t.mostInDemand||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Highest volume"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Fastest Resolution"})]}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:t.fastestResolution||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Quickest turnaround"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-yellow-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Highest Fee"})]}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-900",children:t.highestFee||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Average consultation fee"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Case Volume by Specialization"}),r.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No specialization data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Resolution Time by Specialization"}),a.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(qU,{data:a,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"specialization",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{label:{value:"Days",angle:-90,position:"insideLeft"}}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"days",fill:"#8B5CF6"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No resolution time data available"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Consultation Fee by Specialization"}),n.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:n,layout:"vertical",children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{type:"number"}),(0,Xm.jsx)(gU,{dataKey:"specialization",type:"category",width:120}),(0,Xm.jsx)($N,{formatter:e=>"$".concat(e.toFixed(2))}),(0,Xm.jsx)(uL,{dataKey:"fee",fill:"#F59E0B"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No fee data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Growth Rate by Specialization"}),s.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:s,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"specialization",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{label:{value:"Growth %",angle:-90,position:"insideLeft"}}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"growth",fill:"#10B981",children:s.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.growth>=0?"#10B981":"#EF4444"},"cell-".concat(t)))})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No trend data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Specialization Trends (Month-over-Month)"}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specialization"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Month"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Previous Month"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.specializationTrends||[]).map((e,t)=>{var r;return(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.specialization})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.currentMonthCases}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.previousMonthCases}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("span",{className:"text-sm font-medium ".concat(e.monthlyChange>0?"text-green-600":e.monthlyChange<0?"text-red-600":"text-gray-600"),children:[e.monthlyChange>0?"+":"",e.monthlyChange]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[e.monthlyGrowthRate>0?(0,Xm.jsx)(Kp,{className:"w-4 h-4 text-green-600 mr-1"}):e.monthlyGrowthRate<0?(0,Xm.jsx)(Kp,{className:"w-4 h-4 text-red-600 mr-1 transform rotate-180"}):null,(0,Xm.jsxs)("span",{className:"text-sm font-medium ".concat(e.monthlyGrowthRate>0?"text-green-600":e.monthlyGrowthRate<0?"text-red-600":"text-gray-600"),children:[null===(r=e.monthlyGrowthRate)||void 0===r?void 0:r.toFixed(1),"%"]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("UP"===e.trendDirection?"bg-green-100 text-green-800":"DOWN"===e.trendDirection?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.trendDirection})})]},t)})})]})})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribution Summary"}),(0,Xm.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(t.distributionPercentage||{}).sort((e,t)=>t[1]-e[1]).map((e,r)=>{let[a,n]=e;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:[t.casesBySpecialization[a]," cases"]})]}),(0,Xm.jsx)("div",{className:"text-right",children:(0,Xm.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[n.toFixed(1),"%"]})})]},r)})})]}),(0,Xm.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"\ud83d\udca1 Specialization Insights"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-sm text-purple-800",children:[t.mostInDemand&&(0,Xm.jsxs)("li",{children:["\ud83d\udcca ",t.mostInDemand," is the most in-demand specialization with ",t.casesBySpecialization[t.mostInDemand]," cases."]}),t.fastestResolution&&t.avgResolutionBySpecialization[t.fastestResolution]&&(0,Xm.jsxs)("li",{children:["\u26a1 ",t.fastestResolution," has the fastest resolution time at ",t.avgResolutionBySpecialization[t.fastestResolution].toFixed(1)," days."]}),t.fastestGrowth&&"N/A"!==t.fastestGrowth&&(0,Xm.jsxs)("li",{children:["\ud83d\ude80 ",t.fastestGrowth," is growing fastest. Consider allocating more doctors to this specialty."]}),t.highestFee&&(0,Xm.jsxs)("li",{children:["\ud83d\udcb0 ",t.highestFee," commands the highest consultation fees. High-value specialty."]})]})]})]})},eW=e=>{var t,r;let{data:a}=e;const[n,i]=(0,s.useState)("daily");if(!a)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading trend data..."})]})});const o=(a.dailyTrend||[]).map(e=>({date:e.label,cases:e.count||0})),l=(a.weeklyTrend||[]).map(e=>({week:e.label,cases:e.count||0})),c=(a.monthlyTrend||[]).map(e=>({month:e.label,cases:e.count||0})),d=()=>{switch(n){case"daily":default:return o;case"weekly":return l;case"monthly":return c}},u=Object.entries(a.hourlyDistribution||{}).map(e=>{let[t,r]=e;return{hour:parseInt(t),count:r,intensity:r}}),m=Object.entries(a.dayOfWeekDistribution||{}).map(e=>{let[t,r]=e;return{day:t,cases:r}}),p=e=>{if(!u.length)return"#10B981";const t=e/Math.max(...u.map(e=>e.count));return t>.7?"#EF4444":t>.4?"#F59E0B":t>.2?"#FBBF24":"#10B981"};return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Week-over-Week"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold ".concat((a.weekOverWeekGrowth||0)>=0?"text-green-600":"text-red-600"),children:[(a.weekOverWeekGrowth||0)>=0?"+":"",(a.weekOverWeekGrowth||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Case growth"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Month-over-Month"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold ".concat((a.monthOverMonthGrowth||0)>=0?"text-green-600":"text-red-600"),children:[(a.monthOverMonthGrowth||0)>=0?"+":"",(a.monthOverMonthGrowth||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Case growth"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(kp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Year-over-Year"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold ".concat((a.yearOverYearGrowth||0)>=0?"text-green-600":"text-red-600"),children:[(a.yearOverYearGrowth||0)>=0?"+":"",(a.yearOverYearGrowth||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Case growth"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Case Volume Trend"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)("button",{onClick:()=>i("daily"),className:"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ".concat("daily"===n?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Daily"}),(0,Xm.jsx)("button",{onClick:()=>i("weekly"),className:"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ".concat("weekly"===n?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Weekly"}),(0,Xm.jsx)("button",{onClick:()=>i("monthly"),className:"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ".concat("monthly"===n?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Monthly"})]})]}),d().length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(sV,{data:d(),children:[(0,Xm.jsx)("defs",{children:(0,Xm.jsxs)("linearGradient",{id:"colorCases",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Xm.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),(0,Xm.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})}),(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"daily"===n?"date":"weekly"===n?"week":"month",angle:-45,textAnchor:"end",height:80}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(nV,{type:"monotone",dataKey:"cases",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorCases)"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No trend data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 mr-2 text-orange-600"}),"Hourly Submission Pattern (24-Hour Heatmap)"]}),u.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Yw,{width:"100%",height:150,children:(0,Xm.jsxs)(qU,{data:u,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"hour"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{content:e=>{let{payload:t}=e;if(t&&t[0]){const e=t[0].payload;return(0,Xm.jsxs)("div",{className:"bg-white p-2 border border-gray-200 rounded shadow",children:[(0,Xm.jsxs)("p",{className:"font-medium",children:[e.hour,":00 - ",e.hour+1,":00"]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[e.count," cases"]})]})}return null}}),(0,Xm.jsx)(uL,{dataKey:"count",children:u.map((e,t)=>(0,Xm.jsx)(UM,{fill:p(e.count)},"cell-".concat(t)))})]})}),(0,Xm.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded bg-green-500 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Low Activity"})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded bg-yellow-500 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Medium Activity"})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded bg-orange-500 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"High Activity"})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-4 h-4 rounded bg-red-500 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Very High Activity"})]})]}),(0,Xm.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,Xm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("strong",{children:"Peak Hour:"})," ",a.peakHour,":00 - ",(a.peakHour||0)+1,":00"," ","(",(null===(t=u.find(e=>e.hour===a.peakHour))||void 0===t?void 0:t.count)||0," cases)"]})})]}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[150px] text-gray-400",children:"No hourly data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 mr-2 text-purple-600"}),"Day of Week Distribution"]}),m.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:m,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"day"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"cases",fill:"#8B5CF6"})]})}),(0,Xm.jsx)("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:(0,Xm.jsxs)("p",{className:"text-sm text-purple-800",children:[(0,Xm.jsx)("strong",{children:"Busiest Day:"})," ",a.peakDay," ","(",(null===(r=m.find(e=>e.day===a.peakDay))||void 0===r?void 0:r.cases)||0," cases)"]})})]}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No day of week data available"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg border border-orange-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-orange-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Peak Hour"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[a.peakHour,":00"]}),(0,Xm.jsx)("p",{className:"text-xs text-orange-700 mt-1",children:"Most submissions"})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Peak Day"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:a.peakDay||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Busiest weekday"})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(kp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Peak Month"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-blue-900",children:a.peakMonth||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Highest volume"})]})]}),(0,Xm.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"\ud83d\udcca Trend Insights"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-sm text-green-800",children:[(a.weekOverWeekGrowth||0)>10&&(0,Xm.jsxs)("li",{children:["\ud83d\udcc8 Strong week-over-week growth of ",(a.weekOverWeekGrowth||0).toFixed(1),"%. Consider increasing capacity."]}),(a.weekOverWeekGrowth||0)<-10&&(0,Xm.jsxs)("li",{children:["\ud83d\udcc9 Declining week-over-week trend (",(a.weekOverWeekGrowth||0).toFixed(1),"%). Investigate potential issues."]}),a.peakHour&&(0,Xm.jsxs)("li",{children:["\u23f0 Peak activity at ",a.peakHour,":00. Ensure adequate staffing during this time."]}),a.peakDay&&(0,Xm.jsxs)("li",{children:["\ud83d\udcc5 ",a.peakDay," is the busiest day. Plan resources accordingly."]})]})]})]})};function tW(e){return tW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tW(e)}function rW(){return rW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rW.apply(this,arguments)}function aW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function nW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(r),!0).forEach(function(t){sW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sW(e,t,r){return t=function(e){var t=function(e,t){if("object"!=tW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=tW(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iW(e){return"string"===typeof e?parseInt(e,10):e}function oW(e,t){var r="".concat(t.cx||e.cx),a=Number(r),n="".concat(t.cy||e.cy),s=Number(n);return nW(nW(nW({},t),e),{},{cx:a,cy:s})}function lW(e){return s.createElement(RI,rW({shapeType:"sector",propTransformer:oW},e))}var cW=["shape","activeShape","activeIndex","cornerRadius"],dW=["value","background"];function uW(e){return uW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uW(e)}function mW(){return mW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mW.apply(this,arguments)}function pW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function hW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pW(Object(r),!0).forEach(function(t){jW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xW(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fW(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wW(a.key),a)}}function yW(e,t,r){return t=vW(t),function(e,t){if(t&&("object"===uW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gW()?Reflect.construct(t,r||[],vW(e).constructor):t.apply(e,r))}function gW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gW=function(){return!!e})()}function vW(e){return vW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vW(e)}function bW(e,t){return bW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bW(e,t)}function jW(e,t,r){return(t=wW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=function(e,t){if("object"!=uW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=uW(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uW(t)?t:t+""}var NW=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return jW(e=yW(this,t,[].concat(a)),"state",{isAnimationFinished:!1}),jW(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),dw()(t)&&t()}),jW(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),dw()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bW(e,t)}(t,e),r=t,a=[{key:"getDeltaAngle",value:function(){var e=this.props,t=e.startAngle,r=e.endAngle;return Xj(r-t)*Math.min(Math.abs(r-t),360)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,a=r.shape,n=r.activeShape,i=r.activeIndex,o=r.cornerRadius,l=xW(r,cW),c=Lw(l,!1);return e.map(function(e,r){var d=r===i,u=hW(hW(hW(hW({},c),{},{cornerRadius:iW(o)},e),jw(t.props,e,r)),{},{className:"recharts-radial-bar-sector ".concat(e.className),forceCornerRadius:l.forceCornerRadius,cornerIsExternal:l.cornerIsExternal,isActive:d,option:d?n:a});return s.createElement(lW,mW({},u,{key:"sector-".concat(r)}))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.data,a=t.isAnimationActive,n=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return s.createElement(tk,{begin:n,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"radialBar-".concat(l),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,n=r.map(function(e,t){var r=c&&c[t];if(r){var n=sw(r.startAngle,e.startAngle),s=sw(r.endAngle,e.endAngle);return hW(hW({},e),{},{startAngle:n(a),endAngle:s(a)})}var i=e.endAngle,o=e.startAngle,l=sw(o,i);return hW(hW({},e),{},{endAngle:l(a)})});return s.createElement(oN,null,e.renderSectorsStatically(n))})}},{key:"renderSectors",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,a=this.state.prevData;return!(r&&t&&t.length)||a&&fR()(a,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"renderBackground",value:function(e){var t=this,r=this.props.cornerRadius,a=Lw(this.props.background,!1);return e.map(function(e,n){e.value;var i=e.background,o=xW(e,dW);if(!i)return null;var l=hW(hW(hW(hW(hW({cornerRadius:iW(r)},o),{},{fill:"#eee"},i),a),jw(t.props,e,n)),{},{index:n,className:ct("recharts-radial-bar-background-sector",null===a||void 0===a?void 0:a.className),option:i,isActive:!1});return s.createElement(lW,mW({},l,{key:"sector-".concat(n)}))})}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,a=e.className,n=e.background,i=e.isAnimationActive;if(t||!r||!r.length)return null;var o=this.state.isAnimationFinished,l=ct("recharts-area",a);return s.createElement(oN,{className:l},n&&s.createElement(oN,{className:"recharts-radial-bar-background"},this.renderBackground(r)),s.createElement(oN,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!i||o)&&tI.renderCallByParent(hW({},this.props),r))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&fW(r.prototype,a),n&&fW(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);jW(NW,"displayName","RadialBar"),jW(NW,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!_N.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1}),jW(NW,"getComposedData",function(e){var t=e.item,r=e.props,a=e.radiusAxis,n=e.radiusAxisTicks,s=e.angleAxis,i=e.angleAxisTicks,o=e.displayedData,l=e.dataKey,c=e.stackedData,d=e.barPosition,u=e.bandSize,m=e.dataStartIndex,p=O_(d,t);if(!p)return null;var h=s.cx,x=s.cy,f=r.layout,y=t.props,g=y.children,v=y.minPointSize,b="radial"===f?s:a,j=c?b.scale.domain():null,w=L_({numericAxis:b}),N=Tw(g,UM),C=o.map(function(e,o){var d,y,g,b,C,S;if(c?d=T_(c[m+o],j):(d=y_(e,l),Array.isArray(d)||(d=[w,d])),"radial"===f){y=I_({axis:a,ticks:n,bandSize:u,offset:p.offset,entry:e,index:o}),C=s.scale(d[1]),b=s.scale(d[0]),g=y+p.size;var A=C-b;if(Math.abs(v)>0&&Math.abs(A)<Math.abs(v))C+=Xj(A||v)*(Math.abs(v)-Math.abs(A));S={background:{cx:h,cy:x,innerRadius:y,outerRadius:g,startAngle:r.startAngle,endAngle:r.endAngle}}}else{y=a.scale(d[0]),g=a.scale(d[1]),C=(b=I_({axis:s,ticks:i,bandSize:u,offset:p.offset,entry:e,index:o}))+p.size;var k=g-y;if(Math.abs(v)>0&&Math.abs(k)<Math.abs(v))g+=Xj(k||v)*(Math.abs(v)-Math.abs(k))}return hW(hW(hW(hW({},e),S),{},{payload:e,value:c?d:d[1],cx:h,cy:x,innerRadius:y,outerRadius:g,startAngle:b,endAngle:C},N&&N[o]&&N[o].props),{},{tooltipPayload:[H_(t,e)],tooltipPosition:yM(h,x,(y+g)/2,(b+C)/2)})});return{data:C,layout:f}});var CW=cz({chartName:"RadialBarChart",GraphicalChild:NW,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:lB},{axisType:"radiusAxis",AxisComp:EB}],formatAxisMap:vM,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const SW=e=>{var t;let{data:r}=e;if(!r)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading quality metrics..."})]})});const a=[{name:"Documentation",value:r.avgDocumentationScore||0,fill:(n=r.avgDocumentationScore||0,n>=90?"#10B981":n>=75?"#3B82F6":n>=60?"#F59E0B":"#EF4444")}];var n;const s=[{name:"Completion",value:r.completionRate||0,color:"#10B981"},{name:"First-Time Success",value:r.firstTimeSuccessRate||0,color:"#3B82F6"},{name:"Reassignment",value:r.reassignmentRate||0,color:"#F59E0B"},{name:"Rejection",value:r.rejectionRate||0,color:"#EF4444"}];return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded ".concat((r.completionRate||0)>=90?"bg-green-100 text-green-700":(r.completionRate||0)>=75?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:(r.completionRate||0)>=90?"Excellent":(r.completionRate||0)>=75?"Good":"Poor"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Completion Rate"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(r.completionRate||0).toFixed(1),"%"]}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[r.completedCases||0," completed"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-600"}),(0,Xm.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded ".concat((r.reassignmentRate||0)<10?"bg-green-100 text-green-700":(r.reassignmentRate||0)<20?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:(r.reassignmentRate||0)<10?"Low":(r.reassignmentRate||0)<20?"Medium":"High"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Reassignment Rate"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(r.reassignmentRate||0).toFixed(1),"%"]}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[r.totalReassignments||0," reassignments"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded ".concat((r.rejectionRate||0)<10?"bg-green-100 text-green-700":(r.rejectionRate||0)<20?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:(r.rejectionRate||0)<10?"Low":(r.rejectionRate||0)<20?"Medium":"High"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Rejection Rate"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(r.rejectionRate||0).toFixed(1),"%"]}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[r.totalRejections||0," rejections"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xm.jsx)(Lp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded ".concat((r.firstTimeSuccessRate||0)>=80?"bg-green-100 text-green-700":(r.firstTimeSuccessRate||0)>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:(r.firstTimeSuccessRate||0)>=80?"Excellent":(r.firstTimeSuccessRate||0)>=60?"Fair":"Poor"})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"First-Time Success"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(r.firstTimeSuccessRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted first time"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 mr-2 text-purple-600"}),"Documentation Quality Score"]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Xm.jsxs)("div",{className:"relative w-48 h-48",children:[(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(CW,{cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"100%",data:a,startAngle:180,endAngle:0,children:[(0,Xm.jsx)(lB,{type:"number",domain:[0,100],angleAxisId:0,tick:!1}),(0,Xm.jsx)(NW,{background:!0,clockWise:!0,dataKey:"value",cornerRadius:10,fill:a[0].fill})]})}),(0,Xm.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,Xm.jsx)("p",{className:"text-4xl font-bold",style:{color:a[0].fill},children:(r.avgDocumentationScore||0).toFixed(0)}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"out of 100"})]})]}),(0,Xm.jsxs)("div",{className:"mt-4 text-center",children:[(0,Xm.jsx)("p",{className:"text-lg font-semibold",style:{color:a[0].fill},children:function(e){return e>=90?"Excellent":e>=75?"Good":e>=60?"Fair":"Needs Improvement"}(r.avgDocumentationScore||0)}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[r.casesWithCompleteInfo||0," cases with complete info"]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:[r.casesWithIncompleteInfo||0," cases with incomplete info"]})]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Rates Comparison"}),(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:s,layout:"vertical",children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{type:"number",domain:[0,100]}),(0,Xm.jsx)(gU,{dataKey:"name",type:"category",width:120}),(0,Xm.jsx)($N,{formatter:e=>"".concat(e.toFixed(1),"%")}),(0,Xm.jsx)(uL,{dataKey:"value",radius:[0,8,8,0],children:s.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))})]})})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Time to Response"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(r.avgTimeToFirstResponse||0).toFixed(1),"h"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Doctor response time"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Multiple Reassignments"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:r.casesWithMultipleReassignments||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cases reassigned 2+ times"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-orange-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Long Response Time"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:r.casesWithLongResponseTime||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Response > 24 hours"})]})]}),r.qualityTrend&&(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 mr-2 text-green-600"}),"Quality Trend"]}),(0,Xm.jsx)("div",{className:"flex items-center justify-center space-x-12",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("IMPROVING"===r.qualityTrend.direction?"bg-green-100":"DECLINING"===r.qualityTrend.direction?"bg-red-100":"bg-gray-100"),children:["IMPROVING"===r.qualityTrend.direction?(0,Xm.jsx)(Kp,{className:"w-6 h-6 text-green-600"}):"DECLINING"===r.qualityTrend.direction?(0,Xm.jsx)(gH,{className:"w-6 h-6 text-red-600"}):(0,Xm.jsx)("span",{className:"text-gray-600",children:"\u2192"}),(0,Xm.jsx)("span",{className:"text-2xl font-bold ".concat("IMPROVING"===r.qualityTrend.direction?"text-green-600":"DECLINING"===r.qualityTrend.direction?"text-red-600":"text-gray-600"),children:r.qualityTrend.direction})]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[r.qualityTrend.changePercentage>0?"+":"",null===(t=r.qualityTrend.changePercentage)||void 0===t?void 0:t.toFixed(1),"% ",r.qualityTrend.period]})]})})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Issues Breakdown"}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Type"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action Needed"})]})}),(0,Xm.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Incomplete Documentation"}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.casesWithIncompleteDocumentation||0}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((r.casesWithIncompleteDocumentation||0)/Math.max(1,(r.casesWithCompleteInfo||0)+(r.casesWithIncompleteInfo||0))*100).toFixed(1),"%"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Medium"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"Improve intake forms"})]}),(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Multiple Reassignments"}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.casesWithMultipleReassignments||0}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(r.reassignmentRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((r.reassignmentRate||0)>20?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:(r.reassignmentRate||0)>20?"High":"Medium"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"Review matching algorithm"})]}),(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"High Rejections"}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.totalRejections||0}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(r.rejectionRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((r.rejectionRate||0)>20?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:(r.rejectionRate||0)>20?"High":"Medium"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"Improve case screening"})]}),(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Slow Response Time"}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.casesWithLongResponseTime||0}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"N/A"}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:"Medium"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"Monitor doctor availability"})]})]})]})})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"\ud83d\udca1 Quality Improvement Recommendations"}),(0,Xm.jsxs)("ul",{className:"space-y-1 text-sm text-blue-800",children:[(r.avgDocumentationScore||0)<80&&(0,Xm.jsx)("li",{children:"\ud83d\udcdd Documentation quality is below 80%. Implement mandatory field validation on case submission."}),(r.reassignmentRate||0)>15&&(0,Xm.jsxs)("li",{children:["\ud83d\udd04 High reassignment rate (",(r.reassignmentRate||0).toFixed(1),"%). Review doctor-case matching algorithm."]}),(r.rejectionRate||0)>15&&(0,Xm.jsxs)("li",{children:["\u274c High rejection rate (",(r.rejectionRate||0).toFixed(1),"%). Improve initial case screening process."]}),(r.firstTimeSuccessRate||0)<70&&(0,Xm.jsx)("li",{children:"\u2705 Low first-time success rate. Enhance case assessment before assignment."}),(r.avgTimeToFirstResponse||0)>12&&(0,Xm.jsx)("li",{children:"\u23f0 Average response time exceeds 12 hours. Consider doctor availability incentives."})]})]})]})},AW=e=>{let{isOpen:t,onClose:r}=e;const{execute:a,loading:n}=Iy(),{showToast:i}=YV(),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)("overview"),[u,m]=(0,s.useState)("last30days"),[p,h]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[y,g]=(0,s.useState)(!1),v=[{id:"overview",label:"Overview",icon:kp},{id:"performance",label:"Performance",icon:Ey},{id:"doctors",label:"Doctors",icon:vp},{id:"specializations",label:"Specializations",icon:Op},{id:"trends",label:"Trends",icon:Kp},{id:"quality",label:"Quality",icon:Lp}];(0,s.useEffect)(()=>{t&&b()},[t,u,p,x]);const b=async()=>{try{g(!0);const{start:e,end:t}=(()=>{const e=new Date;let t,r=e.toISOString();switch(u){case"last7days":t=new Date(e.getTime()-6048e5).toISOString();break;case"last30days":default:t=new Date(e.getTime()-2592e6).toISOString();break;case"last3months":t=new Date(e.getTime()-7776e6).toISOString();break;case"last6months":t=new Date(e.getTime()-15552e6).toISOString();break;case"lastyear":t=new Date(e.getTime()-31536e6).toISOString();break;case"custom":t=p?new Date(p).toISOString():null,r=x?new Date(x).toISOString():r}return{start:t,end:r}})(),r=await a(()=>hp.getCaseAnalytics(e,t));r&&l(r)}catch(e){console.error("Failed to load analytics:",e),i("Failed to load analytics","error")}finally{g(!1)}};return(0,Xm.jsx)($y,{isOpen:t,onClose:r,title:"Case Analytics",size:"full",closeOnOverlayClick:!1,children:(0,Xm.jsxs)("div",{className:"flex flex-col h-[85vh]",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsx)("select",{value:u,onChange:e=>m(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last3months",label:"Last 3 Months"},{value:"last6months",label:"Last 6 Months"},{value:"lastyear",label:"Last Year"},{value:"custom",label:"Custom Range"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===u&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"date",value:p,onChange:e=>h(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Xm.jsx)("input",{type:"date",value:x,onChange:e=>f(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o&&(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Xm.jsx)("span",{className:"font-medium",children:o.totalCasesAnalyzed})," cases analyzed"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(y?"animate-spin":"")}),onClick:b,disabled:y,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{i("Exporting analytics as ".concat(e.toUpperCase(),"..."),"info")}catch(t){i("Failed to export analytics","error")}})("pdf"),children:"Export"})]})]}),(0,Xm.jsx)("div",{className:"flex border-b border-gray-200 bg-white px-4",children:v.map(e=>{const t=e.icon;return(0,Xm.jsxs)("button",{onClick:()=>d(e.id),className:"\n                  flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors\n                  ".concat(c===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300","\n                "),children:[(0,Xm.jsx)(t,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.label})]},e.id)})}),(0,Xm.jsx)("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:(()=>{if(!o)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading analytics..."})]})});switch(c){case"overview":return(0,Xm.jsx)(bH,{data:o.overview});case"performance":return(0,Xm.jsx)(XH,{data:o.performance});case"doctors":return(0,Xm.jsx)(JH,{data:o.doctorMetrics});case"specializations":return(0,Xm.jsx)(ZH,{data:o.specializationMetrics});case"trends":return(0,Xm.jsx)(eW,{data:o.trends});case"quality":return(0,Xm.jsx)(SW,{data:o.qualityMetrics});default:return null}})()})]})})},kW=ey({doctorId:zf().required("Doctor selection is required"),priority:zf().required("Priority is required"),notes:zf().optional()}),EW=ey({doctorId:zf().required("Doctor selection is required"),notes:zf().required("Reason for reassignment is required").min(10,"Please provide a detailed reason")}),PW=()=>{var e;const t=te(),{user:r}=Jd(),{execute:a,loading:n}=Iy(),{showToast:i}=YV(),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(0),[N,C]=(0,s.useState)(10),[S,A]=(0,s.useState)(0),[k,E]=(0,s.useState)(0),[P,O]=(0,s.useState)(""),[T,D]=(0,s.useState)(""),[R,_]=(0,s.useState)("all"),[M,I]=(0,s.useState)("all"),[L,F]=(0,s.useState)("all"),[q,z]=(0,s.useState)("all"),[U,B]=(0,s.useState)("createdAt"),[V,H]=(0,s.useState)("desc"),[W,G]=(0,s.useState)(!1),[Y,K]=(0,s.useState)({total:0,pending:0,assigned:0,inProgress:0,completed:0,avgResolutionTime:0}),[$,Q]=(0,s.useState)([]),[X,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=setTimeout(()=>{D(P),w(0)},500);return()=>clearTimeout(e)},[P]);const Z=[{value:"SUBMITTED",label:"Submitted",color:"blue"},{value:"PENDING",label:"Pending",color:"yellow"},{value:"ASSIGNED",label:"Assigned",color:"orange"},{value:"ACCEPTED",label:"Accepted",color:"purple"},{value:"SCHEDULED",label:"Scheduled",color:"indigo"},{value:"PAYMENT_PENDING",label:"Payment Pending",color:"pink"},{value:"IN_PROGRESS",label:"In Progress",color:"blue"},{value:"CONSULTATION_COMPLETE",label:"Consultation Complete",color:"green"},{value:"CLOSED",label:"Closed",color:"gray"},{value:"REJECTED",label:"Rejected",color:"red"}],ee=[{value:"LOW",label:"Low",color:"green"},{value:"MEDIUM",label:"Medium",color:"yellow"},{value:"HIGH",label:"High",color:"orange"},{value:"CRITICAL",label:"Critical",color:"red"}],{register:re,handleSubmit:ae,reset:ne,formState:{errors:se}}=Tx({resolver:Lx(kW)}),{register:ie,handleSubmit:oe,reset:le,formState:{errors:ce}}=Tx({resolver:Lx(EW)}),de=async()=>{try{const e={page:j,size:N,sort:"".concat(U,",").concat(V)};if(T&&(e.search=T),"all"!==R&&(e.status=R),"all"!==M&&(e.urgencyLevel=M),"all"!==L&&(e.specialization=L),"all"!==q){const t=new Date;let r;switch(q){case"today":r=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"week":r=new Date(t.getTime()-6048e5);break;case"month":r=new Date(t.getFullYear(),t.getMonth(),1);break;default:r=null}r&&(e.startDate=r.toISOString())}console.log("Loading cases with filters:",e);const t=await a(()=>hp.getAllCases(e));console.log("Full response:",t),t?t.content&&Array.isArray(t.content)?(console.log("Handling paginated response"),l(t.content),A(t.totalElements||0),E(t.totalPages||0),ue(t.content,t.totalElements)):Array.isArray(t)?(console.log("Handling array response"),l(t),A(t.length),E(Math.ceil(t.length/N)),ue(t,t.length)):(console.warn("Unexpected response format:",t),l([]),A(0),E(0),ue([],0)):(console.warn("No data in response"),l([]),A(0),E(0))}catch(e){console.error("Error loading cases:",e),i("Failed to load cases","error"),l([]),A(0),E(0)}};(0,s.useEffect)(()=>{(async()=>{try{const e=await a(()=>hp.getAllDoctors({status:"VERIFIED"}));null!==e&&void 0!==e&&e.data&&m(e.data)}catch(e){i("Failed to load doctors","error")}})(),(async()=>{try{const e=await a(()=>hp.getCaseMetrics());null!==e&&void 0!==e&&e.data&&K(t=>(0,ot.A)((0,ot.A)({},t),e.data))}catch(e){console.error("Failed to load case metrics:",e)}})()},[]),(0,s.useEffect)(()=>{de()},[j,N,T,R,M,L,q,U,V]);const ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});K({total:null!==t?t:e.length,pending:r.PENDING||0,assigned:r.ASSIGNED||0,inProgress:r.IN_PROGRESS||0,completed:r.CLOSED||0,avgResolutionTime:3.2})},me=e=>{w(e)},pe=e=>{const t=Z.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},he=e=>{const t=ee.find(t=>t.value===e);return(null===t||void 0===t?void 0:t.color)||"gray"},xe=[{title:"Case ID",key:"id",render:e=>(0,Xm.jsxs)("div",{className:"font-mono text-sm",children:["#",e.id]})},{title:"Patient",key:"patient",render:e=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-4 h-4 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:e.patientName||"Patient"}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.patientId]})]})]})},{title:"Case Title",key:"caseTitle",render:e=>(0,Xm.jsxs)("div",{className:"max-w-xs",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.caseTitle||"Untitled Case"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.description})]})},{title:"Status",key:"status",render:e=>{var t;return(0,Xm.jsx)(sp,{status:e.status,variant:pe(e.status),children:(null===(t=Z.find(t=>t.value===e.status))||void 0===t?void 0:t.label)||e.status})}},{title:"Urgency",key:"urgencyLevel",render:e=>{var t;return(0,Xm.jsx)(lp,{variant:he(e.urgencyLevel),size:"sm",icon:"CRITICAL"===e.urgencyLevel?(0,Xm.jsx)(wp,{className:"w-3 h-3"}):void 0,children:(null===(t=ee.find(t=>t.value===e.urgencyLevel))||void 0===t?void 0:t.label)||e.urgencyLevel})}},{title:"Assigned Doctor",key:"assignedDoctor",render:e=>(0,Xm.jsx)("div",{children:e.assignedDoctorId?(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["Dr. ",e.doctorName||"Assigned"]})]}):(0,Xm.jsx)("span",{className:"text-sm text-gray-500",children:"Unassigned"})})},{title:"Created",key:"createdAt",render:e=>(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:new Date(e.createdAt).toLocaleDateString()}),(0,Xm.jsx)("div",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleTimeString()})]})},{title:"Actions",kye:"actions",render:e=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{const t=await a(()=>hp.getCaseById(e.id));t&&(d(t),f(!0))}catch(t){i("Failed to load case details","error")}})(e),children:"View"}),!e.assignedDoctorId&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Sp,{className:"w-4 h-4"}),onClick:()=>{d(e),h(!0)},children:"Assign"}),e.assignedDoctorId&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>{d(e),g(!0)},children:"Reassign"})]})}];return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Case Management"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor and manage all medical cases in the system"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:de,loading:n,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:async()=>{try{const e=o.map(e=>({"Case ID":e.id,"Patient ID":e.patientId,"Case Title":e.caseTitle,Status:e.status,Urgency:e.urgencyLevel,"Created Date":new Date(e.createdAt).toLocaleDateString(),"Assigned Doctor":e.doctorName||"Unassigned"})),t=Object.keys(e[0]).join(","),r=e.map(e=>Object.values(e).map(e=>'"'.concat(e,'"')).join(",")).join("\n"),a="".concat(t,"\n").concat(r),n=new Blob([a],{type:"text/csv"}),s=window.URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download="cases_export_".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(s),i("Cases exported successfully","success")}catch(e){i("Failed to export cases","error")}},children:"Export"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(kp,{className:"w-4 h-4"}),onClick:()=>t("/app/admin/cases/analytics"),children:"Analytics"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Cases",value:Y.total,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6 text-blue-600"}),trend:{value:12,isPositive:!0},className:"border-l-4 border-l-blue-500"}),(0,Xm.jsx)(Ry,{title:"Pending Assignment",value:Y.pending,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6 text-yellow-600"}),trend:{value:5,isPositive:!1},className:"border-l-4 border-l-yellow-500"}),(0,Xm.jsx)(Ry,{title:"Assigned",value:Y.assigned,icon:(0,Xm.jsx)(Sp,{className:"w-6 h-6 text-orange-600"}),trend:{value:8,isPositive:!0},className:"border-l-4 border-l-orange-500"}),(0,Xm.jsx)(Ry,{title:"In Progress",value:Y.inProgress,icon:(0,Xm.jsx)(Ey,{className:"w-6 h-6 text-purple-600"}),trend:{value:3,isPositive:!0},className:"border-l-4 border-l-purple-500"}),(0,Xm.jsx)(Ry,{title:"Completed",value:Y.completed,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6 text-green-600"}),trend:{value:15,isPositive:!0},className:"border-l-4 border-l-green-500"}),(0,Xm.jsx)(Ry,{title:"Avg Resolution",value:"".concat(Y.avgResolutionTime," days"),icon:(0,Xm.jsx)(EV,{className:"w-6 h-6 text-indigo-600"}),trend:{value:.3,isPositive:!1},className:"border-l-4 border-l-indigo-500"})]}),(0,Xm.jsxs)(My,{className:"overflow-hidden",children:[(0,Xm.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search cases...",value:P,onChange:e=>O(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsxs)("select",{value:R,onChange:e=>{_(e.target.value),w(0)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),Z.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:M,onChange:e=>{I(e.target.value),w(0)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Urgency"}),ee.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:W?(0,Xm.jsx)(qy,{className:"w-4 h-4"}):(0,Xm.jsx)(zy,{className:"w-4 h-4"}),onClick:()=>G(!W),children:"Filters"})]})]}),W&&(0,Xm.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,Xm.jsxs)("select",{value:q,onChange:e=>{z(e.target.value),w(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Time"}),(0,Xm.jsx)("option",{value:"today",children:"Today"}),(0,Xm.jsx)("option",{value:"week",children:"Last Week"}),(0,Xm.jsx)("option",{value:"month",children:"Last Month"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,Xm.jsxs)("select",{value:U,onChange:e=>{B(e.target.value),w(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"createdAt",children:"Created Date"}),(0,Xm.jsx)("option",{value:"updatedAt",children:"Last Updated"}),(0,Xm.jsx)("option",{value:"urgencyLevel",children:"Urgency"}),(0,Xm.jsx)("option",{value:"status",children:"Status"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),(0,Xm.jsxs)("select",{value:V,onChange:e=>{H(e.target.value),w(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"desc",children:"Newest First"}),(0,Xm.jsx)("option",{value:"asc",children:"Oldest First"})]})]})]})})]}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsx)("tr",{children:xe.map(e=>(0,Xm.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.title},e.key))})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n?Array.from({length:N}).map((e,t)=>(0,Xm.jsx)("tr",{children:xe.map(e=>(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},e.key))},"skeleton-".concat(t))):0===o.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsxs)("td",{colSpan:xe.length,className:"px-6 py-12 text-center text-gray-500",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,Xm.jsx)("p",{className:"text-lg font-medium",children:"No cases found"}),(0,Xm.jsx)("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})}):o.map(e=>(0,Xm.jsx)("tr",{className:"hover:bg-gray-50 transition-colors",children:xe.map(t=>(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t.render?t.render(e):e[t.key]},t.key))},e.id))})]})}),S>0&&(0,Xm.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsxs)("span",{className:"text-sm text-gray-700",children:["Showing"," ",(0,Xm.jsx)("span",{className:"font-medium",children:j*N+1})," ","to"," ",(0,Xm.jsx)("span",{className:"font-medium",children:Math.min((j+1)*N,S)})," ","of"," ",(0,Xm.jsx)("span",{className:"font-medium",children:S})," ","results"]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("label",{className:"text-sm text-gray-600",children:"Per page:"}),(0,Xm.jsxs)("select",{value:N,onChange:e=>{return t=Number(e.target.value),C(t),void w(0);var t},className:"px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:10,children:"10"}),(0,Xm.jsx)("option",{value:20,children:"20"}),(0,Xm.jsx)("option",{value:50,children:"50"}),(0,Xm.jsx)("option",{value:100,children:"100"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>me(0),disabled:0===j,children:"First"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>me(j-1),disabled:0===j,children:"Previous"}),(0,Xm.jsx)("div",{className:"flex items-center gap-1",children:(()=>{const e=[];let t=Math.max(0,j-Math.floor(2.5)),r=Math.min(k-1,t+5-1);r-t<4&&(t=Math.max(0,r-5+1));for(let a=t;a<=r;a++)e.push((0,Xm.jsx)("button",{onClick:()=>me(a),className:"px-3 py-1 text-sm rounded-md transition-colors ".concat(j===a?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a+1},a));return e})()}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>me(j+1),disabled:j>=k-1,children:"Next"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>me(k-1),disabled:j>=k-1,children:"Last"})]})]})})]}),"Anylytics Modal",(0,Xm.jsx)(AW,{isOpen:v,onClose:()=>b(!1)}),(0,Xm.jsx)(Ky,{isOpen:p,onClose:()=>{h(!1),d(null),ne()},title:"Assign Case to Doctor",description:"Select a doctor to assign this case",size:"lg",children:c&&(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Assignment"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 text-yellow-600"}),(0,Xm.jsxs)("span",{className:"text-sm",children:["Currently assigned to: Dr. ",c.doctorName||"Unknown"]})]})]}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Doctor *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},ie("doctorId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Choose a new doctor..."}),u.filter(e=>e.id!==c.assignedDoctorId).map(e=>(0,Xm.jsxs)("option",{value:e.id,children:["Dr. ",e.fullName," - ",e.specialization,"(",e.currentCaseLoad||0,"/",e.maxConcurrentCases||10," cases)"]},e.id))]})),ce.doctorId&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:ce.doctorId.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Reassignment *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},ie("notes")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Please provide a reason for the reassignment..."})),ce.notes&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:ce.notes.message})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{g(!1),d(null),le()},children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"warning",loading:n,icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:oe(async e=>{try{await a(()=>hp.reassignCase(c.id,e.doctorId,e.notes||"Reassigned by admin")),i("Case reassigned successfully","success"),l(t=>t.map(t=>t.id===c.id?(0,ot.A)((0,ot.A)({},t),{},{assignedDoctorId:e.doctorId}):t)),g(!1),d(null),ne()}catch(t){i("Failed to reassign case","error")}}),children:"Reassign Case"})]})]})}),(0,Xm.jsx)(Ky,{isOpen:x,onClose:()=>{f(!1),d(null)},title:"Case Details",size:"lg",children:c&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Case #",c.id]}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:c.caseTitle||"Medical Case"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(sp,{status:c.status,variant:pe(c.status),children:null===(e=Z.find(e=>e.value===c.status))||void 0===e?void 0:e.label}),(0,Xm.jsx)(lp,{variant:he(c.urgencyLevel),icon:"CRITICAL"===c.urgencyLevel?(0,Xm.jsx)(wp,{className:"w-4 h-4"}):void 0,children:c.urgencyLevel})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Wm,{className:"w-5 h-5 mr-2 text-primary-600"}),"Patient Information"]}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Patient ID:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.patientId})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.patientName||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Age:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.patientAge||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Gender:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.patientGender||"N/A"})]})]})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Op,{className:"w-5 h-5 mr-2 text-primary-600"}),"Assigned Doctor"]}),c.assignedDoctorId?(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Doctor:"}),(0,Xm.jsxs)("span",{className:"font-medium",children:["Dr. ",c.doctorName||"Unknown"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Specialization:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.doctorSpecialization||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Assigned At:"}),(0,Xm.jsx)("span",{className:"font-medium",children:c.assignedAt?new Date(c.assignedAt).toLocaleDateString():"N/A"})]})]}):(0,Xm.jsxs)("div",{className:"text-center py-4",children:[(0,Xm.jsx)(oy,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No doctor assigned"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"mt-2",onClick:()=>{f(!1),h(!0)},children:"Assign Doctor"})]})]})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Case Description"]}),(0,Xm.jsx)("p",{className:"text-gray-700 leading-relaxed",children:c.description||"No description provided."})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Case Timeline"]}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium",children:"Case Submitted"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:new Date(c.createdAt).toLocaleString()})]})})]}),c.assignedAt&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium",children:"Doctor Assigned"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:new Date(c.assignedAt).toLocaleString()})]})})]}),c.acceptedAt&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium",children:"Case Accepted"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:new Date(c.acceptedAt).toLocaleString()})]})})]}),c.scheduledAt&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium",children:"Appointment Scheduled"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:new Date(c.scheduledAt).toLocaleString()})]})})]}),"CLOSED"===c.status&&c.closedAt&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium",children:"Case Closed"}),(0,Xm.jsx)("span",{className:"text-xs text-gray-500",children:new Date(c.closedAt).toLocaleString()})]})})]})]})]})}),c.documents&&c.documents.length>0&&(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Attached Documents"]}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.documents.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(gp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsx)("span",{className:"text-sm font-medium truncate",children:e.name||"Document ".concat(t+1)})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(vg,{className:"w-3 h-3"}),onClick:()=>window.open(e.url,"_blank"),children:"View"})]},t))})]})}),c.paymentStatus&&(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 mr-2 text-primary-600"}),"Payment Information"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Payment Status:"}),(0,Xm.jsx)(sp,{status:c.paymentStatus,children:c.paymentStatus})]}),c.consultationFee&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Consultation Fee:"}),(0,Xm.jsxs)("span",{className:"font-medium",children:["$",c.consultationFee]})]})]})]})}),(0,Xm.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{f(!1),d(null)},children:"Close"}),!c.assignedDoctorId&&(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Sp,{className:"w-4 h-4"}),onClick:()=>{f(!1),h(!0)},children:"Assign Doctor"}),c.assignedDoctorId&&(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>{f(!1),g(!0)},children:"Reassign"})]})]})}),0===o.length&&!n&&0===S&&(0,Xm.jsx)(_y,{type:"info",icon:(0,Xm.jsx)(Sg,{className:"w-5 h-5"}),title:"No cases found",description:"There are no cases matching your current filters. Try adjusting your search criteria.",actions:(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:()=>{O(""),_("all"),I("all"),F("all"),z("all"),w(0)},children:"Clear Filters"})})]})},OW=zm("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),TW=ey({amount:Bf().required("Refund amount is required").positive("Amount must be positive").max(xf("maxAmount"),"Cannot exceed payment amount"),reason:zf().required("Refund reason is required").min(10,"Reason must be at least 10 characters"),type:zf().required("Refund type is required").oneOf(["full","partial"],"Invalid refund type"),notifyUser:Pf()}),DW=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),a=te(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(""),[y,g]=(0,s.useState)("ALL"),[v,b]=(0,s.useState)("ALL"),[j,w]=(0,s.useState)("ALL"),[N,C]=(0,s.useState)("all"),[S,A]=(0,s.useState)(!1),[k,E]=(0,s.useState)(!1),[P,O]=(0,s.useState)(!1),[T,D]=(0,s.useState)(null),[R,_]=(0,s.useState)({totalPayments:0,totalRevenue:0,pendingPayments:0,totalRefunds:0,monthlyGrowth:0,averageTransactionValue:0}),{register:M,handleSubmit:I,formState:{errors:L},reset:F,watch:q,setValue:z}=Tx({resolver:Lx(TW)});(0,s.useEffect)(()=>{U(),B(),V()},[]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{W()},300);return()=>clearTimeout(e)},[x,y,v,j,n]);const U=async()=>{try{const e={};"ALL"!==y&&(e.status=y),"ALL"!==v&&(e.type=v),"ALL"!==j&&(e.dateRange=j),x.trim()&&(e.search=x.trim());const r=await t(()=>hp.getAllPayments(e));if(r){const e=r||[];i(e),H(e)}}catch(e){console.error("Failed to load payments:",e),i([])}},B=async()=>{try{const e=await t(()=>hp.getSubscriptionPayments());e&&d(e||[])}catch(e){console.error("Failed to load subscription payments:",e)}},V=async()=>{try{const e=await t(()=>hp.getConsultationPayments());e&&m(e||[])}catch(e){console.error("Failed to load consultation payments:",e)}},H=e=>{if(!e||0===e.length)return void _({totalPayments:0,totalRevenue:0,pendingPayments:0,totalRefunds:0,monthlyGrowth:0,averageTransactionValue:0});const t=e.length,r=e.filter(e=>"completed"===e.status.toLowerCase()||"success"===e.status.toLowerCase()).reduce((e,t)=>e+(t.amount||0),0),a=e.filter(e=>"pending"===e.status.toLowerCase()).length,n=e.filter(e=>e.refundedAmount).reduce((e,t)=>e+(t.refundedAmount||0),0),s=t>0?r/t:0,i=new Date,o=new Date(i.getFullYear(),i.getMonth(),1),l=new Date(i.getFullYear(),i.getMonth()-1,1),c=new Date(i.getFullYear(),i.getMonth(),0),d=e.filter(e=>new Date(e.createdAt)>=o&&("completed"===e.status.toLowerCase()||"success"===e.status.toLowerCase())).reduce((e,t)=>e+(t.amount||0),0),u=e.filter(e=>{const t=new Date(e.createdAt);return t>=l&&t<=c&&("completed"===e.status.toLowerCase()||"success"===e.status.toLowerCase())}).reduce((e,t)=>e+(t.amount||0),0),m=u>0?(d-u)/u*100:0;_({totalPayments:t,totalRevenue:r,pendingPayments:a,totalRefunds:n,monthlyGrowth:Math.round(10*m)/10,averageTransactionValue:s})},W=()=>{let e=[...n];if(x.trim()){const t=x.toLowerCase();e=e.filter(e=>{var r,a,n,s;return(null===(r=e.transactionId)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.payerName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.payerEmail)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(t))})}if("ALL"!==y&&(e=e.filter(e=>e.status===y)),"ALL"!==v&&(e=e.filter(e=>e.type===v)),"ALL"!==j){const t=new Date;let r;switch(j){case"TODAY":r=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"WEEK":r=new Date(t.getTime()-6048e5);break;case"MONTH":r=new Date(t.getFullYear(),t.getMonth(),1);break;case"QUARTER":const e=Math.floor(t.getMonth()/3);r=new Date(t.getFullYear(),3*e,1);break;default:r=null}r&&(e=e.filter(e=>new Date(e.createdAt)>=r))}l(e)},G=e=>{h(e),z("maxAmount",e.amount),z("amount",e.amount),z("type","full"),E(!0)},Y=async r=>{try{const a={paymentId:p.id,amount:r.amount,reason:r.reason,type:r.type,notifyUser:r.notifyUser,processedBy:e.id};(await t(()=>hp.processRefund(a))).success&&(E(!1),F(),U())}catch(a){console.error("Failed to process refund:",a)}},K=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":case"success":return"success";case"pending":return"warning";case"failed":case"declined":return"error";case"refunded":return"info";default:return"default"}},$=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"subscription":return(0,Xm.jsx)(Ip,{className:"w-4 h-4"});case"consultation":return(0,Xm.jsx)(Ey,{className:"w-4 h-4"});case"refund":return(0,Xm.jsx)(OW,{className:"w-4 h-4"});default:return(0,Xm.jsx)(ib,{className:"w-4 h-4"})}},Q=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),X=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",J=e=>{let{payment:t,isOpen:r,onClose:a}=e;return r&&t?(0,Xm.jsx)($y,{isOpen:r,onClose:a,title:"Payment Details",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"p-2 rounded-full ".concat("completed"===t.status?"bg-green-100 text-green-600":"pending"===t.status?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"),children:"completed"===t.status?(0,Xm.jsx)(Up,{className:"w-5 h-5"}):"pending"===t.status?(0,Xm.jsx)(Qp,{className:"w-5 h-5"}):(0,Xm.jsx)(eg,{className:"w-5 h-5"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900",children:Q(t.amount)}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-500",children:["Transaction ID: ",t.transactionId]})]})]}),(0,Xm.jsx)(sp,{status:t.status})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Transaction Details"}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Type:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.type||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Method:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Gateway:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.gateway||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,Xm.jsx)("span",{className:"font-medium",children:X(t.processedAt)})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Customer Details"}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Name:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.payerName||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.payerEmail||"N/A"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-500",children:"User ID:"}),(0,Xm.jsx)("span",{className:"font-medium",children:t.userId||"N/A"})]})]})]})]}),t.description&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:t.description})]}),t.refundedAmount&&(0,Xm.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-medium text-red-900 mb-2",children:"Refund Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-red-700",children:"Refunded Amount:"}),(0,Xm.jsx)("span",{className:"font-medium ml-2",children:Q(t.refundedAmount)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-red-700",children:"Refund Date:"}),(0,Xm.jsx)("span",{className:"font-medium ml-2",children:X(t.refundedAt)})]})]}),t.refundReason&&(0,Xm.jsxs)("div",{className:"mt-2",children:[(0,Xm.jsx)("span",{className:"text-red-700 text-sm",children:"Reason:"}),(0,Xm.jsx)("p",{className:"text-sm text-red-800 mt-1",children:t.refundReason})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[(0,Xm.jsx)("div",{className:"flex space-x-2",children:t.receiptUrl&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>window.open(t.receiptUrl,"_blank"),icon:(0,Xm.jsx)(vg,{className:"w-4 h-4"}),children:"View Receipt"})}),(0,Xm.jsx)("div",{className:"flex space-x-2",children:"completed"===t.status&&!t.refundedAmount&&(0,Xm.jsx)(Zm,{variant:"danger",size:"sm",onClick:()=>{a(),G(t)},icon:(0,Xm.jsx)(OW,{className:"w-4 h-4"}),children:"Process Refund"})})]})]})}):null},Z=e=>{let{payment:t,isOpen:a,onClose:n}=e;if(!a||!t)return null;const s=q("type");q("amount");return(0,Xm.jsx)(Ky,{isOpen:a,onClose:n,title:"Process Refund",onSubmit:I(Y),submitText:"Process Refund",submitVariant:"danger",loading:r,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:t.payerName}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:t.transactionId})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:Q(t.amount)}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:X(t.createdAt)})]})]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Type"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Xm.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"radio",value:"full"},M("type")),{},{className:"mr-3"})),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Full Refund"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:Q(t.amount)})]})]}),(0,Xm.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"radio",value:"partial"},M("type")),{},{className:"mr-3"})),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Partial Refund"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Custom amount"})]})]})]}),L.type&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.type.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Amount"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Xm.jsx)(Cp,{className:"h-5 w-5 text-gray-400"})}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"number",step:"0.01",max:t.amount,disabled:"full"===s},M("amount")),{},{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500",placeholder:"0.00"}))]}),L.amount&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.amount.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({rows:3},M("reason")),{},{className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Please provide a detailed reason for this refund..."})),L.reason&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.reason.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},M("notifyUser")),{},{className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Send notification email to customer"})]}),(0,Xm.jsx)(_y,{type:"warning",children:(0,Xm.jsxs)("div",{className:"flex",children:[(0,Xm.jsx)(wp,{className:"h-5 w-5 text-yellow-400"}),(0,Xm.jsx)("div",{className:"ml-3",children:(0,Xm.jsx)("p",{className:"text-sm text-yellow-800",children:"This action cannot be undone. The refund will be processed immediately and funds will be returned to the customer's original payment method."})})]})})]})})},ee=(()=>{switch(N){case"subscriptions":return c;case"consultations":return u;default:return o}})();return(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Management"}),(0,Xm.jsxs)("div",{className:"flex space-x-3",children:[(0,Xm.jsx)(Zm,{onClick:()=>a("/app/admin/payment-analytics"),icon:(0,Xm.jsx)(kp,{className:"w-4 h-4"}),variant:"primary",children:"Analytics"}),(0,Xm.jsx)(Zm,{onClick:()=>{U(),B(),V()},disabled:r,icon:(0,Xm.jsx)(pg,{className:r?"w-4 h-4 animate-spin":"w-4 h-4"}),children:"Refresh"}),(0,Xm.jsx)(Zm,{onClick:()=>console.log("Export functionality coming soon"),icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),variant:"outline",children:"Export"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,Xm.jsx)(Ry,{title:"Total Revenue",value:Q(R.totalRevenue),icon:(0,Xm.jsx)(Cp,{className:"w-8 h-8"}),color:"green",trend:R.monthlyGrowth>0?"up":R.monthlyGrowth<0?"down":"neutral",trendValue:"".concat(Math.abs(R.monthlyGrowth),"%")}),(0,Xm.jsx)(Ry,{title:"Total Payments",value:R.totalPayments,icon:(0,Xm.jsx)(ib,{className:"w-8 h-8"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Pending Payments",value:R.pendingPayments,icon:(0,Xm.jsx)(Qp,{className:"w-8 h-8"}),color:"yellow"}),(0,Xm.jsx)(Ry,{title:"Total Refunds",value:Q(R.totalRefunds),icon:(0,Xm.jsx)(OW,{className:"w-8 h-8"}),color:"red"})]}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[{key:"all",label:"All Payments",count:n.length},{key:"subscriptions",label:"Subscriptions",count:c.length},{key:"consultations",label:"Consultations",count:u.length}].map(e=>(0,Xm.jsxs)("button",{onClick:()=>C(e.key),className:"".concat(N===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,Xm.jsx)("span",{children:e.label}),(0,Xm.jsx)(lp,{variant:"outline",children:e.count})]},e.key))})})}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search payments...",value:x,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 w-full"})]}),(0,Xm.jsxs)("select",{value:y,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Xm.jsx)("option",{value:"ALL",children:"All Status"}),(0,Xm.jsx)("option",{value:"completed",children:"Completed"}),(0,Xm.jsx)("option",{value:"pending",children:"Pending"}),(0,Xm.jsx)("option",{value:"failed",children:"Failed"}),(0,Xm.jsx)("option",{value:"refunded",children:"Refunded"}),(0,Xm.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,Xm.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Xm.jsx)("option",{value:"ALL",children:"All Types"}),(0,Xm.jsx)("option",{value:"subscription",children:"Subscription"}),(0,Xm.jsx)("option",{value:"consultation",children:"Consultation"}),(0,Xm.jsx)("option",{value:"refund",children:"Refund"})]}),(0,Xm.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Xm.jsx)("option",{value:"ALL",children:"All Time"}),(0,Xm.jsx)("option",{value:"TODAY",children:"Today"}),(0,Xm.jsx)("option",{value:"WEEK",children:"Last Week"}),(0,Xm.jsx)("option",{value:"MONTH",children:"Last Month"}),(0,Xm.jsx)("option",{value:"QUARTER",children:"Last Quarter"})]})]})}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xm.jsx)(pg,{className:"animate-spin h-6 w-6 text-gray-400 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"Loading payments..."})]})})}):0===ee.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Xm.jsx)(ib,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payments found"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:x||"ALL"!==y||"ALL"!==v||"ALL"!==j?"Try adjusting your filters to see more results.":"No payment records available yet."})]})})}):ee.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 p-2 rounded-full ".concat("success"===K(e.status)?"bg-green-100 text-green-600":"warning"===K(e.status)?"bg-yellow-100 text-yellow-600":"error"===K(e.status)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:$(e.type)}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.transactionId||"#".concat(e.id)}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:e.description||e.type})]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"h-4 w-4 text-gray-600"})}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.payerName||"N/A"}),(0,Xm.jsx)("div",{className:"text-sm text-gray-500",children:e.payerEmail||"User ID: ".concat(e.userId)})]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"text-sm",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:Q(e.amount)}),e.refundedAmount&&(0,Xm.jsxs)("div",{className:"text-red-600",children:["-",Q(e.refundedAmount)," refunded"]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[$(e.type),(0,Xm.jsx)("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:e.type||"Payment"})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(sp,{status:e.status,variant:K(e.status)})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{children:X(e.processedAt)}),e.refundedAt&&(0,Xm.jsxs)("div",{className:"text-red-600",children:["Refunded: ",X(e.refundedAt)]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("button",{onClick:()=>(e=>{h(e),A(!0)})(e),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:(0,Xm.jsx)(iy,{className:"w-4 h-4"})}),"completed"===e.status&&!e.refundedAmount&&(0,Xm.jsx)("button",{onClick:()=>G(e),className:"text-red-600 hover:text-red-900",title:"Process Refund",children:(0,Xm.jsx)(OW,{className:"w-4 h-4"})}),e.receiptUrl&&(0,Xm.jsx)("button",{onClick:()=>window.open(e.receiptUrl,"_blank"),className:"text-green-600 hover:text-green-900",title:"View Receipt",children:(0,Xm.jsx)(vg,{className:"w-4 h-4"})})]})})]},e.id))})]})}),ee.length>0&&(0,Xm.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",ee.length," payment(s)"]}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-500",children:["Total: ",Q(ee.reduce((e,t)=>e+(t.amount||0),0))]})]})})]}),(0,Xm.jsx)(J,{payment:p,isOpen:S,onClose:()=>{A(!1),h(null)}}),(0,Xm.jsx)(Z,{payment:p,isOpen:k,onClose:()=>{E(!1),h(null),F()}}),(0,Xm.jsx)(Yy,{isOpen:P,onClose:()=>{O(!1),D(null)},onConfirm:()=>{null!==T&&void 0!==T&&T.action&&T.action(),O(!1),D(null)},title:null===T||void 0===T?void 0:T.title,message:null===T||void 0===T?void 0:T.message,confirmText:null===T||void 0===T?void 0:T.confirmText,confirmStyle:null===T||void 0===T?void 0:T.confirmStyle,loading:r})]})},RW=ey({response:zf().required("Response is required").min(20,"Response must be at least 20 characters"),status:zf().required("Status is required").oneOf(["IN_PROGRESS","RESOLVED","CLOSED"],"Invalid status"),notifyPatient:Pf()}),_W=()=>{var e,t,r;const a=te(),{user:n}=Jd(),{execute:i,loading:o}=Iy(),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(null),[h,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[A,k]=(0,s.useState)("created_desc"),[E,P]=(0,s.useState)({total:0,open:0,inProgress:0,resolved:0,closed:0,critical:0,avgResponseTime:0}),O=Tx({resolver:Lx(RW),defaultValues:{response:"",status:"IN_PROGRESS",notifyPatient:!0}});(0,s.useEffect)(()=>{T()},[]),(0,s.useEffect)(()=>{R()},[l,g,b,w,C,A]);const T=async()=>{try{const e={};b&&(e.status=b),w&&(e.priority=w);const t=await i(()=>hp.getAllComplaints(e));c(t||[]),D(t||[])}catch(e){console.error("Failed to load complaints:",e),c([])}},D=e=>{const t=e.length,r=e.filter(e=>"OPEN"===e.status).length,a=e.filter(e=>"IN_PROGRESS"===e.status).length,n=e.filter(e=>"RESOLVED"===e.status).length,s=e.filter(e=>"CLOSED"===e.status).length,i=e.filter(e=>"CRITICAL"===e.priority).length,o=e.length>0?"2.4 hours":"0 hours";P({total:t,open:r,inProgress:a,resolved:n,closed:s,critical:i,avgResponseTime:o})},R=()=>{let e=[...l];g&&(e=e.filter(e=>{var t,r,a;return(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.patientName)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))||(null===(a=e.id)||void 0===a?void 0:a.toString().includes(g))})),b&&(e=e.filter(e=>e.status===b)),w&&(e=e.filter(e=>e.priority===w)),C&&(e=e.filter(e=>e.complaintType===C)),e.sort((e,t)=>{switch(A){case"created_desc":return new Date(t.createdAt)-new Date(e.createdAt);case"created_asc":return new Date(e.createdAt)-new Date(t.createdAt);case"updated_desc":return new Date(t.updatedAt)-new Date(e.updatedAt);case"priority_high":const r={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};return r[t.priority]-r[e.priority];case"status":return e.status.localeCompare(t.status);default:return 0}}),u(e)},_=e=>{p(e),O.reset({response:"",status:"OPEN"===e.status?"IN_PROGRESS":e.status,notifyPatient:!0}),y(!0)},M=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=e=>{switch(e){case"OPEN":return(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-500"});case"IN_PROGRESS":return(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-500"});case"RESOLVED":return(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"});case"CLOSED":return(0,Xm.jsx)(eg,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(jg,{className:"w-5 h-5 text-gray-400"})}},L=e=>{switch(e){case"CRITICAL":return"bg-red-600 text-white border-red-600";case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=e=>{switch(e){case"OPEN":return"orange";case"IN_PROGRESS":return"blue";case"RESOLVED":return"green";default:return"gray"}},q=e=>{switch(e){case"SYSTEM":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});case"PAYMENT":return(0,Xm.jsx)(gp,{className:"w-4 h-4"});case"SERVICE":return(0,Xm.jsx)(Wm,{className:"w-4 h-4"});case"DOCTOR":return(0,Xm.jsx)(Ip,{className:"w-4 h-4"});default:return(0,Xm.jsx)(jg,{className:"w-4 h-4"})}},z=[{value:"DOCTOR",label:"Doctor Related"},{value:"SYSTEM",label:"System/Technical Issue"},{value:"PAYMENT",label:"Payment Issue"},{value:"SERVICE",label:"Service Quality"},{value:"OTHER",label:"Other"}],U=[{value:"OPEN",label:"Open"},{value:"IN_PROGRESS",label:"In Progress"},{value:"RESOLVED",label:"Resolved"},{value:"CLOSED",label:"Closed"}];return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Complaint Management"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor and respond to customer complaints"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:o?"w-4 h-4 animate-spin":"w-4 h-4"}),onClick:T,disabled:o,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>{const e=[["ID","Patient","Type","Priority","Status","Created At","Description"].join(","),...d.map(e=>{var t;return[e.id,e.patientName||"N/A",e.complaintType,e.priority,e.status,M(e.createdAt),'"'.concat(null===(t=e.description)||void 0===t?void 0:t.substring(0,100),'..."')].join(",")})].join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="complaints-".concat((new Date).toISOString().split("T")[0],".csv"),a.click()},children:"Export"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(kp,{className:"w-4 h-4"}),onClick:()=>a("/admin/reports"),children:"Analytics"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Complaints",value:E.total,icon:(0,Xm.jsx)(Km,{className:"w-8 h-8"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Open & In Progress",value:E.open+E.inProgress,icon:(0,Xm.jsx)(Qp,{className:"w-8 h-8"}),color:"orange"}),(0,Xm.jsx)(Ry,{title:"Resolved",value:E.resolved,icon:(0,Xm.jsx)(Up,{className:"w-8 h-8"}),color:"green"}),(0,Xm.jsx)(Ry,{title:"Critical Priority",value:E.critical,icon:(0,Xm.jsx)(wp,{className:"w-8 h-8"}),color:"red"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Response Time"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.avgResponseTime})]}),(0,Xm.jsx)(Ey,{className:"w-8 h-8 text-blue-500"})]})}),(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Resolution Rate"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[E.total>0?Math.round(E.resolved/E.total*100):0,"%"]})]}),(0,Xm.jsx)(EV,{className:"w-8 h-8 text-green-500"})]})}),(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Action"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.open})]}),(0,Xm.jsx)(oy,{className:"w-8 h-8 text-orange-500"})]})})]}),(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search complaints by ID, patient name, or description...",value:g,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"All Status"}),U.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"All Priority"}),[{value:"CRITICAL",label:"Critical"},{value:"HIGH",label:"High"},{value:"MEDIUM",label:"Medium"},{value:"LOW",label:"Low"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"All Types"}),z.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:A,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"created_desc",children:"Latest First"}),(0,Xm.jsx)("option",{value:"created_asc",children:"Oldest First"}),(0,Xm.jsx)("option",{value:"priority_high",children:"Priority High to Low"}),(0,Xm.jsx)("option",{value:"status",children:"Status"}),(0,Xm.jsx)("option",{value:"updated_desc",children:"Recently Updated"})]})]})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Complaint"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xm.jsx)(pg,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"Loading complaints..."})]})})}):0===d.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center",children:[(0,Xm.jsx)(Km,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No complaints found"})]})}):d.map(e=>{var t,r;return(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)("div",{className:"mr-3 mt-1",children:q(e.complaintType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["#",e.id]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 max-w-xs",children:e.description})]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-900",children:e.patientName||"Patient #".concat(e.patientId)})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)(lp,{variant:"outline",className:"flex items-center",children:[q(e.complaintType),(0,Xm.jsx)("span",{className:"ml-1",children:(null===(t=z.find(t=>t.value===e.complaintType))||void 0===t?void 0:t.label)||e.complaintType})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(lp,{className:L(e.priority),children:e.priority})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(sp,{status:e.status,variant:F(e.status),icon:I(e.status),children:(null===(r=U.find(t=>t.value===e.status))||void 0===r?void 0:r.label)||e.status})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 mr-1"}),M(e.createdAt)]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(e=>{p(e),x(!0)})(e),children:"View"}),"CLOSED"!==e.status&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(qv,{className:"w-4 h-4"}),onClick:()=>_(e),children:"Respond"})]})})]},e.id)})})]})})}),(0,Xm.jsx)($y,{isOpen:h,onClose:()=>{x(!1),p(null)},title:"Complaint Details",size:"4xl",children:m&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Complaint #",m.id]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,Xm.jsx)(sp,{status:m.status,variant:F(m.status),children:null===(e=U.find(e=>e.value===m.status))||void 0===e?void 0:e.label}),(0,Xm.jsx)(lp,{className:L(m.priority),children:m.priority}),(0,Xm.jsx)(lp,{variant:"outline",children:null===(t=z.find(e=>e.value===m.complaintType))||void 0===t?void 0:t.label})]})]}),(0,Xm.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:["Created: ",M(m.createdAt)]}),m.updatedAt&&(0,Xm.jsxs)("p",{children:["Updated: ",M(m.updatedAt)]})]})]}),(0,Xm.jsxs)(My,{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 mr-2"}),"Patient Information"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm text-gray-600",children:"Patient ID:"}),(0,Xm.jsxs)("p",{className:"font-medium",children:["#",m.patientId]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm text-gray-600",children:"Patient Name:"}),(0,Xm.jsx)("p",{className:"font-medium",children:m.patientName||"N/A"})]}),m.doctorId&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm text-gray-600",children:"Related Doctor:"}),(0,Xm.jsxs)("p",{className:"font-medium",children:["Dr. #",m.doctorId]})]}),m.caseId&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm text-gray-600",children:"Related Case:"}),(0,Xm.jsxs)("p",{className:"font-medium",children:["Case #",m.caseId]})]})]})]}),(0,Xm.jsxs)(My,{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(jg,{className:"w-4 h-4 mr-2"}),"Complaint Description"]}),(0,Xm.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,Xm.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:m.description})})]}),m.adminResponse&&(0,Xm.jsxs)(My,{className:"p-4",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)($m,{className:"w-4 h-4 mr-2"}),"Admin Response"]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:m.adminResponse}),m.resolvedAt&&(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Responded on: ",M(m.resolvedAt)]})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>x(!1),children:"Close"}),"CLOSED"!==m.status&&(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(qv,{className:"w-4 h-4"}),onClick:()=>{x(!1),_(m)},children:"Respond to Complaint"})]})]})}),(0,Xm.jsx)(Ky,{isOpen:f,onClose:()=>{y(!1),p(null),O.reset()},title:"Respond to Complaint",loading:o,children:m&&(0,Xm.jsxs)("form",{onSubmit:O.handleSubmit(async e=>{try{await i(()=>hp.updateComplaintStatus(m.id,e.status,e.response)),c(t=>t.map(t=>t.id===m.id?(0,ot.A)((0,ot.A)({},t),{},{status:e.status,adminResponse:e.response,resolvedAt:new Date}):t)),y(!1),p(null),O.reset(),alert("Response sent successfully!")}catch(t){console.error("Failed to send response:",t),alert("Failed to send response. Please try again.")}}),className:"space-y-4",children:[(0,Xm.jsxs)(My,{className:"p-4 bg-gray-50",children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["Complaint #",m.id]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3",children:m.description}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,Xm.jsx)(lp,{className:L(m.priority),children:m.priority}),(0,Xm.jsx)(lp,{variant:"outline",children:null===(r=z.find(e=>e.value===m.complaintType))||void 0===r?void 0:r.label})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Response ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},O.register("response")),{},{rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your response to the complaint..."})),O.formState.errors.response&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:O.formState.errors.response.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Update Status ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},O.register("status")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Xm.jsx)("option",{value:"RESOLVED",children:"Resolved"}),(0,Xm.jsx)("option",{value:"CLOSED",children:"Closed"})]})),O.formState.errors.status&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:O.formState.errors.status.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},O.register("notifyPatient")),{},{id:"notifyPatient",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{htmlFor:"notifyPatient",className:"ml-2 block text-sm text-gray-700",children:"Send notification to patient via email"})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{y(!1),O.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:o,icon:(0,Xm.jsx)(qv,{className:"w-4 h-4"}),children:"Send Response"})]})]})}),E.critical>0&&(0,Xm.jsx)(_y,{type:"warning",title:"Critical Complaints Alert",message:"You have ".concat(E.critical," critical priority complaint").concat(E.critical>1?"s":""," that require immediate attention."),action:(0,Xm.jsx)(Zm,{variant:"warning",size:"sm",onClick:()=>{N("CRITICAL"),j("OPEN")},children:"View Critical"})})]})},MW=()=>(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"System Reports"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"System reports will be implemented here."})]}),IW=()=>(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"System Configuration"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"System configuration will be implemented here."})]}),LW=zm("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),FW=ey({icdCode:zf().required("ICD-10 code is required").min(3,"ICD code too short"),name:zf().required("Disease name is required").min(2,"Name too short"),description:zf().optional(),category:zf().required("Category is required"),subCategory:zf().optional(),requiredSpecializations:ry().min(1,"At least one specialization required"),commonSymptoms:ry().optional(),defaultSeverity:zf().required("Default severity is required"),isActive:Pf()}),qW=ey({atcCode:zf().required("ATC code is required").min(3,"ATC code too short"),name:zf().required("Medication name is required").min(2,"Name too short"),genericName:zf().required("Generic name is required"),category:zf().required("Category is required"),subCategory:zf().optional(),indications:ry().min(1,"At least one indication required"),contraindications:ry().optional(),isActive:Pf()}),zW=ey({code:zf().required("Symptom code is required").min(2,"Code too short"),name:zf().required("Symptom name is required").min(2,"Name too short"),description:zf().optional(),bodySystem:zf().required("Body system is required"),relatedDiseases:ry().optional(),relevantSpecializations:ry().optional(),isActive:Pf()}),UW=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)("diseases"),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)(null),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(""),[A,k]=(0,s.useState)(""),[E,P]=(0,s.useState)(""),[O,T]=(0,s.useState)("name"),[D,R]=(0,s.useState)("table"),[_,M]=(0,s.useState)({diseases:{total:0,active:0,categories:0},medications:{total:0,active:0,categories:0},symptoms:{total:0,active:0,bodySystems:0}}),I=Tx({resolver:Lx(FW),defaultValues:{icdCode:"",name:"",description:"",category:"",subCategory:"",requiredSpecializations:[],commonSymptoms:[],defaultSeverity:"MEDIUM",isActive:!0}}),L=Tx({resolver:Lx(qW),defaultValues:{atcCode:"",name:"",genericName:"",category:"",subCategory:"",indications:[],contraindications:[],isActive:!0}}),F=Tx({resolver:Lx(zW),defaultValues:{code:"",name:"",description:"",bodySystem:"",relatedDiseases:[],relevantSpecializations:[],isActive:!0}});(0,s.useEffect)(()=>{q()},[a]),(0,s.useEffect)(()=>{U()},[C,A,E,O,i,l,d,a]);const q=async()=>{try{switch(a){case"diseases":const e=await t(()=>hp.getAllDiseases());o(e||[]);break;case"medications":const r=await t(()=>hp.getAllMedications());c(r||[]);break;case"symptoms":const a=await t(()=>hp.getAllSymptoms());u(a||[])}z()}catch(e){console.error("Failed to load ".concat(a,":"),e)}},z=()=>{const e={total:i.length,active:i.filter(e=>e.isActive).length,categories:new Set(i.map(e=>e.category)).size},t={total:l.length,active:l.filter(e=>e.isActive).length,categories:new Set(l.map(e=>e.category)).size},r={total:d.length,active:d.filter(e=>e.isActive).length,bodySystems:new Set(d.map(e=>e.bodySystem)).size};M({diseases:e,medications:t,symptoms:r})},U=()=>{let e=[];switch(a){case"diseases":e=[...i];break;case"medications":e=[...l];break;case"symptoms":e=[...d]}if(C&&(e=e.filter(e=>{var t,r,a,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))||(null===(r=e.code)||void 0===r?void 0:r.toLowerCase().includes(C.toLowerCase()))||(null===(a=e.icdCode)||void 0===a?void 0:a.toLowerCase().includes(C.toLowerCase()))||(null===(n=e.atcCode)||void 0===n?void 0:n.toLowerCase().includes(C.toLowerCase()))})),A&&(e=e.filter(e=>{var t,r;return(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())===A.toLowerCase()||(null===(r=e.bodySystem)||void 0===r?void 0:r.toLowerCase())===A.toLowerCase()})),E){const t="active"===E;e=e.filter(e=>e.isActive===t)}e.sort((e,t)=>{switch(O){case"name":return e.name.localeCompare(t.name);case"code":const r=e.icdCode||e.atcCode||e.code||"",a=t.icdCode||t.atcCode||t.code||"";return r.localeCompare(a);case"category":const n=e.category||e.bodySystem||"",s=t.category||t.bodySystem||"";return n.localeCompare(s);case"status":return t.isActive-e.isActive;default:return 0}}),p(e)},B=e=>{switch(x(e),a){case"diseases":I.reset((0,ot.A)((0,ot.A)({},e),{},{requiredSpecializations:e.requiredSpecializations||[],commonSymptoms:e.commonSymptoms||[]}));break;case"medications":L.reset((0,ot.A)((0,ot.A)({},e),{},{indications:e.indications||[],contraindications:e.contraindications||[]}));break;case"symptoms":F.reset((0,ot.A)((0,ot.A)({},e),{},{relatedDiseases:e.relatedDiseases||[],relevantSpecializations:e.relevantSpecializations||[]}))}v(!0)},V=()=>{switch(a){case"diseases":return["ICD Code","Name","Category","Sub Category","Specializations","Severity","Status"];case"medications":return["ATC Code","Name","Generic Name","Category","Sub Category","Indications","Status"];case"symptoms":return["Code","Name","Body System","Related Diseases","Specializations","Status"];default:return[]}},H=e=>{var t,r,n,s;switch(a){case"diseases":return[e.icdCode,e.name,e.category,e.subCategory||"",(null===(t=e.requiredSpecializations)||void 0===t?void 0:t.join("; "))||"",e.defaultSeverity,e.isActive?"Active":"Inactive"];case"medications":return[e.atcCode,e.name,e.genericName,e.category,e.subCategory||"",(null===(r=e.indications)||void 0===r?void 0:r.join("; "))||"",e.isActive?"Active":"Inactive"];case"symptoms":return[e.code,e.name,e.bodySystem,(null===(n=e.relatedDiseases)||void 0===n?void 0:n.join("; "))||"",(null===(s=e.relevantSpecializations)||void 0===s?void 0:s.join("; "))||"",e.isActive?"Active":"Inactive"];default:return[]}},W=e=>{switch(e){case"diseases":return(0,Xm.jsx)(Op,{className:"w-4 h-4"});case"medications":return(0,Xm.jsx)(ig,{className:"w-4 h-4"});case"symptoms":return(0,Xm.jsx)(Ey,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Ep,{className:"w-4 h-4"})}},G=()=>_[a]||{total:0,active:0,categories:0},Y=["Infectious Diseases","Cardiovascular","Respiratory","Neurological","Endocrine","Gastrointestinal","Orthopedic","Dermatology","Hematology","Oncology","Psychiatric","Other"],K=["Analgesics","Antibiotics","Antivirals","Cardiovascular","Respiratory","Endocrine","Gastrointestinal","Neurological","Dermatological","Oncology","Psychiatric","Other"],$=["Cardiovascular","Respiratory","Neurological","Gastrointestinal","Musculoskeletal","Integumentary","Endocrine","Genitourinary","Hematologic","Immune","Sensory","Psychiatric"];return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Medical Configuration"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage diseases, medications, and symptoms database"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:r?"w-4 h-4 animate-spin":"w-4 h-4"}),onClick:q,disabled:r,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(ng,{className:"w-4 h-4"}),onClick:()=>N(!0),children:"Import"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>{const e=[V().join(","),...m.map(e=>H(e).map(e=>'"'.concat(e,'"')).join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="".concat(a,"-").concat((new Date).toISOString().split("T")[0],".csv"),n.click()},children:"Export"}),(0,Xm.jsxs)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>(e=>{switch(x(null),e){case"diseases":I.reset();break;case"medications":L.reset();break;case"symptoms":F.reset()}y(!0)})(a),children:["Add ",a.slice(0,-1)]})]})]}),(0,Xm.jsxs)(My,{className:"p-0",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"flex space-x-8 px-6",children:["diseases","medications","symptoms"].map(e=>(0,Xm.jsxs)("button",{onClick:()=>n(e),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ".concat(a===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[W(e),(0,Xm.jsx)("span",{className:"capitalize",children:e})]},e))})}),(0,Xm.jsx)("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total ".concat(a.charAt(0).toUpperCase()+a.slice(1)),value:G().total,icon:W(a),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Active",value:G().active,icon:(0,Xm.jsx)(Zy,{className:"w-8 h-8"}),color:"green"}),(0,Xm.jsx)(Ry,{title:"Categories/Systems",value:G().categories||G().bodySystems,icon:(0,Xm.jsx)(LW,{className:"w-8 h-8"}),color:"purple"}),(0,Xm.jsx)(Ry,{title:"Inactive",value:G().total-G().active,icon:(0,Xm.jsx)(Tp,{className:"w-8 h-8"}),color:"red"})]})})]}),(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search ".concat(a," by name or code..."),value:C,onChange:e=>S(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Xm.jsxs)("select",{value:A,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"All Categories"}),"diseases"===a&&Y.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e)),"medications"===a&&K.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e)),"symptoms"===a&&$.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]}),(0,Xm.jsxs)("select",{value:E,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"All Status"}),(0,Xm.jsx)("option",{value:"active",children:"Active"}),(0,Xm.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,Xm.jsxs)("select",{value:O,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Xm.jsx)("option",{value:"code",children:"Sort by Code"}),(0,Xm.jsx)("option",{value:"category",children:"Sort by Category"}),(0,Xm.jsx)("option",{value:"status",children:"Sort by Status"})]}),(0,Xm.jsxs)("div",{className:"flex border border-gray-300 rounded-lg",children:[(0,Xm.jsx)("button",{onClick:()=>R("table"),className:"p-2 ".concat("table"===D?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:(0,Xm.jsx)(Yp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>R("grid"),className:"p-2 border-l border-gray-300 ".concat("grid"===D?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:(0,Xm.jsx)(Gp,{className:"w-4 h-4"})})]})]})]})}),"table"===D?(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[V().map((e,t)=>(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},t)),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:V().length+1,className:"px-6 py-12 text-center",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xm.jsx)(pg,{className:"w-6 h-6 animate-spin text-gray-400 mr-2"}),(0,Xm.jsxs)("span",{className:"text-gray-500",children:["Loading ",a,"..."]})]})})}):0===m.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsxs)("td",{colSpan:V().length+1,className:"px-6 py-12 text-center",children:[W(a),(0,Xm.jsxs)("p",{className:"text-gray-500 mt-2",children:["No ",a," found"]})]})}):m.map(e=>{var t,r,n,s,i,o,l,c;return(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:["diseases"===a&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("div",{className:"flex items-center",children:(0,Xm.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.icdCode})})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,Xm.jsx)("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.description})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(lp,{variant:"outline",children:e.category})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e.subCategory||"-"})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[null===(t=e.requiredSpecializations)||void 0===t?void 0:t.slice(0,2).map(e=>(0,Xm.jsx)(lp,{variant:"secondary",size:"sm",children:e},e)),(null===(r=e.requiredSpecializations)||void 0===r?void 0:r.length)>2&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["+",e.requiredSpecializations.length-2]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(lp,{className:"CRITICAL"===e.defaultSeverity?"bg-red-100 text-red-800":"SEVERE"===e.defaultSeverity?"bg-orange-100 text-orange-800":"MEDIUM"===e.defaultSeverity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:e.defaultSeverity})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(sp,{status:e.isActive?"active":"inactive",variant:e.isActive?"green":"gray",children:e.isActive?"Active":"Inactive"})})]}),"medications"===a&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("div",{className:"flex items-center",children:(0,Xm.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.atcCode})})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.genericName})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e.genericName})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(lp,{variant:"outline",children:e.category})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e.subCategory||"-"})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[null===(n=e.indications)||void 0===n?void 0:n.slice(0,2).map(e=>(0,Xm.jsx)(lp,{variant:"secondary",size:"sm",children:e},e)),(null===(s=e.indications)||void 0===s?void 0:s.length)>2&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["+",e.indications.length-2]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(sp,{status:e.isActive?"active":"inactive",variant:e.isActive?"green":"gray",children:e.isActive?"Active":"Inactive"})})]}),"symptoms"===a&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)("div",{className:"flex items-center",children:(0,Xm.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.code})})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,Xm.jsx)("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.description})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(lp,{variant:"outline",children:e.bodySystem})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[null===(i=e.relatedDiseases)||void 0===i?void 0:i.slice(0,2).map(e=>(0,Xm.jsx)(lp,{variant:"secondary",size:"sm",children:e},e)),(null===(o=e.relatedDiseases)||void 0===o?void 0:o.length)>2&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["+",e.relatedDiseases.length-2]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[null===(l=e.relevantSpecializations)||void 0===l?void 0:l.slice(0,2).map(e=>(0,Xm.jsx)(lp,{variant:"secondary",size:"sm",children:e},e)),(null===(c=e.relevantSpecializations)||void 0===c?void 0:c.length)>2&&(0,Xm.jsxs)(lp,{variant:"secondary",size:"sm",children:["+",e.relevantSpecializations.length-2]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsx)(sp,{status:e.isActive?"active":"inactive",variant:e.isActive?"green":"gray",children:e.isActive?"Active":"Inactive"})})]}),(0,Xm.jsx)("td",{className:"px-6 py-4",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>B(e),children:"View"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>B(e),children:"Edit"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>{x(e),j(!0)},className:"text-red-600 hover:text-red-700 hover:border-red-300",children:"Delete"})]})})]},e.id)})})]})})}):(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>(0,Xm.jsxs)(My,{className:"p-4 hover:shadow-md transition-shadow",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[W(a),(0,Xm.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.icdCode||e.atcCode||e.code})]}),(0,Xm.jsxs)("div",{className:"flex space-x-1",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>B(e)}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>B(e)}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>{x(e),j(!0)},className:"text-red-600 hover:text-red-700"})]})]}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),"medications"===a&&e.genericName&&(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Generic: ",e.genericName]}),e.description&&(0,Xm.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,Xm.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,Xm.jsx)(lp,{variant:"outline",children:e.category||e.bodySystem}),e.defaultSeverity&&(0,Xm.jsx)(lp,{className:"CRITICAL"===e.defaultSeverity?"bg-red-100 text-red-800":"SEVERE"===e.defaultSeverity?"bg-orange-100 text-orange-800":"MEDIUM"===e.defaultSeverity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:e.defaultSeverity}),(0,Xm.jsx)(sp,{status:e.isActive?"active":"inactive",variant:e.isActive?"green":"gray",children:e.isActive?"Active":"Inactive"})]})]})]},e.id))}),(0,Xm.jsx)(Ky,{isOpen:f||g,onClose:()=>{y(!1),v(!1),x(null)},title:"".concat(h?"Edit":"Create"," ").concat(a.slice(0,-1).charAt(0).toUpperCase()+a.slice(1,-1)),loading:r,size:"4xl",children:(0,Xm.jsxs)("form",{onSubmit:(()=>{switch(a){case"diseases":default:return I;case"medications":return L;case"symptoms":return F}})().handleSubmit(async e=>{try{let r;const n=null===h||void 0===h?void 0:h.id;switch(a){case"diseases":r=n?await t(()=>hp.updateDisease(h.id,e)):await t(()=>hp.createDisease(e));break;case"medications":r=n?await t(()=>hp.updateMedication(h.id,e)):await t(()=>hp.createMedication(e));break;case"symptoms":r=n?await t(()=>hp.updateSymptom(h.id,e)):await t(()=>hp.createSymptom(e))}await q(),y(!1),v(!1),x(null),alert("".concat(a.slice(0,-1)," ").concat(n?"updated":"created"," successfully!"))}catch(r){console.error("Failed to save ".concat(a,":"),r),alert("Failed to save ".concat(a.slice(0,-1),". Please try again."))}}),className:"space-y-6",children:["diseases"===a&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ICD-10 Code ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},I.register("icdCode")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., A00.0"})),I.formState.errors.icdCode&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.formState.errors.icdCode.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Disease Name ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},I.register("name")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter disease name"})),I.formState.errors.name&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.formState.errors.name.message})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},I.register("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter disease description"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},I.register("category")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select Category"}),Y.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})),I.formState.errors.category&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.formState.errors.category.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Category"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},I.register("subCategory")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter sub category"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Default Severity ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("select",(0,ot.A)((0,ot.A)({},I.register("defaultSeverity")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"MILD",label:"Mild"},{value:"MEDIUM",label:"Medium"},{value:"SEVERE",label:"Severe"},{value:"CRITICAL",label:"Critical"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))}))]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},I.register("isActive")),{},{id:"diseaseActive",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{htmlFor:"diseaseActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),"medications"===a&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ATC Code ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},L.register("atcCode")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., N02BA01"})),L.formState.errors.atcCode&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.formState.errors.atcCode.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brand Name ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},L.register("name")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter brand name"})),L.formState.errors.name&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.formState.errors.name.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Generic Name ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},L.register("genericName")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter generic name"})),L.formState.errors.genericName&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.formState.errors.genericName.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},L.register("category")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select Category"}),K.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})),L.formState.errors.category&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.formState.errors.category.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Category"}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},L.register("subCategory")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter sub category"}))]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},L.register("isActive")),{},{id:"medicationActive",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{htmlFor:"medicationActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),"symptoms"===a&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Symptom Code ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},F.register("code")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., SYM001"})),F.formState.errors.code&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.formState.errors.code.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Symptom Name ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},F.register("name")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter symptom name"})),F.formState.errors.name&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.formState.errors.name.message})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},F.register("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter symptom description"}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Body System ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},F.register("bodySystem")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select Body System"}),$.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})),F.formState.errors.bodySystem&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.formState.errors.bodySystem.message})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"checkbox"},F.register("isActive")),{},{id:"symptomActive",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})),(0,Xm.jsx)("label",{htmlFor:"symptomActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{y(!1),v(!1),x(null)},children:"Cancel"}),(0,Xm.jsxs)(Zm,{type:"submit",variant:"primary",loading:r,icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:[h?"Update":"Create"," ",a.slice(0,-1)]})]})]})}),(0,Xm.jsx)(Yy,{isOpen:b,onClose:()=>{j(!1),x(null)},onConfirm:async()=>{try{switch(a){case"diseases":await t(()=>hp.deleteDisease(h.id));break;case"medications":await t(()=>hp.deleteMedication(h.id));break;case"symptoms":await t(()=>hp.deleteSymptom(h.id))}await q(),j(!1),x(null),alert("".concat(a.slice(0,-1)," deleted successfully!"))}catch(e){console.error("Failed to delete ".concat(a,":"),e),alert("Failed to delete ".concat(a.slice(0,-1),". Please try again."))}},title:"Delete ".concat(a.slice(0,-1).charAt(0).toUpperCase()+a.slice(1,-1)),message:'Are you sure you want to delete "'.concat(null===h||void 0===h?void 0:h.name,'"? This action cannot be undone.'),confirmText:"Delete",confirmStyle:"danger",loading:r}),(0,Xm.jsx)($y,{isOpen:w,onClose:()=>N(!1),title:"Import ".concat(a.charAt(0).toUpperCase()+a.slice(1)),size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Xm.jsx)(ng,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsxs)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:["Upload ",a," data"]}),(0,Xm.jsxs)("p",{className:"text-gray-600 mb-4",children:["Select a CSV or JSON file to import ",a," data"]}),(0,Xm.jsx)("input",{type:"file",accept:".csv,.json",className:"hidden",id:"file-upload"}),(0,Xm.jsx)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 cursor-pointer",children:"Choose File"})]}),(0,Xm.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-blue-400 mt-0.5 mr-3"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Import Guidelines"}),(0,Xm.jsx)("div",{className:"mt-2 text-sm text-blue-800",children:(0,Xm.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Xm.jsx)("li",{children:"File should contain all required fields"}),(0,Xm.jsx)("li",{children:"Use the export feature to see the expected format"}),(0,Xm.jsx)("li",{children:"Duplicate codes will be skipped"}),(0,Xm.jsx)("li",{children:"Invalid entries will be reported"})]})})]})]})}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(ng,{className:"w-4 h-4"}),children:"Import Data"})]})]})})]})},BW=ey({configKey:zf().required("Configuration key is required"),configValue:zf().required("Configuration value is required"),configType:zf().required("Configuration type is required"),description:zf().optional()}),VW=ey({page:zf().required("Page is required"),content:zf().required("Content is required"),contentType:zf().optional()}),HW=ey({specializations:ry().of(zf().required("Specialization name is required")).min(1,"At least one specialization is required")}),WW=()=>{const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)("system"),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({}),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(!1),A=Tx({resolver:Lx(BW),defaultValues:{configKey:"",configValue:"",configType:"STRING",description:""}}),k=Tx({resolver:Lx(VW),defaultValues:{page:"",content:"",contentType:"HTML"}}),E=Tx({resolver:Lx(HW),defaultValues:{specializations:[]}});(0,s.useEffect)(()=>{P()},[]);const P=async()=>{try{const r=await t(()=>hp.getSystemConfiguration());o(r||[]);const a=["about-us","contact-us","terms-of-service","privacy-policy","help"],n={};for(const i of a)try{const e=await t(()=>hp.getStaticContent(i));n[i]=e}catch(e){console.warn("Failed to load content for ".concat(i,":"),e)}c(n);const s=i.find(e=>"SPECIALIZATIONS"===e.configKey);s&&u(s.configValue.split(","))}catch(e){console.error("Failed to load settings:",e)}},O=e=>{v(e),A.reset(e),p(!0)},T=[{key:"about-us",label:"About Us",icon:(0,Xm.jsx)(Sg,{className:"w-4 h-4"})},{key:"contact-us",label:"Contact Us",icon:(0,Xm.jsx)(py,{className:"w-4 h-4"})},{key:"terms-of-service",label:"Terms of Service",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"})},{key:"privacy-policy",label:"Privacy Policy",icon:(0,Xm.jsx)($m,{className:"w-4 h-4"})},{key:"help",label:"Help & Support",icon:(0,Xm.jsx)(cg,{className:"w-4 h-4"})}],D=[{id:"system",label:"System Config",icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"})},{id:"content",label:"Static Content",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"})},{id:"specializations",label:"Specializations",icon:(0,Xm.jsx)(vp,{className:"w-4 h-4"})},{id:"payments",label:"Payment Settings",icon:(0,Xm.jsx)(Cp,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:(0,Xm.jsx)(Vm,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:(0,Xm.jsx)($m,{className:"w-4 h-4"})}],R=i.filter(e=>{var t,r;return(null===(t=e.configKey)||void 0===t?void 0:t.toLowerCase().includes(w.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(w.toLowerCase()))});return(0,Xm.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Settings"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure system parameters and content"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:r?"w-4 h-4 animate-spin":"w-4 h-4"}),onClick:P,disabled:r,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),children:"Export Settings"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(ng,{className:"w-4 h-4"}),children:"Import Settings"})]})]}),C&&(0,Xm.jsx)(_y,{type:"warning",title:"Unsaved Changes",message:"You have unsaved changes. Make sure to save your configuration before leaving this page.",action:(0,Xm.jsx)(Zm,{size:"sm",onClick:()=>S(!1),children:"Dismiss"})}),(0,Xm.jsx)(My,{className:"p-0",children:(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"flex space-x-8 px-6",children:D.map(e=>(0,Xm.jsxs)("button",{onClick:()=>n(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ".concat(a===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})})}),"system"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search configurations...",value:w,onChange:e=>N(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>{v(null),A.reset(),p(!0)},children:"Add Configuration"})]})}),(0,Xm.jsxs)("div",{className:"grid gap-4",children:[R.map(e=>(0,Xm.jsx)(My,{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("h3",{className:"font-medium text-gray-900",children:e.configKey}),(0,Xm.jsx)(lp,{variant:"outline",children:e.configType})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,Xm.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-500 mr-2",children:"Value:"}),(0,Xm.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"BOOLEAN"===e.configType?"true"===e.configValue?"Enabled":"Disabled":e.configValue})]})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-2",children:(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>O(e),children:"Edit"})})]})},e.id||e.configKey)),0===R.length&&(0,Xm.jsxs)(My,{className:"p-8 text-center",children:[(0,Xm.jsx)(Gm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No configurations found"})]})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Setup"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Configure commonly used system parameters"})]}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"CONSULTATION_MIN_FEE",label:"Minimum Consultation Fee",type:"NUMBER",description:"Minimum fee that doctors can charge for consultations"},{key:"CONSULTATION_MAX_FEE",label:"Maximum Consultation Fee",type:"NUMBER",description:"Maximum fee that doctors can charge for consultations"},{key:"SUBSCRIPTION_MONTHLY_RATE",label:"Monthly Subscription Rate",type:"NUMBER",description:"Monthly subscription fee for patients"},{key:"SUBSCRIPTION_ANNUAL_RATE",label:"Annual Subscription Rate",type:"NUMBER",description:"Annual subscription fee for patients (with discount)"},{key:"SESSION_TIMEOUT_MINUTES",label:"Session Timeout (Minutes)",type:"NUMBER",description:"User session timeout duration in minutes"},{key:"MAX_FILE_UPLOAD_SIZE_MB",label:"Max File Upload Size (MB)",type:"NUMBER",description:"Maximum file size allowed for uploads"},{key:"SYSTEM_MAINTENANCE_MODE",label:"Maintenance Mode",type:"BOOLEAN",description:"Enable/disable system maintenance mode"},{key:"EMAIL_NOTIFICATIONS_ENABLED",label:"Email Notifications",type:"BOOLEAN",description:"Enable/disable email notifications system-wide"},{key:"SUPPORTED_LANGUAGES",label:"Supported Languages",type:"LIST",description:"Comma-separated list of supported language codes"},{key:"DEFAULT_LANGUAGE",label:"Default Language",type:"STRING",description:"Default language for new users"}].map(e=>{const t=i.find(t=>t.configKey===e.key);return(0,Xm.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),t&&(0,Xm.jsxs)("div",{className:"mt-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-500",children:"Current: "}),(0,Xm.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:t.configValue})]})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>O(t||{configKey:e.key,configType:e.type,description:e.description,configValue:""})})]})},e.key)})})})]})]}),"content"===a&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)("div",{className:"grid gap-6",children:T.map(e=>(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[e.icon,(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.label})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>((e,t)=>{j({page:e,content:t}),k.reset({page:e,content:t,contentType:"HTML"}),x(!0)})(e.key,l[e.key]),children:"Edit Content"})]})}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:l[e.key]?(0,Xm.jsx)("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:l[e.key]}}):(0,Xm.jsx)("p",{className:"text-gray-500 italic",children:"No content available"})})})]},e.key))})}),"specializations"===a&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Medical Specializations"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the list of medical specializations available in the system"})]}),(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>{E.reset({specializations:[...d]}),y(!0)},children:"Edit Specializations"})]})}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[d.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e})]},t)),0===d.length&&(0,Xm.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,Xm.jsx)(vp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No specializations configured"})]})]})})]})}),"payments"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"SMS Settings"})}),(0,Xm.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"font-medium text-gray-900",children:"Enable SMS Notifications"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Send SMS for urgent notifications"})]}),(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"SMS Provider"}),(0,Xm.jsxs)("select",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Xm.jsx)("option",{children:"Twilio"}),(0,Xm.jsx)("option",{children:"AWS SNS"}),(0,Xm.jsx)("option",{children:"Nexmo"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"API Key"}),(0,Xm.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Templates"})}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsx)("div",{className:"space-y-4",children:[{key:"case_assigned",label:"Case Assigned to Doctor",type:"Email + SMS"},{key:"appointment_scheduled",label:"Appointment Scheduled",type:"Email"},{key:"payment_confirmation",label:"Payment Confirmation",type:"Email"},{key:"subscription_expiry",label:"Subscription Expiry Warning",type:"Email + SMS"},{key:"password_reset",label:"Password Reset",type:"Email"}].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Delivery: ",e.type]})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),children:"Edit Template"})]},e.key))})})]})]}),"security"===a&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Authentication Settings"})}),(0,Xm.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Session Timeout (minutes)"}),(0,Xm.jsx)("input",{type:"number",placeholder:"30",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Max Login Attempts"}),(0,Xm.jsx)("input",{type:"number",placeholder:"5",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"font-medium text-gray-900",children:"Require Email Verification"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Users must verify email before activation"})]}),(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"font-medium text-gray-900",children:"Enable Two-Factor Authentication"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Optional 2FA for enhanced security"})]}),(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Password Policy"})}),(0,Xm.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Length"}),(0,Xm.jsx)("input",{type:"number",placeholder:"8",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Requirements"}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("label",{className:"flex items-center",children:[(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Require uppercase letter"})]}),(0,Xm.jsxs)("label",{className:"flex items-center",children:[(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Require lowercase letter"})]}),(0,Xm.jsxs)("label",{className:"flex items-center",children:[(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Require numbers"})]}),(0,Xm.jsxs)("label",{className:"flex items-center",children:[(0,Xm.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),(0,Xm.jsx)("span",{className:"text-sm",children:"Require special characters"})]})]})]})]})]})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"API Security"})}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rate Limit (requests/minute)"}),(0,Xm.jsx)("input",{type:"number",placeholder:"100",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"JWT Expiry (hours)"}),(0,Xm.jsx)("input",{type:"number",placeholder:"24",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Refresh Token Expiry (days)"}),(0,Xm.jsx)("input",{type:"number",placeholder:"30",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"System Maintenance"}),(0,Xm.jsx)(lp,{variant:"success",children:"System Online"})]})}),(0,Xm.jsx)("div",{className:"p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-yellow-800",children:"Maintenance Mode"}),(0,Xm.jsx)("p",{className:"text-sm text-yellow-700",children:"Temporarily disable system access for maintenance"})]}),(0,Xm.jsx)(Zm,{variant:"warning",size:"sm",children:"Enable Maintenance Mode"})]})})]})]}),(0,Xm.jsx)(Ky,{isOpen:m,onClose:()=>{p(!1),v(null),A.reset()},title:"".concat(g?"Edit":"Add"," System Configuration"),loading:r,children:(0,Xm.jsxs)("form",{onSubmit:A.handleSubmit(async e=>{try{const r=(0,ot.A)((0,ot.A)({},e),{},{id:null===g||void 0===g?void 0:g.id});await t(()=>hp.updateSystemConfiguration(r)),o(g?t=>t.map(t=>t.id===g.id?(0,ot.A)((0,ot.A)({},t),e):t):t=>[...t,(0,ot.A)((0,ot.A)({},e),{},{id:Date.now()})]),p(!1),v(null),A.reset(),alert("Configuration saved successfully!")}catch(r){console.error("Failed to save configuration:",r),alert("Failed to save configuration. Please try again.")}}),className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Configuration Key ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},A.register("configKey")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., SYSTEM_TIMEOUT_MINUTES"})),A.formState.errors.configKey&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.formState.errors.configKey.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Configuration Type ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("select",(0,ot.A)((0,ot.A)({},A.register("configType")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"STRING",label:"Text"},{value:"NUMBER",label:"Number"},{value:"BOOLEAN",label:"Boolean"},{value:"LIST",label:"List"},{value:"JSON",label:"JSON"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Configuration Value ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},A.register("configValue")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter configuration value"})),A.formState.errors.configValue&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A.formState.errors.configValue.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},A.register("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this configuration controls"}))]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{p(!1),v(null),A.reset()},children:"Cancel"}),(0,Xm.jsxs)(Zm,{type:"submit",variant:"primary",loading:r,icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:[g?"Update":"Save"," Configuration"]})]})]})}),(0,Xm.jsx)(Ky,{isOpen:h,onClose:()=>{x(!1),j(null),k.reset()},title:"Edit Static Content",loading:r,size:"6xl",children:(0,Xm.jsxs)("form",{onSubmit:k.handleSubmit(async e=>{try{await t(()=>hp.updateStaticContent(e)),c(t=>(0,ot.A)((0,ot.A)({},t),{},{[e.page]:e.content})),x(!1),j(null),k.reset(),alert("Content updated successfully!")}catch(r){console.error("Failed to save content:",r),alert("Failed to save content. Please try again.")}}),className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Page ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("select",(0,ot.A)((0,ot.A)({},k.register("page")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:T.map(e=>(0,Xm.jsx)("option",{value:e.key,children:e.label},e.key))}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},k.register("content")),{},{rows:15,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Enter HTML content..."})),k.formState.errors.content&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.formState.errors.content.message})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{x(!1),j(null),k.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:r,icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:"Save Content"})]})]})}),(0,Xm.jsx)(Ky,{isOpen:f,onClose:()=>{y(!1),E.reset()},title:"Edit Medical Specializations",loading:r,size:"2xl",children:(0,Xm.jsxs)("form",{onSubmit:E.handleSubmit(async e=>{try{await t(()=>hp.manageSpecializations({specializations:e.specializations})),u(e.specializations),y(!1),E.reset(),alert("Specializations updated successfully!")}catch(r){console.error("Failed to save specializations:",r),alert("Failed to save specializations. Please try again.")}}),className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Specializations ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:E.watch("specializations").map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"text",value:e,onChange:e=>{const r=[...E.getValues("specializations")];r[t]=e.target.value,E.setValue("specializations",r)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter specialization name"}),(0,Xm.jsx)(Zm,{type:"button",variant:"ghost",size:"sm",icon:(0,Xm.jsx)(By,{className:"w-4 h-4"}),onClick:()=>{const e=[...E.getValues("specializations")];e.splice(t,1),E.setValue("specializations",e)},className:"text-red-600 hover:text-red-700"})]},t))}),(0,Xm.jsx)(Zm,{type:"button",variant:"outline",size:"sm",icon:(0,Xm.jsx)(Np,{className:"w-4 h-4"}),onClick:()=>{const e=E.getValues("specializations");E.setValue("specializations",[...e,""])},className:"mt-2",children:"Add Specialization"}),E.formState.errors.specializations&&(0,Xm.jsx)("p",{className:"mt-1 text-sm text-red-600",children:E.formState.errors.specializations.message})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{y(!1),E.reset()},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:r,icon:(0,Xm.jsx)(sg,{className:"w-4 h-4"}),children:"Save Specializations"})]})]})})]})},GW=()=>{const e=te(),{execute:t,loading:r}=Iy(),{showToast:a}=YV(),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)("overview"),[c,d]=(0,s.useState)("last30days"),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[x,f]=(0,s.useState)(!1),y=[{id:"overview",label:"Overview",icon:kp},{id:"performance",label:"Performance",icon:Ey},{id:"doctors",label:"Doctors",icon:vp},{id:"specializations",label:"Specializations",icon:Op},{id:"trends",label:"Trends",icon:Kp},{id:"quality",label:"Quality",icon:Lp}];(0,s.useEffect)(()=>{g()},[c,u,p]);const g=async()=>{try{f(!0);const{start:e,end:r}=(()=>{const e=new Date;let t,r=e.toISOString();switch(c){case"last7days":t=new Date(e.getTime()-6048e5).toISOString();break;case"last30days":default:t=new Date(e.getTime()-2592e6).toISOString();break;case"last3months":t=new Date(e.getTime()-7776e6).toISOString();break;case"last6months":t=new Date(e.getTime()-15552e6).toISOString();break;case"lastyear":t=new Date(e.getTime()-31536e6).toISOString();break;case"custom":t=u?new Date(u).toISOString():null,r=p?new Date(p).toISOString():r}return{start:t,end:r}})(),a=await t(()=>hp.getCaseAnalytics(e,r));a&&i(a)}catch(e){console.error("Failed to load analytics:",e),a("Failed to load analytics","error")}finally{f(!1)}};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsxs)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[(0,Xm.jsxs)("div",{className:"px-6 py-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>{e("/admin/cases")},children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Case Analytics"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive analytics and insights for case management"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(x?"animate-spin":"")}),onClick:g,disabled:x,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{a("Exporting analytics as ".concat(e.toUpperCase(),"..."),"info")}catch(t){a("Failed to export analytics","error")}})("pdf"),children:"Export"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last3months",label:"Last 3 Months"},{value:"last6months",label:"Last 6 Months"},{value:"lastyear",label:"Last Year"},{value:"custom",label:"Custom Range"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===c&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"date",value:u,onChange:e=>m(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Xm.jsx)("input",{type:"date",value:p,onChange:e=>h(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),n&&(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 ml-auto",children:[(0,Xm.jsx)("span",{className:"font-medium",children:n.totalCasesAnalyzed})," cases analyzed"]})]})]}),(0,Xm.jsx)("div",{className:"flex border-t border-gray-200 px-6",children:y.map(e=>{const t=e.icon;return(0,Xm.jsxs)("button",{onClick:()=>l(e.id),className:"\n                  flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors\n                  ".concat(o===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300","\n                "),children:[(0,Xm.jsx)(t,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.label})]},e.id)})})]}),(0,Xm.jsx)("div",{className:"p-6",children:(()=>{if(!n)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading analytics..."})]})});switch(o){case"overview":return(0,Xm.jsx)(bH,{data:n.overview});case"performance":return(0,Xm.jsx)(XH,{data:n.performance});case"doctors":return(0,Xm.jsx)(JH,{data:n.doctorMetrics});case"specializations":return(0,Xm.jsx)(ZH,{data:n.specializationMetrics});case"trends":return(0,Xm.jsx)(eW,{data:n.trends});case"quality":return(0,Xm.jsx)(SW,{data:n.qualityMetrics});default:return null}})()})]})},YW=e=>{var t;let{data:r}=e;if(!r)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading overview data..."})]})});const a=Object.entries(r.statusDistribution||{}).map(e=>{let[t,r]=e;return{name:t.replace(/_/g," "),value:r,color:vH.status[t]||"#6B7280"}}),n=Object.entries(r.typeDistribution||{}).map(e=>{let[t,r]=e;return{name:t,value:r}}),s=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],i=e=>{let{title:t,value:r,trend:a,icon:n,color:s}=e;return(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat(s," flex items-center justify-center"),children:(0,Xm.jsx)(n,{className:"w-5 h-5 text-white"})}),a&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-sm ".concat(a.isPositive?"text-green-600":"text-red-600"),children:[a.isPositive?(0,Xm.jsx)(Kp,{className:"w-4 h-4"}):(0,Xm.jsx)(gH,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{className:"font-medium",children:[a.value,"%"]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:t}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r}),a&&(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.period})]})]})},o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0);return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,Xm.jsx)(i,{title:"Total Revenue",value:o(r.totalRevenue),trend:r.revenueTrend,icon:Cp,color:"bg-green-500"}),(0,Xm.jsx)(i,{title:"Total Payments",value:r.totalPayments||0,trend:r.paymentTrend,icon:ib,color:"bg-blue-500"}),(0,Xm.jsx)(i,{title:"Completed",value:r.completedPayments||0,icon:Up,color:"bg-purple-500"}),(0,Xm.jsx)(i,{title:"Failed",value:r.failedPayments||0,icon:wp,color:"bg-red-500"}),(0,Xm.jsx)(i,{title:"Refunds",value:r.totalRefunds||0,icon:OW,color:"bg-orange-500"}),(0,Xm.jsx)(i,{title:"Success Rate",value:"".concat((r.successRate||0).toFixed(1),"%"),icon:Up,color:"bg-teal-500"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Avg Transaction Value"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o(r.avgTransactionValue)}),r.avgTransactionTrend&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-1 text-sm mt-2 ".concat(r.avgTransactionTrend.isPositive?"text-green-600":"text-red-600"),children:[r.avgTransactionTrend.isPositive?(0,Xm.jsx)(Kp,{className:"w-4 h-4"}):(0,Xm.jsx)(gH,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:[r.avgTransactionTrend.value,"% ",r.avgTransactionTrend.period]})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(OW,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Total Refunded"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o(r.totalRefundedAmount)}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[null===(t=r.refundRate)||void 0===t?void 0:t.toFixed(1),"% of total revenue"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Net Revenue"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o((r.totalRevenue||0)-(r.totalRefundedAmount||0))}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"After refunds"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Status Distribution"}),a.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:a,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"value",fill:"#3B82F6",children:a.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No status data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Type Distribution"}),n.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((e,t)=>(0,Xm.jsx)(UM,{fill:s[t%s.length]},"cell-".concat(t)))}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No payment type data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Summary"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[(r.successRate||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:r.pendingPayments||0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Monthly Growth"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold ".concat((r.monthlyGrowth||0)>=0?"text-green-600":"text-red-600"),children:[(r.monthlyGrowth||0)>=0?"+":"",(r.monthlyGrowth||0).toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Refund Rate"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold ".concat((r.refundRate||0)>5?"text-red-600":(r.refundRate||0)>2?"text-yellow-600":"text-green-600"),children:[(r.refundRate||0).toFixed(1),"%"]})]})]})]})]})},KW=e=>{var t,r;let{data:a}=e;if(!a)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading revenue data..."})]})});const n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e||0),s=(i=a.revenueByType)?Array.isArray(i)?i:Object.entries(i).map(e=>{let[t,r]=e;return{type:t.charAt(0).toUpperCase()+t.slice(1),revenue:parseFloat(r)||0}}):[];var i;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),a.revenueTrend&&a.revenueTrend.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(sV,{data:a.revenueTrend,children:[(0,Xm.jsx)("defs",{children:(0,Xm.jsxs)("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Xm.jsx)("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),(0,Xm.jsx)("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})}),(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"date"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>n(e)}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(nV,{type:"monotone",dataKey:"revenue",stroke:"#10B981",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No revenue trend data available"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Payment Type"}),s&&s.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:s,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"type"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>n(e)}),(0,Xm.jsx)(uL,{dataKey:"revenue",fill:"#3B82F6",name:"Revenue"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No revenue by type data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Comparison"}),a.monthlyComparison&&a.monthlyComparison.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(vU,{data:a.monthlyComparison,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"month"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>n(e)}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"currentYear",stroke:"#10B981",name:"Current Year",strokeWidth:2}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"previousYear",stroke:"#6B7280",name:"Previous Year",strokeWidth:2,strokeDasharray:"5 5"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No monthly comparison data available"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Highest Revenue Day"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n(null===(t=a.highestRevenueDay)||void 0===t?void 0:t.amount)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(null===(r=a.highestRevenueDay)||void 0===r?void 0:r.date)||"N/A"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Avg Daily Revenue"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n(a.avgDailyRevenue)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Per day"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Growth Rate"})]}),(0,Xm.jsxs)("p",{className:"text-xl font-bold ".concat((a.growthRate||0)>=0?"text-green-600":"text-red-600"),children:[(a.growthRate||0)>=0?"+":"",(a.growthRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"vs previous period"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-indigo-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Revenue per Transaction"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:n(a.revenuePerTransaction)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Average"})]})]})]})},$W=e=>{let{data:t}=e;if(!t)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading transaction data..."})]})});const r=(a=t.hourlyDistribution)?Array.isArray(a)?a:Object.entries(a).map(e=>{let[t,r]=e;return{hour:"".concat(t,":00"),count:parseInt(r)||0}}).sort((e,t)=>parseInt(e.hour)-parseInt(t.hour)):[];var a;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transaction Volume Over Time"}),t.volumeTrend&&t.volumeTrend.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(vU,{data:t.volumeTrend,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"date"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"successful",stroke:"#10B981",name:"Successful",strokeWidth:2}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"failed",stroke:"#EF4444",name:"Failed",strokeWidth:2}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",name:"Pending",strokeWidth:2})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No transaction volume data available"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Total Transactions"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalTransactions||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Success Rate"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[(t.successRate||0).toFixed(1),"%"]}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[t.successfulTransactions||0," successful"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(eg,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Failed"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-red-600",children:t.failedTransactions||0}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(t.failureRate||0).toFixed(1),"% failure rate"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-yellow-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Avg Processing Time"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(t.avgProcessingTime||0).toFixed(1),"s"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Per transaction"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transaction Distribution by Hour"}),r&&r.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:r,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"hour"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"count",fill:"#3B82F6",name:"Transactions"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No hourly distribution data available"})]})]})},QW=e=>{let{data:t}=e;if(!t)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading payment methods data..."})]})});const r=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],a=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e||0),n=(s=t.revenueByMethod)?Array.isArray(s)?s:Object.entries(s).map(e=>{let[t,r]=e;return{method:t,revenue:parseFloat((null===r||void 0===r?void 0:r.parsedValue)||(null===r||void 0===r?void 0:r.source)||r)||0}}):[];var s;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribution by Method"}),t.methodDistribution&&t.methodDistribution.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:t.methodDistribution,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.methodDistribution.map((e,t)=>(0,Xm.jsx)(UM,{fill:r[t%r.length]},"cell-".concat(t)))}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No payment method data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Method"}),n&&n.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:n,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"method"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>a(e)}),(0,Xm.jsx)(uL,{dataKey:"revenue",fill:"#10B981",name:"Revenue"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No revenue by method data available"})]})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-3 gap-4",children:t.methodPerformance&&t.methodPerformance.map((e,t)=>{var n;return(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg bg-".concat(r[t%r.length],"-100 flex items-center justify-center"),children:(0,Xm.jsx)(Ym,{className:"w-5 h-5",style:{color:r[t%r.length]}})}),(0,Xm.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name})]})}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Transactions:"}),(0,Xm.jsx)("span",{className:"font-medium",children:e.count})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Revenue:"}),(0,Xm.jsx)("span",{className:"font-medium",children:a(e.revenue)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Success Rate:"}),(0,Xm.jsxs)("span",{className:"font-medium ".concat(e.successRate>=90?"text-green-600":e.successRate>=70?"text-yellow-600":"text-red-600"),children:[null===(n=e.successRate)||void 0===n?void 0:n.toFixed(1),"%"]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Avg Amount:"}),(0,Xm.jsx)("span",{className:"font-medium",children:a(e.avgAmount)})]})]})]},t)})}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Gateway Performance"}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gateway"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Success Rate"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Processing Time"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.gatewayPerformance&&t.gatewayPerformance.map((e,t)=>{var r,n;return(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.transactions}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Xm.jsxs)("span",{className:"font-medium ".concat(e.successRate>=90?"text-green-600":e.successRate>=70?"text-yellow-600":"text-red-600"),children:[null===(r=e.successRate)||void 0===r?void 0:r.toFixed(1),"%"]})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[null===(n=e.avgProcessingTime)||void 0===n?void 0:n.toFixed(1),"s"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a(e.revenue)})]},t)})})]})})]})]})};function XW(e){return XW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XW(e)}function JW(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nG(a.key),a)}}function ZW(e,t,r){return t=tG(t),function(e,t){if(t&&("object"===XW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eG()?Reflect.construct(t,r||[],tG(e).constructor):t.apply(e,r))}function eG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eG=function(){return!!e})()}function tG(e){return tG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tG(e)}function rG(e,t){return rG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rG(e,t)}function aG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=function(e,t){if("object"!=XW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=XW(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XW(t)?t:t+""}var sG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZW(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rG(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return null}}])&&JW(r.prototype,a),n&&JW(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.Component);aG(sG,"displayName","ZAxis"),aG(sG,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var iG=["option","isActive"];function oG(){return oG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oG.apply(this,arguments)}function lG(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cG(e){var t=e.option,r=e.isActive,a=lG(e,iG);return"string"===typeof t?s.createElement(RI,oG({option:s.createElement(JC,oG({type:t},a)),isActive:r,shapeType:"symbols"},a)):s.createElement(RI,oG({option:t,isActive:r,shapeType:"symbols"},a))}function dG(e){return dG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dG(e)}function uG(){return uG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uG.apply(this,arguments)}function mG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function pG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mG(Object(r),!0).forEach(function(t){vG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bG(a.key),a)}}function xG(e,t,r){return t=yG(t),function(e,t){if(t&&("object"===dG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fG()?Reflect.construct(t,r||[],yG(e).constructor):t.apply(e,r))}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fG=function(){return!!e})()}function yG(e){return yG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yG(e)}function gG(e,t){return gG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gG(e,t)}function vG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=function(e,t){if("object"!=dG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=dG(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dG(t)?t:t+""}var jG=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return vG(e=xG(this,t,[].concat(a)),"state",{isAnimationFinished:!1}),vG(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),vG(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),vG(e,"id",rw("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gG(e,t)}(t,e),r=t,a=[{key:"renderSymbolsStatically",value:function(e){var t=this,r=this.props,a=r.shape,n=r.activeShape,i=r.activeIndex,o=Lw(this.props,!1);return e.map(function(e,r){var l=i===r,c=l?n:a,d=pG(pG({},o),e);return s.createElement(oN,uG({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(r)},jw(t.props,e,r),{role:"img"}),s.createElement(cG,uG({option:c,isActive:l,key:"symbol-".concat(r)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,r=t.points,a=t.isAnimationActive,n=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return s.createElement(tk,{begin:n,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,n=r.map(function(e,t){var r=c&&c[t];if(r){var n=sw(r.cx,e.cx),s=sw(r.cy,e.cy),i=sw(r.size,e.size);return pG(pG({},e),{},{cx:n(a),cy:s(a),size:i(a)})}var o=sw(0,e.size);return pG(pG({},e),{},{size:o(a)})});return s.createElement(oN,null,e.renderSymbolsStatically(n))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,a=this.state.prevPoints;return!(r&&t&&t.length)||a&&fR()(a,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,r=e.xAxis,a=e.yAxis,n=Tw(e.children,s_);return n?n.map(function(e,n){var i=e.props,o=i.direction,l=i.dataKey;return s.cloneElement(e,{key:"".concat(o,"-").concat(l,"-").concat(t[n]),data:t,xAxis:r,yAxis:a,layout:"x"===o?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===o?+e.node.x:+e.node.y,errorVal:y_(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,r=this.props,a=r.points,n=r.line,i=r.lineType,o=r.lineJointType,l=Lw(this.props,!1),c=Lw(n,!1);if("joint"===i)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===i){var d=function(e){if(!e||!e.length)return null;for(var t=e.length,r=0,a=0,n=0,s=0,i=1/0,o=-1/0,l=0,c=0,d=0;d<t;d++)r+=l=e[d].cx||0,a+=c=e[d].cy||0,n+=l*c,s+=l*l,i=Math.min(i,l),o=Math.max(o,l);var u=t*s!==r*r?(t*n-r*a)/(t*s-r*r):0;return{xmin:i,xmax:o,a:u,b:(a-u*r)/t}}(a),u=d.xmin,m=d.xmax,p=d.a,h=d.b,x=function(e){return p*e+h};e=[{x:u,y:x(u)},{x:m,y:x(m)}]}var f=pG(pG(pG({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return t=s.isValidElement(n)?s.cloneElement(n,f):dw()(n)?n(f):s.createElement(xq,uG({},f,{type:o})),s.createElement(oN,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.points,a=e.line,n=e.className,i=e.xAxis,o=e.yAxis,l=e.left,c=e.top,d=e.width,u=e.height,m=e.id,p=e.isAnimationActive;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,x=ct("recharts-scatter",n),f=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,g=f||y,v=Qj()(m)?this.id:m;return s.createElement(oN,{className:x,clipPath:g?"url(#clipPath-".concat(v,")"):null},f||y?s.createElement("defs",null,s.createElement("clipPath",{id:"clipPath-".concat(v)},s.createElement("rect",{x:f?l:l-d/2,y:y?c:c-u/2,width:f?d:2*d,height:y?u:2*u}))):null,a&&this.renderLine(),this.renderErrorBar(),s.createElement(oN,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||h)&&tI.renderCallByParent(this.props,r))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],a&&hG(r.prototype,a),n&&hG(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,n}(s.PureComponent);vG(jG,"displayName","Scatter"),vG(jG,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!_N.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),vG(jG,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,a=e.zAxis,n=e.item,s=e.displayedData,i=e.xAxisTicks,o=e.yAxisTicks,l=e.offset,c=n.props.tooltipType,d=Tw(n.props.children,UM),u=Qj()(t.dataKey)?n.props.dataKey:t.dataKey,m=Qj()(r.dataKey)?n.props.dataKey:r.dataKey,p=a&&a.dataKey,h=a?a.range:sG.defaultProps.range,x=h&&h[0],f=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=s.map(function(e,s){var l=y_(e,u),h=y_(e,m),g=!Qj()(p)&&y_(e,p)||"-",v=[{name:Qj()(t.dataKey)?n.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:u,type:c},{name:Qj()(r.dataKey)?n.props.name:r.name||r.dataKey,unit:r.unit||"",value:h,payload:e,dataKey:m,type:c}];"-"!==g&&v.push({name:a.name||a.dataKey,unit:a.unit||"",value:g,payload:e,dataKey:p,type:c});var b=M_({axis:t,ticks:i,bandSize:f,entry:e,index:s,dataKey:u}),j=M_({axis:r,ticks:o,bandSize:y,entry:e,index:s,dataKey:m}),w="-"!==g?a.scale(g):x,N=Math.sqrt(Math.max(w,0)/Math.PI);return pG(pG({},e),{},{cx:b,cy:j,x:b-N,y:j-N,xAxis:t,yAxis:r,zAxis:a,width:2*N,height:2*N,size:w,node:{x:l,y:h,z:g},tooltipPayload:v,tooltipPosition:{x:b,y:j},payload:e},d&&d[s]&&d[s].props)});return pG({points:g},l)});var wG=cz({chartName:"ComposedChart",GraphicalChild:[Az,nV,uL,jG],axisComponents:[{axisType:"xAxis",AxisComp:oU},{axisType:"yAxis",AxisComp:gU},{axisType:"zAxis",AxisComp:sG}],formatAxisMap:gL});const NG=e=>{var t,r,a,n;let{data:s}=e;if(!s)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading trends data..."})]})});const i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e||0);return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue & Transaction Volume Trend"}),s.combinedTrend&&s.combinedTrend.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:350,children:(0,Xm.jsxs)(wG,{data:s.combinedTrend,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"date"}),(0,Xm.jsx)(gU,{yAxisId:"left",orientation:"left",stroke:"#10B981"}),(0,Xm.jsx)(gU,{yAxisId:"right",orientation:"right",stroke:"#3B82F6"}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(nV,{yAxisId:"left",type:"monotone",dataKey:"revenue",fill:"#10B981",stroke:"#10B981",fillOpacity:.3,name:"Revenue"}),(0,Xm.jsx)(uL,{yAxisId:"right",dataKey:"transactions",fill:"#3B82F6",name:"Transactions"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[350px] text-gray-400",children:"No trend data available"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Day of Week Analysis"}),s.dayOfWeekTrend&&s.dayOfWeekTrend.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(vU,{data:s.dayOfWeekTrend,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"day"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>i(e)}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,name:"Revenue"}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"transactions",stroke:"#3B82F6",strokeWidth:2,name:"Transactions"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No day of week data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Growth Rate"}),s.monthlyGrowth&&s.monthlyGrowth.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(vU,{data:s.monthlyGrowth,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"month"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{formatter:e=>"".concat(e.toFixed(1),"%")}),(0,Xm.jsx)(Az,{type:"monotone",dataKey:"growth",stroke:"#8B5CF6",strokeWidth:2,name:"Growth %"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No growth data available"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Kp,{className:"w-5 h-5 text-green-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Peak Day"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(null===(t=s.peakDay)||void 0===t?void 0:t.day)||"N/A"}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[i(null===(r=s.peakDay)||void 0===r?void 0:r.revenue)," avg"]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Best Month"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(null===(a=s.bestMonth)||void 0===a?void 0:a.month)||"N/A"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:i(null===(n=s.bestMonth)||void 0===n?void 0:n.revenue)})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Trend Direction"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold ".concat("up"===s.trendDirection?"text-green-600":"down"===s.trendDirection?"text-red-600":"text-gray-600"),children:"up"===s.trendDirection?"\u2191 Growing":"down"===s.trendDirection?"\u2193 Declining":"\u2192 Stable"}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overall trend"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-indigo-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Forecast Next Month"})]}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-gray-900",children:i(s.forecastNextMonth)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seasonal Pattern Analysis"}),(0,Xm.jsx)("div",{className:"grid grid-cols-4 gap-4",children:s.seasonalAnalysis&&s.seasonalAnalysis.map((e,t)=>{var r;return(0,Xm.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.name}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Avg Revenue:"}),(0,Xm.jsx)("span",{className:"font-medium",children:i(e.avgRevenue)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Transactions:"}),(0,Xm.jsx)("span",{className:"font-medium",children:e.avgTransactions})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"vs Average:"}),(0,Xm.jsxs)("span",{className:"font-medium ".concat(e.vsAverage>=0?"text-green-600":"text-red-600"),children:[e.vsAverage>=0?"+":"",null===(r=e.vsAverage)||void 0===r?void 0:r.toFixed(1),"%"]})]})]})]},t)})})]})]})},CG=e=>{var t;let{data:r}=e;if(!r)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading refund data..."})]})});const a=["#EF4444","#F59E0B","#3B82F6","#10B981","#8B5CF6"],n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e||0);return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(OW,{className:"w-5 h-5 text-red-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Total Refunds"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.totalRefunds||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-orange-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Refund Amount"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n(r.totalRefundAmount)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Total refunded"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-yellow-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Refund Rate"})]}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold ".concat((r.refundRate||0)>5?"text-red-600":(r.refundRate||0)>2?"text-yellow-600":"text-green-600"),children:[(r.refundRate||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Of total payments"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Xm.jsx)(gH,{className:"w-5 h-5 text-purple-600"}),(0,Xm.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Avg Refund Amount"})]}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n(r.avgRefundAmount)}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Per refund"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Refund Trend Over Time"}),r.refundTrend&&r.refundTrend.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(vU,{data:r.refundTrend,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"date"}),(0,Xm.jsx)(gU,{yAxisId:"left"}),(0,Xm.jsx)(gU,{yAxisId:"right",orientation:"right"}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{}),(0,Xm.jsx)(Az,{yAxisId:"left",type:"monotone",dataKey:"count",stroke:"#EF4444",strokeWidth:2,name:"Refund Count"}),(0,Xm.jsx)(Az,{yAxisId:"right",type:"monotone",dataKey:"amount",stroke:"#F59E0B",strokeWidth:2,name:"Refund Amount ($)"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No refund trend data available"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Refund Reasons"}),r.refundReasons&&r.refundReasons.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:r.refundReasons,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.refundReasons.map((e,t)=>(0,Xm.jsx)(UM,{fill:a[t%a.length]},"cell-".concat(t)))}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(CS,{})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No refund reason data available"})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Refunds by Payment Type"}),r.refundsByType&&r.refundsByType.length>0?(0,Xm.jsx)(Yw,{width:"100%",height:300,children:(0,Xm.jsxs)(qU,{data:r.refundsByType,children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3"}),(0,Xm.jsx)(oU,{dataKey:"type"}),(0,Xm.jsx)(gU,{}),(0,Xm.jsx)($N,{}),(0,Xm.jsx)(uL,{dataKey:"count",fill:"#EF4444",name:"Refund Count"})]})}):(0,Xm.jsx)("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:"No refund by type data available"})]})]}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Refund Analysis"}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Count"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Percentage"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Amount"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Amount"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.detailedRefundReasons&&r.detailedRefundReasons.map((e,t)=>{var r;return(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.count}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[null===(r=e.percentage)||void 0===r?void 0:r.toFixed(1),"%"]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n(e.totalAmount)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n(e.avgAmount)})]},t)})})]})})]}),(0,Xm.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200 p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Refund Impact Summary"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Revenue Lost to Refunds"}),(0,Xm.jsx)("p",{className:"text-xl font-bold text-red-600",children:n(r.revenueLostToRefunds)}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[null===(t=r.revenueImpactPercentage)||void 0===t?void 0:t.toFixed(1),"% of total revenue"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Refund Processing Time"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold text-orange-600",children:[(r.avgRefundProcessingTime||0).toFixed(1)," days"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"From request to completion"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Refund Trend"}),(0,Xm.jsxs)("p",{className:"text-xl font-bold ".concat((r.refundTrendPercentage||0)<=0?"text-green-600":"text-red-600"),children:[(r.refundTrendPercentage||0)>0?"+":"",(r.refundTrendPercentage||0).toFixed(1),"%"]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"vs previous period"})]})]})]})]})},SG=()=>{const e=te(),{execute:t,loading:r}=Iy(),{showToast:a}=YV(),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)("overview"),[c,d]=(0,s.useState)("last30days"),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[x,f]=(0,s.useState)(!1),y=[{id:"overview",label:"Overview",icon:kp},{id:"revenue",label:"Revenue Analysis",icon:Cp},{id:"transactions",label:"Transactions",icon:Ey},{id:"methods",label:"Payment Methods",icon:Kp},{id:"trends",label:"Trends",icon:Kp},{id:"refunds",label:"Refund Analysis",icon:Lp}];(0,s.useEffect)(()=>{g()},[c,u,p]);const g=async()=>{try{f(!0);const{start:e,end:r}=(()=>{const e=new Date;let t,r=e.toISOString();switch(c){case"last7days":t=new Date(e.getTime()-6048e5).toISOString();break;case"last30days":default:t=new Date(e.getTime()-2592e6).toISOString();break;case"last3months":t=new Date(e.getTime()-7776e6).toISOString();break;case"last6months":t=new Date(e.getTime()-15552e6).toISOString();break;case"lastyear":t=new Date(e.getTime()-31536e6).toISOString();break;case"custom":t=u?new Date(u).toISOString():null,r=p?new Date(p).toISOString():r}return{start:t,end:r}})(),a=await t(()=>hp.getPaymentAnalytics(e,r));a&&i(a)}catch(e){console.error("Failed to load payment analytics:",e),a("Failed to load payment analytics","error")}finally{f(!1)}};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsxs)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[(0,Xm.jsxs)("div",{className:"px-6 py-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>{e("/app/admin/payments")},children:"Back"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Analytics"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive analytics and insights for payment management"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4 ".concat(x?"animate-spin":"")}),onClick:g,disabled:x,children:"Refresh"}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{a("Exporting payment analytics as ".concat(e.toUpperCase(),"..."),"info")}catch(t){a("Failed to export analytics","error")}})("pdf"),children:"Export"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"last3months",label:"Last 3 Months"},{value:"last6months",label:"Last 6 Months"},{value:"lastyear",label:"Last Year"},{value:"custom",label:"Custom Range"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===c&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("input",{type:"date",value:u,onChange:e=>m(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Xm.jsx)("input",{type:"date",value:p,onChange:e=>h(e.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),n&&(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 ml-auto",children:[(0,Xm.jsx)("span",{className:"font-medium",children:n.totalPaymentsAnalyzed})," payments analyzed"]})]})]}),(0,Xm.jsx)("div",{className:"flex border-t border-gray-200 px-6",children:y.map(e=>{const t=e.icon;return(0,Xm.jsxs)("button",{onClick:()=>l(e.id),className:"\n                  flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors\n                  ".concat(o===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300","\n                "),children:[(0,Xm.jsx)(t,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.label})]},e.id)})})]}),(0,Xm.jsx)("div",{className:"p-6",children:(()=>{if(!n)return(0,Xm.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading payment analytics..."})]})});switch(o){case"overview":return(0,Xm.jsx)(YW,{data:n.overview});case"revenue":return(0,Xm.jsx)(KW,{data:n.revenue});case"transactions":return(0,Xm.jsx)($W,{data:n.transactions});case"methods":return(0,Xm.jsx)(QW,{data:n.paymentMethods});case"trends":return(0,Xm.jsx)(NG,{data:n.trends});case"refunds":return(0,Xm.jsx)(CG,{data:n.refunds});default:return null}})()})]})},AG=zm("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),kG=zm("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),EG=e=>{let{status:t}=e;const r={CREATED:{color:"bg-blue-100 text-blue-800",label:"Created"},DISTRIBUTED:{color:"bg-green-100 text-green-800",label:"Distributed"},USED:{color:"bg-gray-100 text-gray-800",label:"Used"},EXPIRED:{color:"bg-red-100 text-red-800",label:"Expired"},CANCELLED:{color:"bg-orange-100 text-orange-800",label:"Cancelled"},SUSPENDED:{color:"bg-yellow-100 text-yellow-800",label:"Suspended"}}[t]||{color:"bg-gray-100 text-gray-800",label:t};return(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:r.label})},PG=e=>{let{type:t,value:r,maxAmount:a}=e;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded bg-purple-50 text-purple-700 text-xs font-medium",children:[(0,Xm.jsx)(AG,{className:"w-3 h-3 mr-1"}),(()=>{switch(t){case"PERCENTAGE":return"".concat(r,"%").concat(a?" (max $".concat(a,")"):"");case"FIXED_AMOUNT":return"$".concat(r);case"FULL_COVERAGE":return"100% Coverage";default:return t}})()]})},OG=e=>{let{type:t}=e;const r={MEDICAL_SUPERVISOR:{color:"bg-indigo-100 text-indigo-800",label:"Supervisor",icon:Sp},PATIENT:{color:"bg-teal-100 text-teal-800",label:"Patient",icon:vp}},{color:a,label:n,icon:s}=r[t]||{color:"bg-gray-100 text-gray-800",label:t,icon:vp};return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium ".concat(a),children:[(0,Xm.jsx)(s,{className:"w-3 h-3 mr-1"}),n]})},TG=e=>{let{currentPage:t,totalPages:r,totalElements:a,pageSize:n,onPageChange:s,onPageSizeChange:i}=e;const o=t*n+1,l=Math.min((t+1)*n,a);return 0===a?null:(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 bg-white border-t border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[(0,Xm.jsxs)("span",{children:["Showing ",(0,Xm.jsx)("span",{className:"font-medium",children:o})," to"," ",(0,Xm.jsx)("span",{className:"font-medium",children:l})," of"," ",(0,Xm.jsx)("span",{className:"font-medium",children:a})," results"]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("span",{children:"Show:"}),(0,Xm.jsx)("select",{value:n,onChange:e=>i(parseInt(e.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500",children:[10,20,50,100].map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Xm.jsx)("button",{onClick:()=>s(0),disabled:0===t,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"First page",children:(0,Xm.jsx)(LV,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>s(t-1),disabled:0===t,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous page",children:(0,Xm.jsx)(Xp,{className:"w-4 h-4"})}),(0,Xm.jsx)("div",{className:"flex items-center gap-1 mx-2",children:(()=>{const e=[];if(r<=5)for(let t=0;t<r;t++)e.push(t);else{e.push(0);let a=Math.max(1,t-1),n=Math.min(r-2,t+1);t<=2?n=3:t>=r-3&&(a=r-4),a>1&&e.push("...");for(let t=a;t<=n;t++)e.push(t);n<r-2&&e.push("..."),r>1&&e.push(r-1)}return e})().map((e,r)=>"..."===e?(0,Xm.jsx)("span",{className:"px-2 text-gray-400",children:"..."},"ellipsis-".concat(r)):(0,Xm.jsx)("button",{onClick:()=>s(e),className:"min-w-[32px] h-8 px-2 rounded text-sm font-medium transition-colors ".concat(t===e?"bg-primary-600 text-white":"hover:bg-gray-100 text-gray-700"),children:e+1},e))}),(0,Xm.jsx)("button",{onClick:()=>s(t+1),disabled:t>=r-1,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Next page",children:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})}),(0,Xm.jsx)("button",{onClick:()=>s(r-1),disabled:t>=r-1,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Last page",children:(0,Xm.jsx)(FV,{className:"w-4 h-4"})})]})]})},DG=()=>{var e;const t=te(),{user:r}=Jd(),{execute:a,loading:n}=Iy(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(null),[h,x]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[g,v]=(0,s.useState)("coupons"),[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[A,k]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1),[D,R]=(0,s.useState)(!1),[_,M]=(0,s.useState)(!1),[I,L]=(0,s.useState)(null),[F,q]=(0,s.useState)(null),[z,U]=(0,s.useState)(!1),[B,V]=(0,s.useState)(0),[H,W]=(0,s.useState)(20),[G,Y]=(0,s.useState)(0),[K,$]=(0,s.useState)(0),[Q,X]=(0,s.useState)(0),[J,Z]=(0,s.useState)(20),[ee,re]=(0,s.useState)(0),[ae,ne]=(0,s.useState)(0),[se,ie]=(0,s.useState)({couponCode:"",discountType:"PERCENTAGE",discountValue:"",maxDiscountAmount:"",currency:"USD",beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",expiresAt:"",isTransferable:!0,notes:"",autoDistribute:!1}),[oe,le]=(0,s.useState)({batchCodePrefix:"",totalCoupons:10,discountType:"PERCENTAGE",discountValue:"",maxDiscountAmount:"",currency:"USD",beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",expiryDays:180,isTransferable:!0,notes:"",autoDistribute:!1}),[ce,de]=(0,s.useState)({beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",notes:"",sendNotification:!0}),[ue,me]=(0,s.useState)({reason:"",sendNotification:!0});(0,s.useEffect)(()=>{pe()},[]),(0,s.useEffect)(()=>{he(B,H)},[B,H]),(0,s.useEffect)(()=>{xe(Q,J)},[Q,J]),(0,s.useEffect)(()=>{0===B?he(0,H):V(0)},[w,C]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{0===B?he(0,H):V(0)},500);return()=>clearTimeout(e)},[b]),(0,s.useEffect)(()=>{ve()},[i]);const pe=async()=>{U(!0);try{await Promise.all([he(),xe(),fe(),ye(),ge()])}catch(e){console.error("Error loading data:",e),Ft.error("Failed to load coupon data")}finally{U(!1)}},he=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;try{var r;const n={page:e,size:t,status:w||void 0,beneficiaryType:C||void 0,couponCode:b||void 0},s=await a(()=>TV.getAllCoupons(n));if(null!==s&&void 0!==s&&null!==(r=s.data)&&void 0!==r&&r.content)o(s.data.content),Y(s.data.totalElements||0),$(s.data.totalPages||0);else if(null!==s&&void 0!==s&&s.content)o(s.content),Y(s.totalElements||0),$(s.totalPages||0);else{const e=(null===s||void 0===s?void 0:s.data)||s||[];o(Array.isArray(e)?e:[]),Y(e.length),$(1)}}catch(n){console.error("Error loading coupons:",n)}},xe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;try{var r;const n={page:e,size:t},s=await a(()=>TV.getCouponBatches(n));if(null!==s&&void 0!==s&&null!==(r=s.data)&&void 0!==r&&r.content)u(s.data.content),re(s.data.totalElements||0),ne(s.data.totalPages||0);else if(null!==s&&void 0!==s&&s.content)u(s.content),re(s.totalElements||0),ne(s.totalPages||0);else{const e=(null===s||void 0===s?void 0:s.data)||s||[];u(Array.isArray(e)?e:[]),re(e.length),ne(1)}}catch(n){console.error("Error loading batches:",n)}},fe=async()=>{try{const e=await a(()=>TV.getCouponSummary());p(e||{})}catch(e){console.error("Error loading summary:",e)}},ye=async()=>{try{const e=await a(()=>TV.getMedicalSupervisors()),t=e||(null===e||void 0===e?void 0:e.data)||[];x(Array.isArray(t)?t:[])}catch(e){console.error("Error loading supervisors:",e)}},ge=async()=>{try{const e=await a(()=>TV.getExpiringCoupons(30)),t=e||(null===e||void 0===e?void 0:e.data)||[];y(Array.isArray(t)?t:[])}catch(e){console.error("Error loading expiring coupons:",e)}},ve=(0,s.useCallback)(()=>{let e=[...i];if(b){const t=b.toLowerCase();e=e.filter(e=>{var r,a,n;return(null===(r=e.couponCode)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.beneficiaryName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.notes)||void 0===n?void 0:n.toLowerCase().includes(t))})}w&&(e=e.filter(e=>e.status===w)),C&&(e=e.filter(e=>e.beneficiaryType===C)),c(e)},[i,b,w,C]),be=e=>{navigator.clipboard.writeText(e),Ft.success("Copied to clipboard")},je=()=>{ie({couponCode:"",discountType:"PERCENTAGE",discountValue:"",maxDiscountAmount:"",currency:"USD",beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",expiresAt:"",isTransferable:!0,notes:"",autoDistribute:!1})},we=()=>{le({batchCodePrefix:"",totalCoupons:10,discountType:"PERCENTAGE",discountValue:"",maxDiscountAmount:"",currency:"USD",beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",expiryDays:180,isTransferable:!0,notes:"",autoDistribute:!1})},Ne=()=>{de({beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:"",notes:"",sendNotification:!0})},Ce=()=>{me({reason:"",sendNotification:!0})},Se=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Coupon Management"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create, distribute, and manage discount coupons for supervisors and patients"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:pe,disabled:z,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(z?"animate-spin":"")}),"Refresh"]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:async()=>{try{const e=await TV.exportCoupons({status:w,beneficiaryType:C}),t=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.href=t,r.setAttribute("download","coupons_".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(r),r.click(),r.remove(),Ft.success("Export completed")}catch(e){console.error("Error exporting:",e),Ft.error("Failed to export coupons")}},children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:()=>P(!0),children:[(0,Xm.jsx)(LW,{className:"w-4 h-4 mr-2"}),"Create Batch"]}),(0,Xm.jsxs)(Zm,{variant:"primary",size:"sm",onClick:()=>k(!0),children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"Create Coupon"]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Coupons",value:(null===m||void 0===m?void 0:m.totalCoupons)||0,icon:(0,Xm.jsx)(jp,{className:"w-5 h-5"}),iconColor:"bg-blue-100 text-blue-600"}),(0,Xm.jsx)(Ry,{title:"Available",value:((null===m||void 0===m?void 0:m.createdCoupons)||0)+((null===m||void 0===m?void 0:m.distributedCoupons)||0),icon:(0,Xm.jsx)(Up,{className:"w-5 h-5"}),iconColor:"bg-green-100 text-green-600",trend:(null===m||void 0===m?void 0:m.distributedCoupons)>0?{value:m.distributedCoupons,label:"distributed",positive:!0}:null}),(0,Xm.jsx)(Ry,{title:"Used",value:(null===m||void 0===m?void 0:m.usedCoupons)||0,icon:(0,Xm.jsx)(Fb,{className:"w-5 h-5"}),iconColor:"bg-gray-100 text-gray-600"}),(0,Xm.jsx)(Ry,{title:"Expiring Soon",value:(null===m||void 0===m?void 0:m.expiringSoonCoupons)||f.length||0,icon:(0,Xm.jsx)(wp,{className:"w-5 h-5"}),iconColor:"bg-yellow-100 text-yellow-600"}),(0,Xm.jsx)(Ry,{title:"Total Value",value:(Ae=(null===m||void 0===m?void 0:m.totalAvailableValue)||0,null===Ae||void 0===Ae?"$0.00":"$".concat(parseFloat(Ae).toFixed(2))),icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),iconColor:"bg-purple-100 text-purple-600"})]}),f.length>0&&(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"text-sm font-medium text-yellow-800",children:[f.length," coupon",f.length>1?"s":""," expiring within 30 days"]}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-yellow-700",children:"Consider notifying beneficiaries or extending expiration dates."})]})]})}),(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"coupons",label:"Coupons",icon:jp},{id:"batches",label:"Batches",icon:kG},{id:"analytics",label:"Analytics",icon:kp}].map(e=>(0,Xm.jsxs)("button",{onClick:()=>v(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(g===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Xm.jsx)(e.icon,{className:"w-5 h-5 mr-2 ".concat(g===e.id?"text-primary-500":"text-gray-400 group-hover:text-gray-500")}),e.label]},e.id))})}),"coupons"===g&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by code, beneficiary, or notes...",value:b,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Statuses"}),(0,Xm.jsx)("option",{value:"CREATED",children:"Created"}),(0,Xm.jsx)("option",{value:"DISTRIBUTED",children:"Distributed"}),(0,Xm.jsx)("option",{value:"USED",children:"Used"}),(0,Xm.jsx)("option",{value:"EXPIRED",children:"Expired"}),(0,Xm.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]}),(0,Xm.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Beneficiaries"}),(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Supervisors"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patients"})]})]})}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coupon Code"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficiary"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:n?(0,Xm.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xm.jsx)(pg,{className:"w-5 h-5 animate-spin mr-2"}),"Loading coupons..."]}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)(jp,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No coupons found"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"mt-3",onClick:()=>k(!0),children:"Create First Coupon"})]})})}):l.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0",children:(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:(0,Xm.jsx)(jp,{className:"w-5 h-5 text-white"})})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("span",{className:"text-sm font-mono font-medium text-gray-900",children:e.couponCode}),(0,Xm.jsx)("button",{onClick:()=>be(e.couponCode),className:"ml-2 text-gray-400 hover:text-gray-600",title:"Copy code",children:(0,Xm.jsx)(Cg,{className:"w-4 h-4"})})]}),e.batchCode&&(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Batch: ",e.batchCode]})]})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(PG,{type:e.discountType,value:e.discountValue,maxAmount:e.maxDiscountAmount})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.beneficiaryType?(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)(OG,{type:e.beneficiaryType}),e.beneficiaryName&&(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.beneficiaryName})]}):(0,Xm.jsx)("span",{className:"text-gray-400 text-sm",children:"Unassigned"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(EG,{status:e.status})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsx)("div",{className:"text-sm text-gray-900",children:Se(e.expiresAt)}),e.isExpiringSoon&&(0,Xm.jsxs)("span",{className:"text-xs text-yellow-600",children:[e.daysUntilExpiry," days left"]})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Xm.jsx)("button",{onClick:()=>{L(e),M(!0)},className:"text-gray-400 hover:text-gray-600",title:"View details",children:(0,Xm.jsx)(iy,{className:"w-5 h-5"})}),"CREATED"===e.status&&(0,Xm.jsx)("button",{onClick:()=>{L(e),T(!0)},className:"text-blue-400 hover:text-blue-600",title:"Distribute",children:(0,Xm.jsx)(qv,{className:"w-5 h-5"})}),["CREATED","DISTRIBUTED"].includes(e.status)&&(0,Xm.jsx)("button",{onClick:()=>{L(e),R(!0)},className:"text-red-400 hover:text-red-600",title:"Cancel",children:(0,Xm.jsx)(eg,{className:"w-5 h-5"})})]})})]},e.id))})]})}),(0,Xm.jsx)(TG,{currentPage:B,totalPages:K,totalElements:G,pageSize:H,onPageChange:e=>{e>=0&&e<K&&V(e)},onPageSizeChange:e=>{W(e),V(0)}})]})]}),"batches"===g&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coupons"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===d.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsxs)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[(0,Xm.jsx)(kG,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No batches created yet"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"mt-3",onClick:()=>P(!0),children:"Create First Batch"})]})}):d.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,Xm.jsx)(kG,{className:"w-5 h-5 text-white"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.batchName||e.batchCode}),(0,Xm.jsx)("div",{className:"text-xs text-gray-500 font-mono",children:e.batchCode})]})]})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsxs)("div",{className:"text-sm text-gray-900",children:[e.distributedCount||0," / ",e.totalCoupons||e.quantity]}),(0,Xm.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-1.5 mt-1",children:(0,Xm.jsx)("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:"".concat((e.distributedCount||0)/(e.totalCoupons||e.quantity)*100,"%")}})})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(PG,{type:e.discountType,value:e.discountValue,maxAmount:e.maxDiscountAmount})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(EG,{status:e.status})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Se(e.createdAt)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Xm.jsx)("button",{onClick:()=>t("/app/admin/coupons/batches/".concat(e.id)),className:"text-gray-400 hover:text-gray-600",title:"View coupons",children:(0,Xm.jsx)(iy,{className:"w-5 h-5"})}),"CREATED"===e.status&&(0,Xm.jsx)("button",{onClick:()=>{q(e),T(!0)},className:"text-blue-400 hover:text-blue-600",title:"Distribute batch",children:(0,Xm.jsx)(qv,{className:"w-5 h-5"})}),["CREATED","PARTIALLY_DISTRIBUTED"].includes(e.status)&&(0,Xm.jsx)("button",{onClick:()=>{q(e),R(!0)},className:"text-red-400 hover:text-red-600",title:"Cancel batch",children:(0,Xm.jsx)(eg,{className:"w-5 h-5"})})]})})]},e.id))})]})}),(0,Xm.jsx)(TG,{currentPage:Q,totalPages:ae,totalElements:ee,pageSize:J,onPageChange:e=>{e>=0&&e<ae&&X(e)},onPageSizeChange:e=>{Z(e),X(0)}})]}),"analytics"===g&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xm.jsxs)(My,{title:"Coupon Usage Overview",children:[(0,Xm.jsx)("div",{className:"h-72",children:(()=>{const e=[{name:"Created",value:(null===m||void 0===m?void 0:m.createdCoupons)||0,color:"#3B82F6"},{name:"Distributed",value:(null===m||void 0===m?void 0:m.distributedCoupons)||0,color:"#10B981"},{name:"Used",value:(null===m||void 0===m?void 0:m.usedCoupons)||0,color:"#6B7280"},{name:"Expired",value:(null===m||void 0===m?void 0:m.expiredCoupons)||0,color:"#EF4444"},{name:"Cancelled",value:(null===m||void 0===m?void 0:m.cancelledCoupons)||0,color:"#F59E0B"}].filter(e=>e.value>0);return 0===e.reduce((e,t)=>e+t.value,0)?(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(OV,{className:"w-16 h-16 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No coupon data available"})]})}):(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(UB,{children:[(0,Xm.jsx)(zB,{data:e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",label:e=>{let{name:t,percent:r}=e;return"".concat(t," ").concat((100*r).toFixed(0),"%")},labelLine:!1,children:e.map((e,t)=>(0,Xm.jsx)(UM,{fill:e.color},"cell-".concat(t)))}),(0,Xm.jsx)($N,{formatter:(e,t)=>["".concat(e," coupons"),t],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,Xm.jsx)(CS,{verticalAlign:"bottom",height:36,formatter:(e,t)=>(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:e})})]})})})()}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:(null===m||void 0===m?void 0:m.createdCoupons)||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Created"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(null===m||void 0===m?void 0:m.distributedCoupons)||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Distributed"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:(null===m||void 0===m?void 0:m.usedCoupons)||0}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:"Used"})]})]})})]}),(0,Xm.jsxs)(My,{title:"Monthly Trends",children:[(0,Xm.jsx)("div",{className:"h-72",children:(()=>{const e=(null===m||void 0===m?void 0:m.monthlyTrends)||(()=>{const e=[],t=new Date;for(let r=5;r>=0;r--){const a=new Date(t.getFullYear(),t.getMonth()-r,1).toLocaleDateString("en-US",{month:"short"});e.push({month:a,created:0===r&&(null===m||void 0===m?void 0:m.createdCoupons)||0,distributed:0===r&&(null===m||void 0===m?void 0:m.distributedCoupons)||0,used:0===r&&(null===m||void 0===m?void 0:m.usedCoupons)||0})}return e})();return e.some(e=>e.created>0||e.distributed>0||e.used>0)?(0,Xm.jsx)(Yw,{width:"100%",height:"100%",children:(0,Xm.jsxs)(qU,{data:e,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,Xm.jsx)(LU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Xm.jsx)(oU,{dataKey:"month",tick:{fontSize:12,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),(0,Xm.jsx)(gU,{tick:{fontSize:12,fill:"#6B7280"},axisLine:{stroke:"#e5e7eb"},tickLine:!1,allowDecimals:!1}),(0,Xm.jsx)($N,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>[e,t.charAt(0).toUpperCase()+t.slice(1)]}),(0,Xm.jsx)(CS,{verticalAlign:"top",height:36,formatter:e=>(0,Xm.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:e})}),(0,Xm.jsx)(uL,{dataKey:"created",name:"Created",fill:"#3B82F6",radius:[4,4,0,0]}),(0,Xm.jsx)(uL,{dataKey:"distributed",name:"Distributed",fill:"#10B981",radius:[4,4,0,0]}),(0,Xm.jsx)(uL,{dataKey:"used",name:"Used",fill:"#6B7280",radius:[4,4,0,0]})]})}):(0,Xm.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)(kp,{className:"w-16 h-16 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No monthly data available"})]})})})()}),(0,Xm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-blue-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Created"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-green-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Distributed"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)("div",{className:"w-3 h-3 rounded bg-gray-500"}),(0,Xm.jsx)("span",{className:"text-gray-600",children:"Used"})]})]}),(0,Xm.jsx)("span",{className:"text-gray-400 text-xs",children:"Last 6 months"})]})})]}),(0,Xm.jsx)(My,{title:"Top Supervisors by Coupon Usage",className:"lg:col-span-2",children:(0,Xm.jsx)("div",{className:"space-y-4",children:0===h.length?(0,Xm.jsxs)("div",{className:"py-8 text-center text-gray-500",children:[(0,Xm.jsx)(vp,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No supervisor data available"})]}):h.slice(0,5).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("span",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-medium",children:t+1}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.fullName}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.couponCount||0," coupons"]}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:[e.usedCount||0," used"]})]})]},e.id))})})]}),(0,Xm.jsx)($y,{isOpen:A,onClose:()=>{k(!1),je()},title:"Create New Coupon",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code (Optional)"}),(0,Xm.jsx)("input",{type:"text",value:se.couponCode,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{couponCode:e.target.value})),placeholder:"Auto-generated if not provided",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),(0,Xm.jsxs)("select",{value:se.discountType,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{discountType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,Xm.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"}),(0,Xm.jsx)("option",{value:"FULL_COVERAGE",children:"Full Coverage"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Value *"}),(0,Xm.jsx)("input",{type:"number",value:se.discountValue,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{discountValue:e.target.value})),placeholder:"PERCENTAGE"===se.discountType?"1-100":"50.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",disabled:"FULL_COVERAGE"===se.discountType,min:"PERCENTAGE"===se.discountType?1:0,max:"PERCENTAGE"===se.discountType?100:void 0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount Amount"}),(0,Xm.jsx)("input",{type:"number",value:se.maxDiscountAmount,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{maxDiscountAmount:e.target.value})),placeholder:"Cap for percentage",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",disabled:"PERCENTAGE"!==se.discountType})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary Type *"}),(0,Xm.jsxs)("select",{value:se.beneficiaryType,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{beneficiaryType:e.target.value,beneficiaryId:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Medical Supervisor"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patient"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary (Optional)"}),(0,Xm.jsxs)("select",{value:se.beneficiaryId,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{beneficiaryId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Can distribute later"}),"MEDICAL_SUPERVISOR"===se.beneficiaryType&&h.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.fullName," (",e.email,")"]},e.id))]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date *"}),(0,Xm.jsx)("input",{type:"datetime-local",value:se.expiresAt,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{expiresAt:e.target.value})),min:(new Date).toISOString().slice(0,16),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,Xm.jsxs)("select",{value:se.currency,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"USD",children:"USD"}),(0,Xm.jsx)("option",{value:"EUR",children:"EUR"}),(0,Xm.jsx)("option",{value:"GBP",children:"GBP"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:se.isTransferable,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{isTransferable:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Transferable between patients"})]}),(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:se.autoDistribute,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{autoDistribute:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",disabled:!se.beneficiaryId}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Auto-distribute after creation"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,Xm.jsx)("textarea",{value:se.notes,onChange:e=>ie((0,ot.A)((0,ot.A)({},se),{},{notes:e.target.value})),rows:2,placeholder:"Optional notes about this coupon...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{k(!1),je()},children:"Cancel"}),(0,Xm.jsx)(Zm,{variant:"primary",onClick:async()=>{try{var e,t;if(!se.discountType)return void Ft.error("Please select a discount type",{autoClose:1e4});if("FULL_COVERAGE"!==se.discountType&&(""===se.discountValue||null===se.discountValue||void 0===se.discountValue||isNaN(parseFloat(se.discountValue))))return void Ft.error("Please enter a valid discount value",{autoClose:1e4});if(!se.expiresAt)return void Ft.error("Please select an expiration date",{autoClose:1e4});if(!se.beneficiaryType)return void Ft.error("Please select a beneficiary type",{autoClose:1e4});const r={discountType:se.discountType,discountValue:"FULL_COVERAGE"===se.discountType?100:parseFloat(se.discountValue),currency:se.currency||"USD",beneficiaryType:se.beneficiaryType,expiresAt:se.expiresAt,isTransferable:se.isTransferable,autoDistribute:se.autoDistribute};null!==(e=se.couponCode)&&void 0!==e&&e.trim()&&(r.couponCode=se.couponCode.trim()),se.maxDiscountAmount&&"PERCENTAGE"===se.discountType&&(r.maxDiscountAmount=parseFloat(se.maxDiscountAmount)),se.beneficiaryId&&(r.beneficiaryId=parseInt(se.beneficiaryId)),null!==(t=se.notes)&&void 0!==t&&t.trim()&&(r.notes=se.notes.trim()),await a(()=>TV.createCoupon(r)),Ft.success("Coupon created successfully"),k(!1),je(),await he(),await fe()}catch(s){var r,n;console.error("Error creating coupon:",s),Ft.error((null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to create coupon")}},disabled:n,children:"Create Coupon"})]})]})}),(0,Xm.jsx)($y,{isOpen:E,onClose:()=>{P(!1),we()},title:"Create Coupon Batch",size:"lg",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Code Prefix (Optional)"}),(0,Xm.jsx)("input",{type:"text",value:oe.batchCodePrefix,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{batchCodePrefix:e.target.value})),placeholder:"Auto-generated if not provided",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Coupons * (1-1000)"}),(0,Xm.jsx)("input",{type:"number",value:oe.totalCoupons,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{totalCoupons:parseInt(e.target.value)||1})),min:"1",max:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),(0,Xm.jsxs)("select",{value:oe.discountType,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{discountType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,Xm.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"}),(0,Xm.jsx)("option",{value:"FULL_COVERAGE",children:"Full Coverage"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Value *"}),(0,Xm.jsx)("input",{type:"number",value:oe.discountValue,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{discountValue:e.target.value})),placeholder:"PERCENTAGE"===oe.discountType?"1-100":"50.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",disabled:"FULL_COVERAGE"===oe.discountType,min:"PERCENTAGE"===oe.discountType?1:0,max:"PERCENTAGE"===oe.discountType?100:void 0})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount Amount"}),(0,Xm.jsx)("input",{type:"number",value:oe.maxDiscountAmount,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{maxDiscountAmount:e.target.value})),placeholder:"Cap for percentage",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",disabled:"PERCENTAGE"!==oe.discountType})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary Type *"}),(0,Xm.jsxs)("select",{value:oe.beneficiaryType,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{beneficiaryType:e.target.value,beneficiaryId:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Medical Supervisor"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patient"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary (Optional)"}),(0,Xm.jsxs)("select",{value:oe.beneficiaryId,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{beneficiaryId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Can distribute later"}),"MEDICAL_SUPERVISOR"===oe.beneficiaryType&&h.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.fullName," (",e.email,")"]},e.id))]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Days * (1-730)"}),(0,Xm.jsx)("input",{type:"number",value:oe.expiryDays,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{expiryDays:parseInt(e.target.value)||1})),min:"1",max:"730",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,Xm.jsxs)("select",{value:oe.currency,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"USD",children:"USD"}),(0,Xm.jsx)("option",{value:"EUR",children:"EUR"}),(0,Xm.jsx)("option",{value:"GBP",children:"GBP"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:oe.isTransferable,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{isTransferable:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Transferable between patients"})]}),(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:oe.autoDistribute,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{autoDistribute:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",disabled:!oe.beneficiaryId}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Auto-distribute after creation"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,Xm.jsx)("textarea",{value:oe.notes,onChange:e=>le((0,ot.A)((0,ot.A)({},oe),{},{notes:e.target.value})),rows:2,placeholder:"Optional notes about this batch...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{P(!1),we()},children:"Cancel"}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:async()=>{try{var e,t;if(!oe.totalCoupons||oe.totalCoupons<1||oe.totalCoupons>1e3)return void Ft.error("Please enter a valid quantity (1-1000)",{autoClose:1e4});if(!oe.discountType)return void Ft.error("Please select a discount type",{autoClose:1e4});if("FULL_COVERAGE"!==oe.discountType&&(""===oe.discountValue||null===oe.discountValue||void 0===oe.discountValue||isNaN(parseFloat(oe.discountValue))))return void Ft.error("Please enter a valid discount value",{autoClose:1e4});if(!oe.expiryDays||oe.expiryDays<1||oe.expiryDays>730)return void Ft.error("Please enter valid expiry days (1-730)",{autoClose:1e4});if(!oe.beneficiaryType)return void Ft.error("Please select a beneficiary type",{autoClose:1e4});const r={totalCoupons:parseInt(oe.totalCoupons),discountType:oe.discountType,discountValue:"FULL_COVERAGE"===oe.discountType?100:parseFloat(oe.discountValue),currency:oe.currency||"USD",beneficiaryType:oe.beneficiaryType,expiryDays:parseInt(oe.expiryDays),isTransferable:oe.isTransferable,autoDistribute:oe.autoDistribute};null!==(e=oe.batchCodePrefix)&&void 0!==e&&e.trim()&&(r.batchCodePrefix=oe.batchCodePrefix.trim()),oe.maxDiscountAmount&&"PERCENTAGE"===oe.discountType&&(r.maxDiscountAmount=parseFloat(oe.maxDiscountAmount)),oe.beneficiaryId&&(r.beneficiaryId=parseInt(oe.beneficiaryId)),null!==(t=oe.notes)&&void 0!==t&&t.trim()&&(r.notes=oe.notes.trim()),await a(()=>TV.createCouponBatch(r)),Ft.success("Batch of ".concat(oe.totalCoupons," coupons created successfully")),P(!1),we(),await xe(),await he(),await fe()}catch(s){var r,n;console.error("Error creating batch:",s),Ft.error((null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to create coupon batch")}},disabled:n,children:["Create ",oe.totalCoupons," Coupons"]})]})]})}),(0,Xm.jsx)($y,{isOpen:O,onClose:()=>{T(!1),L(null),q(null),Ne()},title:"Distribute ".concat(F?"Batch":"Coupon"),children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:F?"Distribute all ".concat(F.totalCoupons||F.availableCoupons,' coupons in batch "').concat(F.batchCode,'" to:'):"Distribute coupon ".concat(null===I||void 0===I?void 0:I.couponCode," to:")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary Type *"}),(0,Xm.jsxs)("select",{value:ce.beneficiaryType,onChange:e=>de((0,ot.A)((0,ot.A)({},ce),{},{beneficiaryType:e.target.value,beneficiaryId:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Medical Supervisor"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patient"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select ","MEDICAL_SUPERVISOR"===ce.beneficiaryType?"Supervisor":"Patient"," *"]}),(0,Xm.jsxs)("select",{value:ce.beneficiaryId,onChange:e=>de((0,ot.A)((0,ot.A)({},ce),{},{beneficiaryId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select..."}),"MEDICAL_SUPERVISOR"===ce.beneficiaryType&&h.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.fullName," (",e.email,")"]},e.id))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,Xm.jsx)("textarea",{value:ce.notes,onChange:e=>de((0,ot.A)((0,ot.A)({},ce),{},{notes:e.target.value})),rows:2,placeholder:"Distribution notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:ce.sendNotification,onChange:e=>de((0,ot.A)((0,ot.A)({},ce),{},{sendNotification:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Send notification to beneficiary"})]}),(0,Xm.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{T(!1),L(null),q(null),Ne()},children:"Cancel"}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:async()=>{try{var e;if(!ce.beneficiaryType)return void Ft.error("Please select a beneficiary type",{autoClose:1e4});if(!ce.beneficiaryId)return void Ft.error("Please select a beneficiary",{autoClose:1e4});const t={beneficiaryType:ce.beneficiaryType,beneficiaryId:parseInt(ce.beneficiaryId),sendNotification:ce.sendNotification};null!==(e=ce.notes)&&void 0!==e&&e.trim()&&(t.notes=ce.notes.trim()),F?(await a(()=>TV.distributeBatch(F.id,t)),Ft.success("Batch distributed successfully")):I&&(await a(()=>TV.distributeCoupon(I.id,t)),Ft.success("Coupon distributed successfully")),T(!1),L(null),q(null),Ne(),await he(),await xe(),await fe()}catch(n){var t,r;console.error("Error distributing:",n),Ft.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to distribute")}},disabled:n||!ce.beneficiaryId,children:[(0,Xm.jsx)(qv,{className:"w-4 h-4 mr-2"}),"Distribute"]})]})]})}),(0,Xm.jsx)(Yy,{isOpen:D,onClose:()=>{R(!1),L(null),q(null),Ce()},onConfirm:async()=>{try{var e;if(null===(e=ue.reason)||void 0===e||!e.trim())return void Ft.error("Please provide a cancellation reason",{autoClose:1e4});const t={reason:ue.reason.trim(),sendNotification:ue.sendNotification};F?(await a(()=>TV.cancelBatch(F.id,t)),Ft.success("Batch cancelled successfully")):I&&(await a(()=>TV.cancelCoupon(I.id,t)),Ft.success("Coupon cancelled successfully")),R(!1),L(null),q(null),Ce(),await he(),await xe(),await fe()}catch(n){var t,r;console.error("Error cancelling:",n),Ft.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to cancel")}},title:"Cancel ".concat(F?"Batch":"Coupon"),message:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:F?'Are you sure you want to cancel all coupons in batch "'.concat(F.batchCode,'"? This action cannot be undone.'):"Are you sure you want to cancel coupon ".concat(null===I||void 0===I?void 0:I.couponCode,"? This action cannot be undone.")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Reason *"}),(0,Xm.jsx)("textarea",{value:ue.reason,onChange:e=>me((0,ot.A)((0,ot.A)({},ue),{},{reason:e.target.value})),rows:3,placeholder:"Provide a reason for cancellation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",checked:ue.sendNotification,onChange:e=>me((0,ot.A)((0,ot.A)({},ue),{},{sendNotification:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-700",children:"Send notification to beneficiary"})]})]}),confirmText:"Cancel Coupon",confirmVariant:"danger",disabled:!(null!==(e=ue.reason)&&void 0!==e&&e.trim())}),(0,Xm.jsx)($y,{isOpen:_,onClose:()=>{M(!1),L(null)},title:"Coupon Details",size:"lg",children:I&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:(0,Xm.jsx)(jp,{className:"w-6 h-6 text-white"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("p",{className:"text-lg font-mono font-bold text-gray-900",children:I.couponCode}),(0,Xm.jsx)(EG,{status:I.status})]})]}),(0,Xm.jsx)("button",{onClick:()=>be(I.couponCode),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-white rounded-lg",children:(0,Xm.jsx)(Cg,{className:"w-5 h-5"})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,Xm.jsx)("div",{className:"mt-1",children:(0,Xm.jsx)(PG,{type:I.discountType,value:I.discountValue,maxAmount:I.maxDiscountAmount})})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Beneficiary"}),(0,Xm.jsx)("div",{className:"mt-1",children:I.beneficiaryType?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(OG,{type:I.beneficiaryType}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:I.beneficiaryName})]}):(0,Xm.jsx)("span",{className:"text-gray-400",children:"Unassigned"})})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:Se(I.createdAt)})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Expires"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-900 mt-1",children:[Se(I.expiresAt),I.isExpiringSoon&&(0,Xm.jsxs)("span",{className:"ml-2 text-yellow-600 text-xs",children:["(",I.daysUntilExpiry," days left)"]})]})]})]}),I.usedAt&&(0,Xm.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Usage Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-green-600",children:"Used At:"}),(0,Xm.jsx)("span",{className:"ml-2 text-green-800",children:Se(I.usedAt)})]}),I.usedForCaseId&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-green-600",children:"Case ID:"}),(0,Xm.jsx)("span",{className:"ml-2 text-green-800",children:I.usedForCaseId})]})]})]}),I.notes&&(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Notes"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700",children:I.notes})]}),(0,Xm.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{M(!1),L(null)},children:"Close"})})]})})]});var Ae},RG=e=>{let{status:t}=e;const r={CREATED:{color:"bg-blue-100 text-blue-800",label:"Created"},DISTRIBUTED:{color:"bg-green-100 text-green-800",label:"Distributed"},USED:{color:"bg-gray-100 text-gray-800",label:"Used"},EXPIRED:{color:"bg-red-100 text-red-800",label:"Expired"},CANCELLED:{color:"bg-orange-100 text-orange-800",label:"Cancelled"}}[t]||{color:"bg-gray-100 text-gray-800",label:t};return(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:r.label})},_G=()=>{const{batchId:e}=ae(),t=te(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[y,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[N,C]=(0,s.useState)({beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:""}),[S,A]=(0,s.useState)("");(0,s.useEffect)(()=>{k(),E()},[e]),(0,s.useEffect)(()=>{let e=[...o];if(p){const t=p.toLowerCase();e=e.filter(e=>{var r,a;return(null===(r=e.couponCode)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.beneficiaryName)||void 0===a?void 0:a.toLowerCase().includes(t))})}x&&(e=e.filter(e=>e.status===x)),d(e)},[o,p,x]);const k=async()=>{try{const[t,a]=await Promise.all([r(()=>TV.getBatchById(e)),r(()=>TV.getBatchCoupons(e))]);i(null===t||void 0===t?void 0:t.data),l((null===a||void 0===a?void 0:a.data)||[])}catch(t){Ft.error("Failed to load batch details")}},E=async()=>{try{const e=await r(()=>TV.getMedicalSupervisors());m((null===e||void 0===e?void 0:e.data)||[])}catch(e){console.error("Error loading supervisors:",e)}},P=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",O={total:o.length,created:o.filter(e=>"CREATED"===e.status).length,distributed:o.filter(e=>"DISTRIBUTED"===e.status).length,used:o.filter(e=>"USED"===e.status).length,expired:o.filter(e=>"EXPIRED"===e.status).length,cancelled:o.filter(e=>"CANCELLED"===e.status).length};return n||a?(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsx)("button",{onClick:()=>t("/app/admin/coupons"),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:(0,Xm.jsx)(jy,{className:"w-5 h-5"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(null===n||void 0===n?void 0:n.batchName)||"Batch Details"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:null===n||void 0===n?void 0:n.batchCode})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:k,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:async()=>{try{const t=await TV.exportBatchCoupons(e),r=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=r,a.setAttribute("download","batch_".concat(null===n||void 0===n?void 0:n.batchCode,"_coupons.csv")),document.body.appendChild(a),a.click(),a.remove(),Ft.success("Export completed")}catch(t){Ft.error("Failed to export")}},children:[(0,Xm.jsx)(Hy,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,Xm.jsx)(kG,{className:"w-6 h-6 text-white"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Discount"}),(0,Xm.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:["PERCENTAGE"===(null===n||void 0===n?void 0:n.discountType)&&"".concat(null===n||void 0===n?void 0:n.discountValue,"%"),"FIXED_AMOUNT"===(null===n||void 0===n?void 0:n.discountType)&&"$".concat(null===n||void 0===n?void 0:n.discountValue),"FULL_COVERAGE"===(null===n||void 0===n?void 0:n.discountType)&&"Full Coverage"]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Created"}),(0,Xm.jsx)("p",{className:"text-lg font-semibold",children:P(null===n||void 0===n?void 0:n.createdAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Beneficiary Type"}),(0,Xm.jsx)("p",{className:"text-lg font-semibold",children:"MEDICAL_SUPERVISOR"===(null===n||void 0===n?void 0:n.beneficiaryType)?"Supervisors":"Patients"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,Xm.jsx)(RG,{status:null===n||void 0===n?void 0:n.status})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Total"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold",children:O.total})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-blue-600",children:"Created"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:O.created})]}),(0,Xm.jsxs)("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-green-600",children:"Distributed"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-green-700",children:O.distributed})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg border p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Used"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:O.used})]}),(0,Xm.jsxs)("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-red-600",children:"Expired"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-red-700",children:O.expired})]}),(0,Xm.jsxs)("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-4",children:[(0,Xm.jsx)("p",{className:"text-sm text-orange-600",children:"Cancelled"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:O.cancelled})]})]}),(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,Xm.jsxs)("div",{className:"flex-1 relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search coupons...",value:p,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Statuses"}),(0,Xm.jsx)("option",{value:"CREATED",children:"Created"}),(0,Xm.jsx)("option",{value:"DISTRIBUTED",children:"Distributed"}),(0,Xm.jsx)("option",{value:"USED",children:"Used"}),(0,Xm.jsx)("option",{value:"EXPIRED",children:"Expired"}),(0,Xm.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]}),(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Coupon Code"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Beneficiary"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expires"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===c.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:a?(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(pg,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(jp,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No coupons found"})]})})}):c.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("span",{className:"text-sm font-mono font-medium",children:e.couponCode}),(0,Xm.jsx)("button",{onClick:()=>{return t=e.couponCode,navigator.clipboard.writeText(t),void Ft.success("Copied");var t},className:"ml-2 text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Cg,{className:"w-4 h-4"})})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.beneficiaryName||(0,Xm.jsx)("span",{className:"text-gray-400",children:"Unassigned"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(RG,{status:e.status})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.expiresAt)}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["CREATED"===e.status&&(0,Xm.jsx)("button",{onClick:()=>{w(e),g(!0)},className:"text-blue-400 hover:text-blue-600",children:(0,Xm.jsx)(qv,{className:"w-5 h-5"})}),["CREATED","DISTRIBUTED"].includes(e.status)&&(0,Xm.jsx)("button",{onClick:()=>{w(e),b(!0)},className:"text-red-400 hover:text-red-600",children:(0,Xm.jsx)(eg,{className:"w-5 h-5"})})]})})]},e.id))})]})})]}),(0,Xm.jsx)($y,{isOpen:y,onClose:()=>{g(!1),w(null)},title:"Distribute Coupon",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Distribute ",(0,Xm.jsx)("span",{className:"font-mono font-medium",children:null===j||void 0===j?void 0:j.couponCode})," to:"]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beneficiary Type"}),(0,Xm.jsxs)("select",{value:N.beneficiaryType,onChange:e=>C((0,ot.A)((0,ot.A)({},N),{},{beneficiaryType:e.target.value,beneficiaryId:""})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Xm.jsx)("option",{value:"MEDICAL_SUPERVISOR",children:"Medical Supervisor"}),(0,Xm.jsx)("option",{value:"PATIENT",children:"Patient"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select ","MEDICAL_SUPERVISOR"===N.beneficiaryType?"Supervisor":"Patient"]}),(0,Xm.jsxs)("select",{value:N.beneficiaryId,onChange:e=>C((0,ot.A)((0,ot.A)({},N),{},{beneficiaryId:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Xm.jsx)("option",{value:"",children:"Select..."}),"MEDICAL_SUPERVISOR"===N.beneficiaryType&&u.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.fullName," (",e.email,")"]},e.id))]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:async()=>{if(N.beneficiaryId)try{await r(()=>TV.distributeCoupon(j.id,N)),Ft.success("Coupon distributed successfully"),g(!1),w(null),C({beneficiaryType:"MEDICAL_SUPERVISOR",beneficiaryId:""}),await k()}catch(e){Ft.error("Failed to distribute coupon")}else Ft.error("Please select a beneficiary")},disabled:!N.beneficiaryId,children:[(0,Xm.jsx)(qv,{className:"w-4 h-4 mr-2"}),"Distribute"]})]})]})}),(0,Xm.jsx)(Yy,{isOpen:v,onClose:()=>{b(!1),w(null),A("")},onConfirm:async()=>{if(S.trim())try{await r(()=>TV.cancelCoupon(j.id,S)),Ft.success("Coupon cancelled"),b(!1),w(null),A(""),await k()}catch(e){Ft.error("Failed to cancel coupon")}else Ft.error("Please provide a reason")},title:"Cancel Coupon",message:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Cancel coupon ",(0,Xm.jsx)("span",{className:"font-mono font-medium",children:null===j||void 0===j?void 0:j.couponCode}),"?"]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),(0,Xm.jsx)("textarea",{value:S,onChange:e=>A(e.target.value),rows:3,placeholder:"Cancellation reason...",className:"w-full px-3 py-2 border rounded-lg"})]})]}),confirmText:"Cancel Coupon",confirmVariant:"danger",disabled:!S.trim()})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(kG,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,Xm.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Batch Not Found"}),(0,Xm.jsx)(Zm,{variant:"primary",onClick:()=>t("/app/admin/coupons"),children:"Back to Coupons"})]})},MG=()=>{const e=te(),{user:t}=Jd(),{execute:r,loading:a}=Iy(),{showToast:n}=YV(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)({total:0,unread:0}),[m,p]=(0,s.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,userVerifications:!0,complaintAlerts:!0,paymentNotifications:!0,systemNotifications:!0,caseUpdates:!0}),[h,x]=(0,s.useState)(10),[f,y]=(0,s.useState)(""),[g,v]=(0,s.useState)("all"),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)("all"),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1),[D,R]=(0,s.useState)({title:"",message:"",targetType:"all",priority:"medium"});(0,s.useEffect)(()=>{_(),M()},[]),(0,s.useEffect)(()=>{I(),x(10)},[i,f,g,b,w,O]);const _=async()=>{try{const e=await r(()=>hp.getNotifications(t.id));o(e||[]);const a=e||[],n={total:a.length,unread:a.filter(e=>!1===e.isRead).length};u(n)}catch(e){console.error("Failed to load notifications:",e),n("Failed to load notifications","error")}},M=async()=>{try{const e=await r(()=>hp.getNotificationSettings());e&&p(t=>(0,ot.A)((0,ot.A)({},t),e))}catch(e){console.error("Failed to load notification settings:",e)}},I=()=>{let e=i;if(f&&(e=e.filter(e=>{var t,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))})),"all"!==g&&(e=e.filter(e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===g})),"all"!==b){const t="read"===b;e=e.filter(e=>e.isRead===t)}"all"!==w&&(e=e.filter(e=>{var t;return(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())===w})),O&&(e=e.filter(e=>{var t,r;return"critical"===(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())||"high"===(null===(r=e.priority)||void 0===r?void 0:r.toLowerCase())})),c(e)},L=async(e,t)=>{try{await r(()=>hp.markNotificationAsRead(e,t)),o(t=>t.map(t=>e.includes(t.id)?(0,ot.A)((0,ot.A)({},t),{},{isRead:!0}):t)),_()}catch(a){console.error("Failed to mark notifications as read:",a),n("Failed to mark notification as read","error")}},F=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verification":case"doctor":return(0,Xm.jsx)(Sp,{className:"w-5 h-5 text-blue-500"});case"supervisor":return(0,Xm.jsx)(PV,{className:"w-5 h-5 text-indigo-500"});case"complaint":return(0,Xm.jsx)(wp,{className:"w-5 h-5 text-red-500"});case"case":return(0,Xm.jsx)(gp,{className:"w-5 h-5 text-green-500"});case"payment":return(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-purple-500"});case"user":return(0,Xm.jsx)(vp,{className:"w-5 h-5 text-teal-500"});case"coupon":return(0,Xm.jsx)(jp,{className:"w-5 h-5 text-pink-500"});case"system":return(0,Xm.jsx)($m,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-gray-500"})}},q=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"verification":case"doctor":return"bg-blue-100 text-blue-800";case"supervisor":return"bg-indigo-100 text-indigo-800";case"complaint":return"bg-red-100 text-red-800";case"case":return"bg-green-100 text-green-800";case"payment":return"bg-purple-100 text-purple-800";case"user":return"bg-teal-100 text-teal-800";case"coupon":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},z=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return(0,Xm.jsx)(Eg,{className:"w-4 h-4"});case"high":return(0,Xm.jsx)(wp,{className:"w-4 h-4"});case"medium":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Sg,{className:"w-4 h-4"})}},U=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},B=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==(new Date).getFullYear()?"numeric":void 0})},V=l.slice(0,h),H=h<l.length,W=i.filter(e=>{var t,r;return"critical"===(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())||"high"===(null===(r=e.priority)||void 0===r?void 0:r.toLowerCase())}).length;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage system notifications and alerts"})]}),(0,Xm.jsxs)("div",{className:"flex gap-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(qv,{className:"w-4 h-4"}),onClick:()=>P(!0),children:"Send Notification"}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"}),onClick:()=>k(!0),children:"Settings"})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Notifications",value:d.total,icon:(0,Xm.jsx)(Vm,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Unread",value:d.unread,change:d.unread>0?"".concat(d.unread," pending"):"All caught up",icon:(0,Xm.jsx)(py,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Important",value:W,change:W>0?"Requires attention":"No urgent items",icon:(0,Xm.jsx)(wp,{className:"w-6 h-6"})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex gap-3 items-end flex-wrap",children:[(0,Xm.jsxs)("div",{className:"flex-1 min-w-64",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search notifications...",value:f,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,Xm.jsxs)(Zm,{className:"".concat(O?"bg-amber-500 hover:bg-amber-600 text-white shadow-md":"bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200"),onClick:()=>{T(!O),O||(v("all"),j("all"),N("all"),y(""))},children:[(0,Xm.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Important (",W,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>S(!C),children:"Filters"}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:_,disabled:a,children:"Refresh"}),d.unread>0&&(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{try{await r(()=>hp.markAllNotificationsAsRead(t.id)),o(e=>e.map(e=>(0,ot.A)((0,ot.A)({},e),{},{isRead:!0}))),_(),n("All notifications marked as read","success")}catch(e){console.error("Failed to mark all notifications as read:",e),n("Failed to mark all as read","error")}},children:"Mark All as Read"})]}),C&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),(0,Xm.jsx)("option",{value:"verification",children:"Verification"}),(0,Xm.jsx)("option",{value:"complaint",children:"Complaint"}),(0,Xm.jsx)("option",{value:"case",children:"Case"}),(0,Xm.jsx)("option",{value:"payment",children:"Payment"}),(0,Xm.jsx)("option",{value:"user",children:"User"}),(0,Xm.jsx)("option",{value:"supervisor",children:"Supervisor"}),(0,Xm.jsx)("option",{value:"coupon",children:"Coupon"}),(0,Xm.jsx)("option",{value:"system",children:"System"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"unread",children:"Unread"}),(0,Xm.jsx)("option",{value:"read",children:"Read"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Xm.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"low",children:"Low"})]})]})]})]})}),(0,Xm.jsx)(My,{title:"Notifications (".concat(V.length,"/").concat(l.length,")"),children:(0,Xm.jsx)("div",{className:"space-y-3",children:a&&0===i.length?Array.from({length:5}).map((e,t)=>(0,Xm.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 animate-pulse",children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,Xm.jsx)("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-2"}),(0,Xm.jsx)("div",{className:"h-3 bg-gray-100 rounded w-1/4"})]})]})},t)):V.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[V.map(t=>(0,Xm.jsx)("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md cursor-pointer ".concat(t.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 hover:border-blue-300"),onClick:()=>(t=>{var r;switch(t.isRead||L([t.id],[t.receiverId]),null===(r=t.type)||void 0===r?void 0:r.toLowerCase()){case"verification":case"doctor":e("/app/admin/doctors/verification");break;case"supervisor":e("/app/admin/supervisors");break;case"complaint":t.relatedId?e("/app/admin/complaints/".concat(t.relatedId)):e("/app/admin/complaints");break;case"case":t.relatedId?e("/app/admin/cases/".concat(t.relatedId)):e("/app/admin/cases");break;case"payment":e("/app/admin/payments");break;case"user":e("/app/admin/users");break;case"coupon":e("/app/admin/coupons")}})(t),children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ".concat(t.isRead?"bg-gray-100":"bg-blue-100"),children:F(t.type)}),(0,Xm.jsx)("div",{className:"flex-1 min-w-0",children:(0,Xm.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:t.title}),(0,Xm.jsx)(lp,{className:q(t.type),children:t.type}),t.priority&&(0,Xm.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ".concat(U(t.priority)),children:[z(t.priority),(0,Xm.jsx)("span",{children:t.priority})]})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700 mt-2 break-words whitespace-pre-wrap overflow-hidden",children:t.message}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[(0,Xm.jsx)("span",{children:B(t.createdAt)}),!t.isRead&&(0,Xm.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-medium",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Unread"]})]})]})})}),(0,Xm.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2",children:!t.isRead&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:e=>{e.stopPropagation(),L([t.id],[t.receiverId])},title:"Mark as read"})})]})},t.id)),H&&(0,Xm.jsx)("div",{className:"pt-4 flex justify-center",children:(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>{x(e=>e+10)},icon:(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),children:["Load More (",l.length-h," ","remaining)"]})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Vm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:f||"all"!==g||"all"!==b||"all"!==w?"Try adjusting your search or filters":"You don't have any notifications yet"})]})})}),(0,Xm.jsx)($y,{isOpen:A,onClose:()=>k(!1),title:"Notification Settings",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Customize how you receive notifications about system events and alerts."}),(0,Xm.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in your browser"},{key:"userVerifications",label:"User Verifications",description:"Get notified about pending doctor/supervisor verifications"},{key:"complaintAlerts",label:"Complaint Alerts",description:"Receive alerts about new complaints"},{key:"paymentNotifications",label:"Payment Notifications",description:"Get notified about payment events"},{key:"caseUpdates",label:"Case Updates",description:"Receive updates on case status changes"},{key:"systemNotifications",label:"System Notifications",description:"Receive system health and maintenance alerts"}].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:m[e.key],onChange:t=>p((0,ot.A)((0,ot.A)({},m),{},{[e.key]:t.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},e.key))}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:()=>(async e=>{try{await r(()=>hp.updateNotificationSettings(e)),p(e),k(!1),n("Settings updated successfully","success")}catch(t){console.error("Failed to update notification settings:",t),n("Failed to update settings","error")}})(m),loading:a,children:"Save Settings"})]})]})}),(0,Xm.jsx)($y,{isOpen:E,onClose:()=>P(!1),title:"Send System Notification",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Send a notification to users across the system."}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,Xm.jsx)("input",{type:"text",value:D.title,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{title:e.target.value})),placeholder:"Notification title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),(0,Xm.jsx)("textarea",{value:D.message,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{message:e.target.value})),placeholder:"Notification message",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),(0,Xm.jsxs)("select",{value:D.targetType,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{targetType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Users"}),(0,Xm.jsx)("option",{value:"patients",children:"Patients Only"}),(0,Xm.jsx)("option",{value:"doctors",children:"Doctors Only"}),(0,Xm.jsx)("option",{value:"supervisors",children:"Supervisors Only"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Xm.jsxs)("select",{value:D.priority,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"low",children:"Low"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:async()=>{try{if(!D.title||!D.message)return void n("Please fill in all required fields","error");await r(()=>hp.sendSystemNotification({title:D.title,message:D.message,targetType:D.targetType,priority:D.priority,type:"SYSTEM"})),n("Notification sent successfully","success"),P(!1),R({title:"",message:"",targetType:"all",priority:"medium"})}catch(e){console.error("Failed to send notification:",e),n("Failed to send notification","error")}},loading:a,icon:(0,Xm.jsx)(qv,{className:"w-4 h-4"}),children:"Send Notification"})]})]})})]})},IG=()=>{var e;const t=te(),r=tt(),a=nt(Gd),n=nt(Wd),[i,o]=s.useState([]),[l,c]=s.useState(!0);(0,s.useEffect)(()=>{d()},[]);const d=async()=>{try{c(!0),await Promise.all([r(dd()),r(cd()),u()])}catch(e){console.error("Failed to load dashboard:",e)}finally{c(!1)}},u=async()=>{try{const e=await ld.getRecentActivity(10);o(e||[])}catch(e){console.error("Failed to load activity:",e)}},m=e=>{switch(e){case"CASE_SUBMITTED":return(0,Xm.jsx)(gp,{className:"w-4 h-4 text-blue-500"});case"PATIENT_ASSIGNED":return(0,Xm.jsx)(vp,{className:"w-4 h-4 text-green-500"});case"APPOINTMENT_SCHEDULED":return(0,Xm.jsx)(bp,{className:"w-4 h-4 text-purple-500"});case"COUPON_REDEEMED":return(0,Xm.jsx)(jp,{className:"w-4 h-4 text-orange-500"});default:return(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-gray-500"})}},p=e=>{const t=new Date(e),r=new Date-t,a=Math.floor(r/6e4),n=Math.floor(r/36e5),s=Math.floor(r/864e5);return a<60?"".concat(a,"m ago"):n<24?"".concat(n,"h ago"):s<7?"".concat(s,"d ago"):t.toLocaleDateString()};return l?(0,Xm.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white shadow-lg",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-3xl font-bold",children:["Welcome back, ",(null===n||void 0===n?void 0:n.fullName)||"Supervisor","!"]}),(0,Xm.jsx)("p",{className:"mt-2 text-orange-100",children:"Here's your medical supervision overview"}),(0,Xm.jsxs)("div",{className:"mt-3 flex items-center space-x-4 text-sm",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(sp,{status:(null===n||void 0===n?void 0:n.verificationStatus)||"PENDING",size:"sm"}),(0,Xm.jsx)("span",{className:"ml-2",children:null===n||void 0===n?void 0:n.verificationStatus})]}),(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 mr-1"}),(0,Xm.jsxs)("span",{children:[a.activePatientCount,"/",a.maxPatientsLimit," Patients"]})]})]})]}),(0,Xm.jsxs)("div",{className:"hidden md:flex space-x-3",children:[(0,Xm.jsx)(Zm,{variant:"light",icon:(0,Xm.jsx)(Np,{}),onClick:()=>t("/app/supervisor/patients/create"),children:"Add Patient"}),(0,Xm.jsx)(Zm,{variant:"light",icon:(0,Xm.jsx)(gp,{}),onClick:()=>t("/app/supervisor/cases"),children:"View Cases"})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Active Patients",value:a.activePatientCount,icon:(0,Xm.jsx)(vp,{className:"w-6 h-6"}),change:"".concat(a.maxPatientsLimit-a.activePatientCount," slots left"),changeType:"info",iconColor:"bg-blue-100 text-blue-600",onClick:()=>t("/app/supervisor/patients")}),(0,Xm.jsx)(Ry,{title:"Active Cases",value:a.activeCases,icon:(0,Xm.jsx)(gp,{className:"w-6 h-6"}),change:"".concat(a.completedCases," completed"),changeType:"success",iconColor:"bg-green-100 text-green-600",onClick:()=>t("/app/supervisor/cases")}),(0,Xm.jsx)(Ry,{title:"Upcoming Appointments",value:a.upcomingAppointments,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),change:"".concat(a.totalAppointments," total"),changeType:"info",iconColor:"bg-purple-100 text-purple-600",onClick:()=>t("/app/supervisor/appointments")}),(0,Xm.jsx)(Ry,{title:"Available Coupons",value:a.availableCoupons,icon:(0,Xm.jsx)(jp,{className:"w-6 h-6"}),change:"".concat(a.usedCoupons," used"),changeType:"warning",iconColor:"bg-orange-100 text-orange-600",onClick:()=>t("/app/supervisor/coupons")})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(My,{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Cases Submitted"}),(0,Xm.jsx)("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.totalCasesSubmitted})]}),(0,Xm.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,Xm.jsx)(Kp,{className:"w-6 h-6 text-indigo-600"})})]})}),(0,Xm.jsx)(My,{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Coupons Issued"}),(0,Xm.jsx)("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.totalCouponsIssued}),(0,Xm.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["$",(null===(e=a.totalCouponValue)||void 0===e?void 0:e.toFixed(2))||"0.00"," value"]})]}),(0,Xm.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,Xm.jsx)(jp,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,Xm.jsx)(My,{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Payments Processed"}),(0,Xm.jsx)("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.totalPaymentsProcessed})]}),(0,Xm.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Xm.jsx)(Up,{className:"w-6 h-6 text-green-600"})})]})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsxs)(My,{className:"lg:col-span-2",title:"Recent Activity",padding:!1,children:[(0,Xm.jsx)("div",{className:"divide-y divide-gray-200",children:i.length>0?i.map((e,r)=>(0,Xm.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 mt-1",children:m(e.activityType)}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:p(e.timestamp)})]}),e.relatedEntityId&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Bp,{className:"w-4 h-4"}),onClick:()=>{"CASE"===e.relatedEntityType?t("/app/supervisor/cases/".concat(e.relatedEntityId)):"PATIENT"===e.relatedEntityType&&t("/app/supervisor/patients/".concat(e.relatedEntityId))}})]})},r)):(0,Xm.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,Xm.jsx)(Qp,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,Xm.jsx)("p",{children:"No recent activity"})]})}),i.length>0&&(0,Xm.jsx)("div",{className:"p-4 bg-gray-50 border-t",children:(0,Xm.jsx)(Zm,{variant:"ghost",fullWidth:!0,onClick:()=>t("/app/supervisor/cases"),children:"View All Activity"})})]}),(0,Xm.jsxs)(My,{title:"Quick Actions",children:[(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,icon:(0,Xm.jsx)(vp,{}),onClick:()=>t("/app/supervisor/patients/create"),children:"Assign New Patient"}),(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,icon:(0,Xm.jsx)(gp,{}),onClick:()=>t("/app/supervisor/patients"),children:"Submit Case"}),(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,icon:(0,Xm.jsx)(jp,{}),onClick:()=>t("/app/supervisor/coupons"),children:"Manage Coupons"}),(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,icon:(0,Xm.jsx)(bp,{}),onClick:()=>t("/app/supervisor/appointments"),children:"View Appointments"})]}),"VERIFIED"!==(null===n||void 0===n?void 0:n.verificationStatus)&&(0,Xm.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Account Verification Pending"}),(0,Xm.jsx)("p",{className:"mt-1 text-xs text-yellow-700",children:"Your account is awaiting admin verification. Some features may be limited."}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",className:"mt-2 text-yellow-800",onClick:()=>t("/app/supervisor/profile"),children:"View Profile"})]})]})})]})]})]})},LG=zm("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),FG=zm("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),qG=e=>{let{onClose:t,onSuccess:r}=e;const[a,n]=(0,s.useState)("create"),[i,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)({fullName:"",email:"",phoneNumber:"",dateOfBirth:"",gender:"",address:"",city:"",country:"",state:"",zipCode:"",bloodType:"",allergies:"",chronicConditions:"",currentMedications:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",notes:"",autoAssignToSupervisor:!0}),[m,p]=(0,s.useState)({patientId:"",notes:""}),[h,x]=(0,s.useState)({patientEmail:"",assignmentNotes:"",patientFullName:""});return(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[(0,Xm.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Add Patient"}),(0,Xm.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Xm.jsx)("div",{className:"border-b",children:(0,Xm.jsxs)("div",{className:"flex px-6",children:[(0,Xm.jsx)("button",{className:"px-4 py-3 font-medium border-b-2 transition-colors ".concat("create"===a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>n("create"),children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(LG,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Create New Patient"})]})}),(0,Xm.jsx)("button",{className:"px-4 py-3 font-medium border-b-2 transition-colors ".concat("assignById"===a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>n("assignById"),children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(FG,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Assign by ID"})]})}),(0,Xm.jsx)("button",{className:"px-4 py-3 font-medium border-b-2 transition-colors ".concat("assignByEmail"===a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>n("assignByEmail"),children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(py,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Assign by Email"})]})})]})}),(0,Xm.jsxs)("div",{className:"p-6",children:[l&&(0,Xm.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-red-400 mr-2"}),(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:l})]})}),"create"===a&&(0,Xm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o(!0),c(null),await ld.createAndAssignPatient(d),r()}catch(SY){var t,a;c((null===(t=SY.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to create and assign patient")}finally{o(!1)}},className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.fullName,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{fullName:e.target.value})),placeholder:"e.g., Sarah Martinez"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",{type:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.email,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{email:e.target.value})),placeholder:"patient@example.com"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Xm.jsx)("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.phoneNumber,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{phoneNumber:e.target.value})),placeholder:"+1234567890"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,Xm.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.dateOfBirth,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{dateOfBirth:e.target.value}))})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,Xm.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.gender,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{gender:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"Select..."}),(0,Xm.jsx)("option",{value:"MALE",children:"Male"}),(0,Xm.jsx)("option",{value:"FEMALE",children:"Female"}),(0,Xm.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Type"}),(0,Xm.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.bloodType,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{bloodType:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"Select..."}),(0,Xm.jsx)("option",{value:"A_POSITIVE",children:"A+"}),(0,Xm.jsx)("option",{value:"A_NEGATIVE",children:"A-"}),(0,Xm.jsx)("option",{value:"B_POSITIVE",children:"B+"}),(0,Xm.jsx)("option",{value:"B_NEGATIVE",children:"B-"}),(0,Xm.jsx)("option",{value:"AB_POSITIVE",children:"AB+"}),(0,Xm.jsx)("option",{value:"AB_NEGATIVE",children:"AB-"}),(0,Xm.jsx)("option",{value:"O_POSITIVE",children:"O+"}),(0,Xm.jsx)("option",{value:"O_NEGATIVE",children:"O-"})]})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"md:col-span-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.address,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{address:e.target.value})),placeholder:"789 Pine St"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.city,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{city:e.target.value})),placeholder:"Los Angeles"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.state,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{state:e.target.value})),placeholder:"CA"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.country,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{country:e.target.value})),placeholder:"USA"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zip Code"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.zipCode,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{zipCode:e.target.value})),placeholder:"90001"})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medical Information"}),(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),(0,Xm.jsx)("textarea",{rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.allergies,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{allergies:e.target.value})),placeholder:"e.g., Penicillin, Peanuts"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chronic Conditions"}),(0,Xm.jsx)("textarea",{rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.chronicConditions,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{chronicConditions:e.target.value})),placeholder:"e.g., Diabetes Type 2, Hypertension"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications"}),(0,Xm.jsx)("textarea",{rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.currentMedications,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{currentMedications:e.target.value})),placeholder:"e.g., Metformin, Lisinopril"})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emergency Contact"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.emergencyContactName,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{emergencyContactName:e.target.value})),placeholder:"Carlos Martinez"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),(0,Xm.jsx)("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.emergencyContactPhone,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{emergencyContactPhone:e.target.value})),placeholder:"+1234567893"})]}),(0,Xm.jsxs)("div",{className:"md:col-span-2",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.emergencyContactRelationship,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{emergencyContactRelationship:e.target.value})),placeholder:"e.g., Spouse, Parent, Sibling"})]})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Notes"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Xm.jsx)("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d.notes,onChange:e=>u((0,ot.A)((0,ot.A)({},d),{},{notes:e.target.value})),placeholder:"Any special notes about this patient or assignment..."})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",loading:i,disabled:i,children:"Create & Assign Patient"})]})]}),"assignById"===a&&(0,Xm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o(!0),c(null),await ld.assignPatientById(m.patientId,m.notes),r()}catch(SY){var t,a;c((null===(t=SY.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to assign patient")}finally{o(!1)}},className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Xm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("strong",{children:"Note:"})," This option assigns an existing patient from the system to you using their Patient ID."]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Patient ID ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",{type:"number",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:m.patientId,onChange:e=>p((0,ot.A)((0,ot.A)({},m),{},{patientId:e.target.value})),placeholder:"Enter patient ID (e.g., 50)"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter the unique ID of an existing patient in the system"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Notes"}),(0,Xm.jsx)("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:m.notes,onChange:e=>p((0,ot.A)((0,ot.A)({},m),{},{notes:e.target.value})),placeholder:"Any notes about this assignment (e.g., High priority patient)..."})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",loading:i,disabled:i,children:"Assign Patient"})]})]}),"assignByEmail"===a&&(0,Xm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o(!0),c(null),await ld.assignPatientByEmail(h.patientEmail,h.assignmentNotes),r()}catch(SY){var t,a;c((null===(t=SY.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to assign patient")}finally{o(!1)}},className:"space-y-4",children:[(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Xm.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Xm.jsx)("strong",{children:"Note:"})," This option assigns an existing patient from the system to you using their email address."]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Patient Email ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",{type:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:h.patientEmail,onChange:e=>x((0,ot.A)((0,ot.A)({},h),{},{patientEmail:e.target.value})),placeholder:"patient@example.com"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter the email of an existing patient in the system"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Full Name (Optional)"}),(0,Xm.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:h.patientFullName,onChange:e=>x((0,ot.A)((0,ot.A)({},h),{},{patientFullName:e.target.value})),placeholder:"Alice Johnson"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Enter the patient's name for verification"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Notes"}),(0,Xm.jsx)("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:h.assignmentNotes,onChange:e=>x((0,ot.A)((0,ot.A)({},h),{},{assignmentNotes:e.target.value})),placeholder:"Any notes about this assignment (e.g., Patient requested transfer)..."})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",loading:i,disabled:i,children:"Assign Patient"})]})]})]})]})})},zG=()=>{const e=te(),t=tt(),r=nt(Yd)||[],[a,n]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)("all"),[m,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h()},[]);const h=async()=>{try{n(!0),o(null);const e=t(ud());ud.rejected.match(e)&&o(e.payload||"Failed to load patients")}catch(i){console.error("Failed to load patients:",i),o("Failed to load patients. Please try again.")}finally{n(!1)}},x=(r||[]).filter(e=>{var t,r,a,n,s;const i=(null===(t=e.patientName)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(r=e.patientEmail)||void 0===r?void 0:r.toLowerCase().includes(l.toLowerCase()))||(null===(a=e.patientFirstName)||void 0===a?void 0:a.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.patientLastName)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null===(s=e.patientId)||void 0===s?void 0:s.toString().includes(l.toLowerCase())),o="all"===d||"ACTIVE"===d&&"ACTIVE"===e.assignmentStatus||"TERMINATED"===d&&"TERMINATED"===e.assignmentStatus;return i&&o});return a?(0,Xm.jsx)("div",{className:"flex justify-center items-center min-h-96",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Patients"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your assigned patients and their medical cases"})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Np,{}),onClick:()=>p(!0),children:"Add Patient"})]}),i&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),(0,Xm.jsx)("div",{className:"ml-3",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:i})}),(0,Xm.jsx)("div",{className:"ml-auto pl-3",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:h,children:"Retry"})})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:l,onChange:e=>c(e.target.value)})]}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)($p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none",value:d,onChange:e=>u(e.target.value),children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Xm.jsx)("option",{value:"TERMINATED",children:"Terminated"})]})]}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 mr-2"}),x.length," of ",r.length," patients"]})]})}),(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length>0?x.map(t=>(0,Xm.jsx)(My,{className:"hover:shadow-lg transition-shadow",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)(vp,{className:"w-6 h-6 text-primary-600"})}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:t.patientName||(t.patientFirstName||t.patientLastName?"".concat(t.patientFirstName||""," ").concat(t.patientLastName||"").trim():"Patient #".concat(t.patientId))}),t.patientEmail?(0,Xm.jsx)("p",{className:"text-sm text-gray-500 truncate",children:t.patientEmail}):(0,Xm.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Email not available"}),t.patientPhoneNumber&&(0,Xm.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,Xm.jsx)(gy,{className:"w-3 h-3 mr-1"}),t.patientPhoneNumber]})]})]}),(0,Xm.jsx)(sp,{status:t.assignmentStatus||"ACTIVE",size:"sm"})]}),t.assignedAt&&(0,Xm.jsx)("div",{className:"text-xs text-gray-500 bg-gray-50 rounded p-2",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(bp,{className:"w-3 h-3 mr-1"}),(0,Xm.jsx)("span",{className:"font-medium",children:"Assigned:"}),(0,Xm.jsx)("span",{className:"ml-1",children:new Date(t.assignedAt).toLocaleDateString()})]})}),(0,Xm.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{}),fullWidth:!0,onClick:()=>e("/app/supervisor/patients/".concat(t.patientId)),children:"View Details"}),(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(gp,{}),fullWidth:!0,onClick:()=>e("/app/supervisor/patients/".concat(t.patientId,"/cases/create")),children:"Submit Case"})]}),t.assignmentNotes&&(0,Xm.jsxs)("div",{className:"text-xs text-gray-600 pt-2 border-t",children:[(0,Xm.jsx)("strong",{className:"text-gray-700",children:"Notes:"})," ",t.assignmentNotes]})]})},t.id)):(0,Xm.jsx)("div",{className:"col-span-full",children:(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(vp,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patients found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:l||"all"!==d?"Try adjusting your filters":"Get started by adding your first patient"}),!l&&"all"===d&&(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Np,{}),onClick:()=>p(!0),children:"Add First Patient"})]})})}),m&&(0,Xm.jsx)(qG,{onClose:()=>p(!1),onSuccess:()=>{p(!1),h()}})]})},UG=()=>{const e=te(),[t,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)({patientId:"",notes:""});return(0,Xm.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",icon:(0,Xm.jsx)(jy,{}),onClick:()=>e("/app/supervisor/patients")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Assign Patient"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Add a new patient to your supervision"})]})]}),(0,Xm.jsx)(My,{title:"Patient Information",children:(0,Xm.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{r(!0),await ld.assignPatient(a.patientId,a.notes),e("/app/supervisor/patients")}catch(i){var n,s;console.error("Failed to assign patient:",i),alert((null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to assign patient")}finally{r(!1)}},className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient ID *"}),(0,Xm.jsx)("input",{type:"number",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",value:a.patientId,onChange:e=>n((0,ot.A)((0,ot.A)({},a),{},{patientId:e.target.value})),placeholder:"Enter patient ID"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"The unique ID of the patient in the system"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Notes"}),(0,Xm.jsx)("textarea",{rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",value:a.notes,onChange:e=>n((0,ot.A)((0,ot.A)({},a),{},{notes:e.target.value})),placeholder:"Add any notes about this assignment..."})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>e("/app/supervisor/patients"),disabled:t,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",icon:(0,Xm.jsx)(LG,{}),loading:t,disabled:t,children:"Assign Patient"})]})]})})]})},BG=()=>{const{patientId:e}=ae(),t=te(),[r,a]=(0,s.useState)(null),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{u()},[e]);const u=async()=>{try{d(!0);const[t,r,n]=await Promise.all([ld.getPatientDetails(e),ld.getCasesByPatient(e),ld.getPatientCoupons(e)]);a(t.data),i(r.data||[]),l(n.data||[])}catch(t){console.error("Failed to load patient data:",t)}finally{d(!1)}};return c?(0,Xm.jsx)("div",{className:"flex justify-center p-8",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",icon:(0,Xm.jsx)(jy,{}),onClick:()=>t("/app/supervisor/patients")}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===r||void 0===r?void 0:r.patientName}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:null===r||void 0===r?void 0:r.patientEmail})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Np,{}),onClick:()=>t("/app/supervisor/patients/".concat(e,"/cases/create")),children:"Submit Case"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(My,{title:"Active Cases",icon:(0,Xm.jsx)(gp,{}),children:(0,Xm.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===r||void 0===r?void 0:r.activeCasesCount)||0})}),(0,Xm.jsx)(My,{title:"Total Cases",icon:(0,Xm.jsx)(bp,{}),children:(0,Xm.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===r||void 0===r?void 0:r.totalCasesCount)||0})}),(0,Xm.jsx)(My,{title:"Available Coupons",icon:(0,Xm.jsx)(jp,{}),children:(0,Xm.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:o.filter(e=>"AVAILABLE"===e.status).length})})]}),(0,Xm.jsx)(My,{title:"Recent Cases",children:n.length>0?(0,Xm.jsx)("div",{className:"divide-y",children:n.slice(0,5).map(e=>(0,Xm.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:e.caseTitle}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:e.status})]}),(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",onClick:()=>t("/app/supervisor/cases/".concat(e.id)),children:"View"})]},e.id))}):(0,Xm.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No cases yet"})}),(0,Xm.jsx)(My,{title:"Available Coupons",children:o.filter(e=>"AVAILABLE"===e.status).length>0?(0,Xm.jsx)("div",{className:"space-y-3",children:o.filter(e=>"AVAILABLE"===e.status).map(e=>(0,Xm.jsx)("div",{className:"p-4 border rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:e.couponCode}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.discountAmount," - Expires ",new Date(e.expiresAt).toLocaleDateString()]})]}),(0,Xm.jsx)(sp,{status:e.status,size:"sm"})]})},e.id))}):(0,Xm.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No available coupons"})})]})},VG=()=>{const e=te(),t=tt(),r=nt(Kd)||[],a=nt(Yd)||[],[n,i]=(0,s.useState)(!0),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)({patientId:"",status:""}),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(""),[j,w]=(0,s.useState)(!1);(0,s.useEffect)(()=>{N()},[]);const N=async()=>{try{i(!0),l(null);const[e,r]=await Promise.all([t(md()),t(ud())]);md.rejected.match(e)&&l(e.payload||"Failed to load cases")}catch(o){console.error("Failed to load data:",o),l("Failed to load cases. Please try again.")}finally{i(!1)}},C=(r||[]).filter(e=>{var t,r;return(null===(t=e.caseTitle)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.patientName)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))}),S={total:r.length,pending:r.filter(e=>"PENDING"===e.status||"SUBMITTED"===e.status).length,inProgress:r.filter(e=>"IN_PROGRESS"===e.status||"ASSIGNED"===e.status).length,completed:r.filter(e=>"COMPLETED"===e.status||"CLOSED"===e.status).length},A=e=>{switch(e){case"CRITICAL":return"text-red-600 bg-red-50";case"HIGH":return"text-orange-600 bg-orange-50";case"MEDIUM":return"text-yellow-600 bg-yellow-50";case"LOW":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}};return n?(0,Xm.jsx)("div",{className:"flex justify-center p-8",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"flex justify-between items-start",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"All Cases"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and track cases for your patients"})]})}),o&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(oy,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),(0,Xm.jsx)("div",{className:"ml-3",children:(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:o})}),(0,Xm.jsx)("div",{className:"ml-auto pl-3",children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:N,children:"Retry"})})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xm.jsx)(My,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Total Cases"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]}),(0,Xm.jsx)(gp,{className:"w-8 h-8 text-blue-600"})]})}),(0,Xm.jsx)(My,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.pending})]}),(0,Xm.jsx)(bp,{className:"w-8 h-8 text-yellow-600"})]})}),(0,Xm.jsx)(My,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"In Progress"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.inProgress})]}),(0,Xm.jsx)(oy,{className:"w-8 h-8 text-orange-600"})]})}),(0,Xm.jsx)(My,{className:"bg-gradient-to-br from-green-50 to-green-100",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"}),(0,Xm.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.completed})]}),(0,Xm.jsx)(gp,{className:"w-8 h-8 text-green-600"})]})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by case title or patient name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:c,onChange:e=>d(e.target.value)})]}),(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)($p,{}),onClick:()=>m(!u),children:u?"Hide Filters":"Show Filters"}),(p.patientId||p.status)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{h({patientId:"",status:""}),N()},children:"Clear Filters"})]}),u&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),(0,Xm.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",value:p.patientId,onChange:e=>h((0,ot.A)((0,ot.A)({},p),{},{patientId:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"All Patients"}),a.map(e=>(0,Xm.jsx)("option",{value:e.patientId,children:e.patientName},e.patientId))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Xm.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",value:p.status,onChange:e=>h((0,ot.A)((0,ot.A)({},p),{},{status:e.target.value})),children:[(0,Xm.jsx)("option",{value:"",children:"All Statuses"}),(0,Xm.jsx)("option",{value:"SUBMITTED",children:"Submitted"}),(0,Xm.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Xm.jsx)("option",{value:"ASSIGNED",children:"Assigned"}),(0,Xm.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Xm.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,Xm.jsx)("option",{value:"CLOSED",children:"Closed"})]})]}),(0,Xm.jsx)("div",{className:"flex items-end",children:(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",className:"w-full",onClick:async()=>{try{i(!0),l(null);const e=await t(md(p));md.rejected.match(e)&&l(e.payload||"Failed to filter cases")}catch(o){console.error("Failed to apply filters:",o),l("Failed to apply filters. Please try again.")}finally{i(!1)}},children:"Apply Filters"})})]})]})}),(0,Xm.jsx)("div",{className:"space-y-4",children:C.length>0?C.map(t=>(0,Xm.jsx)(My,{className:"hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,Xm.jsx)("div",{className:"flex-1 space-y-2",children:(0,Xm.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:t.caseTitle}),(0,Xm.jsx)(sp,{status:t.status,size:"sm"}),t.urgencyLevel&&(0,Xm.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(A(t.urgencyLevel)),children:t.urgencyLevel})]}),(0,Xm.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Case ID:"})," #",t.id]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Patient:"})," ",t.patientName]}),t.requiredSpecialization&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Specialization:"})," ",t.requiredSpecialization]}),t.consultationFee&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Consultation Fee:"})," $",t.consultationFee.toFixed(2)]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,Xm.jsxs)("span",{children:["Submitted: ",new Date(t.createdAt).toLocaleDateString()]}),t.submittedAt&&t.submittedAt!==t.createdAt&&(0,Xm.jsxs)("span",{children:["Updated: ",new Date(t.submittedAt).toLocaleDateString()]})]})]})]})]})}),(0,Xm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(iy,{}),onClick:()=>e("/app/supervisor/cases/".concat(t.id)),children:"View Details"}),("PENDING"===t.status||"SUBMITTED"===t.status)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(eg,{}),onClick:()=>(g(t),f(!0),void b("")),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Cancel"})]})]})},t.id)):(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600 font-medium",children:"No cases found"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:c||p.patientId||p.status?"Try adjusting your search or filters":"Cases will appear here once you submit them for your patients"})]})}),x&&y&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xm.jsx)(My,{className:"max-w-md w-full",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Cancel Case"}),(0,Xm.jsx)("button",{onClick:()=>{f(!1),g(null),b("")},className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(eg,{className:"w-6 h-6"})})]}),(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Xm.jsxs)("p",{className:"text-sm text-yellow-800",children:["You are about to cancel: ",(0,Xm.jsx)("span",{className:"font-semibold",children:y.caseTitle})]})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cancellation Reason ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"4",placeholder:"Please provide a reason for cancellation...",value:v,onChange:e=>b(e.target.value),required:!0})]}),(0,Xm.jsxs)("div",{className:"flex gap-3",children:[(0,Xm.jsx)(Zm,{variant:"outline",className:"flex-1",onClick:()=>{f(!1),g(null),b("")},disabled:j,children:"Go Back"}),(0,Xm.jsx)(Zm,{variant:"primary",className:"flex-1 bg-red-600 hover:bg-red-700",onClick:async()=>{if(y&&v.trim())try{w(!0),await ld.cancelCase(y.id,v),await N(),f(!1),g(null),b("")}catch(o){console.error("Failed to cancel case:",o),l("Failed to cancel case. Please try again.")}finally{w(!1)}},disabled:!v.trim()||j,children:j?"Cancelling...":"Confirm Cancel"})]})]})})})]})},HG=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",WG=e=>{if(!e)return"N/A";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},GG=e=>{if(!e)return"N/A";const t=new Date,r=new Date(e);let a=t.getFullYear()-r.getFullYear();const n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,a},YG=()=>{var e,t;const{caseId:r}=ae(),a=te(),[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!0),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)("overview"),[y,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&v()},[r]),(0,s.useEffect)(()=>{n&&n.patientId&&b()},[n]);const v=async()=>{try{m(!0);const e=await ld.getCaseDetails(r);i(e);const t=null!=e.dependentId&&e.dependentId>0;d(t)}catch(e){console.error("Failed to load case details:",e),Ft.error("Failed to load case details")}finally{m(!1)}},b=async()=>{try{if(h(!0),n&&n.patientId){const e=await ld.getCustomPatientInfo(r,n.patientId);l(e)}}catch(e){console.error("Failed to load patient info:",e)}finally{h(!1)}};return u&&!n?(0,Xm.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading case details..."})]})}):n?(0,Xm.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[(0,Xm.jsx)("div",{className:"bg-white rounded-lg border p-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),onClick:()=>a("/app/supervisor/cases"),children:"Back to Cases"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Case #",n.id]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Created on ",HG(n.createdAt)]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-500",children:"Current Status:"}),(0,Xm.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full font-medium",children:n.status})]}),(0,Xm.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-800 transition-colors",children:[(0,Xm.jsx)(cg,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Case Status Lifecycle"})]})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(ip,{priority:n.urgencyLevel})})]})}),(0,Xm.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:iy},{id:"medical",name:"Medical Details",icon:Op},{id:"patient",name:"Patient Profile",icon:Wm},{id:"documents",name:"Documents",icon:gp},{id:"timeline",name:"Timeline",icon:Qp}].map(e=>{const t=e.icon;return(0,Xm.jsxs)("button",{onClick:()=>f(e.id),className:"".concat(x===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2"),children:[(0,Xm.jsx)(t,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:e.name})]},e.id)})})}),(0,Xm.jsxs)("div",{className:"p-6",children:["overview"===x&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xm.jsx)(My,{title:"Case Overview",children:(0,Xm.jsx)("div",{className:"space-y-4",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.caseTitle}),(0,Xm.jsx)("p",{className:"text-gray-700",children:n.description})]})})}),(0,Xm.jsx)(My,{title:"Patient Information",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Patient Name"}),(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:n.patientName||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Patient ID"}),(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["#",n.patientId||"N/A"]})]})]})}),(0,Xm.jsxs)(My,{title:"Medical Summary",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(Pp,{className:"w-4 h-4 mr-2"}),"Primary Disease"]}),(0,Xm.jsx)(lp,{variant:"error",children:n.primaryDiseaseCode||"Not specified"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[(0,Xm.jsx)(Op,{className:"w-4 h-4 mr-2"}),"Specialization Required"]}),(0,Xm.jsx)(lp,{variant:"primary",children:n.requiredSpecialization||"Not specified"})]})]}),n.secondaryDiseaseCodes&&n.secondaryDiseaseCodes.length>0&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Secondary Diseases"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:n.secondaryDiseaseCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"warning",children:e},t))})]}),n.secondarySpecializations&&n.secondarySpecializations.length>0&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Specializations"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:n.secondarySpecializations.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t))})]})]})]}),(0,Xm.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Xm.jsx)(My,{title:"Case Information",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Case ID"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["#",n.id]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,Xm.jsx)(sp,{status:n.status})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Urgency"}),(0,Xm.jsx)(ip,{priority:n.urgencyLevel})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Complexity"}),(0,Xm.jsx)(lp,{variant:"info",children:n.complexity})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:HG(n.createdAt)})]}),n.submittedAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Submitted"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:HG(n.submittedAt)})]}),n.acceptedAt&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Accepted"}),(0,Xm.jsx)("span",{className:"text-sm font-medium",children:HG(n.acceptedAt)})]}),(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Status"}),(0,Xm.jsx)(lp,{variant:"COMPLETED"===n.paymentStatus?"success":"warning",children:n.paymentStatus})]}),n.consultationFee&&(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Consultation Fee"}),(0,Xm.jsxs)("span",{className:"text-sm font-medium",children:["$",n.consultationFee.toFixed(2)]})]})]})}),(0,Xm.jsx)(My,{title:"Actions",children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)(Zm,{variant:"outline",icon:(0,Xm.jsx)(gp,{className:"w-4 h-4"}),fullWidth:!0,onClick:()=>f("documents"),children:["View Documents (",(null===(e=n.documents)||void 0===e?void 0:e.length)||0,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),fullWidth:!0,disabled:!n.medicalReportFileLink||"CLOSED"!==n.status,onClick:()=>{return e=n.medicalReportFileLink,void window.open(e,"_blank");var e},children:"View Medical Report"})]})})]})]}),"patient"===x&&(0,Xm.jsx)("div",{className:"space-y-6",children:p?(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading patient information..."})]}):o?(0,Xm.jsxs)(Xm.Fragment,{children:[c&&(0,Xm.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(vp,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Family Member Information"}),(0,Xm.jsx)("p",{className:"text-sm text-blue-700",children:"This case was submitted for a family member. The information below belongs to the family member, not the account holder."})]})]})}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xm.jsx)(My,{title:c?"Family Member Information":"Patient Information",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:o.fullName||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:HG(o.dateOfBirth)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Age"}),(0,Xm.jsxs)("p",{className:"text-gray-900",children:[GG(o.dateOfBirth)," years"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gender"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:o.gender||"N/A"})]}),o.bloodGroup&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Blood Group"}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(xj,{className:"w-4 h-4 text-red-500"}),(0,Xm.jsx)("span",{className:"text-gray-900 font-medium",children:o.bloodGroup})]})]})]})}),(0,Xm.jsx)(My,{title:"Contact Information",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[o.phoneNumber&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(gy,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:o.phoneNumber})]})]}),o.email&&(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(py,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,Xm.jsx)("p",{className:"text-gray-900",children:o.email})]})]}),o.address&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(yp,{className:"w-5 h-5 text-gray-400 mt-1"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,Xm.jsxs)("p",{className:"text-gray-900",children:[o.address,o.city&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("br",{}),o.city]}),o.postalCode&&", ".concat(o.postalCode),o.country&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("br",{}),o.country]})]})]})]})]})}),o.medicalHistory&&(0,Xm.jsx)(My,{title:"Medical History",children:(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:o.medicalHistory})})]}),(0,Xm.jsxs)("div",{className:"space-y-6",children:[o.allergies&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-red-600 mb-3 flex items-center",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 mr-2"}),"Allergies"]}),(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap text-sm leading-relaxed",children:o.allergies})]}),o.chronicConditions&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-orange-600 mb-3 flex items-center",children:[(0,Xm.jsx)(Ey,{className:"w-5 h-5 mr-2"}),"Chronic Conditions"]}),(0,Xm.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap text-sm leading-relaxed",children:o.chronicConditions})]}),(o.emergencyContactName||o.emergencyContactPhone)&&(0,Xm.jsxs)(My,{children:[(0,Xm.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 mr-2"}),"Emergency Contact"]}),(0,Xm.jsxs)("div",{className:"space-y-2 text-sm",children:[o.emergencyContactName&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-gray-500",children:"Name"}),(0,Xm.jsx)("p",{className:"text-gray-900 font-medium",children:o.emergencyContactName})]}),o.emergencyContactPhone&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-gray-500",children:"Phone"}),(0,Xm.jsx)("p",{className:"text-gray-900 font-medium",children:o.emergencyContactPhone})]}),o.emergencyContactRelationship&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-gray-500",children:"Relationship"}),(0,Xm.jsx)("p",{className:"text-gray-900 font-medium",children:o.emergencyContactRelationship})]})]})]})]})]})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Wm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Patient Information Not Available"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Unable to load patient information for this case."})]})}),"medical"===x&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)(My,{title:"Diseases & Conditions",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Disease"}),(0,Xm.jsx)(lp,{variant:"error",size:"lg",children:n.primaryDiseaseCode})]}),n.secondaryDiseaseCodes&&n.secondaryDiseaseCodes.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Secondary Diseases"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:n.secondaryDiseaseCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"warning",children:e},t))})]})]})}),(0,Xm.jsx)(My,{title:"Symptoms",children:(0,Xm.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:n.symptomCodes&&n.symptomCodes.length>0?n.symptomCodes.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t)):(0,Xm.jsx)("p",{className:"text-gray-500 col-span-full",children:"No symptoms recorded"})})}),(0,Xm.jsx)(My,{title:"Current Medications",children:(0,Xm.jsx)("div",{className:"space-y-2",children:n.currentMedicationCodes&&n.currentMedicationCodes.length>0?n.currentMedicationCodes.map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[(0,Xm.jsx)(ig,{className:"w-4 h-4 text-blue-600"}),(0,Xm.jsx)(lp,{variant:"success",children:e})]},t)):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(ig,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No current medications recorded"})]})})}),(0,Xm.jsx)(My,{title:"Required Specializations",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Specialization"}),(0,Xm.jsx)(lp,{variant:"primary",size:"lg",children:n.requiredSpecialization})]}),n.secondarySpecializations&&n.secondarySpecializations.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Specializations"}),(0,Xm.jsx)("div",{className:"flex flex-wrap gap-2",children:n.secondarySpecializations.map((e,t)=>(0,Xm.jsx)(lp,{variant:"info",children:e},t))})]})]})})]}),"documents"===x&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("div",{className:"flex items-center justify-between",children:(0,Xm.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Case Documents (",(null===(t=n.documents)||void 0===t?void 0:t.length)||0,")"]})}),n.documents&&n.documents.length>0?(0,Xm.jsx)("div",{className:"grid grid-cols-1 gap-4",children:n.documents.map(e=>(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0",children:(0,Xm.jsx)(gp,{className:"w-8 h-8 text-blue-600"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.fileName}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Xm.jsxs)("p",{children:["Type: ",e.documentType]}),(0,Xm.jsxs)("p",{children:["Size: ",WG(e.originalFileSize)]}),(0,Xm.jsxs)("p",{children:["Uploaded: ",HG(e.createdAt)]}),(0,Xm.jsxs)("p",{children:["Format: ",e.mimeType]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[e.isEncrypted&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:"Encrypted"}),e.isCompressed&&(0,Xm.jsx)(lp,{variant:"info",size:"sm",children:"Compressed"})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{await ld.viewCaseDocument(r,e.id)}catch(t){console.error("Failed to view document:",t),Ft.error("Failed to view document")}})(e),children:"View"}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>(async e=>{try{await ld.downloadCaseDocument(r,e.id,e.fileName)}catch(t){console.error("Failed to download document:",t),Ft.error("Failed to download document")}})(e),children:"Download"})]})]})},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(gp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Documents"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No documents have been uploaded for this case yet."})]})]}),"timeline"===x&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)(My,{title:"Case Timeline",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Created"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.createdAt)})]})]}),n.submittedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Submitted"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.submittedAt)})]})]}),n.acceptedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Accepted"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.acceptedAt)})]})]}),n.scheduledAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Consultation Scheduled"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.scheduledAt)})]})]}),n.paymentCompletedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Payment Completed"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.paymentCompletedAt)})]})]}),n.closedAt&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-gray-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium",children:"Case Closed"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:HG(n.closedAt)})]})]}),n.rejectionReason&&(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-red-600 rounded-full mt-2"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-red-600",children:"Case Rejected"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Reason: ",n.rejectionReason]})]})]})]})})})]})]}),(0,Xm.jsx)(rg,{isOpen:y,onClose:()=>g(!1),currentStatus:n.status})]}):(0,Xm.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(wp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Case Not Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested case could not be found."}),(0,Xm.jsx)(Zm,{onClick:()=>a("/app/supervisor/cases"),icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),children:"Back to Cases"})]})})},KG=ey({caseTitle:zf().required("Case title is required").min(10,"Case title must be at least 10 characters").max(100,"Case title cannot exceed 100 characters"),description:zf().required("Case description is required").min(50,"Case description must be at least 50 characters").max(2e3,"Case description cannot exceed 2000 characters"),primaryDiseaseCode:zf().required("Primary disease is required"),secondaryDiseaseCodes:ry().max(5,"Maximum 5 secondary diseases allowed"),symptomCodes:ry().min(1,"At least one symptom is required").max(20,"Maximum 20 symptoms allowed"),currentMedicationCodes:ry().max(15,"Maximum 15 medications allowed"),requiredSpecialization:zf().required("Required specialization is required"),secondarySpecializations:ry().max(3,"Maximum 3 secondary specializations allowed"),urgencyLevel:zf().required("Urgency level is required"),complexity:zf().required("Case complexity is required")}),$G=()=>{var e,t;const r=te(),{patientId:a}=ae(),[n,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)({diseases:[],symptoms:[],medications:[],specializations:[],subspecializations:[]}),[p,h]=(0,s.useState)([]),[x,f]=(0,s.useState)([]),[y,g]=(0,s.useState)([]),[v,b]=(0,s.useState)([]),[j,w]=(0,s.useState)(""),[N,C]=(0,s.useState)(""),[S,A]=(0,s.useState)(""),[k,E]=(0,s.useState)(!1),{register:P,handleSubmit:O,formState:{errors:T},watch:D,setValue:R,trigger:_}=Tx({resolver:Lx(KG),defaultValues:{caseTitle:"",description:"",primaryDiseaseCode:"",secondaryDiseaseCodes:[],symptomCodes:[],currentMedicationCodes:[],requiredSpecialization:"",secondarySpecializations:[],urgencyLevel:"MEDIUM",complexity:"MODERATE",requiresSecondOpinion:!0,minDoctorsRequired:2,maxDoctorsAllowed:3,dependentId:null}}),M=D("symptomCodes")||[],I=D("currentMedicationCodes")||[],L=D("secondaryDiseaseCodes")||[],F=D("secondarySpecializations")||[];(0,s.useEffect)(()=>{q(),z()},[a]),(0,s.useEffect)(()=>{j&&U(j)},[j]),(0,s.useEffect)(()=>{N&&B(N)},[N]);const q=async()=>{try{d(!0);const e=await ld.getPatientInfo(a);l(e)}catch(e){console.error("Failed to load patient info:",e),Ft.error("Failed to load patient information"),r("/app/supervisor/patients")}finally{d(!1)}},z=async()=>{try{const[e,t,r,a,n]=await Promise.all([lg.getMedicalConfigurations("diseases"),lg.getMedicalConfigurations("symptoms"),lg.getAllMedications(),lg.getMedicalConfigurations("SPECIALIZATION"),lg.getMedicalConfigurations("SUBSPECIALIZATION")]);m({diseases:e||[],symptoms:t||[],medications:r||[],specializations:a||[],subspecializations:n||[]});const s=[...new Set((e||[]).map(e=>e.category).filter(Boolean))].sort();h(s);const i=[...new Set((r||[]).map(e=>e.category).filter(Boolean))].sort();g(i)}catch(e){console.error("Failed to load medical configurations:",e),Ft.error("Failed to load medical configurations")}},U=async e=>{try{const t=await lg.getDiseasesByCategory(e);f(t||[])}catch(t){console.error("Failed to load diseases for category:",e,t),f([])}},B=e=>{try{const t=u.medications.filter(t=>t.category===e&&!0===t.isActive);b(t||[])}catch(t){console.error("Failed to load medications for category:",e,t),b([])}};return c?(0,Xm.jsx)("div",{className:"flex justify-center items-center min-h-96",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):o?(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(jy,{}),onClick:()=>r("/app/supervisor/patients"),className:"mb-4",children:"Back to Patients"}),(0,Xm.jsx)("div",{className:"flex items-start justify-between",children:(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Submit Case for Patient"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["Create a new medical case on behalf of ",o.fullName]})]})})]}),(0,Xm.jsx)(My,{className:"bg-blue-50 border-blue-200",children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Xm.jsx)(Wm,{className:"w-6 h-6 text-blue-600"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Patient Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Name:"})," ",o.fullName]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Email:"})," ",o.email]}),o.phoneNumber&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Phone:"})," ",o.phoneNumber]}),o.dateOfBirth&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"DOB:"})," ",new Date(o.dateOfBirth).toLocaleDateString()]}),o.gender&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Gender:"})," ",o.gender]}),o.bloodGroup&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Blood Type:"})," ",o.bloodGroup]})]})]})]})}),(0,Xm.jsxs)("form",{onSubmit:O(async e=>{E(!0);try{const t={caseTitle:e.caseTitle,description:e.description,primaryDiseaseCode:e.primaryDiseaseCode,secondaryDiseaseCodes:e.secondaryDiseaseCodes||[],symptomCodes:e.symptomCodes||[],currentMedicationCodes:e.currentMedicationCodes||[],requiredSpecialization:e.requiredSpecialization,secondarySpecializations:e.secondarySpecializations||[],urgencyLevel:e.urgencyLevel,complexity:e.complexity,requiresSecondOpinion:e.requiresSecondOpinion,minDoctorsRequired:e.minDoctorsRequired,maxDoctorsAllowed:e.maxDoctorsAllowed,dependentId:null};await ld.submitCase(a,t),Ft.success("Case submitted successfully!",{position:"top-right",autoClose:3e3}),setTimeout(()=>{r("/app/supervisor/cases")},1e3)}catch(s){var t,n;console.error("Failed to submit case:",s),Ft.error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to submit case. Please try again.",{position:"top-right",autoClose:5e3})}finally{E(!1)}}),className:"space-y-8",children:[(0,Xm.jsxs)(My,{title:"Case Information",className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Case Title ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"text"},P("caseTitle")),{},{placeholder:"Brief title describing the medical concern",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(T.caseTitle?"border-red-300":"border-gray-300")})),T.caseTitle&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.caseTitle.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(e=D("caseTitle"))||void 0===e?void 0:e.length)||0,"/100 characters"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Detailed Description ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},P("description")),{},{rows:6,placeholder:"Provide a detailed description of symptoms, duration, severity, and any relevant medical history...",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 resize-none ".concat(T.description?"border-red-300":"border-gray-300")})),T.description&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.description.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===(t=D("description"))||void 0===t?void 0:t.length)||0,"/2000 characters"]})]})]}),(0,Xm.jsxs)(My,{title:"Medical Information",icon:(0,Xm.jsx)(Op,{}),className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Disease Category ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",{value:j,onChange:e=>{return t=e.target.value,w(t),R("primaryDiseaseCode",""),void R("secondaryDiseaseCodes",[]);var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select disease category"}),p.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Disease/Condition ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("primaryDiseaseCode")),{},{disabled:!j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(T.primaryDiseaseCode?"border-red-300":"border-gray-300"," ").concat(j?"":"bg-gray-100 cursor-not-allowed"),children:[(0,Xm.jsx)("option",{value:"",children:j?"Select primary disease":"Select category first"}),x.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("option",{value:e.icdCode,children:[e.name," (",e.icdCode,")"]},e.icdCode))]})),T.primaryDiseaseCode&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.primaryDiseaseCode.message})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Diseases/Conditions (Optional, max 5)"}),(0,Xm.jsx)("div",{className:"w-full border rounded-lg p-4 max-h-[250px] overflow-y-auto ".concat(j?"border-gray-300":"bg-gray-100 border-gray-200"),children:j?(0,Xm.jsx)("div",{className:"space-y-2",children:x.filter(e=>e.isActive&&e.icdCode!==D("primaryDiseaseCode")).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.icdCode,checked:L.includes(e.icdCode),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r&&L.length<5)a=[...L,t];else{if(r)return;a=L.filter(e=>e!==t)}R("secondaryDiseaseCodes",a)},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!L.includes(e.icdCode)&&L.length>=5}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.icdCode,")"]})]})]},e.icdCode))}):(0,Xm.jsx)("div",{className:"text-center py-6",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Please select a primary disease category first"})})}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",L.length,"/5"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Symptoms ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})," (Select at least 1, max 20)"]}),(0,Xm.jsx)("div",{className:"w-full border rounded-lg p-4 max-h-[300px] overflow-y-auto ".concat(T.symptomCodes?"border-red-300":"border-gray-300"),children:(0,Xm.jsx)("div",{className:"space-y-2",children:u.symptoms.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.code,checked:M.includes(e.code),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r&&M.length<20)a=[...M,t];else{if(r)return;a=M.filter(e=>e!==t)}R("symptomCodes",a),_("symptomCodes")},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!M.includes(e.code)&&M.length>=20}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",e.bodySystem,")"]})]})]},e.code))})}),T.symptomCodes&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.symptomCodes.message}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",M.length,"/20"]})]})]}),(0,Xm.jsx)(My,{title:"Current Medications",icon:(0,Xm.jsx)(ig,{}),className:"space-y-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medication Category"}),(0,Xm.jsxs)("select",{value:N,onChange:e=>{return t=e.target.value,C(t),void R("currentMedicationCodes",[]);var t},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select medication category"}),y.map(e=>(0,Xm.jsx)("option",{value:e,children:e},e))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications (Optional, max 15)"}),(0,Xm.jsx)("div",{className:"w-full border rounded-lg p-4 max-h-[300px] overflow-y-auto ".concat(N?"border-gray-300":"bg-gray-100 border-gray-200"),children:N?(0,Xm.jsx)("div",{className:"space-y-2",children:v.filter(e=>e.isActive).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-start space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.atcCode,checked:I.includes(e.atcCode),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r&&I.length<15)a=[...I,t];else{if(r)return;a=I.filter(e=>e!==t)}R("currentMedicationCodes",a)},className:"mt-0.5 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!I.includes(e.atcCode)&&I.length>=15}),(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Xm.jsx)("div",{className:"text-xs text-gray-600",children:e.genericName}),(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["(",e.atcCode,")"]})]})]},e.atcCode))}):(0,Xm.jsx)("div",{className:"text-center py-6",children:(0,Xm.jsx)("p",{className:"text-sm text-gray-500",children:"Please select a medication category first"})})}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:N?"Selected: ".concat(I.length,"/15"):"Select a category first to see medications"})]})]})}),(0,Xm.jsx)(My,{title:"Specialization Requirements",icon:(0,Xm.jsx)(Ey,{}),className:"space-y-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Required Specialization ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",{value:S,onChange:e=>{return t=e.target.value,A(t),void R("requiredSpecialization",t);var t},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(T.requiredSpecialization?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"",children:"Select required specialization"}),u.specializations.filter(e=>e.isActive&&1===e.level).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}),T.requiredSpecialization&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:T.requiredSpecialization.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Specializations (Optional, max 3)"}),(0,Xm.jsx)("div",{className:"w-full border border-gray-300 rounded-lg p-4 max-h-[200px] overflow-y-auto",children:(0,Xm.jsx)("div",{className:"space-y-2",children:u.specializations.filter(e=>e.isActive&&1===e.level&&e.code!==S).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,Xm.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Xm.jsx)("input",{type:"checkbox",value:e.code,checked:F.includes(e.code),onChange:e=>{const{value:t,checked:r}=e.target;let a;if(r&&F.length<3)a=[...F,t];else{if(r)return;a=F.filter(e=>e!==t)}R("secondarySpecializations",a)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:!F.includes(e.code)&&F.length>=3}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-900 flex-1",children:e.name})]},e.code))})}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",F.length,"/3"]})]})]})}),(0,Xm.jsxs)(My,{title:"Case Settings",className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Urgency Level ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("urgencyLevel")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(T.urgencyLevel?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"LOW",children:"Low - Not urgent, routine consultation"}),(0,Xm.jsx)("option",{value:"MEDIUM",children:"Medium - Standard priority"}),(0,Xm.jsx)("option",{value:"HIGH",children:"High - Requires prompt attention"}),(0,Xm.jsx)("option",{value:"CRITICAL",children:"Critical - Immediate attention needed"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Case Complexity ",(0,Xm.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("complexity")),{},{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 ".concat(T.complexity?"border-red-300":"border-gray-300"),children:[(0,Xm.jsx)("option",{value:"SIMPLE",children:"Simple - Straightforward diagnosis"}),(0,Xm.jsx)("option",{value:"MODERATE",children:"Moderate - Standard complexity"}),(0,Xm.jsx)("option",{value:"COMPLEX",children:"Complex - Multiple factors involved"}),(0,Xm.jsx)("option",{value:"VERY_COMPLEX",children:"Very Complex - High complexity case"})]}))]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Second Opinion Required"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("requiresSecondOpinion")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:!0,children:"Yes - Require second opinion"}),(0,Xm.jsx)("option",{value:!1,children:"No - Single doctor consultation"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Doctors Required"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("minDoctorsRequired")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:1,children:"1 Doctor"}),(0,Xm.jsx)("option",{value:2,children:"2 Doctors"}),(0,Xm.jsx)("option",{value:3,children:"3 Doctors"})]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Doctors Allowed"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},P("maxDoctorsAllowed")),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:2,children:"2 Doctors"}),(0,Xm.jsx)("option",{value:3,children:"3 Doctors"}),(0,Xm.jsx)("option",{value:4,children:"4 Doctors"}),(0,Xm.jsx)("option",{value:5,children:"5 Doctors"})]}))]})]})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-4 pb-8",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>r("/app/supervisor/patients"),disabled:k,children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",loading:k,disabled:Object.keys(T).length>0||k,icon:(0,Xm.jsx)(Np,{}),children:k?"Submitting Case...":"Submit Case"})]})]})]}):(0,Xm.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Xm.jsxs)(My,{className:"text-center py-12",children:[(0,Xm.jsx)(wp,{className:"w-16 h-16 mx-auto text-red-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Patient Not Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Unable to load patient information"}),(0,Xm.jsx)(Zm,{onClick:()=>r("/app/supervisor/patients"),children:"Back to Patients"})]})})},QG=ey({reason:zf().required("Reason is required"),preferredDates:ry().min(1,"At least one preferred date is required"),additionalNotes:zf()}),XG=()=>{var e,t,r;te();const{user:a}=Jd(),{execute:n,loading:i}=Iy(),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)("all"),[j,w]=(0,s.useState)("all"),[N,C]=(0,s.useState)("all"),[S,A]=(0,s.useState)(null),[k,E]=(0,s.useState)([]),[P,O]=(0,s.useState)(""),[T,D]=(0,s.useState)([]),[R,_]=(0,s.useState)([]),[M,I]=(0,s.useState)(""),[L,F]=(0,s.useState)([]),[q,z]=(0,s.useState)(""),[U,B]=(0,s.useState)(!1),[V,H]=(0,s.useState)("list"),[W,G]=(0,s.useState)(new Date),[Y,K]=(0,s.useState)("scheduled"),[$,Q]=(0,s.useState)([""]),[X,J]=(0,s.useState)([]),[Z,ee]=(0,s.useState)(!1),re=Tx({resolver:Lx(QG),defaultValues:{reason:"",preferredDates:[""],additionalNotes:""}});(0,s.useEffect)(()=>{ae(),ne(),se(),ie()},[]),(0,s.useEffect)(()=>{oe()},[o,y,v,j,N]);const ae=async()=>{try{const e=await n(()=>ld.getAppointments());l(e||[]);const t=new Date,r=(null===e||void 0===e?void 0:e.filter(e=>{var r;return new Date(e.scheduledTime)>t&&["SCHEDULED","CONFIRMED","PAYMENT_PENDING"].includes(null===(r=e.status)||void 0===r?void 0:r.toUpperCase())}).slice(0,3))||[];D(r)}catch(e){console.error("Failed to load appointments:",e),Ft.error("Failed to load appointments")}},ne=async()=>{try{const e=await n(()=>lg.getMedicalConfigurations("PAYMENTMETHOD"));E(e||[])}catch(e){console.error("Failed to load payment methods:",e)}},se=async()=>{try{const e=await n(()=>ld.getRescheduleRequests());J(e||[])}catch(e){console.error("Failed to load reschedule requests:",e)}},ie=async()=>{try{const e=await n(()=>ld.getPatients());_(e||[])}catch(e){console.error("Failed to load patients:",e)}},oe=()=>{let e=[...o];if(y&&(e=e.filter(e=>{var t,r,a,n;return(null===(t=e.doctorName)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.patientName)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))||(null===(a=e.caseId)||void 0===a?void 0:a.toString().includes(y))||(null===(n=e.status)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))})),"all"!==v&&(e=e.filter(e=>{var t;return(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())===v.toUpperCase()})),"all"!==N&&(e=e.filter(e=>{var t;return(null===(t=e.patientId)||void 0===t?void 0:t.toString())===N})),"all"!==j){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.filter(e=>{const t=new Date(e.scheduledTime),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(j){case"today":return a.getTime()===r.getTime();case"tomorrow":const e=new Date(r);return e.setDate(e.getDate()+1),a.getTime()===e.getTime();case"week":const t=new Date(r);return t.setDate(t.getDate()+7),a>=r&&a<=t;case"month":const n=new Date(r);return n.setDate(n.getDate()+30),a>=r&&a<=n;case"past":return a<r;default:return!0}})}e.sort((e,t)=>new Date(t.scheduledTime)-new Date(e.scheduledTime)),d(e)},le=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ce=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),de=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ue=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case"ZOOM":case"VIDEO":default:return(0,Xm.jsx)(Hp,{className:"w-4 h-4"});case"PHONE_CALL":case"PHONE":return(0,Xm.jsx)(gy,{className:"w-4 h-4"});case"WHATSAPP":return(0,Xm.jsx)(Km,{className:"w-4 h-4"})}},me=e=>{G(t=>{const r=new Date(t);return r.setDate(t.getDate()+7*e),r})},pe=e=>X.some(t=>t.appointmentId===e&&"PENDING"===t.status),he=(()=>{const e=o.length,t=o.filter(e=>{var t;return new Date(e.scheduledTime)>new Date&&!["CANCELLED","COMPLETED"].includes(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())}).length,r=o.filter(e=>{var t;return"COMPLETED"===(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())}).length,a=o.filter(e=>{var t;return"CANCELLED"===(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())}).length;return{total:e,upcoming:t,completed:r,cancelled:a}})(),xe=[{id:"scheduled",label:"Scheduled / Rescheduled",statuses:["scheduled","rescheduled"]},{id:"confirmed",label:"Confirmed",statuses:["confirmed","payment_pending","in_progress"]},{id:"completed",label:"Completed",statuses:["completed"]},{id:"cancelled",label:"Cancelled / No Show",statuses:["cancelled","no_show"]}],fe=(()=>{const e=xe.find(e=>e.id===Y);return e?c.filter(t=>{var r;return e.statuses.includes(null===(r=t.status)||void 0===r?void 0:r.toLowerCase())}):c})(),ye=()=>{const e=(e=>{const t=[],r=new Date(e),a=r.getDay();r.setDate(r.getDate()-a);for(let n=0;n<7;n++){const e=new Date(r);e.setDate(r.getDate()+n),t.push(e)}return t})(W),t=(new Date).toDateString();return(0,Xm.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>me(-1),icon:(0,Xm.jsx)(Xp,{className:"w-4 h-4"})}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:W.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>me(1),icon:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})})]}),(0,Xm.jsx)("div",{className:"grid grid-cols-7 gap-2",children:e.map((e,r)=>{const a=(e=>{const t=e.toDateString();return c.filter(e=>new Date(e.scheduledTime).toDateString()===t)})(e),n=e.toDateString()===t;return(0,Xm.jsxs)("div",{className:"text-center p-2 rounded-lg border transition-colors ".concat(n?"bg-blue-50 border-blue-200":a.length>0?"bg-primary-50 border-primary-200":"border-gray-100 hover:bg-gray-50"),children:[(0,Xm.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r]}),(0,Xm.jsx)("div",{className:"text-lg font-medium mb-1 ".concat(n?"text-blue-600":"text-gray-900"),children:e.getDate()}),(0,Xm.jsxs)("div",{className:"flex justify-center space-x-1",children:[a.slice(0,3).map((e,t)=>{var r,a;return(0,Xm.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("COMPLETED"===(null===(r=e.status)||void 0===r?void 0:r.toUpperCase())?"bg-green-500":"CANCELLED"===(null===(a=e.status)||void 0===a?void 0:a.toUpperCase())?"bg-red-500":"bg-primary-500"),title:"".concat(e.patientName," - ").concat(ce(e.scheduledTime))},t)}),a.length>3&&(0,Xm.jsxs)("div",{className:"text-xs text-gray-500",children:["+",a.length-3]})]})]},r)})}),c.filter(t=>{const r=new Date(t.scheduledTime);return e.some(e=>e.toDateString()===r.toDateString())}).length>0&&(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"This Week's Appointments"}),(0,Xm.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:c.filter(t=>{const r=new Date(t.scheduledTime);return e.some(e=>e.toDateString()===r.toDateString())}).map(e=>{var t;return(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)("div",{className:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center",children:ue(e.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.patientName}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500",children:de(e.scheduledTime)})]})]}),"SCHEDULED"===(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())&&pe(e.id)&&(0,Xm.jsxs)(lp,{variant:"purple",size:"sm",className:"bg-purple-100 text-purple-800",children:[(0,Xm.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Reschedule"]}),(0,Xm.jsx)(sp,{status:e.status,size:"xs"})]},e.id)})})]})]})};return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Appointments"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View and manage appointments for your assigned patients"})]}),(0,Xm.jsx)("div",{className:"flex items-center space-x-3",children:(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:ae,children:"Refresh"})})]})})})}),(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(Ry,{title:"Total Appointments",value:he.total,icon:(0,Xm.jsx)(bp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-blue-50 to-blue-100"}),(0,Xm.jsx)(Ry,{title:"Upcoming",value:he.upcoming,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-green-50 to-green-100"}),(0,Xm.jsx)(Ry,{title:"Completed",value:he.completed,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-purple-50 to-purple-100"}),(0,Xm.jsx)(Ry,{title:"Cancelled",value:he.cancelled,icon:(0,Xm.jsx)(eg,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-red-50 to-red-100"})]}),T.length>0&&(0,Xm.jsx)(_y,{type:"info",title:"Upcoming Appointments",message:"There are ".concat(T.length," upcoming appointments for your patients."),className:"mb-6",children:(0,Xm.jsx)("div",{className:"mt-4 space-y-2",children:T.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded border",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:ue(e.consultationType)}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["Patient: ",e.patientName]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",e.doctorName," - ",de(e.scheduledTime)]})]})]}),(0,Xm.jsx)(sp,{status:e.status,size:"sm"})]},e.id))})}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[(0,Xm.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search appointments...",value:y,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),X.filter(e=>"APPROVED"!==e.status).length>0&&(0,Xm.jsxs)(Zm,{variant:"outline",className:"relative",onClick:()=>ee(!0),children:[(0,Xm.jsx)(Vm,{className:"w-5 h-5 mr-2"}),"Reschedule Requests",(0,Xm.jsx)(lp,{variant:"danger",size:"sm",className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:X.filter(e=>"APPROVED"!==e.status).length})]}),(0,Xm.jsxs)("div",{className:"flex flex-wrap items-center space-x-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)($p,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),(0,Xm.jsxs)("select",{value:N,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"all",children:"All Patients"}),R.map(e=>(0,Xm.jsx)("option",{value:e.patientId,children:e.patientName||"Patient #".concat(e.patientId)},e.patientId))]}),(0,Xm.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"SCHEDULED",children:"Scheduled"}),(0,Xm.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,Xm.jsx)("option",{value:"PAYMENT_PENDING",children:"Payment Pending"}),(0,Xm.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Xm.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,Xm.jsx)("option",{value:"CANCELLED",children:"Cancelled"}),(0,Xm.jsx)("option",{value:"RESCHEDULED",children:"Rescheduled"})]}),(0,Xm.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",children:[(0,Xm.jsx)("option",{value:"all",children:"All Dates"}),(0,Xm.jsx)("option",{value:"today",children:"Today"}),(0,Xm.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),(0,Xm.jsx)("option",{value:"week",children:"Next 7 Days"}),(0,Xm.jsx)("option",{value:"month",children:"Next 30 Days"}),(0,Xm.jsx)("option",{value:"past",children:"Past Appointments"})]}),(0,Xm.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Xm.jsx)(Zm,{variant:"list"===V?"primary":"ghost",size:"sm",onClick:()=>H("list"),icon:(0,Xm.jsx)(Yp,{className:"w-4 h-4"}),className:"text-xs",children:"List"}),(0,Xm.jsx)(Zm,{variant:"calendar"===V?"primary":"ghost",size:"sm",onClick:()=>H("calendar"),icon:(0,Xm.jsx)(bp,{className:"w-4 h-4"}),className:"text-xs",children:"Week"})]}),(y||"all"!==v||"all"!==j||"all"!==N)&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{g(""),b("all"),w("all"),C("all")},children:"Clear"})]})]})})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"p-6",children:i?(0,Xm.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):c.length>0?"calendar"===V?(0,Xm.jsx)(ye,{}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:xe.map(e=>{const t=(e=>{const t=xe.find(t=>t.id===e);return t?c.filter(e=>{var r;return t.statuses.includes(null===(r=e.status)||void 0===r?void 0:r.toLowerCase())}).length:0})(e.id),r=Y===e.id;return(0,Xm.jsxs)("button",{onClick:()=>K(e.id),className:"\n                              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2\n                              ".concat(r?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                            "),children:[(0,Xm.jsx)("span",{children:e.label}),(0,Xm.jsx)("span",{className:"\n                                inline-flex items-center justify-center px-2 py-0.5 rounded-full text-xs font-medium\n                                ".concat(r?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600","\n                              "),children:t})]},e.id)})})}),fe.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:fe.map(e=>{var t,r,a,s,i,o;return(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow duration-200",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:ue(e.consultationType)}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Xm.jsx)(vp,{className:"w-4 h-4 text-gray-500"}),(0,Xm.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Patient: ",e.patientName]}),(0,Xm.jsx)(sp,{status:e.status}),"SCHEDULED"===(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())&&pe(e.id)&&(0,Xm.jsxs)(lp,{variant:"purple",size:"sm",className:"bg-purple-100 text-purple-800",children:[(0,Xm.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Reschedule Request"]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Wm,{className:"w-3 h-3"}),(0,Xm.jsxs)("span",{children:["Dr. ",e.doctorName]})]}),(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(bp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:le(e.scheduledTime)})]}),(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(Qp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:ce(e.scheduledTime)})]})]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Cp,{className:"w-4 h-4 text-primary-500"}),(0,Xm.jsxs)("span",{className:"text-sm font-bold text-primary-600 bg-primary-50 px-2 py-1 rounded",children:["$",(null===(r=e.consultationFee)||void 0===r?void 0:r.toFixed(2))||"N/A"]}),(0,Xm.jsx)(gp,{className:"w-4 h-4 text-primary-500 ml-2"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:["Case #",e.caseId]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Qp,{className:"w-4 h-4 text-green-500"}),(0,Xm.jsxs)("span",{className:"text-sm text-gray-600",children:[e.duration||30," minutes"]})]})]}),S===e.id&&(0,Xm.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Doctor Information"}),(0,Xm.jsx)("div",{className:"space-y-1 text-sm text-gray-600",children:(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Specialization:"})," ",e.specialization||"N/A"]})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Details"}),(0,Xm.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Xm.jsxs)("p",{children:["Type: ",e.consultationType]}),(0,Xm.jsxs)("p",{children:["Created: ",de(e.createdAt)]}),e.rescheduleCount>0&&(0,Xm.jsxs)("p",{children:["Rescheduled: ",e.rescheduleCount," times"]})]})]})]}),e.meetingLink&&(0,Xm.jsxs)("div",{className:"mt-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Meeting Link"}),(0,Xm.jsx)("a",{href:e.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-800",children:e.meetingLink})]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[("SCHEDULED"===(null===(a=e.status)||void 0===a?void 0:a.toUpperCase())||"RESCHEDULED"===(null===(s=e.status)||void 0===s?void 0:s.toUpperCase()))&&(0,Xm.jsx)("div",{className:"flex space-x-2",children:(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Ym,{className:"w-4 h-4"}),onClick:()=>(async e=>{m(e);try{const t=await n(()=>ld.getPatientCoupons(e.patientId));F(t||[])}catch(t){console.error("Failed to load coupons:",t)}f(!0)})(e),children:"Pay & Accept"})}),"PAYMENT_PENDING"===(null===(i=e.status)||void 0===i?void 0:i.toUpperCase())&&(0,Xm.jsx)(Zm,{variant:"primary",size:"sm",icon:(0,Xm.jsx)(Ym,{className:"w-4 h-4"}),onClick:()=>{m(e),f(!0)},children:"Pay Now"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[["SCHEDULED"].includes(null===(o=e.status)||void 0===o?void 0:o.toUpperCase())&&!pe(e.id)&&(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",icon:(0,Xm.jsx)(Uy,{className:"w-4 h-4"}),onClick:()=>{m(e),h(!0)},children:"Reschedule"}),(0,Xm.jsx)(_e,{to:"/app/supervisor/cases/".concat(e.caseId),children:(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),children:"View Case"})}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:S===e.id?(0,Xm.jsx)(tg,{className:"w-4 h-4"}):(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),onClick:()=>A(S===e.id?null:e.id),children:S===e.id?"Less":"More"})]})]})]})})},e.id)})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments in this category"}),(0,Xm.jsxs)("p",{className:"text-gray-600",children:["There are no ",null===(e=xe.find(e=>e.id===Y))||void 0===e?void 0:e.label.toLowerCase()," appointments."]})]})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(bp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y||"all"!==v||"all"!==j||"all"!==N?"No appointments found":"No appointments yet"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:y||"all"!==v||"all"!==j||"all"!==N?"Try adjusting your search or filters":"Appointments for your patients will appear here"})]})})})]}),(0,Xm.jsx)(Ky,{isOpen:p,onClose:()=>{h(!1),m(null),Q([""]),re.reset()},title:"Request Appointment Reschedule",onSubmit:re.handleSubmit(async e=>{try{const t={appointmentId:u.id,caseId:u.caseId,patientId:u.patientId,preferredTimes:e.preferredDates.filter(e=>""!==e),reason:e.reason,additionalNotes:e.additionalNotes||""};await n(()=>ld.createRescheduleRequest(t)),await ae(),await se(),h(!1),m(null),re.reset(),Ft.success("Reschedule request submitted successfully")}catch(t){console.error("Failed to request reschedule:",t),Ft.error("Failed to submit reschedule request")}}),loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rescheduling *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},re.register("reason")),{},{rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Please provide a reason for rescheduling..."})),re.formState.errors.reason&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:re.formState.errors.reason.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date/Time Options *"}),(0,Xm.jsxs)("div",{className:"space-y-2",children:[null===(t=re.watch("preferredDates"))||void 0===t?void 0:t.map((e,t)=>{var r;return(0,Xm.jsxs)("div",{className:"flex gap-2",children:[(0,Xm.jsx)("input",(0,ot.A)((0,ot.A)({type:"datetime-local"},re.register("preferredDates.".concat(t),{required:0===t&&"At least one date is required"})),{},{min:(new Date).toISOString().slice(0,16),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),(null===(r=re.watch("preferredDates"))||void 0===r?void 0:r.length)>1&&(0,Xm.jsx)(Zm,{type:"button",variant:"danger",size:"sm",onClick:()=>{const e=re.getValues("preferredDates")||[];re.setValue("preferredDates",e.filter((e,r)=>r!==t))},children:(0,Xm.jsx)(Tp,{className:"w-4 h-4"})})]},t)}),re.formState.errors.preferredDates&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:re.formState.errors.preferredDates.message})]}),(re.watch("preferredDates")||[]).length<5&&(0,Xm.jsxs)(Zm,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=re.getValues("preferredDates")||[];re.setValue("preferredDates",[...e,""])},className:"mt-2",children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-1"}),"Add Another Time Option"]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},re.register("additionalNotes")),{},{rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Any additional information..."}))]})]})}),(0,Xm.jsx)($y,{isOpen:Z,onClose:()=>ee(!1),title:"Pending Reschedule Requests",size:"lg",children:(0,Xm.jsx)("div",{className:"space-y-4",children:0===X.length?(0,Xm.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No pending reschedule requests"}):X.filter(e=>"PENDING"===e.status).map(e=>{const t=e.preferredTimes?e.preferredTimes.split(",").map(e=>e.trim()):[];return(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("h4",{className:"font-semibold",children:["Reschedule Request for Appointment #",e.appointmentId]}),(0,Xm.jsx)(sp,{status:e.status,className:"bg-yellow-100 text-yellow-800"})]}),(0,Xm.jsxs)("div",{className:"text-sm space-y-1 text-gray-600",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Case ID:"})," ",e.caseId]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Requested By:"})," ",e.requestedBy]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Request Date:"})," ",de(e.createdAt)]}),e.reason&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Reason:"})," ",e.reason]})]}),t.length>0&&(0,Xm.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"Preferred Times:"}),(0,Xm.jsx)("ul",{className:"space-y-1",children:t.map((e,t)=>(0,Xm.jsxs)("li",{className:"text-blue-700 text-sm",children:["\u2022 ",de(e)]},t))})]}),(0,Xm.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,Xm.jsxs)("p",{className:"text-gray-600 text-sm",children:[(0,Xm.jsx)("span",{className:"font-medium text-gray-700",children:"Status:"})," Awaiting doctor's response"]})})]})},e.id)})})}),x&&u&&(0,Xm.jsx)(Ky,{title:"Complete Payment",isOpen:x,onClose:()=>{f(!1),m(null),O(""),I(""),z(""),B(!1)},onSubmit:async()=>{if(u){if(U){if(!(M||q))return void Ft.error("Please select or enter a coupon code")}else if(!P)return void Ft.error("Please select a payment method");try{let e;if(U){const t=M||q;e={caseId:u.caseId,patientId:u.patientId,doctorId:u.doctorId,appointmentId:u.id,paymentMethod:"COUPON",amount:u.consultationFee,couponCode:t,notes:"Payment via coupon redemption"}}else e={caseId:u.caseId,patientId:u.patientId,doctorId:u.doctorId,appointmentId:u.id,paymentMethod:P,amount:u.consultationFee,notes:"Payment for consultation via ".concat(P)};await n(()=>ld.payConsultationFee(e)),await ae(),f(!1),m(null),O(""),I(""),z(""),B(!1),Ft.success("Payment processed successfully")}catch(r){var e,t;console.error("Failed to process payment:",r),Ft.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Payment failed. Please try again.")}}else Ft.error("No appointment selected")},loading:i,children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Summary"}),(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-sm text-gray-600",children:"Consultation Fee:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["$",null===(r=u.consultationFee)||void 0===r?void 0:r.toFixed(2)]})]}),(0,Xm.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Xm.jsxs)("p",{children:["Patient: ",u.patientName]}),(0,Xm.jsxs)("p",{children:["Doctor: ",u.doctorName]})]})]}),(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex space-x-4",children:[(0,Xm.jsxs)("button",{type:"button",onClick:()=>{B(!1),I(""),z("")},className:"pb-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(U?"border-transparent text-gray-500 hover:text-gray-700":"border-primary-500 text-primary-600"),children:[(0,Xm.jsx)(Ym,{className:"w-4 h-4 inline mr-1"}),"Payment Method"]}),(0,Xm.jsxs)("button",{type:"button",onClick:()=>{B(!0),O("")},className:"pb-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(U?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Xm.jsx)(Ym,{className:"w-4 h-4 inline mr-1"}),"Use Coupon"]})]})}),U?(0,Xm.jsxs)("div",{className:"space-y-4",children:[L.length>0&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Coupons"}),(0,Xm.jsxs)("select",{value:M,onChange:e=>{I(e.target.value),e.target.value&&z("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select a coupon"}),L.map(e=>(0,Xm.jsxs)("option",{value:e.couponCode,children:[e.couponCode," - $",e.amount," (Expires: ",le(e.expiresAt),")"]},e.id))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:L.length>0?"Or Enter Coupon Code":"Enter Coupon Code *"}),(0,Xm.jsx)("input",{type:"text",value:q,onChange:e=>{z(e.target.value.toUpperCase()),e.target.value&&I("")},placeholder:"Enter coupon code",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent uppercase",disabled:!!M}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your coupon code to redeem it for this payment"})]}),!M&&!q&&(0,Xm.jsx)("p",{className:"text-sm text-red-600",children:"Please select or enter a coupon code"})]}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),(0,Xm.jsxs)("select",{value:P,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"",children:"Select payment method"}),k.map(e=>(0,Xm.jsx)("option",{value:e.code,children:e.name},e.code))]}),!P&&(0,Xm.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Please select a payment method"})]})]})})]})},JG=()=>{const{caseId:e}=ae(),t=te();return(0,Xm.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(Zm,{variant:"ghost",icon:(0,Xm.jsx)(jy,{}),onClick:()=>t("/app/supervisor/cases")}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Options"}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["Choose payment method for case #",e]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xm.jsx)(My,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-primary-500",children:(0,Xm.jsxs)("div",{className:"text-center p-6",children:[(0,Xm.jsx)(Ym,{className:"w-16 h-16 mx-auto text-primary-600 mb-4"}),(0,Xm.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Direct Payment"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Pay with Stripe"}),(0,Xm.jsx)(Zm,{fullWidth:!0,children:"Select"})]})}),(0,Xm.jsx)(My,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-orange-500",children:(0,Xm.jsxs)("div",{className:"text-center p-6",children:[(0,Xm.jsx)(jp,{className:"w-16 h-16 mx-auto text-orange-600 mb-4"}),(0,Xm.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Redeem Coupon"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Use available coupon"}),(0,Xm.jsx)(Zm,{variant:"outline",fullWidth:!0,children:"Select"})]})})]})]})},ZG=()=>(0,Xm.jsx)(nb,{}),eY=()=>{const e=tt(),t=nt(Wd);return(0,s.useEffect)(()=>{e(cd())},[]),(0,Xm.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your supervisor profile"})]}),(0,Xm.jsx)(My,{title:"Profile Information",children:t?(0,Xm.jsx)("div",{className:"space-y-4",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,Xm.jsx)("p",{className:"mt-1 text-gray-900",children:t.fullName})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,Xm.jsx)("p",{className:"mt-1 text-gray-900",children:t.email})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),(0,Xm.jsx)("p",{className:"mt-1 text-gray-900",children:t.phoneNumber||"N/A"})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Verification Status"}),(0,Xm.jsx)("div",{className:"mt-1",children:(0,Xm.jsx)(sp,{status:t.verificationStatus,size:"sm"})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Max Patients Limit"}),(0,Xm.jsx)("p",{className:"mt-1 text-gray-900",children:t.maxPatientsLimit})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Max Cases Per Patient"}),(0,Xm.jsx)("p",{className:"mt-1 text-gray-900",children:t.maxActiveCasesPerPatient})]})]})}):(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})}),(0,Xm.jsxs)(My,{className:"text-center py-8",children:[(0,Xm.jsx)(Wm,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Profile editing features are under development."})]})]})},tY=()=>(0,Xm.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Configure your supervisor preferences"})]}),(0,Xm.jsx)(My,{title:"Notification Preferences",children:(0,Xm.jsx)("p",{className:"text-gray-600",children:"Notification settings will be available soon."})}),(0,Xm.jsx)(My,{title:"Language & Region",children:(0,Xm.jsx)("p",{className:"text-gray-600",children:"Language and region settings will be available soon."})}),(0,Xm.jsxs)(My,{className:"text-center py-8",children:[(0,Xm.jsx)(Gm,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Advanced settings features are under development."})]})]}),rY={getAllCoupons:async()=>td("/supervisor-service/api/supervisors/coupons"),getUnassignedCoupons:async()=>td("/supervisor-service/api/supervisors/coupons/unassigned"),getAvailableCouponsForPatient:async e=>td("/supervisor-service/api/supervisors/coupons/patient/".concat(e,"/available")),getAllCouponsForPatient:async e=>td("/supervisor-service/api/supervisors/coupons/patient/".concat(e)),getExpiringCoupons:async function(){return td("/supervisor-service/api/supervisors/coupons/expiring?days=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:30))},getCouponByCode:async e=>td("/supervisor-service/api/supervisors/coupons/code/".concat(e)),getCouponSummary:async()=>td("/supervisor-service/api/supervisors/coupons/summary"),getPatientCouponSummary:async e=>td("/supervisor-service/api/supervisors/coupons/summary/patient/".concat(e)),assignCouponToPatient:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return rd("/supervisor-service/api/supervisors/coupons/".concat(e,"/assign"),{patientId:t,notes:r})},unassignCouponFromPatient:async e=>rd("/supervisor-service/api/supervisors/coupons/".concat(e,"/unassign")),validateCoupon:async function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=new URLSearchParams;return n.append("couponCode",e),n.append("patientId",t),n.append("caseId",r),a&&n.append("amount",a),rd("/supervisor-service/api/supervisors/coupons/validate?".concat(n))},payConsultationFee:async e=>rd("/supervisor-service/api/supervisors/payments/pay",e),createPaymentIntent:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/create-payment-intent?caseId=".concat(e,"&patientId=").concat(t,"&doctorId=").concat(r)),validateCouponForPayment:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/validate-coupon?couponCode=".concat(e,"&patientId=").concat(t,"&caseId=").concat(r)),redeemCoupon:async(e,t,r)=>rd("/supervisor-service/api/supervisors/payments/coupon/".concat(e,"?patientId=").concat(t),{couponCode:r}),syncWithAdminService:async()=>rd("/supervisor-service/api/supervisors/coupons/sync"),getLegacyCouponSummary:async()=>td("/supervisor-service/api/supervisors/payments/coupons"),getLegacyPatientCoupons:async e=>td("/supervisor-service/api/supervisors/payments/coupons/patient/".concat(e)),getLegacyAvailableCoupons:async()=>td("/supervisor-service/api/supervisors/payments/available-coupons"),getLegacyExpiringCoupons:async function(){return td("/supervisor-service/api/supervisors/payments/coupons/expiring?days=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:7))}},aY=e=>{let{status:t}=e;const r={AVAILABLE:{color:"bg-blue-100 text-blue-800",label:"Available"},ASSIGNED:{color:"bg-green-100 text-green-800",label:"Assigned"},USED:{color:"bg-gray-100 text-gray-800",label:"Used"},EXPIRED:{color:"bg-red-100 text-red-800",label:"Expired"},CANCELLED:{color:"bg-orange-100 text-orange-800",label:"Cancelled"}}[t]||{color:"bg-gray-100 text-gray-800",label:t};return(0,Xm.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color),children:r.label})},nY=e=>{let{type:t,value:r,maxAmount:a}=e;return(0,Xm.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded bg-purple-50 text-purple-700 text-xs font-medium",children:[(0,Xm.jsx)(AG,{className:"w-3 h-3 mr-1"}),(()=>{switch(t){case"PERCENTAGE":return"".concat(r,"%").concat(a?" (max $".concat(a,")"):"");case"FIXED_AMOUNT":return"$".concat(r);case"FULL_COVERAGE":return"100% Coverage";default:return t}})()]})},sY=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)("all"),[f,y]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[b,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)(!1),[E,P]=(0,s.useState)(null),[O,T]=(0,s.useState)(!1),[D,R]=(0,s.useState)({patientId:"",notes:""});(0,s.useEffect)(()=>{_()},[]),(0,s.useEffect)(()=>{q()},[a,f,g,b,h]);const _=async()=>{T(!0);try{await Promise.all([M(),I(),L(),F()])}catch(e){console.error("Error loading data:",e),Ft.error("Failed to load coupon data")}finally{T(!1)}},M=async()=>{try{const e=await t(()=>rY.getAllCoupons());n(e||[])}catch(e){console.error("Error loading coupons:",e)}},I=async()=>{try{const e=await t(()=>rY.getCouponSummary());u(e||{})}catch(e){console.error("Error loading summary:",e)}},L=async()=>{try{const e=await t(()=>ld.getPatients());c(e||[])}catch(e){console.error("Error loading patients:",e)}},F=async()=>{try{const e=await t(()=>rY.getExpiringCoupons(30));p((null===e||void 0===e?void 0:e.data)||[])}catch(e){console.error("Error loading expiring coupons:",e)}},q=(0,s.useCallback)(()=>{let e=[...a];if("unassigned"===h?e=e.filter(e=>"AVAILABLE"===e.status&&!e.assignedPatientId):"assigned"===h&&(e=e.filter(e=>"ASSIGNED"===e.status&&e.assignedPatientId)),f){const t=f.toLowerCase();e=e.filter(e=>{var r,a,n;return(null===(r=e.couponCode)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.patientName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.assignmentNotes)||void 0===n?void 0:n.toLowerCase().includes(t))})}g&&(e=e.filter(e=>e.status===g)),b&&(e=e.filter(e=>{var t;return(null===(t=e.assignedPatientId)||void 0===t?void 0:t.toString())===b})),o(e)},[a,f,g,b,h]),z=e=>{navigator.clipboard.writeText(e),Ft.success("Copied to clipboard")},U=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",B=e=>null===e||void 0===e?"$0.00":"$".concat(parseFloat(e).toFixed(2)),V=(null===d||void 0===d?void 0:d.patientSummaries)||[];return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Coupon Management"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and assign coupons to your patients for consultation payments"})]}),(0,Xm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:async()=>{try{await t(()=>rY.syncWithAdminService()),Ft.success("Coupons synced with admin service"),await _()}catch(e){Ft.error("Failed to sync coupons")}},disabled:O,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(O?"animate-spin":"")}),"Sync"]}),(0,Xm.jsxs)(Zm,{variant:"outline",size:"sm",onClick:_,disabled:O,children:[(0,Xm.jsx)(pg,{className:"w-4 h-4 mr-2 ".concat(O?"animate-spin":"")}),"Refresh"]})]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Coupons",value:(null===d||void 0===d?void 0:d.totalCoupons)||0,icon:(0,Xm.jsx)(jp,{className:"w-5 h-5"}),iconColor:"bg-blue-100 text-blue-600"}),(0,Xm.jsx)(Ry,{title:"Available",value:(null===d||void 0===d?void 0:d.availableCoupons)||0,icon:(0,Xm.jsx)(Up,{className:"w-5 h-5"}),iconColor:"bg-green-100 text-green-600"}),(0,Xm.jsx)(Ry,{title:"Assigned",value:(null===d||void 0===d?void 0:d.assignedCoupons)||0,icon:(0,Xm.jsx)(vp,{className:"w-5 h-5"}),iconColor:"bg-indigo-100 text-indigo-600"}),(0,Xm.jsx)(Ry,{title:"Used",value:(null===d||void 0===d?void 0:d.usedCoupons)||0,icon:(0,Xm.jsx)(Fb,{className:"w-5 h-5"}),iconColor:"bg-gray-100 text-gray-600"}),(0,Xm.jsx)(Ry,{title:"Total Value",value:B((null===d||void 0===d?void 0:d.totalAvailableValue)||0),icon:(0,Xm.jsx)(Cp,{className:"w-5 h-5"}),iconColor:"bg-purple-100 text-purple-600"})]}),m.length>0&&(0,Xm.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start",children:[(0,Xm.jsx)(wp,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("h4",{className:"text-sm font-medium text-yellow-800",children:[m.length," coupon",m.length>1?"s":""," expiring within 30 days"]}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-yellow-700",children:"Assign these coupons to patients soon to avoid expiration."})]}),(0,Xm.jsx)(Zm,{variant:"outline",size:"sm",onClick:()=>{v(""),x("unassigned")},className:"ml-4",children:"View"})]})}),(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"all",label:"All Coupons",count:a.length},{id:"unassigned",label:"Unassigned",count:a.filter(e=>"AVAILABLE"===e.status&&!e.assignedPatientId).length},{id:"assigned",label:"Assigned",count:a.filter(e=>"ASSIGNED"===e.status).length},{id:"byPatient",label:"By Patient",count:V.length}].map(e=>(0,Xm.jsxs)("button",{onClick:()=>x(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(h===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label,(0,Xm.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs ".concat(h===e.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"),children:e.count})]},e.id))})}),"byPatient"===h?(0,Xm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===V.length?(0,Xm.jsx)("div",{className:"col-span-full",children:(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(vp,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{className:"text-gray-500",children:"No patient coupon data available"})]})})}):V.map(e=>(0,Xm.jsxs)(My,{className:"hover:shadow-md transition-shadow",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-primary-600"})}),(0,Xm.jsxs)("div",{className:"ml-3",children:[(0,Xm.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.patientName}),(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Patient ID: ",e.patientId]})]})]}),(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>{j(e.patientId.toString()),x("all")},children:(0,Xm.jsx)(Jp,{className:"w-4 h-4"})})]}),(0,Xm.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-xs text-green-600",children:"Available"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-green-700",children:e.availableCoupons||0}),(0,Xm.jsx)("p",{className:"text-xs text-green-600",children:B(e.availableValue)})]}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-600",children:"Used"}),(0,Xm.jsx)("p",{className:"text-lg font-bold text-gray-700",children:e.usedCoupons||0})]})]})]},e.patientId))}):(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Xm.jsx)("div",{className:"flex-1",children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search by code or patient name...",value:f,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Statuses"}),(0,Xm.jsx)("option",{value:"AVAILABLE",children:"Available"}),(0,Xm.jsx)("option",{value:"ASSIGNED",children:"Assigned"}),(0,Xm.jsx)("option",{value:"USED",children:"Used"}),(0,Xm.jsx)("option",{value:"EXPIRED",children:"Expired"})]}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"All Patients"}),l.map(e=>(0,Xm.jsx)("option",{value:e.patientId,children:e.fullName||e.patientName},e.id))]}),b&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",onClick:()=>j(""),children:"Clear"})]})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"overflow-x-auto",children:(0,Xm.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xm.jsx)("thead",{className:"bg-gray-50",children:(0,Xm.jsxs)("tr",{children:[(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coupon Code"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),(0,Xm.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xm.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===i.length?(0,Xm.jsx)("tr",{children:(0,Xm.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:r?(0,Xm.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xm.jsx)(pg,{className:"w-5 h-5 animate-spin mr-2"}),"Loading coupons..."]}):(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)(jp,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,Xm.jsx)("p",{children:"No coupons found"})]})})}):i.map(e=>(0,Xm.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:(0,Xm.jsx)(jp,{className:"w-5 h-5 text-white"})}),(0,Xm.jsx)("div",{className:"ml-4",children:(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("span",{className:"text-sm font-mono font-medium text-gray-900",children:e.couponCode}),(0,Xm.jsx)("button",{onClick:()=>z(e.couponCode),className:"ml-2 text-gray-400 hover:text-gray-600",title:"Copy code",children:(0,Xm.jsx)(Cg,{className:"w-4 h-4"})})]})})]})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(nY,{type:e.discountType,value:e.discountValue,maxAmount:e.maxDiscountAmount})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.assignedPatientName?(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(Wm,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Xm.jsx)("span",{className:"text-sm text-gray-900",children:e.assignedPatientName})]}):(0,Xm.jsx)("span",{className:"text-sm text-gray-400 italic",children:"Unassigned"})}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xm.jsx)(aY,{status:e.status})}),(0,Xm.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xm.jsx)("div",{className:"text-sm text-gray-900",children:U(e.expiresAt)}),e.isExpiringSoon&&(0,Xm.jsxs)("span",{className:"text-xs text-yellow-600",children:[e.daysUntilExpiry," days left"]})]}),(0,Xm.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Xm.jsx)("button",{onClick:()=>{P(e),k(!0)},className:"text-gray-400 hover:text-gray-600",title:"View details",children:(0,Xm.jsx)(iy,{className:"w-5 h-5"})}),"AVAILABLE"===e.status&&!e.assignedPatientId&&(0,Xm.jsx)("button",{onClick:()=>{P(e),N(!0)},className:"text-blue-400 hover:text-blue-600",title:"Assign to patient",children:(0,Xm.jsx)(qv,{className:"w-5 h-5"})}),"ASSIGNED"===e.status&&e.assignedPatientId&&(0,Xm.jsx)("button",{onClick:()=>{P(e),S(!0)},className:"text-orange-400 hover:text-orange-600",title:"Unassign from patient",children:(0,Xm.jsx)(eg,{className:"w-5 h-5"})})]})})]},e.id))})]})})})]}),(0,Xm.jsx)($y,{isOpen:w,onClose:()=>{N(!1),P(null),R({patientId:"",notes:""})},title:"Assign Coupon to Patient",children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)(jp,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,Xm.jsx)("span",{className:"font-mono font-medium text-purple-900",children:null===E||void 0===E?void 0:E.couponCode})]}),(0,Xm.jsx)("div",{className:"mt-2",children:(0,Xm.jsx)(nY,{type:null===E||void 0===E?void 0:E.discountType,value:null===E||void 0===E?void 0:E.discountValue,maxAmount:null===E||void 0===E?void 0:E.maxDiscountAmount})})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Patient *"}),(0,Xm.jsxs)("select",{value:D.patientId,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{patientId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select a patient..."}),l.map(e=>(0,Xm.jsxs)("option",{value:e.patientId,children:[e.fullName||e.patientName," (",e.patientEmail,")"]},e.id))]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),(0,Xm.jsx)("textarea",{value:D.notes,onChange:e=>R((0,ot.A)((0,ot.A)({},D),{},{notes:e.target.value})),rows:3,placeholder:"Add notes about this assignment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),(0,Xm.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{N(!1),P(null)},children:"Cancel"}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:async()=>{try{if(!D.patientId)return void Ft.error("Please select a patient");await t(()=>rY.assignCouponToPatient(E.id,D.patientId,D.notes)),Ft.success("Coupon assigned successfully"),N(!1),P(null),R({patientId:"",notes:""}),await _()}catch(e){console.error("Error assigning coupon:",e),Ft.error("Failed to assign coupon")}},disabled:r||!D.patientId,children:[(0,Xm.jsx)(qv,{className:"w-4 h-4 mr-2"}),"Assign Coupon"]})]})]})}),(0,Xm.jsx)(Yy,{isOpen:C,onClose:()=>{S(!1),P(null)},onConfirm:async()=>{try{await t(()=>rY.unassignCouponFromPatient(E.id)),Ft.success("Coupon unassigned successfully"),S(!1),P(null),await _()}catch(e){console.error("Error unassigning coupon:",e),Ft.error("Failed to unassign coupon")}},title:"Unassign Coupon",message:"Are you sure you want to unassign coupon ".concat(null===E||void 0===E?void 0:E.couponCode," from ").concat(null===E||void 0===E?void 0:E.patientName,"? The coupon will become available for assignment to another patient."),confirmText:"Unassign",confirmVariant:"warning"}),(0,Xm.jsx)($y,{isOpen:A,onClose:()=>{k(!1),P(null)},title:"Coupon Details",size:"lg",children:E&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:(0,Xm.jsx)(jp,{className:"w-6 h-6 text-white"})}),(0,Xm.jsxs)("div",{className:"ml-4",children:[(0,Xm.jsx)("p",{className:"text-lg font-mono font-bold text-gray-900",children:E.couponCode}),(0,Xm.jsx)(aY,{status:E.status})]})]}),(0,Xm.jsx)("button",{onClick:()=>z(E.couponCode),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-white rounded-lg",children:(0,Xm.jsx)(Cg,{className:"w-5 h-5"})})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,Xm.jsx)("div",{className:"mt-1",children:(0,Xm.jsx)(nY,{type:E.discountType,value:E.discountValue,maxAmount:E.maxDiscountAmount})})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Assigned To"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:E.assignedPatientName||(0,Xm.jsx)("span",{className:"text-gray-400 italic",children:"Unassigned"})})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Assigned At"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:U(E.assignedAt)})]}),(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Expires"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:U(E.expiresAt)})]})]}),E.usedAt&&(0,Xm.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Xm.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Usage Information"}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-green-600",children:"Used At:"}),(0,Xm.jsx)("span",{className:"ml-2 text-green-800",children:U(E.usedAt)})]}),E.usedForCaseId&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("span",{className:"text-green-600",children:"Case ID:"}),(0,Xm.jsx)("span",{className:"ml-2 text-green-800",children:E.usedForCaseId})]})]})]}),E.assignmentNotes&&(0,Xm.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Xm.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Assignment Notes"}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700",children:E.assignmentNotes})]}),(0,Xm.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{k(!1),P(null)},children:"Close"})})]})})]})},iY=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({total:0,unread:0}),[d,u]=(0,s.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,appointmentReminders:!0,caseUpdates:!0,paymentNotifications:!0,patientUpdates:!0,systemNotifications:!0}),[m,p]=(0,s.useState)(10),[h,x]=(0,s.useState)(""),[f,y]=(0,s.useState)("all"),[g,v]=(0,s.useState)("all"),[b,j]=(0,s.useState)("all"),[w,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[A,k]=(0,s.useState)("all"),[E,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{O(),T()},[]),(0,s.useEffect)(()=>{D(),p(10)},[a,h,f,g,b,A]);const O=async()=>{try{const r=await t(()=>ld.getNotifications(e.id));n(r||[]);const a=r||[],s={total:a.length,unread:a.filter(e=>!1===e.isRead).length};c(s||{})}catch(r){console.error("Failed to load notifications:",r)}},T=async()=>{try{const e=await t(()=>ld.getNotificationSettings());u(e||d)}catch(e){console.error("Failed to load notification settings:",e)}},D=()=>{let e=a;if(h&&(e=e.filter(e=>{var t,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.message)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))})),"all"!==f&&(e=e.filter(e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===f})),"all"!==g){const t="read"===g;e=e.filter(e=>e.isRead===t)}"all"!==b&&(e=e.filter(e=>{var t;return(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())===b})),o(e)},R=async(e,r)=>{try{await t(()=>ld.markNotificationAsRead(e,r)),n(t=>t.map(t=>e.includes(t.id)?(0,ot.A)((0,ot.A)({},t),{},{isRead:!0}):t)),O()}catch(a){console.error("Failed to mark notifications as read:",a)}},_=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return(0,Xm.jsx)(bp,{className:"w-5 h-5 text-blue-500"});case"case":return(0,Xm.jsx)(Km,{className:"w-5 h-5 text-green-500"});case"patient":return(0,Xm.jsx)(vp,{className:"w-5 h-5 text-teal-500"});case"payment":return(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-purple-500"});case"coupon":return(0,Xm.jsx)(gp,{className:"w-5 h-5 text-orange-500"});case"supervisor":return(0,Xm.jsx)(Sp,{className:"w-5 h-5 text-indigo-500"});case"system":return(0,Xm.jsx)(Gm,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(Vm,{className:"w-5 h-5 text-gray-500"})}},M=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"appointment":return"bg-blue-100 text-blue-800";case"case":return"bg-green-100 text-green-800";case"patient":return"bg-teal-100 text-teal-800";case"payment":return"bg-purple-100 text-purple-800";case"coupon":return"bg-orange-100 text-orange-800";case"supervisor":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return(0,Xm.jsx)(Eg,{className:"w-4 h-4"});case"high":return(0,Xm.jsx)(wp,{className:"w-4 h-4"});case"medium":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});default:return(0,Xm.jsx)(Sg,{className:"w-4 h-4"})}},L=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},F=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==(new Date).getFullYear()?"numeric":void 0})},q=i.slice(0,m),z=m<i.length;return(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your notifications and preferences"})]}),(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(Gm,{className:"w-4 h-4"}),onClick:()=>S(!0),children:"Settings"})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xm.jsx)(Ry,{title:"Total Notifications",value:l.total,icon:(0,Xm.jsx)(Vm,{className:"w-6 h-6"})}),(0,Xm.jsx)(Ry,{title:"Unread",value:l.unread,change:"".concat(l.unread," unread"),icon:(0,Xm.jsx)(py,{className:"w-6 h-6"})})]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"space-y-4",children:[(0,Xm.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search notifications...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,Xm.jsxs)(Zm,{className:"".concat(E?"bg-amber-500 hover:bg-amber-600 text-white shadow-md":"bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200"),onClick:()=>{P(!E),E?j("all"):(j("critical"),y("all"),v("all"),x(""))},children:[(0,Xm.jsx)(wp,{className:"w-4 h-4 mr-2"}),"Important (",i.filter(e=>{var t,r;return"critical"===(null===(t=e.priority)||void 0===t?void 0:t.toLowerCase())||"high"===(null===(r=e.priority)||void 0===r?void 0:r.toLowerCase())}).length,")"]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)($p,{className:"w-4 h-4"}),onClick:()=>N(!w),children:"Filters"}),l.unread>0&&(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{try{await t(()=>ld.markAllNotificationsAsRead(e.id)),n(e=>e.map(e=>(0,ot.A)((0,ot.A)({},e),{},{isRead:!0}))),O()}catch(r){console.error("Failed to mark all notifications as read:",r)}},children:"Mark All as Read"})]}),w&&(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,Xm.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),(0,Xm.jsx)("option",{value:"appointment",children:"Appointment"}),(0,Xm.jsx)("option",{value:"case",children:"Case"}),(0,Xm.jsx)("option",{value:"patient",children:"Patient"}),(0,Xm.jsx)("option",{value:"payment",children:"Payment"}),(0,Xm.jsx)("option",{value:"coupon",children:"Coupon"}),(0,Xm.jsx)("option",{value:"supervisor",children:"Supervisor"}),(0,Xm.jsx)("option",{value:"system",children:"System"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Xm.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Status"}),(0,Xm.jsx)("option",{value:"unread",children:"Unread"}),(0,Xm.jsx)("option",{value:"read",children:"Read"})]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Xm.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),(0,Xm.jsx)("option",{value:"critical",children:"Critical"}),(0,Xm.jsx)("option",{value:"high",children:"High"}),(0,Xm.jsx)("option",{value:"medium",children:"Medium"}),(0,Xm.jsx)("option",{value:"low",children:"Low"})]})]})]})]})}),(0,Xm.jsx)(My,{title:"Notifications (".concat(q.length,"/").concat(i.length,")"),children:(0,Xm.jsx)("div",{className:"space-y-3",children:q.length>0?(0,Xm.jsxs)(Xm.Fragment,{children:[q.map(e=>(0,Xm.jsx)("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md ".concat(e.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50 border-blue-200 hover:border-blue-300"),children:(0,Xm.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Xm.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.isRead?"bg-gray-100":"bg-blue-100"),children:_(e.type)}),(0,Xm.jsx)("div",{className:"flex-1 min-w-0",children:(0,Xm.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,Xm.jsx)(lp,{className:M(e.type),children:e.type}),e.priority&&(0,Xm.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ".concat(L(e.priority)),children:[I(e.priority),(0,Xm.jsx)("span",{children:e.priority})]})]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-700 mt-2 break-words whitespace-pre-wrap overflow-hidden",children:e.message}),(0,Xm.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500",children:[(0,Xm.jsx)("span",{children:F(e.createdAt)}),!e.isRead&&(0,Xm.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-medium",children:[(0,Xm.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Unread"]})]})]})})}),(0,Xm.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2",children:!e.isRead&&(0,Xm.jsx)(Zm,{variant:"ghost",size:"sm",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"}),onClick:t=>{t.stopPropagation(),R([e.id],[e.receiverId])},title:"Mark as read"})})]})},e.id)),z&&(0,Xm.jsx)("div",{className:"pt-4 flex justify-center",children:(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>{p(e=>e+10)},icon:(0,Xm.jsx)(Hm,{className:"w-4 h-4"}),children:["Load More (",i.length-m," remaining)"]})})]}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(Vm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:h||"all"!==f||"all"!==g||"all"!==b?"Try adjusting your search or filters":"You don't have any notifications yet"})]})})}),(0,Xm.jsx)($y,{isOpen:C,onClose:()=>S(!1),title:"Notification Settings",children:(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsx)("p",{className:"text-gray-600",children:"Customize how you receive notifications about your patients, cases, and appointments."}),(0,Xm.jsx)("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in your browser"},{key:"appointmentReminders",label:"Appointment Reminders",description:"Get reminders about upcoming appointments"},{key:"caseUpdates",label:"Case Updates",description:"Receive updates on medical cases"},{key:"patientUpdates",label:"Patient Updates",description:"Get notified about patient activities"},{key:"paymentNotifications",label:"Payment Notifications",description:"Get notified about payment status"}].map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Xm.jsx)("input",{type:"checkbox",checked:d[e.key],onChange:t=>u((0,ot.A)((0,ot.A)({},d),{},{[e.key]:t.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},e.key))}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,Xm.jsx)(Zm,{onClick:()=>(async e=>{try{await t(()=>ld.updateNotificationSettings(e)),u(e),S(!1)}catch(r){console.error("Failed to update notification settings:",r)}})(d),loading:r,children:"Save Settings"})]})]})})]})},oY=ey({complaintType:zf().required("Complaint type is required"),description:zf().required("Description is required").min(20,"Description must be at least 20 characters"),priority:zf().required("Priority is required"),patientId:zf().required("Please select a patient"),doctorId:zf().nullable(),caseId:zf().nullable()}),lY=()=>{var e;te();const{user:t}=Jd(),{execute:r,loading:a}=Iy(),[n,i]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)({}),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)("all"),[j,w]=(0,s.useState)("all"),[N,C]=(0,s.useState)("all"),[S,A]=(0,s.useState)("all"),[k,E]=(0,s.useState)("created_desc"),[P,O]=(0,s.useState)([]),[T,D]=(0,s.useState)([]),[R,_]=(0,s.useState)([]),[M,I]=(0,s.useState)([]),[L,F]=(0,s.useState)(""),q=Tx({resolver:Lx(oY),defaultValues:{patientId:"",complaintType:"",description:"",priority:"MEDIUM",doctorId:"",caseId:""}});(0,s.useEffect)(()=>{z(),U(),B(),V()},[]),(0,s.useEffect)(()=>{H()},[n,y,v,j,N,S,k]),(0,s.useEffect)(()=>{if(L){const e=T.filter(e=>e.patientId===parseInt(L));I(e)}else I([])},[L,T]);const z=async()=>{try{const e=await r(()=>ld.getComplaints());i(e||[]);const t=e||[],a={total:t.length,open:t.filter(e=>"OPEN"===e.status).length,inProgress:t.filter(e=>"IN_PROGRESS"===e.status).length,resolved:t.filter(e=>"RESOLVED"===e.status).length};d(a)}catch(e){console.error("Failed to load complaints:",e)}},U=async()=>{try{const e=await r(()=>ld.getPatients());O(e||[])}catch(e){console.error("Failed to load patients:",e)}},B=async()=>{try{const e=await r(()=>ld.getCases());D(e||[])}catch(e){console.error("Failed to load cases:",e)}},V=async()=>{try{const e=await r(()=>ld.getDoctors());_(e||[])}catch(e){console.error("Failed to load doctors:",e)}},H=()=>{let e=[...n];y&&(e=e.filter(e=>{var t,r,a;return(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.complaintId)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))||(null===(a=e.patientName)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))})),"all"!==v&&(e=e.filter(e=>e.status===v.toUpperCase())),"all"!==j&&(e=e.filter(e=>e.complaintType===j.toUpperCase())),"all"!==N&&(e=e.filter(e=>e.priority===N.toUpperCase())),"all"!==S&&(e=e.filter(e=>e.patientId===parseInt(S))),e.sort((e,t)=>{switch(k){case"created_desc":return new Date(t.createdAt)-new Date(e.createdAt);case"created_asc":return new Date(e.createdAt)-new Date(t.createdAt);case"updated_desc":return new Date(t.updatedAt)-new Date(e.resolvedAt);case"priority_high":const r={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};return r[t.priority]-r[e.priority];case"status":return e.status.localeCompare(t.status);default:return 0}}),l(e)},W=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),G=e=>{switch(e){case"OPEN":return(0,Xm.jsx)(wp,{className:"w-5 h-5 text-orange-500"});case"IN_PROGRESS":return(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-500"});case"RESOLVED":return(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-500"});case"CLOSED":return(0,Xm.jsx)(eg,{className:"w-5 h-5 text-gray-500"});default:return(0,Xm.jsx)(jg,{className:"w-5 h-5 text-gray-400"})}},Y=e=>{switch(e){case"CRITICAL":return"bg-red-600 text-white border-red-600";case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},K=e=>{switch(e){case"SYSTEM":return(0,Xm.jsx)(oy,{className:"w-4 h-4"});case"PAYMENT":return(0,Xm.jsx)(gp,{className:"w-4 h-4"});case"SERVICE":return(0,Xm.jsx)(Wm,{className:"w-4 h-4"});case"DOCTOR":return(0,Xm.jsx)(Ip,{className:"w-4 h-4"});default:return(0,Xm.jsx)(jg,{className:"w-4 h-4"})}},$=[{value:"DOCTOR",label:"Doctor Related"},{value:"SYSTEM",label:"System/Technical Issue"},{value:"PAYMENT",label:"Payment Issue"},{value:"SERVICE",label:"Service Quality"},{value:"OTHER",label:"Other"}],Q=[{value:"LOW",label:"Low"},{value:"MEDIUM",label:"Medium"},{value:"HIGH",label:"High"},{value:"CRITICAL",label:"Critical"}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(wp,{className:"w-8 h-8 text-orange-600"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Complaints"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Manage complaints submitted by your assigned patients"})]})]}),(0,Xm.jsxs)(Zm,{variant:"primary",onClick:()=>m(!0),disabled:a,children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"New Complaint"]})]})})})}),(0,Xm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xm.jsx)(Ry,{title:"Total Complaints",value:c.total||0,icon:(0,Xm.jsx)(jg,{className:"w-6 h-6 text-blue-600"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Open",value:c.open||0,icon:(0,Xm.jsx)(wp,{className:"w-6 h-6 text-orange-600"}),color:"orange"}),(0,Xm.jsx)(Ry,{title:"In Progress",value:c.inProgress||0,icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6 text-blue-600"}),color:"blue"}),(0,Xm.jsx)(Ry,{title:"Resolved",value:c.resolved||0,icon:(0,Xm.jsx)(Up,{className:"w-6 h-6 text-green-600"}),color:"green"})]}),(0,Xm.jsx)(My,{className:"mb-6",children:(0,Xm.jsx)("div",{className:"p-6",children:(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Xm.jsx)("div",{children:(0,Xm.jsxs)("div",{className:"relative",children:[(0,Xm.jsx)(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Xm.jsx)("input",{type:"text",placeholder:"Search complaints...",value:y,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})}),(0,Xm.jsxs)("select",{value:S,onChange:e=>A(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Patients"}),P.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]}),(0,Xm.jsx)("select",{value:v,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Xm.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Types"}),$.map(e=>(0,Xm.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),(0,Xm.jsxs)("select",{value:N,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Priorities"}),Q.map(e=>(0,Xm.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),(0,Xm.jsx)("select",{value:k,onChange:e=>E(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[{value:"created_desc",label:"Newest First"},{value:"created_asc",label:"Oldest First"},{value:"updated_desc",label:"Recently Updated"},{value:"priority_high",label:"Priority (High to Low)"},{value:"status",label:"Status"}].map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})]})})}),(0,Xm.jsx)(My,{children:(0,Xm.jsx)("div",{className:"p-6",children:o.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:o.map(e=>{var t;return(0,Xm.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Xm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[K(e.complaintType),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:(null===(t=$.find(t=>t.value===e.complaintType))||void 0===t?void 0:t.label)||e.complaintType}),(0,Xm.jsx)(lp,{className:Y(e.priority),children:e.priority}),(0,Xm.jsxs)(lp,{variant:"outline",className:"flex items-center gap-1",children:[(0,Xm.jsx)(vp,{className:"w-3 h-3"}),e.patientName||"Patient #".concat(e.patientId)]})]}),(0,Xm.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.description}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Xm.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Xm.jsx)(bp,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:W(e.createdAt)})]}),e.caseId&&(0,Xm.jsxs)("span",{children:["Case #",e.caseId]}),e.doctorId&&(0,Xm.jsxs)("span",{children:["Doctor #",e.doctorId]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3 ml-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[G(e.status),(0,Xm.jsx)(sp,{status:e.status.toLowerCase(),children:e.status.replace("_"," ")})]}),(0,Xm.jsxs)(Zm,{size:"sm",variant:"outline",onClick:()=>(e=>{h(e),f(!0)})(e),children:[(0,Xm.jsx)(iy,{className:"w-4 h-4 mr-1"}),"View"]})]})]})},e.id)})}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(wp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Complaints Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:0===n.length?"No complaints have been submitted yet":"No complaints match your current filters"}),0===n.length&&(0,Xm.jsxs)(Zm,{variant:"primary",onClick:()=>m(!0),children:[(0,Xm.jsx)(Np,{className:"w-4 h-4 mr-2"}),"Submit First Complaint"]})]})})})]}),u&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Submit Complaint on Behalf of Patient"}),(0,Xm.jsx)("button",{onClick:()=>{m(!1),q.reset(),F("")},className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("form",{onSubmit:q.handleSubmit(async e=>{try{const a={patientId:t.id,complaintType:e.complaintType,description:e.description,priority:e.priority,doctorId:e.doctorId?parseInt(e.doctorId):null,caseId:e.caseId?parseInt(e.caseId):null};await r(()=>ld.createComplaint(a)),await z(),m(!1),q.reset(),F(""),Ft.success("Complaint submitted successfully on behalf of the patient!")}catch(s){var a,n;console.error("Failed to create complaint:",s),Ft.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to submit complaint. Please try again.")}}),className:"space-y-6",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},q.register("patientId")),{},{onChange:e=>{const t=e.target.value;F(t),q.setValue("patientId",t),q.setValue("caseId","")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select patient"}),P.map(e=>(0,Xm.jsxs)("option",{value:e.patientId,children:[e.patientName," - ",e.patientEmail]},e.patientId))]})),q.formState.errors.patientId&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.formState.errors.patientId.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Type *"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},q.register("complaintType")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select complaint type"}),$.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))]})),q.formState.errors.complaintType&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.formState.errors.complaintType.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),(0,Xm.jsx)("select",(0,ot.A)((0,ot.A)({},q.register("priority")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:Q.map(e=>(0,Xm.jsx)("option",{value:e.value,children:e.label},e.value))})),q.formState.errors.priority&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.formState.errors.priority.message})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Case (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},q.register("caseId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",disabled:!L,children:[(0,Xm.jsx)("option",{value:"",children:L?0===M.length?"No cases found for this patient":"Select a case (if applicable)":"Please select a patient first"}),M.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:["Case #",e.id," - ",e.caseTitle||"General"]},e.id))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Doctor (Optional)"}),(0,Xm.jsxs)("select",(0,ot.A)((0,ot.A)({},q.register("doctorId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"",children:"Select a doctor (if applicable)"}),R.map(e=>(0,Xm.jsxs)("option",{value:e.id,children:["Dr. ",e.firstName," ",e.lastName," - ",e.specialization]},e.id))]}))]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Xm.jsx)("textarea",(0,ot.A)((0,ot.A)({},q.register("description")),{},{rows:6,placeholder:"Please provide detailed information about the complaint...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})),q.formState.errors.description&&(0,Xm.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.formState.errors.description.message})]}),(0,Xm.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Xm.jsx)(Zm,{type:"button",variant:"outline",onClick:()=>{m(!1),q.reset(),F("")},children:"Cancel"}),(0,Xm.jsx)(Zm,{type:"submit",disabled:a,children:a?"Submitting...":"Submit Complaint"})]})]})]})}),x&&p&&(0,Xm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xm.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Xm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Complaint Details"}),(0,Xm.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xm.jsx)(Tp,{className:"w-6 h-6"})})]}),(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(sp,{status:p.status.toLowerCase(),children:p.status.replace("_"," ")}),(0,Xm.jsx)(lp,{className:Y(p.priority),children:p.priority}),(0,Xm.jsxs)(lp,{variant:"outline",className:"flex items-center gap-1",children:[(0,Xm.jsx)(vp,{className:"w-3 h-3"}),p.patientName||"Patient #".concat(p.patientId)]})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Type"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:(null===(e=$.find(e=>e.value===p.complaintType))||void 0===e?void 0:e.label)||p.complaintType})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:p.description})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Submitted"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:W(p.createdAt)})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Last Updated"}),(0,Xm.jsx)("p",{className:"text-gray-700",children:W(p.resolvedAt)})]})]}),p.adminResponse&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Admin Response"}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:p.adminResponse})})]}),(0,Xm.jsx)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})]})})]})},cY=()=>{te();const{user:e}=Jd(),{execute:t,loading:r}=Iy(),[a,n]=(0,s.useState)([]),[i,o]=(0,s.useState)("overview"),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)("all");(0,s.useEffect)(()=>{p(),m()},[]),(0,s.useEffect)(()=>{p()},[d]);const m=async()=>{try{const e=await t(()=>ld.getPatients());c(e||[])}catch(e){console.error("Failed to load patients:",e),Ft.error("Failed to load patients")}},p=async()=>{try{const e="all"===d?null:d,r=await t(()=>ld.getPaymentHistory(e));n(r||[])}catch(e){console.error("Failed to load transactions:",e),Ft.error("Failed to load transactions")}},h=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=e=>null===e||void 0===e?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),f=[{id:"overview",label:"Overview",icon:(0,Xm.jsx)(iy,{className:"w-4 h-4"})},{id:"history",label:"Transaction History",icon:(0,Xm.jsx)(ib,{className:"w-4 h-4"})}];return(0,Xm.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Xm.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Xm.jsx)("div",{className:"py-6",children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient Payments"}),(0,Xm.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View payment transactions for your assigned patients"})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[(0,Xm.jsx)("option",{value:"all",children:"All Patients"}),l.map(e=>(0,Xm.jsx)("option",{value:e.patientId,children:e.patientName},e.patientId))]}),(0,Xm.jsx)(Zm,{variant:"outline",icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),onClick:()=>{p(),m()},children:"Refresh"})]})]})})})}),(0,Xm.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Xm.jsxs)(My,{className:"mb-6",children:[(0,Xm.jsx)("div",{className:"border-b border-gray-200",children:(0,Xm.jsx)("nav",{className:"flex space-x-8 px-6",children:f.map(e=>(0,Xm.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon,(0,Xm.jsx)("span",{children:e.label})]},e.id))})}),(0,Xm.jsxs)("div",{className:"p-6",children:["overview"===i&&(0,Xm.jsxs)("div",{className:"space-y-6",children:[(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xm.jsx)(Ry,{title:"Total Transactions",value:a.length,icon:(0,Xm.jsx)(ib,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-green-50 to-green-100"}),(0,Xm.jsx)(Ry,{title:"Total Payments",value:x(a.filter(e=>e.status&&"completed"===e.status.toLowerCase()).reduce((e,t)=>e+(t.amount||0),0)),icon:(0,Xm.jsx)(Cp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-purple-50 to-purple-100"}),(0,Xm.jsx)(Ry,{title:"Pending Payments",value:x(a.filter(e=>e.status&&"pending"===e.status.toLowerCase()).reduce((e,t)=>e+(t.amount||0),0)),icon:(0,Xm.jsx)(Qp,{className:"w-6 h-6"}),className:"bg-gradient-to-br from-orange-50 to-orange-100"})]}),(0,Xm.jsx)(My,{title:"Recent Transactions",action:(0,Xm.jsx)(Zm,{size:"sm",variant:"outline",onClick:()=>o("history"),children:"View All"}),children:(0,Xm.jsx)("div",{className:"p-6",children:a.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:a.slice(0,5).map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-gray-500"})}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.description}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Xm.jsx)(bp,{className:"w-3 h-3"}),(0,Xm.jsx)("span",{children:h(e.processedAt)}),e.paymentType&&(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)("span",{children:"\u2022"}),(0,Xm.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xm.jsx)(gp,{className:"w-3 h-3"}),e.paymentType]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"font-medium text-gray-900",children:x(e.amount)}),(0,Xm.jsx)(lp,{variant:"completed"===e.status?"success":"pending"===e.status?"warning":"failed"===e.status?"error":"default",size:"sm",children:e.status})]})]},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-8",children:[(0,Xm.jsx)(ib,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No transactions yet"})]})})})]}),"history"===i&&(0,Xm.jsx)("div",{className:"space-y-6",children:(0,Xm.jsx)(My,{title:"All Transactions",action:(0,Xm.jsx)(Zm,{variant:"primary",icon:(0,Xm.jsx)(Hy,{className:"w-4 h-4"}),onClick:()=>{if(0===a.length)return void Ft.warning("No transactions to export");const e=[["Transaction ID","Date","Description","Patient","Amount","Status","Payment Method","Transaction Type","Reference ID","Platform Fee","Doctor ID","Case ID","Currency","Processing Fee","Net Amount"].join(","),...a.map(e=>[e.id||"",e.date?h(e.date):"",'"'.concat(e.description||"",'"'),'"'.concat(e.patientName||e.patientId||"",'"'),e.amount||0,e.status||"",e.paymentMethod||"",e.type||e.paymentType||"",e.referenceId||e.transactionId||"",e.platformFee||0,e.doctorId||"",e.caseId||"",e.currency||"USD",e.processingFee||0,e.netAmount||e.amount-(e.platformFee||0)-(e.processingFee||0)].join(","))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download","patient-payment-history-".concat((new Date).toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),Ft.success("Payment history exported successfully")},disabled:0===a.length,children:"Export CSV"}),children:(0,Xm.jsx)("div",{className:"p-6",children:a.length>0?(0,Xm.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,Xm.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-gray-500"})}),(0,Xm.jsxs)("div",{className:"flex-1",children:[(0,Xm.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Xm.jsx)("h4",{className:"font-medium text-gray-900",children:e.description}),e.patientName&&(0,Xm.jsxs)(lp,{variant:"outline",className:"flex items-center gap-1",children:[(0,Xm.jsx)(vp,{className:"w-3 h-3"}),e.patientName]})]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2 text-sm text-gray-600",children:[(0,Xm.jsxs)("div",{className:"space-y-1",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Date:"})," ",h(e.processedAt)]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"ID:"})," ",e.id]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Reference:"})," ",e.referenceId||e.transactionId||"N/A"]})]}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Type:"})," ",e.type||e.paymentType||"N/A"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Payment Method:"})," ",e.paymentMethod||"Credit Card"]}),(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Currency:"})," ",e.currency||"USD"]})]}),(0,Xm.jsxs)("div",{className:"space-y-1",children:[e.doctorId&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Doctor ID:"})," ",e.doctorId]}),e.caseId&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Case ID:"})," ",e.caseId]}),e.platformFee&&(0,Xm.jsxs)("p",{children:[(0,Xm.jsx)("span",{className:"font-medium",children:"Platform Fee:"})," ",x(e.platformFee)]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xm.jsx)(lp,{variant:"completed"===e.status?"success":"pending"===e.status?"warning":"failed"===e.status?"error":"default",children:e.status}),(0,Xm.jsxs)("div",{className:"text-right",children:[(0,Xm.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:x(e.amount)}),e.netAmount&&e.netAmount!==e.amount&&(0,Xm.jsxs)("div",{className:"text-sm text-gray-600",children:["Net: ",x(e.netAmount)]})]})]})]},e.id))}):(0,Xm.jsxs)("div",{className:"text-center py-12",children:[(0,Xm.jsx)(ib,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"No transactions found"})]})})})})]})]})})]})},dY=()=>(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsx)("h1",{className:"text-9xl font-bold text-primary-500",children:"404"}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Page Not Found"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Sorry, the page you are looking for doesn't exist or has been moved."})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>window.history.back(),icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),children:"Go Back"}),(0,Xm.jsx)(_e,{to:"/",children:(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(yp,{className:"w-4 h-4"}),children:"Go Home"})})]})]})}),uY=()=>(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)($m,{className:"w-10 h-10 text-red-600"})}),(0,Xm.jsx)("h1",{className:"text-6xl font-bold text-red-500",children:"403"}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Access Denied"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>window.history.back(),icon:(0,Xm.jsx)(jy,{className:"w-4 h-4"}),children:"Go Back"}),(0,Xm.jsx)(_e,{to:"/",children:(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(yp,{className:"w-4 h-4"}),children:"Go Home"})})]})]})}),mY=()=>(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xm.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Xm.jsxs)("div",{className:"mb-8",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)(wp,{className:"w-10 h-10 text-yellow-600"})}),(0,Xm.jsx)("h1",{className:"text-6xl font-bold text-yellow-500",children:"500"}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Server Error"}),(0,Xm.jsx)("p",{className:"text-gray-600 mt-2",children:"Something went wrong on our end. We're working to fix this issue. Please try again later."})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Xm.jsx)(Zm,{variant:"outline",onClick:()=>{window.location.reload()},icon:(0,Xm.jsx)(pg,{className:"w-4 h-4"}),children:"Try Again"}),(0,Xm.jsx)(_e,{to:"/",children:(0,Xm.jsx)(Zm,{icon:(0,Xm.jsx)(yp,{className:"w-4 h-4"}),children:"Go Home"})})]})]})}),pY=(Im("pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"),e=>({card_declined:"Your card was declined. Please try another payment method.",expired_card:"Your card has expired. Please use a different card.",incorrect_cvc:"The security code is incorrect. Please check and try again.",processing_error:"An error occurred while processing your card. Please try again.",incorrect_number:"The card number is incorrect. Please check and try again.",invalid_expiry_year:"The expiration year is invalid. Please check and try again.",invalid_expiry_month:"The expiration month is invalid. Please check and try again.",insufficient_funds:"Your card has insufficient funds. Please use a different payment method."}[e.code]||e.message||"An unexpected error occurred. Please try again.")),hY=e=>{let{amount:t,currency:r="USD",onSuccess:a,onError:n,buttonText:i="Pay Now",showAmount:o=!0,description:l=""}=e;const c=(0,Sm.useStripe)(),d=(0,Sm.useElements)(),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1);return(0,Xm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c&&d)if(x){m(!0),h(null);try{const e=d.getElement(Sm.CardElement),{error:t,paymentMethod:r}=await c.createPaymentMethod({type:"card",card:e});if(t)throw new Error(t.message);await a(r)}catch(SY){const t=pY(SY);h(t),n&&n(SY)}finally{m(!1)}}else h("Please complete your card information")},className:"space-y-6",children:[o&&(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xm.jsx)("span",{className:"text-gray-700 font-medium",children:"Amount to pay:"}),(0,Xm.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(t)})]}),l&&(0,Xm.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:l})]}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xm.jsx)(Ym,{className:"w-4 h-4"}),(0,Xm.jsx)("span",{children:"Card Information"})]})}),(0,Xm.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 bg-white focus-within:border-primary-500 focus-within:ring-2 focus-within:ring-primary-500 focus-within:ring-opacity-50 transition-all",children:(0,Xm.jsx)(Sm.CardElement,{options:{style:{base:{fontSize:"16px",color:"#32325d",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSmoothing:"antialiased","::placeholder":{color:"#aab7c4"},iconColor:"#666EE8"},invalid:{color:"#e5424d",iconColor:"#e5424d"}},hidePostalCode:!0},onChange:e=>{h(e.error?e.error.message:null),f(e.complete)}})})]}),p&&(0,Xm.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(oy,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsx)("p",{className:"text-sm text-red-800",children:p})]})}),(0,Xm.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(hy,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Secure Payment"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Your payment information is encrypted and secure. We never store your card details."})]})]})}),(0,Xm.jsx)(Zm,{type:"submit",variant:"primary",className:"w-full",disabled:!c||u||!x,loading:u,children:u?"Processing...":i}),(0,Xm.jsx)("div",{className:"text-center",children:(0,Xm.jsxs)("p",{className:"text-xs text-gray-500",children:["Powered by ",(0,Xm.jsx)("span",{className:"font-medium",children:"Stripe"})]})})]})},xY=Im("pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"),fY=()=>{const e=te(),t=Z(),{user:r}=Jd(),{execute:a,loading:n}=Iy(),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)("monthly"),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(""),[f,y]=(0,s.useState)(null),[g,v]=(0,s.useState)([]);(0,s.useEffect)(()=>{var e;null!==(e=t.state)&&void 0!==e&&e.plan&&(o(t.state.plan),c(t.state.billingCycle||"monthly"))},[t.state]),(0,s.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await a(()=>dp.getSubscriptionPlans());v(e)}catch(e){console.error("Failed to load plans:",e)}};(0,s.useEffect)(()=>{i&&j()},[i,l,f]);const j=async()=>{try{const e=await a(()=>fetch("/api/payment-service/api/payments/subscriptions/create-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({patientId:r.id,planType:i.type||i.code,billingCycle:l,promoCode:null===f||void 0===f?void 0:f.code})}).then(e=>e.json()));u(e.clientSecret)}catch(e){console.error("Failed to create payment intent:",e)}},w=()=>{if(!i)return 0;const e="yearly"===l?i.yearlyPrice||0:i.monthlyPrice||0;return f?e*(1-f.percentage/100):e},N=()=>{if(!i||"yearly"!==l)return 0;return 12*(i.monthlyPrice||0)-(i.yearlyPrice||0)};return m?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Xm.jsx)(My,{className:"max-w-md w-full text-center",children:(0,Xm.jsxs)("div",{className:"p-8",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)(Up,{className:"w-12 h-12 text-green-600"})}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Your subscription has been activated. Redirecting you to your dashboard..."}),(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]})})}):i?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:(0,Xm.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>e("/app/patient/subscription"),className:"mb-6",children:[(0,Xm.jsx)(jy,{className:"w-4 h-4 mr-2"}),"Back to Plans"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xm.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Complete Your Subscription"}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[(0,Xm.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-4",children:[(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"basic":default:return(0,Xm.jsx)(Wb,{className:"w-6 h-6 text-blue-600"});case"standard":return(0,Xm.jsx)(Ip,{className:"w-6 h-6 text-purple-600"});case"premium":return(0,Xm.jsx)(bb,{className:"w-6 h-6 text-yellow-600"})}})(i.type||i.code),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:i.name}),(0,Xm.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:i.description})]})]}),(0,Xm.jsx)(lp,{variant:"yearly"===l?"success":"primary",children:"yearly"===l?"Yearly":"Monthly"})]}),(0,Xm.jsx)("div",{className:"space-y-2",children:(e=>{const t={basic:["Up to 5 cases per month","Standard response time (48 hours)","Email support","Basic medical consultations","Access to general practitioners"],standard:["Up to 15 cases per month","Priority response time (24 hours)","Email & phone support","Specialist consultations","Medical records storage","Prescription management","Follow-up consultations"],premium:["Unlimited cases","Urgent response time (4 hours)","24/7 priority support","All specialist consultations","Dedicated health advisor","Advanced diagnostics access","Second opinion service","Family member accounts","Annual health checkup discount"]};return t[null===e||void 0===e?void 0:e.toLowerCase()]||t.basic})(i.type||i.code).map((e,t)=>(0,Xm.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsx)("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),(0,Xm.jsxs)("div",{className:"mb-6",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Billing Cycle"}),(0,Xm.jsxs)("div",{className:"flex space-x-4",children:[(0,Xm.jsx)("button",{onClick:()=>c("monthly"),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all ".concat("monthly"===l?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"font-semibold text-gray-900",children:"Monthly"}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["$",i.monthlyPrice,"/month"]})]})}),(0,Xm.jsxs)("button",{onClick:()=>c("yearly"),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all relative ".concat("yearly"===l?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:[N()>0&&(0,Xm.jsxs)("div",{className:"absolute -top-3 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:["Save $",N()]}),(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"font-semibold text-gray-900",children:"Yearly"}),(0,Xm.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["$",i.yearlyPrice,"/year"]})]})]})]})]}),(0,Xm.jsxs)("div",{className:"mb-6",children:[(0,Xm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code (Optional)"}),(0,Xm.jsxs)("div",{className:"flex space-x-2",children:[(0,Xm.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value.toUpperCase()),placeholder:"Enter promo code",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),(0,Xm.jsx)(Zm,{variant:"outline",onClick:async()=>{if(h.trim())try{const e=await a(()=>dp.validatePromoCode(h));y(e)}catch(e){console.error("Invalid promo code:",e),y(null)}},disabled:!h.trim(),children:"Apply"})]}),f&&(0,Xm.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-green-600 text-sm",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4"}),(0,Xm.jsxs)("span",{children:["Discount applied: ",f.percentage,"% off"]})]})]}),d&&(0,Xm.jsx)(Sm.Elements,{stripe:xY,options:{clientSecret:d},children:(0,Xm.jsx)(hY,{amount:w(),currency:"USD",onSuccess:async t=>{try{await a(()=>fetch("/api/payment-service/api/payments/subscriptions/confirm",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({paymentIntentId:d.split("_secret_")[0],patientId:r.id,planType:i.type||i.code,billingCycle:l,paymentMethodId:t.id,promoCode:null===f||void 0===f?void 0:f.code})}).then(e=>e.json()));p(!0),setTimeout(()=>{e("/app/patient/subscription",{state:{subscriptionActivated:!0}})},2e3)}catch(n){throw console.error("Payment confirmation failed:",n),n}},buttonText:"Activate Subscription",showAmount:!1})})]})})}),(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsx)(My,{className:"sticky top-8",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Summary"}),(0,Xm.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Plan:"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:i.name})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Billing:"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"yearly"===l?"Yearly":"Monthly"})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["$","yearly"===l?i.yearlyPrice:i.monthlyPrice]})]}),f&&(0,Xm.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,Xm.jsxs)("span",{children:["Discount (",f.percentage,"%):"]}),(0,Xm.jsxs)("span",{className:"font-medium",children:["-$",(("yearly"===l?i.yearlyPrice:i.monthlyPrice)*f.percentage/100).toFixed(2)]})]}),(0,Xm.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"font-semibold text-gray-900",children:"Total:"}),(0,Xm.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",w().toFixed(2)]})]}),(0,Xm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"yearly"===l?"Billed annually":"Billed monthly"})]})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)($m,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Secure Payment"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"256-bit SSL encryption"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Instant Activation"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Access immediately after payment"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(vp,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Cancel Anytime"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"No long-term commitments"})]})]})]}),(0,Xm.jsx)("div",{className:"mt-6 text-center",children:(0,Xm.jsxs)("div",{className:"inline-flex items-center space-x-2 text-sm text-gray-600",children:[(0,Xm.jsx)(Up,{className:"w-4 h-4 text-green-600"}),(0,Xm.jsx)("span",{children:"30-day money-back guarantee"})]})})]})})})]})]})}):(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>e("/app/patient/subscription"),className:"mb-6",children:[(0,Xm.jsx)(jy,{className:"w-4 h-4 mr-2"}),"Back to Plans"]}),(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-8 text-center",children:[(0,Xm.jsx)(oy,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Xm.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Plan Selected"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Please select a subscription plan to continue with payment."}),(0,Xm.jsx)(Zm,{onClick:()=>e("/app/patient/subscription"),children:"View Plans"})]})})]})})},yY=e=>{let{children:t}=e;const{user:r}=Jd(),[a,n]=(Z(),(0,s.useState)(null)),[i,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{const e=await dp.getSubscription();n(null===e||void 0===e?void 0:e.status)}catch(e){console.error("Failed to check subscription:",e),n(null)}finally{o(!1)}};return i?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xm.jsxs)("div",{className:"text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,Xm.jsx)("p",{className:"mt-4 text-gray-600",children:"Checking subscription status..."})]})}):"active"===a||"trialing"===a?t:(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Xm.jsx)(My,{className:"max-w-2xl w-full",children:(0,Xm.jsxs)("div",{className:"p-8 text-center",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)(hy,{className:"w-10 h-10 text-yellow-600"})}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Subscription Required"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"expired"===a?"Your subscription has expired. Please renew to continue accessing our services.":"canceled"===a?"Your subscription has been canceled. Subscribe again to access medical consultations.":"You need an active subscription to access this feature. Choose a plan to get started."}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"With a subscription, you can:"}),(0,Xm.jsxs)("ul",{className:"space-y-2",children:[(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("span",{className:"text-green-600 mt-1",children:"\u2713"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Submit and manage medical cases"})]}),(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("span",{className:"text-green-600 mt-1",children:"\u2713"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Schedule appointments with doctors"})]}),(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("span",{className:"text-green-600 mt-1",children:"\u2713"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Access specialist consultations"})]}),(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("span",{className:"text-green-600 mt-1",children:"\u2713"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Store and manage medical records"})]}),(0,Xm.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,Xm.jsx)("span",{className:"text-green-600 mt-1",children:"\u2713"}),(0,Xm.jsx)("span",{className:"text-gray-700",children:"Get priority support"})]})]})]}),(0,Xm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Xm.jsxs)(Zm,{onClick:()=>window.location.href="/app/patient/subscription",variant:"primary",size:"lg",children:["expired"===a||"canceled"===a?"Renew Subscription":"View Plans",(0,Xm.jsx)(Bp,{className:"w-4 h-4 ml-2"})]}),(0,Xm.jsx)(Zm,{onClick:()=>window.location.href="/app/patient",variant:"outline",size:"lg",children:"Back to Dashboard"})]}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-500 mt-6",children:["Need help? Contact our support team at"," ",(0,Xm.jsx)("a",{href:"mailto:support@medicalconsultation.com",className:"text-primary-600 hover:underline",children:"support@medicalconsultation.com"})]})]})})})},gY=Im("pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"),vY=()=>{var e,t,r,a,n,i,o,l,c;const d=te(),u=Z(),{caseId:m}=ae(),{user:p}=Jd(),{execute:h,loading:x}=Iy(),[f,y]=(0,s.useState)(null),[g,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)([]),[C,S]=(0,s.useState)(!0),[A,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{var e;null!==(e=u.state)&&void 0!==e&&e.appointment?(y(u.state.appointment),O(u.state.appointment)):m&&E()},[u.state,m]),(0,s.useEffect)(()=>{P()},[]);const E=async()=>{try{const e=await h(()=>dp.getCaseDetails(m));y(e),O(e)}catch(e){console.error("Failed to load case details:",e)}},P=async()=>{try{const e=await h(()=>dp.getPaymentMethods());N(e.filter(e=>e.isActive))}catch(e){console.error("Failed to load payment methods:",e)}},O=async e=>{try{const t=await h(()=>{var t,r,a;return fetch("/api/payment-service/api/payments/consultations/create-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({patientId:p.id,doctorId:(null===(t=e.doctor)||void 0===t?void 0:t.id)||(null===(r=e.doctor)||void 0===r?void 0:r.userId),caseId:e.caseId||e.id,amount:e.consultationFee||(null===(a=e.doctor)||void 0===a?void 0:a.consultationFee)})}).then(e=>e.json())});v(t.clientSecret)}catch(t){console.error("Failed to create payment intent:",t)}};return b?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Xm.jsx)(My,{className:"max-w-md w-full text-center",children:(0,Xm.jsxs)("div",{className:"p-8",children:[(0,Xm.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xm.jsx)(Up,{className:"w-12 h-12 text-green-600"})}),(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,Xm.jsx)("p",{className:"text-gray-600 mb-6",children:"Your consultation payment has been processed. Your appointment is now confirmed."}),(0,Xm.jsx)("div",{className:"flex justify-center",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]})})}):f?(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:(0,Xm.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Xm.jsxs)(Zm,{variant:"outline",onClick:()=>d("/app/patient/appointments"),className:"mb-6",children:[(0,Xm.jsx)(jy,{className:"w-4 h-4 mr-2"}),"Back to Appointments"]}),(0,Xm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Xm.jsx)("div",{className:"lg:col-span-2",children:(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pay Consultation Fee"}),(0,Xm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Appointment Details"}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Wm,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Doctor"}),(0,Xm.jsxs)("p",{className:"font-medium text-gray-900",children:["Dr. ",null===(e=f.doctor)||void 0===e?void 0:e.firstName," ",null===(t=f.doctor)||void 0===t?void 0:t.lastName]}),(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:null===(r=f.doctor)||void 0===r?void 0:r.specialization})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(bp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Date"}),(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:(D=f.appointmentDate,new Date(D).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Qp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Time"}),(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:(T=f.appointmentTime,new Date("2000-01-01T".concat(T)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(gp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Case"}),(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:f.caseTitle||"Case #".concat(f.caseId)})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Cp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm text-gray-600",children:"Consultation Fee"}),(0,Xm.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",f.consultationFee||(null===(a=f.doctor)||void 0===a?void 0:a.consultationFee)]})]})]})]})]}),w.length>0&&(0,Xm.jsxs)("div",{className:"mb-6",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Select Payment Method"}),(0,Xm.jsxs)("div",{className:"space-y-3",children:[w.map(e=>(0,Xm.jsx)("button",{onClick:()=>{S(!1),k(e.code)},className:"w-full p-4 rounded-lg border-2 transition-all text-left ".concat(C||A!==e.code?"border-gray-200 hover:border-gray-300":"border-primary-500 bg-primary-50"),children:(0,Xm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Xm.jsxs)("p",{className:"text-sm text-gray-600",children:["\u2022\u2022\u2022\u2022 ",e.lastFour||"****"]})]})]}),e.isDefault&&(0,Xm.jsx)(lp,{variant:"success",size:"sm",children:"Default"})]})},e.id)),(0,Xm.jsx)("button",{onClick:()=>{S(!0),k(null)},className:"w-full p-4 rounded-lg border-2 transition-all text-left ".concat(C?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Xm.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xm.jsx)(Ym,{className:"w-5 h-5 text-gray-400"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"Pay with new card"})]})})]}),!C&&A&&(0,Xm.jsxs)(Zm,{onClick:async()=>{if(A)try{await h(()=>{var e,t,r;return dp.payConsultationFee({patientId:p.id,doctorId:(null===(e=f.doctor)||void 0===e?void 0:e.id)||(null===(t=f.doctor)||void 0===t?void 0:t.userId),caseId:f.caseId||f.id,paymentType:"CONSULTATION",amount:f.consultationFee||(null===(r=f.doctor)||void 0===r?void 0:r.consultationFee),paymentMethod:A})}),j(!0),setTimeout(()=>{d("/app/patient/appointments",{state:{paymentCompleted:!0,caseId:f.caseId||f.id}})},2e3)}catch(e){console.error("Payment failed:",e)}},className:"w-full mt-4",loading:x,children:["Pay $",f.consultationFee||(null===(n=f.doctor)||void 0===n?void 0:n.consultationFee)]})]}),C&&g&&(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment Information"}),(0,Xm.jsx)(Sm.Elements,{stripe:gY,options:{clientSecret:g},children:(0,Xm.jsx)(hY,{amount:f.consultationFee||(null===(i=f.doctor)||void 0===i?void 0:i.consultationFee),currency:"USD",onSuccess:async e=>{try{await h(()=>{var t,r,a;return dp.payConsultationFee({patientId:p.id,doctorId:(null===(t=f.doctor)||void 0===t?void 0:t.id)||(null===(r=f.doctor)||void 0===r?void 0:r.userId),caseId:f.caseId||f.id,paymentType:"CONSULTATION",amount:f.consultationFee||(null===(a=f.doctor)||void 0===a?void 0:a.consultationFee),paymentMethodId:e.id,paymentIntentId:g.split("_secret_")[0]})}),j(!0),setTimeout(()=>{d("/app/patient/appointments",{state:{paymentCompleted:!0,caseId:f.caseId||f.id}})},2e3)}catch(t){throw console.error("Payment confirmation failed:",t),t}},buttonText:"Pay $".concat(f.consultationFee||(null===(o=f.doctor)||void 0===o?void 0:o.consultationFee)),description:"Consultation fee payment"})})]})]})})}),(0,Xm.jsx)("div",{className:"lg:col-span-1",children:(0,Xm.jsx)(My,{className:"sticky top-8",children:(0,Xm.jsxs)("div",{className:"p-6",children:[(0,Xm.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment Summary"}),(0,Xm.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Consultation Fee:"}),(0,Xm.jsxs)("span",{className:"font-medium text-gray-900",children:["$",f.consultationFee||(null===(l=f.doctor)||void 0===l?void 0:l.consultationFee)]})]}),(0,Xm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xm.jsx)("span",{className:"text-gray-600",children:"Processing Fee:"}),(0,Xm.jsx)("span",{className:"font-medium text-gray-900",children:"$0.00"})]}),(0,Xm.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,Xm.jsxs)("div",{className:"flex justify-between",children:[(0,Xm.jsx)("span",{className:"font-semibold text-gray-900",children:"Total:"}),(0,Xm.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",f.consultationFee||(null===(c=f.doctor)||void 0===c?void 0:c.consultationFee)]})]})})]}),(0,Xm.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Sg,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Payment Required"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Your appointment will be confirmed once payment is completed"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)($m,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Secure Payment"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Your payment is protected with 256-bit encryption"})]})]}),(0,Xm.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xm.jsx)(Up,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Xm.jsxs)("div",{children:[(0,Xm.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Refund Policy"}),(0,Xm.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Cancel 24 hours before for full refund"})]})]})]})]})})})]})]})}):(0,Xm.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Xm.jsx)(My,{children:(0,Xm.jsxs)("div",{className:"p-8 text-center",children:[(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Xm.jsx)("p",{className:"text-gray-600",children:"Loading appointment details..."})]})})});var T,D},bY=Im("pk_test_51SOgXSRD5YW8FDKQLDNWbI22psfqDQxyryLPzELE7yBFZERpPax9Gg858Fim0C9fPfK3KeEZktrweqEYgdvMwT6I00a0HMxb8Q"),jY=new st.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),wY=()=>{const{user:e,isAuthenticated:t,isLoading:r}=Jd();if(Nm(),r)return(0,Xm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,Xm.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})});const a=()=>{if(!t)return"/";switch(null===e||void 0===e?void 0:e.role){case"PATIENT":return"/app/patient/dashboard";case"DOCTOR":return"/app/doctor/dashboard";case"ADMIN":return"/app/admin/dashboard";case"MEDICAL_SUPERVISOR":return"/app/supervisor/dashboard";default:return"/"}};return(0,Xm.jsxs)(Xm.Fragment,{children:[(0,Xm.jsx)(Kt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,Xm.jsxs)(we,{children:[(0,Xm.jsx)(be,{path:"/",element:(0,Xm.jsx)(ah,{})}),(0,Xm.jsx)(be,{path:"/home",element:(0,Xm.jsx)(ah,{})}),(0,Xm.jsx)(be,{path:"/login",element:t?(0,Xm.jsx)(ge,{to:a(),replace:!0}):(0,Xm.jsx)(yy,{})}),(0,Xm.jsx)(be,{path:"/register",element:t?(0,Xm.jsx)(ge,{to:a(),replace:!0}):(0,Xm.jsx)(by,{})}),(0,Xm.jsx)(be,{path:"/forgot-password",element:(0,Xm.jsx)(Ny,{})}),(0,Xm.jsx)(be,{path:"/reset-password",element:(0,Xm.jsx)(Sy,{})}),(0,Xm.jsx)(be,{path:"/verify-reset-code",element:(0,Xm.jsx)(ky,{})}),(0,Xm.jsx)(be,{path:"/privacy",element:(0,Xm.jsx)(nh,{})}),(0,Xm.jsx)(be,{path:"/terms",element:(0,Xm.jsx)(sh,{})}),(0,Xm.jsxs)(be,{path:"/app",element:(0,Xm.jsx)(Mp,{children:(0,Xm.jsx)(_p,{})}),children:[(0,Xm.jsx)(be,{index:!0,element:(0,Xm.jsx)(ge,{to:a().replace("/app/",""),replace:!0})}),(0,Xm.jsx)(be,{path:"patient/*",element:(0,Xm.jsx)(Mp,{requiredRole:"PATIENT",children:(0,Xm.jsxs)(we,{children:[(0,Xm.jsx)(be,{path:"dashboard",element:(0,Xm.jsx)(Ly,{})}),(0,Xm.jsx)(be,{path:"cases",element:(0,Xm.jsx)(ag,{})}),(0,Xm.jsx)(be,{path:"cases/:caseId",element:(0,Xm.jsx)(mg,{})}),(0,Xm.jsx)(be,{path:"consultation/payment/:caseId",element:(0,Xm.jsx)(yY,{children:(0,Xm.jsx)(Sm.Elements,{stripe:bY,children:(0,Xm.jsx)(vY,{})})})}),(0,Xm.jsx)(be,{path:"cases/:caseId/edit",element:(0,Xm.jsx)(Db,{})}),(0,Xm.jsx)(be,{path:"cases/create",element:(0,Xm.jsx)(Ib,{})}),(0,Xm.jsx)(be,{path:"dependents",element:(0,Xm.jsx)(Lb,{})}),(0,Xm.jsx)(be,{path:"appointments",element:(0,Xm.jsx)(fg,{})}),(0,Xm.jsx)(be,{path:"appointments/:id",element:(0,Xm.jsx)(kg,{})}),(0,Xm.jsx)(be,{path:"notifications",element:(0,Xm.jsx)(Pg,{})}),(0,Xm.jsx)(be,{path:"payments",element:(0,Xm.jsx)(lb,{})}),(0,Xm.jsx)(be,{path:"payments/history",element:(0,Xm.jsx)(cb,{})}),(0,Xm.jsx)(be,{path:"profile",element:(0,Xm.jsx)(pb,{})}),(0,Xm.jsx)(be,{path:"complaints",element:(0,Xm.jsx)(xb,{})}),(0,Xm.jsx)(be,{path:"complaints/:id",element:(0,Xm.jsx)(vb,{})}),(0,Xm.jsx)(be,{path:"subscription",element:(0,Xm.jsx)(Ab,{})}),(0,Xm.jsx)(be,{path:"subscription/payment",element:(0,Xm.jsx)(Sm.Elements,{stripe:bY,children:(0,Xm.jsx)(fY,{})})}),(0,Xm.jsx)(be,{path:"settings",element:(0,Xm.jsx)(Ob,{})}),(0,Xm.jsx)(be,{path:"communication",element:(0,Xm.jsx)(sb,{})}),(0,Xm.jsx)(be,{path:"coupons",element:(0,Xm.jsx)(Vb,{})})]})})}),(0,Xm.jsx)(be,{path:"doctor/*",element:(0,Xm.jsx)(Mp,{requiredRole:"DOCTOR",children:(0,Xm.jsxs)(we,{children:[(0,Xm.jsx)(be,{path:"dashboard",element:(0,Xm.jsx)(Gb,{})}),(0,Xm.jsx)(be,{path:"assignments",element:(0,Xm.jsx)(tj,{})}),(0,Xm.jsx)(be,{path:"cases",element:(0,Xm.jsx)(mj,{})}),(0,Xm.jsx)(be,{path:"cases/:caseId",element:(0,Xm.jsx)(bj,{})}),(0,Xm.jsx)(be,{path:"appointments",element:(0,Xm.jsx)(Oj,{})}),(0,Xm.jsx)(be,{path:"notifications",element:(0,Xm.jsx)(Tj,{})}),(0,Xm.jsx)(be,{path:"schedule",element:(0,Xm.jsx)(Ij,{})}),(0,Xm.jsx)(be,{path:"profile",element:(0,Xm.jsx)(Lj,{})}),(0,Xm.jsx)(be,{path:"earnings",element:(0,Xm.jsx)(dV,{})}),(0,Xm.jsx)(be,{path:"communication",element:(0,Xm.jsx)(uV,{})}),(0,Xm.jsx)(be,{path:"settings",element:(0,Xm.jsx)(mV,{})}),(0,Xm.jsx)(be,{path:"reports",element:(0,Xm.jsx)(vV,{})}),(0,Xm.jsx)(be,{path:"reports/create",element:(0,Xm.jsx)(bV,{})}),(0,Xm.jsx)(be,{path:"reports/:reportId",element:(0,Xm.jsx)(CV,{})}),(0,Xm.jsx)(be,{path:"reports/:reportId/edit",element:(0,Xm.jsx)(SV,{})})]})})}),(0,Xm.jsx)(be,{path:"admin/*",element:(0,Xm.jsx)(Mp,{requiredRole:"ADMIN",children:(0,Xm.jsxs)(we,{children:[(0,Xm.jsx)(be,{path:"dashboard",element:(0,Xm.jsx)(IV,{})}),(0,Xm.jsx)(be,{path:"users",element:(0,Xm.jsx)(HV,{})}),(0,Xm.jsx)(be,{path:"doctors/verification",element:(0,Xm.jsx)(xH,{})}),(0,Xm.jsx)(be,{path:"supervisors",element:(0,Xm.jsx)(yH,{})}),(0,Xm.jsx)(be,{path:"cases",element:(0,Xm.jsx)(PW,{})}),(0,Xm.jsx)(be,{path:"payments",element:(0,Xm.jsx)(DW,{})}),(0,Xm.jsx)(be,{path:"complaints",element:(0,Xm.jsx)(_W,{})}),(0,Xm.jsx)(be,{path:"reports",element:(0,Xm.jsx)(MW,{})}),(0,Xm.jsx)(be,{path:"configuration",element:(0,Xm.jsx)(IW,{})}),(0,Xm.jsx)(be,{path:"medical-config",element:(0,Xm.jsx)(UW,{})}),(0,Xm.jsx)(be,{path:"settings",element:(0,Xm.jsx)(WW,{})}),(0,Xm.jsx)(be,{path:"cases/analytics",element:(0,Xm.jsx)(GW,{})}),(0,Xm.jsx)(be,{path:"payment-analytics",element:(0,Xm.jsx)(SG,{})}),(0,Xm.jsx)(be,{path:"coupons",element:(0,Xm.jsx)(DG,{})}),(0,Xm.jsx)(be,{path:"coupons/batches/:batchId",element:(0,Xm.jsx)(_G,{})}),(0,Xm.jsx)(be,{path:"notifications",element:(0,Xm.jsx)(MG,{})})]})})}),(0,Xm.jsx)(be,{path:"supervisor/*",element:(0,Xm.jsx)(Mp,{requiredRole:"MEDICAL_SUPERVISOR",children:(0,Xm.jsxs)(we,{children:[(0,Xm.jsx)(be,{path:"dashboard",element:(0,Xm.jsx)(IG,{})}),(0,Xm.jsx)(be,{path:"patients",element:(0,Xm.jsx)(zG,{})}),(0,Xm.jsx)(be,{path:"patients/create",element:(0,Xm.jsx)(UG,{})}),(0,Xm.jsx)(be,{path:"patients/:patientId",element:(0,Xm.jsx)(BG,{})}),(0,Xm.jsx)(be,{path:"patients/:patientId/cases/create",element:(0,Xm.jsx)($G,{})}),(0,Xm.jsx)(be,{path:"cases",element:(0,Xm.jsx)(VG,{})}),(0,Xm.jsx)(be,{path:"cases/:caseId",element:(0,Xm.jsx)(YG,{})}),(0,Xm.jsx)(be,{path:"appointments",element:(0,Xm.jsx)(XG,{})}),(0,Xm.jsx)(be,{path:"payment/:caseId",element:(0,Xm.jsx)(JG,{})}),(0,Xm.jsx)(be,{path:"communication",element:(0,Xm.jsx)(ZG,{})}),(0,Xm.jsx)(be,{path:"payments",element:(0,Xm.jsx)(cY,{})}),(0,Xm.jsx)(be,{path:"profile",element:(0,Xm.jsx)(eY,{})}),(0,Xm.jsx)(be,{path:"settings",element:(0,Xm.jsx)(tY,{})}),(0,Xm.jsx)(be,{path:"coupons",element:(0,Xm.jsx)(sY,{})}),(0,Xm.jsx)(be,{path:"notifications",element:(0,Xm.jsx)(iY,{})}),(0,Xm.jsx)(be,{path:"complaints",element:(0,Xm.jsx)(lY,{})})]})})})]}),(0,Xm.jsx)(be,{path:"/patient/*",element:(0,Xm.jsx)(ge,{to:"/app/patient",replace:!0})}),(0,Xm.jsx)(be,{path:"/doctor/*",element:(0,Xm.jsx)(ge,{to:"/app/doctor",replace:!0})}),(0,Xm.jsx)(be,{path:"/admin/*",element:(0,Xm.jsx)(ge,{to:"/app/admin",replace:!0})}),(0,Xm.jsx)(be,{path:"/supervisor/*",element:(0,Xm.jsx)(ge,{to:"/app/supervisor",replace:!0})}),(0,Xm.jsx)(be,{path:"/access-denied",element:(0,Xm.jsx)(uY,{})}),(0,Xm.jsx)(be,{path:"/server-error",element:(0,Xm.jsx)(mY,{})}),(0,Xm.jsx)(be,{path:"*",element:(0,Xm.jsx)(dY,{})})]})]})},NY=()=>(0,Xm.jsx)($e,{store:$d,children:(0,Xm.jsx)(st.QueryClientProvider,{client:jY,children:(0,Xm.jsx)(Te,{children:(0,Xm.jsx)(wY,{})})})});o.createRoot(document.getElementById("root")).render((0,Xm.jsx)(s.StrictMode,{children:(0,Xm.jsx)(NY,{})}))})()})();
//# sourceMappingURL=main.820dd3a1.js.map